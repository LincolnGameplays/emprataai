import{j as e,C as qi,A as ce,m as k,U as Vt,L as Gt,a as wo,X as Je,M as Fs,E as Ya,b as ct,c as It,d as Zt,P as Pa,e as Xe,f as We,D as Kt,S as yo,g as Se,h as Hi,i as Gi,k as Ki,l as jo,n as No,o as ko,p as Co,u as Eo,q as br,Z as mt,r as vr,s as Ao,t as Da,T as So,B as _o,v as Ks,w as Ce,x as le,y as es,z as rs,F as Wi,G as pt,H as Ls,I as is,J as Ee,K as bt,N as Bs,R as wr,O as Yi,Q as Qi,V as To,W as Io,Y as Ro,_ as Nt,$ as Ws,a0 as ns,a1 as Rt,a2 as us,a3 as Mo,a4 as Ze,a5 as Oo,a6 as Fa,a7 as Xi,a8 as Po,a9 as Do,aa as Ji,ab as Qa,ac as $s,ad as dt,ae as ts,af as Fo,ag as Zi,ah as en,ai as tn,aj as sn,ak as rt,al as Lo,am as ut,an as Bo,ao as $o,ap as hs,aq as Vo,ar as an,as as rn,at as nn,au as Uo,av as zo,aw as qo,ax as on,ay as Xa,az as Ho,aA as ln,aB as cn,aC as Go,aD as yr,aE as dn,aF as wt,aG as Ye,aH as un,aI as Ko,aJ as hn,aK as mn,aL as Wo,aM as Yo,aN as Qo,aO as Xo,aP as La}from"./vendor-ui-Ct8lVQer.js";import{b as Jo,g as Wt,a as f,R as I,c as Zo,u as tt,d as pn,O as el,N as Is,L as me,e as xn,r as fn,f as Ja,h as Za,B as tl,i as sl,j as ue}from"./vendor-react-D1-astAe.js";import{_ as al,C as rl,r as jr,a as il,g as nl,b as ol,c as er,d as ll,i as gn,p as cl,u as dl,F as ul,e as hl,f as ml,h as pl,q as Re,l as bn,o as Ut,w as xe,j as ge,k as et,G as xl,m as fl,n as he,s as Rs,t as it,v as ss,x as gl,y as bl,z as vl,A as wl,B as Fe,D as Nr,E as kt,H as tr,T as Ve,I as yl}from"./vendor-firebase-BxowImqy.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const n of i)if(n.type==="childList")for(const o of n.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function s(i){const n={};return i.integrity&&(n.integrity=i.integrity),i.referrerPolicy&&(n.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?n.credentials="include":i.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(i){if(i.ep)return;i.ep=!0;const n=s(i);fetch(i.href,n)}})();var vs={},kr;function jl(){if(kr)return vs;kr=1;var a=Jo();return vs.createRoot=a.createRoot,vs.hydrateRoot=a.hydrateRoot,vs}var Nl=jl();const kl=Wt(Nl);var ra,Cr;function Cl(){if(Cr)return ra;Cr=1;var a=typeof Element<"u",t=typeof Map=="function",s=typeof Set=="function",r=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function i(n,o){if(n===o)return!0;if(n&&o&&typeof n=="object"&&typeof o=="object"){if(n.constructor!==o.constructor)return!1;var l,c,d;if(Array.isArray(n)){if(l=n.length,l!=o.length)return!1;for(c=l;c--!==0;)if(!i(n[c],o[c]))return!1;return!0}var m;if(t&&n instanceof Map&&o instanceof Map){if(n.size!==o.size)return!1;for(m=n.entries();!(c=m.next()).done;)if(!o.has(c.value[0]))return!1;for(m=n.entries();!(c=m.next()).done;)if(!i(c.value[1],o.get(c.value[0])))return!1;return!0}if(s&&n instanceof Set&&o instanceof Set){if(n.size!==o.size)return!1;for(m=n.entries();!(c=m.next()).done;)if(!o.has(c.value[0]))return!1;return!0}if(r&&ArrayBuffer.isView(n)&&ArrayBuffer.isView(o)){if(l=n.length,l!=o.length)return!1;for(c=l;c--!==0;)if(n[c]!==o[c])return!1;return!0}if(n.constructor===RegExp)return n.source===o.source&&n.flags===o.flags;if(n.valueOf!==Object.prototype.valueOf&&typeof n.valueOf=="function"&&typeof o.valueOf=="function")return n.valueOf()===o.valueOf();if(n.toString!==Object.prototype.toString&&typeof n.toString=="function"&&typeof o.toString=="function")return n.toString()===o.toString();if(d=Object.keys(n),l=d.length,l!==Object.keys(o).length)return!1;for(c=l;c--!==0;)if(!Object.prototype.hasOwnProperty.call(o,d[c]))return!1;if(a&&n instanceof Element)return!1;for(c=l;c--!==0;)if(!((d[c]==="_owner"||d[c]==="__v"||d[c]==="__o")&&n.$$typeof)&&!i(n[d[c]],o[d[c]]))return!1;return!0}return n!==n&&o!==o}return ra=function(o,l){try{return i(o,l)}catch(c){if((c.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw c}},ra}var El=Cl();const Al=Wt(El);var ia,Er;function Sl(){if(Er)return ia;Er=1;var a=function(t,s,r,i,n,o,l,c){if(!t){var d;if(s===void 0)d=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var m=[r,i,n,o,l,c],u=0;d=new Error(s.replace(/%s/g,function(){return m[u++]})),d.name="Invariant Violation"}throw d.framesToPop=1,d}};return ia=a,ia}var _l=Sl();const Ar=Wt(_l);var na,Sr;function Tl(){return Sr||(Sr=1,na=function(t,s,r,i){var n=r?r.call(i,t,s):void 0;if(n!==void 0)return!!n;if(t===s)return!0;if(typeof t!="object"||!t||typeof s!="object"||!s)return!1;var o=Object.keys(t),l=Object.keys(s);if(o.length!==l.length)return!1;for(var c=Object.prototype.hasOwnProperty.bind(s),d=0;d<o.length;d++){var m=o[d];if(!c(m))return!1;var u=t[m],h=s[m];if(n=r?r.call(i,u,h,m):void 0,n===!1||n===void 0&&u!==h)return!1}return!0}),na}var Il=Tl();const Rl=Wt(Il);var vn=(a=>(a.BASE="base",a.BODY="body",a.HEAD="head",a.HTML="html",a.LINK="link",a.META="meta",a.NOSCRIPT="noscript",a.SCRIPT="script",a.STYLE="style",a.TITLE="title",a.FRAGMENT="Symbol(react.fragment)",a))(vn||{}),oa={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}},_r=Object.values(vn),sr={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},Ml=Object.entries(sr).reduce((a,[t,s])=>(a[s]=t,a),{}),Qe="data-rh",Bt={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate",PRIORITIZE_SEO_TAGS:"prioritizeSeoTags"},$t=(a,t)=>{for(let s=a.length-1;s>=0;s-=1){const r=a[s];if(Object.prototype.hasOwnProperty.call(r,t))return r[t]}return null},Ol=a=>{let t=$t(a,"title");const s=$t(a,Bt.TITLE_TEMPLATE);if(Array.isArray(t)&&(t=t.join("")),s&&t)return s.replace(/%s/g,()=>t);const r=$t(a,Bt.DEFAULT_TITLE);return t||r||void 0},Pl=a=>$t(a,Bt.ON_CHANGE_CLIENT_STATE)||(()=>{}),la=(a,t)=>t.filter(s=>typeof s[a]<"u").map(s=>s[a]).reduce((s,r)=>({...s,...r}),{}),Dl=(a,t)=>t.filter(s=>typeof s.base<"u").map(s=>s.base).reverse().reduce((s,r)=>{if(!s.length){const i=Object.keys(r);for(let n=0;n<i.length;n+=1){const l=i[n].toLowerCase();if(a.indexOf(l)!==-1&&r[l])return s.concat(r)}}return s},[]),Fl=a=>console&&typeof console.warn=="function"&&console.warn(a),Qt=(a,t,s)=>{const r={};return s.filter(i=>Array.isArray(i[a])?!0:(typeof i[a]<"u"&&Fl(`Helmet: ${a} should be of type "Array". Instead found type "${typeof i[a]}"`),!1)).map(i=>i[a]).reverse().reduce((i,n)=>{const o={};n.filter(c=>{let d;const m=Object.keys(c);for(let h=0;h<m.length;h+=1){const x=m[h],v=x.toLowerCase();t.indexOf(v)!==-1&&!(d==="rel"&&c[d].toLowerCase()==="canonical")&&!(v==="rel"&&c[v].toLowerCase()==="stylesheet")&&(d=v),t.indexOf(x)!==-1&&(x==="innerHTML"||x==="cssText"||x==="itemprop")&&(d=x)}if(!d||!c[d])return!1;const u=c[d].toLowerCase();return r[d]||(r[d]={}),o[d]||(o[d]={}),r[d][u]?!1:(o[d][u]=!0,!0)}).reverse().forEach(c=>i.push(c));const l=Object.keys(o);for(let c=0;c<l.length;c+=1){const d=l[c],m={...r[d],...o[d]};r[d]=m}return i},[]).reverse()},Ll=(a,t)=>{if(Array.isArray(a)&&a.length){for(let s=0;s<a.length;s+=1)if(a[s][t])return!0}return!1},Bl=a=>({baseTag:Dl(["href"],a),bodyAttributes:la("bodyAttributes",a),defer:$t(a,Bt.DEFER),encode:$t(a,Bt.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:la("htmlAttributes",a),linkTags:Qt("link",["rel","href"],a),metaTags:Qt("meta",["name","charset","http-equiv","property","itemprop"],a),noscriptTags:Qt("noscript",["innerHTML"],a),onChangeClientState:Pl(a),scriptTags:Qt("script",["src","innerHTML"],a),styleTags:Qt("style",["cssText"],a),title:Ol(a),titleAttributes:la("titleAttributes",a),prioritizeSeoTags:Ll(a,Bt.PRIORITIZE_SEO_TAGS)}),wn=a=>Array.isArray(a)?a.join(""):a,$l=(a,t)=>{const s=Object.keys(a);for(let r=0;r<s.length;r+=1)if(t[s[r]]&&t[s[r]].includes(a[s[r]]))return!0;return!1},ca=(a,t)=>Array.isArray(a)?a.reduce((s,r)=>($l(r,t)?s.priority.push(r):s.default.push(r),s),{priority:[],default:[]}):{default:a,priority:[]},Tr=(a,t)=>({...a,[t]:void 0}),Vl=["noscript","script","style"],Ba=(a,t=!0)=>t===!1?String(a):String(a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),yn=a=>Object.keys(a).reduce((t,s)=>{const r=typeof a[s]<"u"?`${s}="${a[s]}"`:`${s}`;return t?`${t} ${r}`:r},""),Ul=(a,t,s,r)=>{const i=yn(s),n=wn(t);return i?`<${a} ${Qe}="true" ${i}>${Ba(n,r)}</${a}>`:`<${a} ${Qe}="true">${Ba(n,r)}</${a}>`},zl=(a,t,s=!0)=>t.reduce((r,i)=>{const n=i,o=Object.keys(n).filter(d=>!(d==="innerHTML"||d==="cssText")).reduce((d,m)=>{const u=typeof n[m]>"u"?m:`${m}="${Ba(n[m],s)}"`;return d?`${d} ${u}`:u},""),l=n.innerHTML||n.cssText||"",c=Vl.indexOf(a)===-1;return`${r}<${a} ${Qe}="true" ${o}${c?"/>":`>${l}</${a}>`}`},""),jn=(a,t={})=>Object.keys(a).reduce((s,r)=>{const i=sr[r];return s[i||r]=a[r],s},t),ql=(a,t,s)=>{const r={key:t,[Qe]:!0},i=jn(s,r);return[I.createElement("title",i,t)]},Ms=(a,t)=>t.map((s,r)=>{const i={key:r,[Qe]:!0};return Object.keys(s).forEach(n=>{const l=sr[n]||n;if(l==="innerHTML"||l==="cssText"){const c=s.innerHTML||s.cssText;i.dangerouslySetInnerHTML={__html:c}}else i[l]=s[n]}),I.createElement(a,i)}),He=(a,t,s=!0)=>{switch(a){case"title":return{toComponent:()=>ql(a,t.title,t.titleAttributes),toString:()=>Ul(a,t.title,t.titleAttributes,s)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>jn(t),toString:()=>yn(t)};default:return{toComponent:()=>Ms(a,t),toString:()=>zl(a,t,s)}}},Hl=({metaTags:a,linkTags:t,scriptTags:s,encode:r})=>{const i=ca(a,oa.meta),n=ca(t,oa.link),o=ca(s,oa.script);return{priorityMethods:{toComponent:()=>[...Ms("meta",i.priority),...Ms("link",n.priority),...Ms("script",o.priority)],toString:()=>`${He("meta",i.priority,r)} ${He("link",n.priority,r)} ${He("script",o.priority,r)}`},metaTags:i.default,linkTags:n.default,scriptTags:o.default}},Gl=a=>{const{baseTag:t,bodyAttributes:s,encode:r=!0,htmlAttributes:i,noscriptTags:n,styleTags:o,title:l="",titleAttributes:c,prioritizeSeoTags:d}=a;let{linkTags:m,metaTags:u,scriptTags:h}=a,x={toComponent:()=>{},toString:()=>""};return d&&({priorityMethods:x,linkTags:m,metaTags:u,scriptTags:h}=Hl(a)),{priority:x,base:He("base",t,r),bodyAttributes:He("bodyAttributes",s,r),htmlAttributes:He("htmlAttributes",i,r),link:He("link",m,r),meta:He("meta",u,r),noscript:He("noscript",n,r),script:He("script",h,r),style:He("style",o,r),title:He("title",{title:l,titleAttributes:c},r)}},$a=Gl,ws=[],Nn=!!(typeof window<"u"&&window.document&&window.document.createElement),Va=class{instances=[];canUseDOM=Nn;context;value={setHelmet:a=>{this.context.helmet=a},helmetInstances:{get:()=>this.canUseDOM?ws:this.instances,add:a=>{(this.canUseDOM?ws:this.instances).push(a)},remove:a=>{const t=(this.canUseDOM?ws:this.instances).indexOf(a);(this.canUseDOM?ws:this.instances).splice(t,1)}}};constructor(a,t){this.context=a,this.canUseDOM=t||!1,t||(a.helmet=$a({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},Kl={},kn=I.createContext(Kl),Cn=class En extends f.Component{static canUseDOM=Nn;helmetData;constructor(t){super(t),this.helmetData=new Va(this.props.context||{},En.canUseDOM)}render(){return I.createElement(kn.Provider,{value:this.helmetData.value},this.props.children)}},Dt=(a,t)=>{const s=document.head||document.querySelector("head"),r=s.querySelectorAll(`${a}[${Qe}]`),i=[].slice.call(r),n=[];let o;return t&&t.length&&t.forEach(l=>{const c=document.createElement(a);for(const d in l)if(Object.prototype.hasOwnProperty.call(l,d))if(d==="innerHTML")c.innerHTML=l.innerHTML;else if(d==="cssText")c.styleSheet?c.styleSheet.cssText=l.cssText:c.appendChild(document.createTextNode(l.cssText));else{const m=d,u=typeof l[m]>"u"?"":l[m];c.setAttribute(d,u)}c.setAttribute(Qe,"true"),i.some((d,m)=>(o=m,c.isEqualNode(d)))?i.splice(o,1):n.push(c)}),i.forEach(l=>l.parentNode?.removeChild(l)),n.forEach(l=>s.appendChild(l)),{oldTags:i,newTags:n}},Ua=(a,t)=>{const s=document.getElementsByTagName(a)[0];if(!s)return;const r=s.getAttribute(Qe),i=r?r.split(","):[],n=[...i],o=Object.keys(t);for(const l of o){const c=t[l]||"";s.getAttribute(l)!==c&&s.setAttribute(l,c),i.indexOf(l)===-1&&i.push(l);const d=n.indexOf(l);d!==-1&&n.splice(d,1)}for(let l=n.length-1;l>=0;l-=1)s.removeAttribute(n[l]);i.length===n.length?s.removeAttribute(Qe):s.getAttribute(Qe)!==o.join(",")&&s.setAttribute(Qe,o.join(","))},Wl=(a,t)=>{typeof a<"u"&&document.title!==a&&(document.title=wn(a)),Ua("title",t)},Ir=(a,t)=>{const{baseTag:s,bodyAttributes:r,htmlAttributes:i,linkTags:n,metaTags:o,noscriptTags:l,onChangeClientState:c,scriptTags:d,styleTags:m,title:u,titleAttributes:h}=a;Ua("body",r),Ua("html",i),Wl(u,h);const x={baseTag:Dt("base",s),linkTags:Dt("link",n),metaTags:Dt("meta",o),noscriptTags:Dt("noscript",l),scriptTags:Dt("script",d),styleTags:Dt("style",m)},v={},w={};Object.keys(x).forEach(y=>{const{newTags:p,oldTags:g}=x[y];p.length&&(v[y]=p),g.length&&(w[y]=x[y].oldTags)}),t&&t(),c(a,v,w)},Xt=null,Yl=a=>{Xt&&cancelAnimationFrame(Xt),a.defer?Xt=requestAnimationFrame(()=>{Ir(a,()=>{Xt=null})}):(Ir(a),Xt=null)},Ql=Yl,Rr=class extends f.Component{rendered=!1;shouldComponentUpdate(a){return!Rl(a,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:a}=this.props.context;a.remove(this),this.emitChange()}emitChange(){const{helmetInstances:a,setHelmet:t}=this.props.context;let s=null;const r=Bl(a.get().map(i=>{const n={...i.props};return delete n.context,n}));Cn.canUseDOM?Ql(r):$a&&(s=$a(r)),t(s)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:a}=this.props.context;a.add(this),this.emitChange()}render(){return this.init(),null}},An=class extends f.Component{static defaultProps={defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1};shouldComponentUpdate(a){return!Al(Tr(this.props,"helmetData"),Tr(a,"helmetData"))}mapNestedChildrenToProps(a,t){if(!t)return null;switch(a.type){case"script":case"noscript":return{innerHTML:t};case"style":return{cssText:t};default:throw new Error(`<${a.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(a,t,s,r){return{...t,[a.type]:[...t[a.type]||[],{...s,...this.mapNestedChildrenToProps(a,r)}]}}mapObjectTypeChildren(a,t,s,r){switch(a.type){case"title":return{...t,[a.type]:r,titleAttributes:{...s}};case"body":return{...t,bodyAttributes:{...s}};case"html":return{...t,htmlAttributes:{...s}};default:return{...t,[a.type]:{...s}}}}mapArrayTypeChildrenToProps(a,t){let s={...t};return Object.keys(a).forEach(r=>{s={...s,[r]:a[r]}}),s}warnOnInvalidChildren(a,t){return Ar(_r.some(s=>a.type===s),typeof a.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${_r.join(", ")} are allowed. Helmet does not support rendering <${a.type}> elements. Refer to our API for more information.`),Ar(!t||typeof t=="string"||Array.isArray(t)&&!t.some(s=>typeof s!="string"),`Helmet expects a string as a child of <${a.type}>. Did you forget to wrap your children in braces? ( <${a.type}>{\`\`}</${a.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(a,t){let s={};return I.Children.forEach(a,r=>{if(!r||!r.props)return;const{children:i,...n}=r.props,o=Object.keys(n).reduce((c,d)=>(c[Ml[d]||d]=n[d],c),{});let{type:l}=r;switch(typeof l=="symbol"?l=l.toString():this.warnOnInvalidChildren(r,i),l){case"Symbol(react.fragment)":t=this.mapChildrenToProps(i,t);break;case"link":case"meta":case"noscript":case"script":case"style":s=this.flattenArrayTypeChildren(r,s,o,i);break;default:t=this.mapObjectTypeChildren(r,t,o,i);break}}),this.mapArrayTypeChildrenToProps(s,t)}render(){const{children:a,...t}=this.props;let s={...t},{helmetData:r}=t;if(a&&(s=this.mapChildrenToProps(a,s)),r&&!(r instanceof Va)){const i=r;r=new Va(i.context,!0),delete s.helmetData}return r?I.createElement(Rr,{...s,context:r.value}):I.createElement(kn.Consumer,null,i=>I.createElement(Rr,{...s,context:i}))}};const Xl="type.googleapis.com/google.protobuf.Int64Value",Jl="type.googleapis.com/google.protobuf.UInt64Value";function Sn(a,t){const s={};for(const r in a)a.hasOwnProperty(r)&&(s[r]=t(a[r]));return s}function Vs(a){if(a==null)return null;if(a instanceof Number&&(a=a.valueOf()),typeof a=="number"&&isFinite(a)||a===!0||a===!1||Object.prototype.toString.call(a)==="[object String]")return a;if(a instanceof Date)return a.toISOString();if(Array.isArray(a))return a.map(t=>Vs(t));if(typeof a=="function"||typeof a=="object")return Sn(a,t=>Vs(t));throw new Error("Data cannot be encoded in JSON: "+a)}function zt(a){if(a==null)return a;if(a["@type"])switch(a["@type"]){case Xl:case Jl:{const t=Number(a.value);if(isNaN(t))throw new Error("Data cannot be decoded from JSON: "+a);return t}default:throw new Error("Data cannot be decoded from JSON: "+a)}return Array.isArray(a)?a.map(t=>zt(t)):typeof a=="function"||typeof a=="object"?Sn(a,t=>zt(t)):a}const ar="functions";const Mr={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class De extends ul{constructor(t,s,r){super(`${ar}/${t}`,s||""),this.details=r,Object.setPrototypeOf(this,De.prototype)}}function Zl(a){if(a>=200&&a<300)return"ok";switch(a){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function Us(a,t){let s=Zl(a),r=s,i;try{const n=t&&t.error;if(n){const o=n.status;if(typeof o=="string"){if(!Mr[o])return new De("internal","internal");s=Mr[o],r=o}const l=n.message;typeof l=="string"&&(r=l),i=n.details,i!==void 0&&(i=zt(i))}}catch{}return s==="ok"?null:new De(s,r,i)}class ec{constructor(t,s,r,i){this.app=t,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,il(t)&&t.settings.appCheckToken&&(this.serverAppAppCheckToken=t.settings.appCheckToken),this.auth=s.getImmediate({optional:!0}),this.messaging=r.getImmediate({optional:!0}),this.auth||s.get().then(n=>this.auth=n,()=>{}),this.messaging||r.get().then(n=>this.messaging=n,()=>{}),this.appCheck||i?.get().then(n=>this.appCheck=n,()=>{})}async getAuthToken(){if(this.auth)try{return(await this.auth.getToken())?.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(t){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const s=t?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return s.error?null:s.token}return null}async getContext(t){const s=await this.getAuthToken(),r=await this.getMessagingToken(),i=await this.getAppCheckToken(t);return{authToken:s,messagingToken:r,appCheckToken:i}}}const za="us-central1",tc=/^data: (.*?)(?:\n|$)/;function sc(a){let t=null;return{promise:new Promise((s,r)=>{t=setTimeout(()=>{r(new De("deadline-exceeded","deadline-exceeded"))},a)}),cancel:()=>{t&&clearTimeout(t)}}}class ac{constructor(t,s,r,i,n=za,o=(...l)=>fetch(...l)){this.app=t,this.fetchImpl=o,this.emulatorOrigin=null,this.contextProvider=new ec(t,s,r,i),this.cancelAllRequests=new Promise(l=>{this.deleteService=()=>Promise.resolve(l())});try{const l=new URL(n);this.customDomain=l.origin+(l.pathname==="/"?"":l.pathname),this.region=za}catch{this.customDomain=null,this.region=n}}_delete(){return this.deleteService()}_url(t){const s=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${s}/${this.region}/${t}`:this.customDomain!==null?`${this.customDomain}/${t}`:`https://${this.region}-${s}.cloudfunctions.net/${t}`}}function rc(a,t,s){const r=gn(t);a.emulatorOrigin=`http${r?"s":""}://${t}:${s}`,r&&(cl(a.emulatorOrigin+"/backends"),dl("Functions",!0))}function ic(a,t,s){const r=i=>oc(a,t,i,{});return r.stream=(i,n)=>cc(a,t,i,n),r}function _n(a){return a.emulatorOrigin&&gn(a.emulatorOrigin)?"include":void 0}async function nc(a,t,s,r,i){s["Content-Type"]="application/json";let n;try{n=await r(a,{method:"POST",body:JSON.stringify(t),headers:s,credentials:_n(i)})}catch{return{status:0,json:null}}let o=null;try{o=await n.json()}catch{}return{status:n.status,json:o}}async function Tn(a,t){const s={},r=await a.contextProvider.getContext(t.limitedUseAppCheckTokens);return r.authToken&&(s.Authorization="Bearer "+r.authToken),r.messagingToken&&(s["Firebase-Instance-ID-Token"]=r.messagingToken),r.appCheckToken!==null&&(s["X-Firebase-AppCheck"]=r.appCheckToken),s}function oc(a,t,s,r){const i=a._url(t);return lc(a,i,s,r)}async function lc(a,t,s,r){s=Vs(s);const i={data:s},n=await Tn(a,r),o=r.timeout||7e4,l=sc(o),c=await Promise.race([nc(t,i,n,a.fetchImpl,a),l.promise,a.cancelAllRequests]);if(l.cancel(),!c)throw new De("cancelled","Firebase Functions instance was deleted.");const d=Us(c.status,c.json);if(d)throw d;if(!c.json)throw new De("internal","Response is not valid JSON object.");let m=c.json.data;if(typeof m>"u"&&(m=c.json.result),typeof m>"u")throw new De("internal","Response is missing data field.");return{data:zt(m)}}function cc(a,t,s,r){const i=a._url(t);return dc(a,i,s,r||{})}async function dc(a,t,s,r){s=Vs(s);const i={data:s},n=await Tn(a,r);n["Content-Type"]="application/json",n.Accept="text/event-stream";let o;try{o=await a.fetchImpl(t,{method:"POST",body:JSON.stringify(i),headers:n,signal:r?.signal,credentials:_n(a)})}catch(h){if(h instanceof Error&&h.name==="AbortError"){const v=new De("cancelled","Request was cancelled.");return{data:Promise.reject(v),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(v)}}}}}}const x=Us(0,null);return{data:Promise.reject(x),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(x)}}}}}}let l,c;const d=new Promise((h,x)=>{l=h,c=x});r?.signal?.addEventListener("abort",()=>{const h=new De("cancelled","Request was cancelled.");c(h)});const m=o.body.getReader(),u=uc(m,l,c,r?.signal);return{stream:{[Symbol.asyncIterator](){const h=u.getReader();return{async next(){const{value:x,done:v}=await h.read();return{value:x,done:v}},async return(){return await h.cancel(),{done:!0,value:void 0}}}}},data:d}}function uc(a,t,s,r){const i=(o,l)=>{const c=o.match(tc);if(!c)return;const d=c[1];try{const m=JSON.parse(d);if("result"in m){t(zt(m.result));return}if("message"in m){l.enqueue(zt(m.message));return}if("error"in m){const u=Us(0,m);l.error(u),s(u);return}}catch(m){if(m instanceof De){l.error(m),s(m);return}}},n=new TextDecoder;return new ReadableStream({start(o){let l="";return c();async function c(){if(r?.aborted){const d=new De("cancelled","Request was cancelled");return o.error(d),s(d),Promise.resolve()}try{const{value:d,done:m}=await a.read();if(m){l.trim()&&i(l.trim(),o),o.close();return}if(r?.aborted){const h=new De("cancelled","Request was cancelled");o.error(h),s(h),await a.cancel();return}l+=n.decode(d,{stream:!0});const u=l.split(`
`);l=u.pop()||"";for(const h of u)h.trim()&&i(h.trim(),o);return c()}catch(d){const m=d instanceof De?d:Us(0,null);o.error(m),s(m)}}},cancel(){return a.cancel()}})}const Or="@firebase/functions",Pr="0.13.1";const hc="auth-internal",mc="app-check-internal",pc="messaging-internal";function xc(a){const t=(s,{instanceIdentifier:r})=>{const i=s.getProvider("app").getImmediate(),n=s.getProvider(hc),o=s.getProvider(pc),l=s.getProvider(mc);return new ac(i,n,o,l,r)};al(new rl(ar,t,"PUBLIC").setMultipleInstances(!0)),jr(Or,Pr,a),jr(Or,Pr,"esm2020")}function fc(a=nl(),t=za){const r=ol(er(a),ar).getImmediate({identifier:t}),i=ll("functions");return i&&gc(r,...i),r}function gc(a,t,s){rc(er(a),t,s)}function qt(a,t,s){return ic(er(a),t)}xc();const bc={apiKey:"AIzaSyBS3uUgFUWmuT17ygx-ff2fUQhVpOXUUrU",authDomain:"emprataai.firebaseapp.com",projectId:"emprataai",storageBucket:"emprataai.firebasestorage.app",messagingSenderId:"648305596142",appId:"1:648305596142:web:aff6c1539823e12e8bc5ff"},rr=hl(bc),ot=ml(rr),te=pl(rr),Ht=fc(rr);function vc(a){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",t.appendChild(s),s.styleSheet?s.styleSheet.cssText=a:s.appendChild(document.createTextNode(a))}const wc=a=>{switch(a){case"success":return Nc;case"info":return Cc;case"warning":return kc;case"error":return Ec;default:return null}},yc=Array(12).fill(0),jc=({visible:a,className:t})=>I.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":a},I.createElement("div",{className:"sonner-spinner"},yc.map((s,r)=>I.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),Nc=I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},I.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),kc=I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},I.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Cc=I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},I.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Ec=I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},I.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Ac=I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},I.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),I.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),Sc=()=>{const[a,t]=I.useState(document.hidden);return I.useEffect(()=>{const s=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",s),()=>window.removeEventListener("visibilitychange",s)},[]),a};let qa=1;class _c{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const s=this.subscribers.indexOf(t);this.subscribers.splice(s,1)}),this.publish=t=>{this.subscribers.forEach(s=>s(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var s;const{message:r,...i}=t,n=typeof t?.id=="number"||((s=t.id)==null?void 0:s.length)>0?t.id:qa++,o=this.toasts.find(c=>c.id===n),l=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(n)&&this.dismissedToasts.delete(n),o?this.toasts=this.toasts.map(c=>c.id===n?(this.publish({...c,...t,id:n,title:r}),{...c,...t,id:n,dismissible:l,title:r}):c):this.addToast({title:r,...i,dismissible:l,id:n}),n},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(s=>s({id:t,dismiss:!0})))):this.toasts.forEach(s=>{this.subscribers.forEach(r=>r({id:s.id,dismiss:!0}))}),t),this.message=(t,s)=>this.create({...s,message:t}),this.error=(t,s)=>this.create({...s,message:t,type:"error"}),this.success=(t,s)=>this.create({...s,type:"success",message:t}),this.info=(t,s)=>this.create({...s,type:"info",message:t}),this.warning=(t,s)=>this.create({...s,type:"warning",message:t}),this.loading=(t,s)=>this.create({...s,type:"loading",message:t}),this.promise=(t,s)=>{if(!s)return;let r;s.loading!==void 0&&(r=this.create({...s,promise:t,type:"loading",message:s.loading,description:typeof s.description!="function"?s.description:void 0}));const i=Promise.resolve(t instanceof Function?t():t);let n=r!==void 0,o;const l=i.then(async d=>{if(o=["resolve",d],I.isValidElement(d))n=!1,this.create({id:r,type:"default",message:d});else if(Ic(d)&&!d.ok){n=!1;const u=typeof s.error=="function"?await s.error(`HTTP error! status: ${d.status}`):s.error,h=typeof s.description=="function"?await s.description(`HTTP error! status: ${d.status}`):s.description,v=typeof u=="object"&&!I.isValidElement(u)?u:{message:u};this.create({id:r,type:"error",description:h,...v})}else if(d instanceof Error){n=!1;const u=typeof s.error=="function"?await s.error(d):s.error,h=typeof s.description=="function"?await s.description(d):s.description,v=typeof u=="object"&&!I.isValidElement(u)?u:{message:u};this.create({id:r,type:"error",description:h,...v})}else if(s.success!==void 0){n=!1;const u=typeof s.success=="function"?await s.success(d):s.success,h=typeof s.description=="function"?await s.description(d):s.description,v=typeof u=="object"&&!I.isValidElement(u)?u:{message:u};this.create({id:r,type:"success",description:h,...v})}}).catch(async d=>{if(o=["reject",d],s.error!==void 0){n=!1;const m=typeof s.error=="function"?await s.error(d):s.error,u=typeof s.description=="function"?await s.description(d):s.description,x=typeof m=="object"&&!I.isValidElement(m)?m:{message:m};this.create({id:r,type:"error",description:u,...x})}}).finally(()=>{n&&(this.dismiss(r),r=void 0),s.finally==null||s.finally.call(s)}),c=()=>new Promise((d,m)=>l.then(()=>o[0]==="reject"?m(o[1]):d(o[1])).catch(m));return typeof r!="string"&&typeof r!="number"?{unwrap:c}:Object.assign(r,{unwrap:c})},this.custom=(t,s)=>{const r=s?.id||qa++;return this.create({jsx:t(r),id:r,...s}),r},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Oe=new _c,Tc=(a,t)=>{const s=t?.id||qa++;return Oe.addToast({title:a,...t,id:s}),s},Ic=a=>a&&typeof a=="object"&&"ok"in a&&typeof a.ok=="boolean"&&"status"in a&&typeof a.status=="number",Rc=Tc,Mc=()=>Oe.toasts,Oc=()=>Oe.getActiveToasts(),P=Object.assign(Rc,{success:Oe.success,info:Oe.info,warning:Oe.warning,error:Oe.error,custom:Oe.custom,message:Oe.message,promise:Oe.promise,dismiss:Oe.dismiss,loading:Oe.loading},{getHistory:Mc,getToasts:Oc});vc("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function ys(a){return a.label!==void 0}const Pc=3,Dc="24px",Fc="16px",Dr=4e3,Lc=356,Bc=14,$c=45,Vc=200;function st(...a){return a.filter(Boolean).join(" ")}function Uc(a){const[t,s]=a.split("-"),r=[];return t&&r.push(t),s&&r.push(s),r}const zc=a=>{var t,s,r,i,n,o,l,c,d;const{invert:m,toast:u,unstyled:h,interacting:x,setHeights:v,visibleToasts:w,heights:y,index:p,toasts:g,expanded:N,removeToast:S,defaultRichColors:M,closeButton:C,style:D,cancelButtonStyle:X,actionButtonStyle:ee,className:B="",descriptionClassName:K="",duration:T,position:U,gap:J,expandByDefault:_,classNames:E,icons:L,closeButtonAriaLabel:A="Close toast"}=a,[H,j]=I.useState(null),[b,O]=I.useState(null),[R,F]=I.useState(!1),[$,Q]=I.useState(!1),[q,V]=I.useState(!1),[ie,de]=I.useState(!1),[ne,oe]=I.useState(!1),[pe,ae]=I.useState(0),[fe,Me]=I.useState(0),ye=I.useRef(u.duration||T||Dr),Ue=I.useRef(null),je=I.useRef(null),ze=p===0,Zs=p+1<=w,Ie=u.type,xt=u.dismissible!==!1,xs=u.className||"",ea=u.descriptionClassName||"",Et=I.useMemo(()=>y.findIndex(se=>se.toastId===u.id)||0,[y,u.id]),ta=I.useMemo(()=>{var se;return(se=u.closeButton)!=null?se:C},[u.closeButton,C]),fs=I.useMemo(()=>u.duration||T||Dr,[u.duration,T]),Ot=I.useRef(0),nt=I.useRef(0),Pt=I.useRef(0),ft=I.useRef(null),[sa,fo]=U.split("-"),mr=I.useMemo(()=>y.reduce((se,be,ke)=>ke>=Et?se:se+be.height,0),[y,Et]),pr=Sc(),go=u.invert||m,aa=Ie==="loading";nt.current=I.useMemo(()=>Et*J+mr,[Et,mr]),I.useEffect(()=>{ye.current=fs},[fs]),I.useEffect(()=>{F(!0)},[]),I.useEffect(()=>{const se=je.current;if(se){const be=se.getBoundingClientRect().height;return Me(be),v(ke=>[{toastId:u.id,height:be,position:u.position},...ke]),()=>v(ke=>ke.filter(Le=>Le.toastId!==u.id))}},[v,u.id]),I.useLayoutEffect(()=>{if(!R)return;const se=je.current,be=se.style.height;se.style.height="auto";const ke=se.getBoundingClientRect().height;se.style.height=be,Me(ke),v(Le=>Le.find(Ne=>Ne.toastId===u.id)?Le.map(Ne=>Ne.toastId===u.id?{...Ne,height:ke}:Ne):[{toastId:u.id,height:ke,position:u.position},...Le])},[R,u.title,u.description,v,u.id,u.jsx,u.action,u.cancel]);const gt=I.useCallback(()=>{Q(!0),ae(nt.current),v(se=>se.filter(be=>be.toastId!==u.id)),setTimeout(()=>{S(u)},Vc)},[u,S,v,nt]);I.useEffect(()=>{if(u.promise&&Ie==="loading"||u.duration===1/0||u.type==="loading")return;let se;return N||x||pr?(()=>{if(Pt.current<Ot.current){const Le=new Date().getTime()-Ot.current;ye.current=ye.current-Le}Pt.current=new Date().getTime()})():ye.current!==1/0&&(Ot.current=new Date().getTime(),se=setTimeout(()=>{u.onAutoClose==null||u.onAutoClose.call(u,u),gt()},ye.current)),()=>clearTimeout(se)},[N,x,u,Ie,pr,gt]),I.useEffect(()=>{u.delete&&(gt(),u.onDismiss==null||u.onDismiss.call(u,u))},[gt,u.delete]);function bo(){var se;if(L?.loading){var be;return I.createElement("div",{className:st(E?.loader,u==null||(be=u.classNames)==null?void 0:be.loader,"sonner-loader"),"data-visible":Ie==="loading"},L.loading)}return I.createElement(jc,{className:st(E?.loader,u==null||(se=u.classNames)==null?void 0:se.loader),visible:Ie==="loading"})}const vo=u.icon||L?.[Ie]||wc(Ie);var xr,fr;return I.createElement("li",{tabIndex:0,ref:je,className:st(B,xs,E?.toast,u==null||(t=u.classNames)==null?void 0:t.toast,E?.default,E?.[Ie],u==null||(s=u.classNames)==null?void 0:s[Ie]),"data-sonner-toast":"","data-rich-colors":(xr=u.richColors)!=null?xr:M,"data-styled":!(u.jsx||u.unstyled||h),"data-mounted":R,"data-promise":!!u.promise,"data-swiped":ne,"data-removed":$,"data-visible":Zs,"data-y-position":sa,"data-x-position":fo,"data-index":p,"data-front":ze,"data-swiping":q,"data-dismissible":xt,"data-type":Ie,"data-invert":go,"data-swipe-out":ie,"data-swipe-direction":b,"data-expanded":!!(N||_&&R),"data-testid":u.testId,style:{"--index":p,"--toasts-before":p,"--z-index":g.length-p,"--offset":`${$?pe:nt.current}px`,"--initial-height":_?"auto":`${fe}px`,...D,...u.style},onDragEnd:()=>{V(!1),j(null),ft.current=null},onPointerDown:se=>{se.button!==2&&(aa||!xt||(Ue.current=new Date,ae(nt.current),se.target.setPointerCapture(se.pointerId),se.target.tagName!=="BUTTON"&&(V(!0),ft.current={x:se.clientX,y:se.clientY})))},onPointerUp:()=>{var se,be,ke;if(ie||!xt)return;ft.current=null;const Le=Number(((se=je.current)==null?void 0:se.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),gs=Number(((be=je.current)==null?void 0:be.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Ne=new Date().getTime()-((ke=Ue.current)==null?void 0:ke.getTime()),qe=H==="x"?Le:gs,bs=Math.abs(qe)/Ne;if(Math.abs(qe)>=$c||bs>.11){ae(nt.current),u.onDismiss==null||u.onDismiss.call(u,u),O(H==="x"?Le>0?"right":"left":gs>0?"down":"up"),gt(),de(!0);return}else{var Ge,Ke;(Ge=je.current)==null||Ge.style.setProperty("--swipe-amount-x","0px"),(Ke=je.current)==null||Ke.style.setProperty("--swipe-amount-y","0px")}oe(!1),V(!1),j(null)},onPointerMove:se=>{var be,ke,Le;if(!ft.current||!xt||((be=window.getSelection())==null?void 0:be.toString().length)>0)return;const Ne=se.clientY-ft.current.y,qe=se.clientX-ft.current.x;var bs;const Ge=(bs=a.swipeDirections)!=null?bs:Uc(U);!H&&(Math.abs(qe)>1||Math.abs(Ne)>1)&&j(Math.abs(qe)>Math.abs(Ne)?"x":"y");let Ke={x:0,y:0};const gr=At=>1/(1.5+Math.abs(At)/20);if(H==="y"){if(Ge.includes("top")||Ge.includes("bottom"))if(Ge.includes("top")&&Ne<0||Ge.includes("bottom")&&Ne>0)Ke.y=Ne;else{const At=Ne*gr(Ne);Ke.y=Math.abs(At)<Math.abs(Ne)?At:Ne}}else if(H==="x"&&(Ge.includes("left")||Ge.includes("right")))if(Ge.includes("left")&&qe<0||Ge.includes("right")&&qe>0)Ke.x=qe;else{const At=qe*gr(qe);Ke.x=Math.abs(At)<Math.abs(qe)?At:qe}(Math.abs(Ke.x)>0||Math.abs(Ke.y)>0)&&oe(!0),(ke=je.current)==null||ke.style.setProperty("--swipe-amount-x",`${Ke.x}px`),(Le=je.current)==null||Le.style.setProperty("--swipe-amount-y",`${Ke.y}px`)}},ta&&!u.jsx&&Ie!=="loading"?I.createElement("button",{"aria-label":A,"data-disabled":aa,"data-close-button":!0,onClick:aa||!xt?()=>{}:()=>{gt(),u.onDismiss==null||u.onDismiss.call(u,u)},className:st(E?.closeButton,u==null||(r=u.classNames)==null?void 0:r.closeButton)},(fr=L?.close)!=null?fr:Ac):null,(Ie||u.icon||u.promise)&&u.icon!==null&&(L?.[Ie]!==null||u.icon)?I.createElement("div",{"data-icon":"",className:st(E?.icon,u==null||(i=u.classNames)==null?void 0:i.icon)},u.promise||u.type==="loading"&&!u.icon?u.icon||bo():null,u.type!=="loading"?vo:null):null,I.createElement("div",{"data-content":"",className:st(E?.content,u==null||(n=u.classNames)==null?void 0:n.content)},I.createElement("div",{"data-title":"",className:st(E?.title,u==null||(o=u.classNames)==null?void 0:o.title)},u.jsx?u.jsx:typeof u.title=="function"?u.title():u.title),u.description?I.createElement("div",{"data-description":"",className:st(K,ea,E?.description,u==null||(l=u.classNames)==null?void 0:l.description)},typeof u.description=="function"?u.description():u.description):null),I.isValidElement(u.cancel)?u.cancel:u.cancel&&ys(u.cancel)?I.createElement("button",{"data-button":!0,"data-cancel":!0,style:u.cancelButtonStyle||X,onClick:se=>{ys(u.cancel)&&xt&&(u.cancel.onClick==null||u.cancel.onClick.call(u.cancel,se),gt())},className:st(E?.cancelButton,u==null||(c=u.classNames)==null?void 0:c.cancelButton)},u.cancel.label):null,I.isValidElement(u.action)?u.action:u.action&&ys(u.action)?I.createElement("button",{"data-button":!0,"data-action":!0,style:u.actionButtonStyle||ee,onClick:se=>{ys(u.action)&&(u.action.onClick==null||u.action.onClick.call(u.action,se),!se.defaultPrevented&&gt())},className:st(E?.actionButton,u==null||(d=u.classNames)==null?void 0:d.actionButton)},u.action.label):null)};function Fr(){if(typeof window>"u"||typeof document>"u")return"ltr";const a=document.documentElement.getAttribute("dir");return a==="auto"||!a?window.getComputedStyle(document.documentElement).direction:a}function qc(a,t){const s={};return[a,t].forEach((r,i)=>{const n=i===1,o=n?"--mobile-offset":"--offset",l=n?Fc:Dc;function c(d){["top","right","bottom","left"].forEach(m=>{s[`${o}-${m}`]=typeof d=="number"?`${d}px`:d})}typeof r=="number"||typeof r=="string"?c(r):typeof r=="object"?["top","right","bottom","left"].forEach(d=>{r[d]===void 0?s[`${o}-${d}`]=l:s[`${o}-${d}`]=typeof r[d]=="number"?`${r[d]}px`:r[d]}):c(l)}),s}const Hc=I.forwardRef(function(t,s){const{id:r,invert:i,position:n="bottom-right",hotkey:o=["altKey","KeyT"],expand:l,closeButton:c,className:d,offset:m,mobileOffset:u,theme:h="light",richColors:x,duration:v,style:w,visibleToasts:y=Pc,toastOptions:p,dir:g=Fr(),gap:N=Bc,icons:S,containerAriaLabel:M="Notifications"}=t,[C,D]=I.useState([]),X=I.useMemo(()=>r?C.filter(R=>R.toasterId===r):C.filter(R=>!R.toasterId),[C,r]),ee=I.useMemo(()=>Array.from(new Set([n].concat(X.filter(R=>R.position).map(R=>R.position)))),[X,n]),[B,K]=I.useState([]),[T,U]=I.useState(!1),[J,_]=I.useState(!1),[E,L]=I.useState(h!=="system"?h:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),A=I.useRef(null),H=o.join("+").replace(/Key/g,"").replace(/Digit/g,""),j=I.useRef(null),b=I.useRef(!1),O=I.useCallback(R=>{D(F=>{var $;return($=F.find(Q=>Q.id===R.id))!=null&&$.delete||Oe.dismiss(R.id),F.filter(({id:Q})=>Q!==R.id)})},[]);return I.useEffect(()=>Oe.subscribe(R=>{if(R.dismiss){requestAnimationFrame(()=>{D(F=>F.map($=>$.id===R.id?{...$,delete:!0}:$))});return}setTimeout(()=>{Zo.flushSync(()=>{D(F=>{const $=F.findIndex(Q=>Q.id===R.id);return $!==-1?[...F.slice(0,$),{...F[$],...R},...F.slice($+1)]:[R,...F]})})})}),[C]),I.useEffect(()=>{if(h!=="system"){L(h);return}if(h==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?L("dark"):L("light")),typeof window>"u")return;const R=window.matchMedia("(prefers-color-scheme: dark)");try{R.addEventListener("change",({matches:F})=>{L(F?"dark":"light")})}catch{R.addListener(({matches:$})=>{try{L($?"dark":"light")}catch(Q){console.error(Q)}})}},[h]),I.useEffect(()=>{C.length<=1&&U(!1)},[C]),I.useEffect(()=>{const R=F=>{var $;if(o.every(V=>F[V]||F.code===V)){var q;U(!0),(q=A.current)==null||q.focus()}F.code==="Escape"&&(document.activeElement===A.current||($=A.current)!=null&&$.contains(document.activeElement))&&U(!1)};return document.addEventListener("keydown",R),()=>document.removeEventListener("keydown",R)},[o]),I.useEffect(()=>{if(A.current)return()=>{j.current&&(j.current.focus({preventScroll:!0}),j.current=null,b.current=!1)}},[A.current]),I.createElement("section",{ref:s,"aria-label":`${M} ${H}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},ee.map((R,F)=>{var $;const[Q,q]=R.split("-");return X.length?I.createElement("ol",{key:R,dir:g==="auto"?Fr():g,tabIndex:-1,ref:A,className:d,"data-sonner-toaster":!0,"data-sonner-theme":E,"data-y-position":Q,"data-x-position":q,style:{"--front-toast-height":`${(($=B[0])==null?void 0:$.height)||0}px`,"--width":`${Lc}px`,"--gap":`${N}px`,...w,...qc(m,u)},onBlur:V=>{b.current&&!V.currentTarget.contains(V.relatedTarget)&&(b.current=!1,j.current&&(j.current.focus({preventScroll:!0}),j.current=null))},onFocus:V=>{V.target instanceof HTMLElement&&V.target.dataset.dismissible==="false"||b.current||(b.current=!0,j.current=V.relatedTarget)},onMouseEnter:()=>U(!0),onMouseMove:()=>U(!0),onMouseLeave:()=>{J||U(!1)},onDragEnd:()=>U(!1),onPointerDown:V=>{V.target instanceof HTMLElement&&V.target.dataset.dismissible==="false"||_(!0)},onPointerUp:()=>_(!1)},X.filter(V=>!V.position&&F===0||V.position===R).map((V,ie)=>{var de,ne;return I.createElement(zc,{key:V.id,icons:S,index:ie,toast:V,defaultRichColors:x,duration:(de=p?.duration)!=null?de:v,className:p?.className,descriptionClassName:p?.descriptionClassName,invert:i,visibleToasts:y,closeButton:(ne=p?.closeButton)!=null?ne:c,interacting:J,position:R,style:p?.style,unstyled:p?.unstyled,classNames:p?.classNames,cancelButtonStyle:p?.cancelButtonStyle,actionButtonStyle:p?.actionButtonStyle,closeButtonAriaLabel:p?.closeButtonAriaLabel,removeToast:O,toasts:X.filter(oe=>oe.position==V.position),heights:B.filter(oe=>oe.position==V.position),setHeights:K,expandByDefault:l,gap:N,expanded:T,swipeDirections:t.swipeDirections})})):null}))}),Gc=f.createContext(null),Lr=()=>{try{const a=new(window.AudioContext||window.webkitAudioContext),t=a.createOscillator(),s=a.createGain();t.connect(s),s.connect(a.destination),t.frequency.value=880,t.type="sine",s.gain.setValueAtTime(.3,a.currentTime),s.gain.exponentialRampToValueAtTime(.01,a.currentTime+.3),t.start(a.currentTime),t.stop(a.currentTime+.3);const r=a.createOscillator(),i=a.createGain();r.connect(i),i.connect(a.destination),r.frequency.value=1320,r.type="sine",i.gain.setValueAtTime(0,a.currentTime),i.gain.setValueAtTime(.3,a.currentTime+.15),i.gain.exponentialRampToValueAtTime(.01,a.currentTime+.5),r.start(a.currentTime+.15),r.stop(a.currentTime+.5)}catch{console.log("Audio not available")}},Kc=()=>{try{const a=new(window.AudioContext||window.webkitAudioContext);[523.25,659.25,783.99].forEach((t,s)=>{const r=a.createOscillator(),i=a.createGain();r.connect(i),i.connect(a.destination),r.frequency.value=t,r.type="sine";const n=a.currentTime+s*.1;i.gain.setValueAtTime(.2,n),i.gain.exponentialRampToValueAtTime(.01,n+.2),r.start(n),r.stop(n+.2)})}catch{console.log("Audio not available")}};function Wc({children:a}){const[t,s]=f.useState("owner"),[r,i]=f.useState([]),[n,o]=f.useState(0),[l,c]=f.useState(0),[d,m]=f.useState(0),[u,h]=f.useState(!0),x=f.useRef(new Map),v=f.useRef(!1);f.useEffect(()=>{const g=()=>{v.current=!0};return window.addEventListener("click",g,{once:!0}),window.addEventListener("keydown",g,{once:!0}),window.addEventListener("touchstart",g,{once:!0}),()=>{window.removeEventListener("click",g),window.removeEventListener("keydown",g),window.removeEventListener("touchstart",g)}},[]),f.useEffect(()=>{const g=ot.currentUser;if(!g)return;const N=Re(ge(te,"orders"),xe("restaurantId","==",g.uid),Ut("createdAt","desc"),bn(50)),S=et(N,M=>{let C=0,D=0,X=0;const ee=[];M.docs.forEach(B=>{const K={id:B.id,...B.data()},T=x.current.get(K.id);K.status==="pending"?C++:K.status==="preparing"?D++:K.status==="ready"&&X++,T&&T!==K.status&&K.status==="ready"&&(ee.push({type:"order_ready",order:K,timestamp:new Date}),t==="waiter"&&v.current&&(p(200),P.success(` Pedido Pronto! Mesa ${K.customer.table||"N/A"}`,{duration:5e3}),u&&Kc())),!T&&K.status==="pending"&&(ee.push({type:"new_order",order:K,timestamp:new Date}),t==="owner"&&v.current&&(u&&Lr(),P.success(` Novo Pedido! R$ ${K.total?.toFixed(2)}`,{duration:4e3}))),x.current.set(K.id,K.status)}),o(C),c(D),m(X),ee.length>0&&i(B=>[...ee,...B].slice(0,20))});return()=>S()},[t,u]);const w=f.useCallback(()=>{h(g=>!g)},[]),y=f.useCallback(()=>{v.current&&u&&Lr()},[u]),p=f.useCallback((g=200)=>{navigator.vibrate&&navigator.vibrate(g)},[]);return e.jsx(Gc.Provider,{value:{userRole:t,setUserRole:s,recentEvents:r,pendingCount:n,preparingCount:l,readyCount:d,soundEnabled:u,toggleSound:w,playNotificationSound:y,vibrateDevice:p},children:a})}const Br=a=>{let t;const s=new Set,r=(d,m)=>{const u=typeof d=="function"?d(t):d;if(!Object.is(u,t)){const h=t;t=m??(typeof u!="object"||u===null)?u:Object.assign({},t,u),s.forEach(x=>x(t,h))}},i=()=>t,l={setState:r,getState:i,getInitialState:()=>c,subscribe:d=>(s.add(d),()=>s.delete(d))},c=t=a(r,i,l);return l},Yc=(a=>a?Br(a):Br),Qc=a=>a;function Xc(a,t=Qc){const s=I.useSyncExternalStore(a.subscribe,I.useCallback(()=>t(a.getState()),[a,t]),I.useCallback(()=>t(a.getInitialState()),[a,t]));return I.useDebugValue(s),s}const $r=a=>{const t=Yc(a),s=r=>Xc(t,r);return Object.assign(s,t),s},Jc=(a=>a?$r(a):$r),Zc=()=>{const a=localStorage.getItem("emprata_user_id");if(a)return a;const t=crypto.randomUUID();return localStorage.setItem("emprata_user_id",t),t},Yt=Jc((a,t)=>({userId:Zc(),plan:"FREE",credits:3,originalImage:null,originalFile:null,generatedImage:null,selectedVibe:"rustico",selectedPerspective:"diagonal",lightIntensity:50,isGenerating:!1,setUserId:s=>{localStorage.setItem("emprata_user_id",s),a({userId:s})},setPlan:s=>a({plan:s}),setCredits:s=>a({credits:s}),setOriginalImage:(s,r=null)=>a({originalImage:s,originalFile:r,generatedImage:null}),setGeneratedImage:s=>a({generatedImage:s}),setVibe:s=>a({selectedVibe:s}),setPerspective:s=>a({selectedPerspective:s}),setLightIntensity:s=>a({lightIntensity:s}),setIsGenerating:s=>a({isGenerating:s}),resetEditor:()=>a({originalImage:null,originalFile:null,generatedImage:null,selectedVibe:"rustico",selectedPerspective:"diagonal",lightIntensity:50,isGenerating:!1}),useCredit:()=>{const{credits:s,plan:r}=t();return r==="PRO"?!0:s>0?(a({credits:s-1}),!0):!1},decrementCredit:()=>{const{credits:s,plan:r}=t();r!=="PRO"&&s>0&&a({credits:s-1})},refundCredit:()=>a(s=>({credits:s.credits+1}))}));function we(){const[a,t]=f.useState(null),[s,r]=f.useState(null),[i,n]=f.useState(!0),[o,l]=f.useState(null),{setPlan:c,setCredits:d,setUserId:m}=Yt(),u=new xl;return u.setCustomParameters({prompt:"select_account"}),f.useEffect(()=>{console.log(" [useAuth] Setting up auth listener...");const p=fl(ot,async g=>{console.log(" [useAuth] Auth State Changed:",g?.email||"No user");try{if(t(g),g){console.log(" [useAuth] Fetching Firestore data for:",g.uid);const N=he(te,"users",g.uid),S=await Rs(N);if(S.exists()){const M=S.data();console.log(" [useAuth] User data loaded:",M.plan,M.credits),r(M),c(M.plan||"FREE"),d(M.credits??3),m(g.uid)}else{console.warn(" [useAuth] User has no Firestore profile, creating one...");const M={uid:g.uid,email:g.email||"",name:g.displayName||"",plan:"FREE",credits:3,createdAt:it()};await ss(N,M),r(M),c("FREE"),d(3),m(g.uid),console.log(" [useAuth] Created missing Firestore profile")}}else console.log(" [useAuth] No user, resetting to guest state"),r(null),c("FREE"),d(3),m("")}catch(N){console.error(" [useAuth] Critical error in auth listener:",N),l(N?.message||"Authentication error"),r(null),c("FREE"),d(3),m("")}finally{console.log(" [useAuth] Loading complete"),n(!1)}});return()=>{console.log(" [useAuth] Cleaning up auth listener"),p()}},[c,d,m]),{user:a,userData:s,loading:i,error:o,loginWithGoogle:async()=>{try{l(null),n(!0);const g=(await wl(ot,u)).user,N=he(te,"users",g.uid),S=await Rs(N);if(S.exists()){const M=S.data();r(M),c(M.plan||"FREE"),d(M.credits??3),m(g.uid),console.log(" [useAuth] Existing Google user logged in:",g.uid)}else{const M={uid:g.uid,email:g.email||"",name:g.displayName||"",plan:"FREE",credits:3,createdAt:it()};await ss(N,M),console.log(" [useAuth] New Google user created:",g.uid),r(M),c("FREE"),d(3),m(g.uid)}return g}catch(p){throw console.error(" [useAuth] Google Sign-In error:",p),l(p.message),p}finally{n(!1)}},signIn:async(p,g)=>{try{return l(null),n(!0),(await vl(ot,p,g)).user}catch(N){throw l(N.message),N}finally{n(!1)}},signUp:async(p,g,N)=>{try{l(null),n(!0);const S=await bl(ot,p,g),M={uid:S.user.uid,email:S.user.email||"",name:N||"",plan:"FREE",credits:3,createdAt:it()};return await ss(he(te,"users",S.user.uid),M),console.log(" [useAuth] New email user created:",S.user.uid),S.user}catch(S){throw l(S.message),S}finally{n(!1)}},signOut:async()=>{try{l(null),await gl(ot),r(null),console.log(" [useAuth] User signed out")}catch(p){throw l(p.message),p}},refreshUser:async()=>{if(a)try{const p=he(te,"users",a.uid),g=await Rs(p);if(g.exists()){const N=g.data();r(N),c(N.plan||"FREE"),d(N.credits??3),console.log(" [useAuth] User data refreshed:",N.plan,N.credits)}}catch(p){console.error(" [useAuth] Error refreshing user data:",p)}},isAuthenticated:!!a,isPro:s?.plan?.toLowerCase()==="pro"||s?.plan?.toLowerCase()==="starter"}}function In({}){const[a,t]=f.useState(!1),s=f.useRef(null),{user:r,userData:i,signOut:n}=we(),o=tt();f.useEffect(()=>{const m=u=>{s.current&&!s.current.contains(u.target)&&t(!1)};return document.addEventListener("mousedown",m),()=>document.removeEventListener("mousedown",m)},[]);const l=()=>{o("/profile"),t(!1)},c=async()=>{await n(),o("/"),t(!1)},d=()=>i?.name?i.name.charAt(0).toUpperCase():r?.email?r.email.charAt(0).toUpperCase():"U";return e.jsxs("div",{className:"relative",ref:s,children:[e.jsxs("button",{onClick:()=>t(!a),className:"flex items-center gap-2 px-3 py-2 rounded-xl bg-white/5 hover:bg-white/10 border border-white/10 transition-all group",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-primary to-orange-600 flex items-center justify-center text-sm font-black",children:r?.photoURL?e.jsx("img",{src:r.photoURL,alt:"Avatar",className:"w-full h-full rounded-full object-cover"}):e.jsx("span",{children:d()})}),e.jsx("span",{className:"hidden md:block text-sm font-bold text-white/80 max-w-[120px] truncate",children:i?.name||"Usurio"}),e.jsx(qi,{className:`w-4 h-4 text-white/40 transition-transform ${a?"rotate-180":""}`})]}),e.jsx(ce,{children:a&&e.jsxs(k.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.15},className:"absolute right-0 mt-2 w-56 bg-zinc-900 border border-white/10 rounded-2xl shadow-2xl overflow-hidden z-50",children:[e.jsxs("div",{className:"p-4 border-b border-white/10 bg-white/5",children:[e.jsx("p",{className:"text-sm font-bold text-white truncate",children:i?.name||"Usurio"}),e.jsx("p",{className:"text-xs text-white/40 font-medium truncate",children:r?.email})]}),e.jsxs("div",{className:"py-2",children:[e.jsxs("button",{onClick:l,className:"w-full px-4 py-3 flex items-center gap-3 hover:bg-white/5 transition-colors text-left",children:[e.jsx(Vt,{className:"w-4 h-4 text-white/60"}),e.jsx("span",{className:"text-sm font-bold text-white",children:"Meu Perfil"})]}),e.jsxs("button",{onClick:c,className:"w-full px-4 py-3 flex items-center gap-3 hover:bg-red-500/10 transition-colors text-left border-t border-white/5",children:[e.jsx(Gt,{className:"w-4 h-4 text-red-400"}),e.jsx("span",{className:"text-sm font-bold text-red-400",children:"Sair"})]})]})]})})]})}let Ha={},Rn;function da(a={}){Ha={animate:!0,allowClose:!0,overlayClickBehavior:"close",overlayOpacity:.7,smoothScroll:!1,disableActiveInteraction:!1,showProgress:!1,stagePadding:10,stageRadius:5,popoverOffset:10,showButtons:["next","previous","close"],disableButtons:[],overlayColor:"#000",...a}}function z(a){return a?Ha[a]:Ha}function ed(a){Rn=a}function $e(){return Rn}let zs={};function js(a,t){zs[a]=t}function _t(a){var t;(t=zs[a])==null||t.call(zs)}function td(){zs={}}function Ns(a,t,s,r){return(a/=r/2)<1?s/2*a*a+t:-s/2*(--a*(a-2)-1)+t}function Mn(a){const t='a[href]:not([disabled]), button:not([disabled]), textarea:not([disabled]), input[type="text"]:not([disabled]), input[type="radio"]:not([disabled]), input[type="checkbox"]:not([disabled]), select:not([disabled])';return a.flatMap(s=>{const r=s.matches(t),i=Array.from(s.querySelectorAll(t));return[...r?[s]:[],...i]}).filter(s=>getComputedStyle(s).pointerEvents!=="none"&&rd(s))}function On(a){if(!a||ad(a))return;const t=z("smoothScroll"),s=a.offsetHeight>window.innerHeight;a.scrollIntoView({behavior:!t||sd(a)?"auto":"smooth",inline:"center",block:s?"start":"center"})}function sd(a){if(!a||!a.parentElement)return;const t=a.parentElement;return t.scrollHeight>t.clientHeight}function ad(a){const t=a.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)}function rd(a){return!!(a.offsetWidth||a.offsetHeight||a.getClientRects().length)}let qs={};function ve(a,t){qs[a]=t}function G(a){return a?qs[a]:qs}function Vr(){qs={}}function id(a,t,s,r){let i=G("__activeStagePosition");const n=i||s.getBoundingClientRect(),o=r.getBoundingClientRect(),l=Ns(a,n.x,o.x-n.x,t),c=Ns(a,n.y,o.y-n.y,t),d=Ns(a,n.width,o.width-n.width,t),m=Ns(a,n.height,o.height-n.height,t);i={x:l,y:c,width:d,height:m},Dn(i),ve("__activeStagePosition",i)}function Pn(a){if(!a)return;const t=a.getBoundingClientRect(),s={x:t.x,y:t.y,width:t.width,height:t.height};ve("__activeStagePosition",s),Dn(s)}function nd(){const a=G("__activeStagePosition"),t=G("__overlaySvg");if(!a)return;if(!t){console.warn("No stage svg found.");return}const s=window.innerWidth,r=window.innerHeight;t.setAttribute("viewBox",`0 0 ${s} ${r}`)}function od(a){const t=ld(a);document.body.appendChild(t),Bn(t,s=>{s.target.tagName==="path"&&_t("overlayClick")}),ve("__overlaySvg",t)}function Dn(a){const t=G("__overlaySvg");if(!t){od(a);return}const s=t.firstElementChild;if(s?.tagName!=="path")throw new Error("no path element found in stage svg");s.setAttribute("d",Fn(a))}function ld(a){const t=window.innerWidth,s=window.innerHeight,r=document.createElementNS("http://www.w3.org/2000/svg","svg");r.classList.add("driver-overlay","driver-overlay-animated"),r.setAttribute("viewBox",`0 0 ${t} ${s}`),r.setAttribute("xmlSpace","preserve"),r.setAttribute("xmlnsXlink","http://www.w3.org/1999/xlink"),r.setAttribute("version","1.1"),r.setAttribute("preserveAspectRatio","xMinYMin slice"),r.style.fillRule="evenodd",r.style.clipRule="evenodd",r.style.strokeLinejoin="round",r.style.strokeMiterlimit="2",r.style.zIndex="10000",r.style.position="fixed",r.style.top="0",r.style.left="0",r.style.width="100%",r.style.height="100%";const i=document.createElementNS("http://www.w3.org/2000/svg","path");return i.setAttribute("d",Fn(a)),i.style.fill=z("overlayColor")||"rgb(0,0,0)",i.style.opacity=`${z("overlayOpacity")}`,i.style.pointerEvents="auto",i.style.cursor="auto",r.appendChild(i),r}function Fn(a){const t=window.innerWidth,s=window.innerHeight,r=z("stagePadding")||0,i=z("stageRadius")||0,n=a.width+r*2,o=a.height+r*2,l=Math.min(i,n/2,o/2),c=Math.floor(Math.max(l,0)),d=a.x-r+c,m=a.y-r,u=n-c*2,h=o-c*2;return`M${t},0L0,0L0,${s}L${t},${s}L${t},0Z
    M${d},${m} h${u} a${c},${c} 0 0 1 ${c},${c} v${h} a${c},${c} 0 0 1 -${c},${c} h-${u} a${c},${c} 0 0 1 -${c},-${c} v-${h} a${c},${c} 0 0 1 ${c},-${c} z`}function cd(){const a=G("__overlaySvg");a&&a.remove()}function dd(){const a=document.getElementById("driver-dummy-element");if(a)return a;let t=document.createElement("div");return t.id="driver-dummy-element",t.style.width="0",t.style.height="0",t.style.pointerEvents="none",t.style.opacity="0",t.style.position="fixed",t.style.top="50%",t.style.left="50%",document.body.appendChild(t),t}function Ur(a){const{element:t}=a;let s=typeof t=="function"?t():typeof t=="string"?document.querySelector(t):t;s||(s=dd()),hd(s,a)}function ud(){const a=G("__activeElement"),t=G("__activeStep");a&&(Pn(a),nd(),Vn(a,t))}function hd(a,t){var s;const r=Date.now(),i=G("__activeStep"),n=G("__activeElement")||a,o=!n||n===a,l=a.id==="driver-dummy-element",c=n.id==="driver-dummy-element",d=z("animate"),m=t.onHighlightStarted||z("onHighlightStarted"),u=t?.onHighlighted||z("onHighlighted"),h=i?.onDeselected||z("onDeselected"),x=z(),v=G();!o&&h&&h(c?void 0:n,i,{config:x,state:v,driver:$e()}),m&&m(l?void 0:a,t,{config:x,state:v,driver:$e()});const w=!o&&d;let y=!1;gd(),ve("previousStep",i),ve("previousElement",n),ve("activeStep",t),ve("activeElement",a);const p=()=>{if(G("__transitionCallback")!==p)return;const g=Date.now()-r,N=400-g<=400/2;t.popover&&N&&!y&&w&&(zr(a,t),y=!0),z("animate")&&g<400?id(g,400,n,a):(Pn(a),u&&u(l?void 0:a,t,{config:z(),state:G(),driver:$e()}),ve("__transitionCallback",void 0),ve("__previousStep",i),ve("__previousElement",n),ve("__activeStep",t),ve("__activeElement",a)),window.requestAnimationFrame(p)};ve("__transitionCallback",p),window.requestAnimationFrame(p),On(a),!w&&t.popover&&zr(a,t),n.classList.remove("driver-active-element","driver-no-interaction"),n.removeAttribute("aria-haspopup"),n.removeAttribute("aria-expanded"),n.removeAttribute("aria-controls"),((s=t.disableActiveInteraction)!=null?s:z("disableActiveInteraction"))&&a.classList.add("driver-no-interaction"),a.classList.add("driver-active-element"),a.setAttribute("aria-haspopup","dialog"),a.setAttribute("aria-expanded","true"),a.setAttribute("aria-controls","driver-popover-content")}function md(){var a;(a=document.getElementById("driver-dummy-element"))==null||a.remove(),document.querySelectorAll(".driver-active-element").forEach(t=>{t.classList.remove("driver-active-element","driver-no-interaction"),t.removeAttribute("aria-haspopup"),t.removeAttribute("aria-expanded"),t.removeAttribute("aria-controls")})}function os(){const a=G("__resizeTimeout");a&&window.cancelAnimationFrame(a),ve("__resizeTimeout",window.requestAnimationFrame(ud))}function pd(a){var t;if(!G("isInitialized")||!(a.key==="Tab"||a.keyCode===9))return;const s=G("__activeElement"),r=(t=G("popover"))==null?void 0:t.wrapper,i=Mn([...r?[r]:[],...s?[s]:[]]),n=i[0],o=i[i.length-1];if(a.preventDefault(),a.shiftKey){const l=i[i.indexOf(document.activeElement)-1]||o;l?.focus()}else{const l=i[i.indexOf(document.activeElement)+1]||n;l?.focus()}}function Ln(a){var t;((t=z("allowKeyboardControl"))==null||t)&&(a.key==="Escape"?_t("escapePress"):a.key==="ArrowRight"?_t("arrowRightPress"):a.key==="ArrowLeft"&&_t("arrowLeftPress"))}function Bn(a,t,s){const r=(i,n)=>{const o=i.target;a.contains(o)&&((!s||s(o))&&(i.preventDefault(),i.stopPropagation(),i.stopImmediatePropagation()),n?.(i))};document.addEventListener("pointerdown",r,!0),document.addEventListener("mousedown",r,!0),document.addEventListener("pointerup",r,!0),document.addEventListener("mouseup",r,!0),document.addEventListener("click",i=>{r(i,t)},!0)}function xd(){window.addEventListener("keyup",Ln,!1),window.addEventListener("keydown",pd,!1),window.addEventListener("resize",os),window.addEventListener("scroll",os)}function fd(){window.removeEventListener("keyup",Ln),window.removeEventListener("resize",os),window.removeEventListener("scroll",os)}function gd(){const a=G("popover");a&&(a.wrapper.style.display="none")}function zr(a,t){var s,r;let i=G("popover");i&&document.body.removeChild(i.wrapper),i=vd(),document.body.appendChild(i.wrapper);const{title:n,description:o,showButtons:l,disableButtons:c,showProgress:d,nextBtnText:m=z("nextBtnText")||"Next &rarr;",prevBtnText:u=z("prevBtnText")||"&larr; Previous",progressText:h=z("progressText")||"{current} of {total}"}=t.popover||{};i.nextButton.innerHTML=m,i.previousButton.innerHTML=u,i.progress.innerHTML=h,n?(i.title.innerHTML=n,i.title.style.display="block"):i.title.style.display="none",o?(i.description.innerHTML=o,i.description.style.display="block"):i.description.style.display="none";const x=l||z("showButtons"),v=d||z("showProgress")||!1,w=x?.includes("next")||x?.includes("previous")||v;i.closeButton.style.display=x.includes("close")?"block":"none",w?(i.footer.style.display="flex",i.progress.style.display=v?"block":"none",i.nextButton.style.display=x.includes("next")?"block":"none",i.previousButton.style.display=x.includes("previous")?"block":"none"):i.footer.style.display="none";const y=c||z("disableButtons")||[];y!=null&&y.includes("next")&&(i.nextButton.disabled=!0,i.nextButton.classList.add("driver-popover-btn-disabled")),y!=null&&y.includes("previous")&&(i.previousButton.disabled=!0,i.previousButton.classList.add("driver-popover-btn-disabled")),y!=null&&y.includes("close")&&(i.closeButton.disabled=!0,i.closeButton.classList.add("driver-popover-btn-disabled"));const p=i.wrapper;p.style.display="block",p.style.left="",p.style.top="",p.style.bottom="",p.style.right="",p.id="driver-popover-content",p.setAttribute("role","dialog"),p.setAttribute("aria-labelledby","driver-popover-title"),p.setAttribute("aria-describedby","driver-popover-description");const g=i.arrow;g.className="driver-popover-arrow";const N=((s=t.popover)==null?void 0:s.popoverClass)||z("popoverClass")||"";p.className=`driver-popover ${N}`.trim(),Bn(i.wrapper,D=>{var X,ee,B;const K=D.target,T=((X=t.popover)==null?void 0:X.onNextClick)||z("onNextClick"),U=((ee=t.popover)==null?void 0:ee.onPrevClick)||z("onPrevClick"),J=((B=t.popover)==null?void 0:B.onCloseClick)||z("onCloseClick");if(K.closest(".driver-popover-next-btn"))return T?T(a,t,{config:z(),state:G(),driver:$e()}):_t("nextClick");if(K.closest(".driver-popover-prev-btn"))return U?U(a,t,{config:z(),state:G(),driver:$e()}):_t("prevClick");if(K.closest(".driver-popover-close-btn"))return J?J(a,t,{config:z(),state:G(),driver:$e()}):_t("closeClick")},D=>!(i!=null&&i.description.contains(D))&&!(i!=null&&i.title.contains(D))&&typeof D.className=="string"&&D.className.includes("driver-popover")),ve("popover",i);const S=((r=t.popover)==null?void 0:r.onPopoverRender)||z("onPopoverRender");S&&S(i,{config:z(),state:G(),driver:$e()}),Vn(a,t),On(p);const M=a.classList.contains("driver-dummy-element"),C=Mn([p,...M?[]:[a]]);C.length>0&&C[0].focus()}function $n(){const a=G("popover");if(!(a!=null&&a.wrapper))return;const t=a.wrapper.getBoundingClientRect(),s=z("stagePadding")||0,r=z("popoverOffset")||0;return{width:t.width+s+r,height:t.height+s+r,realWidth:t.width,realHeight:t.height}}function qr(a,t){const{elementDimensions:s,popoverDimensions:r,popoverPadding:i,popoverArrowDimensions:n}=t;return a==="start"?Math.max(Math.min(s.top-i,window.innerHeight-r.realHeight-n.width),n.width):a==="end"?Math.max(Math.min(s.top-r?.realHeight+s.height+i,window.innerHeight-r?.realHeight-n.width),n.width):a==="center"?Math.max(Math.min(s.top+s.height/2-r?.realHeight/2,window.innerHeight-r?.realHeight-n.width),n.width):0}function Hr(a,t){const{elementDimensions:s,popoverDimensions:r,popoverPadding:i,popoverArrowDimensions:n}=t;return a==="start"?Math.max(Math.min(s.left-i,window.innerWidth-r.realWidth-n.width),n.width):a==="end"?Math.max(Math.min(s.left-r?.realWidth+s.width+i,window.innerWidth-r?.realWidth-n.width),n.width):a==="center"?Math.max(Math.min(s.left+s.width/2-r?.realWidth/2,window.innerWidth-r?.realWidth-n.width),n.width):0}function Vn(a,t){const s=G("popover");if(!s)return;const{align:r="start",side:i="left"}=t?.popover||{},n=r,o=a.id==="driver-dummy-element"?"over":i,l=z("stagePadding")||0,c=$n(),d=s.arrow.getBoundingClientRect(),m=a.getBoundingClientRect(),u=m.top-c.height;let h=u>=0;const x=window.innerHeight-(m.bottom+c.height);let v=x>=0;const w=m.left-c.width;let y=w>=0;const p=window.innerWidth-(m.right+c.width);let g=p>=0;const N=!h&&!v&&!y&&!g;let S=o;if(o==="top"&&h?g=y=v=!1:o==="bottom"&&v?g=y=h=!1:o==="left"&&y?g=h=v=!1:o==="right"&&g&&(y=h=v=!1),o==="over"){const M=window.innerWidth/2-c.realWidth/2,C=window.innerHeight/2-c.realHeight/2;s.wrapper.style.left=`${M}px`,s.wrapper.style.right="auto",s.wrapper.style.top=`${C}px`,s.wrapper.style.bottom="auto"}else if(N){const M=window.innerWidth/2-c?.realWidth/2,C=10;s.wrapper.style.left=`${M}px`,s.wrapper.style.right="auto",s.wrapper.style.bottom=`${C}px`,s.wrapper.style.top="auto"}else if(y){const M=Math.min(w,window.innerWidth-c?.realWidth-d.width),C=qr(n,{elementDimensions:m,popoverDimensions:c,popoverPadding:l,popoverArrowDimensions:d});s.wrapper.style.left=`${M}px`,s.wrapper.style.top=`${C}px`,s.wrapper.style.bottom="auto",s.wrapper.style.right="auto",S="left"}else if(g){const M=Math.min(p,window.innerWidth-c?.realWidth-d.width),C=qr(n,{elementDimensions:m,popoverDimensions:c,popoverPadding:l,popoverArrowDimensions:d});s.wrapper.style.right=`${M}px`,s.wrapper.style.top=`${C}px`,s.wrapper.style.bottom="auto",s.wrapper.style.left="auto",S="right"}else if(h){const M=Math.min(u,window.innerHeight-c.realHeight-d.width);let C=Hr(n,{elementDimensions:m,popoverDimensions:c,popoverPadding:l,popoverArrowDimensions:d});s.wrapper.style.top=`${M}px`,s.wrapper.style.left=`${C}px`,s.wrapper.style.bottom="auto",s.wrapper.style.right="auto",S="top"}else if(v){const M=Math.min(x,window.innerHeight-c?.realHeight-d.width);let C=Hr(n,{elementDimensions:m,popoverDimensions:c,popoverPadding:l,popoverArrowDimensions:d});s.wrapper.style.left=`${C}px`,s.wrapper.style.bottom=`${M}px`,s.wrapper.style.top="auto",s.wrapper.style.right="auto",S="bottom"}N?s.arrow.classList.add("driver-popover-arrow-none"):bd(n,S,a)}function bd(a,t,s){const r=G("popover");if(!r)return;const i=s.getBoundingClientRect(),n=$n(),o=r.arrow,l=n.width,c=window.innerWidth,d=i.width,m=i.left,u=n.height,h=window.innerHeight,x=i.top,v=i.height;o.className="driver-popover-arrow";let w=t,y=a;if(t==="top"?(m+d<=0?(w="right",y="end"):m+d-l<=0&&(w="top",y="start"),m>=c?(w="left",y="end"):m+l>=c&&(w="top",y="end")):t==="bottom"?(m+d<=0?(w="right",y="start"):m+d-l<=0&&(w="bottom",y="start"),m>=c?(w="left",y="start"):m+l>=c&&(w="bottom",y="end")):t==="left"?(x+v<=0?(w="bottom",y="end"):x+v-u<=0&&(w="left",y="start"),x>=h?(w="top",y="end"):x+u>=h&&(w="left",y="end")):t==="right"&&(x+v<=0?(w="bottom",y="start"):x+v-u<=0&&(w="right",y="start"),x>=h?(w="top",y="start"):x+u>=h&&(w="right",y="end")),!w)o.classList.add("driver-popover-arrow-none");else{o.classList.add(`driver-popover-arrow-side-${w}`),o.classList.add(`driver-popover-arrow-align-${y}`);const p=s.getBoundingClientRect(),g=o.getBoundingClientRect(),N=z("stagePadding")||0,S=p.left-N<window.innerWidth&&p.right+N>0&&p.top-N<window.innerHeight&&p.bottom+N>0;t==="bottom"&&S&&(g.x>p.x&&g.x+g.width<p.x+p.width?r.wrapper.style.transform="translateY(0)":(o.classList.remove(`driver-popover-arrow-align-${y}`),o.classList.add("driver-popover-arrow-none"),r.wrapper.style.transform=`translateY(-${N/2}px)`))}}function vd(){const a=document.createElement("div");a.classList.add("driver-popover");const t=document.createElement("div");t.classList.add("driver-popover-arrow");const s=document.createElement("header");s.id="driver-popover-title",s.classList.add("driver-popover-title"),s.style.display="none",s.innerText="Popover Title";const r=document.createElement("div");r.id="driver-popover-description",r.classList.add("driver-popover-description"),r.style.display="none",r.innerText="Popover description is here";const i=document.createElement("button");i.type="button",i.classList.add("driver-popover-close-btn"),i.setAttribute("aria-label","Close"),i.innerHTML="&times;";const n=document.createElement("footer");n.classList.add("driver-popover-footer");const o=document.createElement("span");o.classList.add("driver-popover-progress-text"),o.innerText="";const l=document.createElement("span");l.classList.add("driver-popover-navigation-btns");const c=document.createElement("button");c.type="button",c.classList.add("driver-popover-prev-btn"),c.innerHTML="&larr; Previous";const d=document.createElement("button");return d.type="button",d.classList.add("driver-popover-next-btn"),d.innerHTML="Next &rarr;",l.appendChild(c),l.appendChild(d),n.appendChild(o),n.appendChild(l),a.appendChild(i),a.appendChild(t),a.appendChild(s),a.appendChild(r),a.appendChild(n),{wrapper:a,arrow:t,title:s,description:r,footer:n,previousButton:c,nextButton:d,closeButton:i,footerButtons:l,progress:o}}function wd(){var a;const t=G("popover");t&&((a=t.wrapper.parentElement)==null||a.removeChild(t.wrapper))}function yd(a={}){da(a);function t(){z("allowClose")&&m()}function s(){const h=z("overlayClickBehavior");if(z("allowClose")&&h==="close"){m();return}if(typeof h=="function"){const x=G("__activeStep"),v=G("__activeElement");h(v,x,{config:z(),state:G(),driver:$e()});return}h==="nextStep"&&r()}function r(){const h=G("activeIndex"),x=z("steps")||[];if(typeof h>"u")return;const v=h+1;x[v]?d(v):m()}function i(){const h=G("activeIndex"),x=z("steps")||[];if(typeof h>"u")return;const v=h-1;x[v]?d(v):m()}function n(h){(z("steps")||[])[h]?d(h):m()}function o(){var h;if(G("__transitionCallback"))return;const x=G("activeIndex"),v=G("__activeStep"),w=G("__activeElement");if(typeof x>"u"||typeof v>"u"||typeof G("activeIndex")>"u")return;const y=((h=v.popover)==null?void 0:h.onPrevClick)||z("onPrevClick");if(y)return y(w,v,{config:z(),state:G(),driver:$e()});i()}function l(){var h;if(G("__transitionCallback"))return;const x=G("activeIndex"),v=G("__activeStep"),w=G("__activeElement");if(typeof x>"u"||typeof v>"u")return;const y=((h=v.popover)==null?void 0:h.onNextClick)||z("onNextClick");if(y)return y(w,v,{config:z(),state:G(),driver:$e()});r()}function c(){G("isInitialized")||(ve("isInitialized",!0),document.body.classList.add("driver-active",z("animate")?"driver-fade":"driver-simple"),xd(),js("overlayClick",s),js("escapePress",t),js("arrowLeftPress",o),js("arrowRightPress",l))}function d(h=0){var x,v,w,y,p,g,N,S;const M=z("steps");if(!M){console.error("No steps to drive through"),m();return}if(!M[h]){m();return}ve("__activeOnDestroyed",document.activeElement),ve("activeIndex",h);const C=M[h],D=M[h+1],X=M[h-1],ee=((x=C.popover)==null?void 0:x.doneBtnText)||z("doneBtnText")||"Done",B=z("allowClose"),K=typeof((v=C.popover)==null?void 0:v.showProgress)<"u"?(w=C.popover)==null?void 0:w.showProgress:z("showProgress"),T=(((y=C.popover)==null?void 0:y.progressText)||z("progressText")||"{{current}} of {{total}}").replace("{{current}}",`${h+1}`).replace("{{total}}",`${M.length}`),U=((p=C.popover)==null?void 0:p.showButtons)||z("showButtons"),J=["next","previous",...B?["close"]:[]].filter(A=>!(U!=null&&U.length)||U.includes(A)),_=((g=C.popover)==null?void 0:g.onNextClick)||z("onNextClick"),E=((N=C.popover)==null?void 0:N.onPrevClick)||z("onPrevClick"),L=((S=C.popover)==null?void 0:S.onCloseClick)||z("onCloseClick");Ur({...C,popover:{showButtons:J,nextBtnText:D?void 0:ee,disableButtons:[...X?[]:["previous"]],showProgress:K,progressText:T,onNextClick:_||(()=>{D?d(h+1):m()}),onPrevClick:E||(()=>{d(h-1)}),onCloseClick:L||(()=>{m()}),...C?.popover||{}}})}function m(h=!0){const x=G("__activeElement"),v=G("__activeStep"),w=G("__activeOnDestroyed"),y=z("onDestroyStarted");if(h&&y){const N=!x||x?.id==="driver-dummy-element";y(N?void 0:x,v,{config:z(),state:G(),driver:$e()});return}const p=v?.onDeselected||z("onDeselected"),g=z("onDestroyed");if(document.body.classList.remove("driver-active","driver-fade","driver-simple"),fd(),wd(),md(),cd(),td(),Vr(),x&&v){const N=x.id==="driver-dummy-element";p&&p(N?void 0:x,v,{config:z(),state:G(),driver:$e()}),g&&g(N?void 0:x,v,{config:z(),state:G(),driver:$e()})}w&&w.focus()}const u={isActive:()=>G("isInitialized")||!1,refresh:os,drive:(h=0)=>{c(),d(h)},setConfig:da,setSteps:h=>{Vr(),da({...z(),steps:h})},getConfig:z,getState:G,getActiveIndex:()=>G("activeIndex"),isFirstStep:()=>G("activeIndex")===0,isLastStep:()=>{const h=z("steps")||[],x=G("activeIndex");return x!==void 0&&x===h.length-1},getActiveStep:()=>G("activeStep"),getActiveElement:()=>G("activeElement"),getPreviousElement:()=>G("previousElement"),getPreviousStep:()=>G("previousStep"),moveNext:r,movePrevious:i,moveTo:n,hasNextStep:()=>{const h=z("steps")||[],x=G("activeIndex");return x!==void 0&&!!h[x+1]},hasPreviousStep:()=>{const h=z("steps")||[],x=G("activeIndex");return x!==void 0&&!!h[x-1]},highlight:h=>{c(),Ur({...h,popover:h.popover?{showButtons:[],showProgress:!1,progressText:"",...h.popover}:void 0})},destroy:()=>{m(!1)}};return ed(u),u}const ua="emprata_has_seen_tour";function jd(){const[a,t]=f.useState(!0),[s,r]=f.useState(!1);f.useEffect(()=>{const o=localStorage.getItem(ua);t(o==="true"),r(!0)},[]);const i=f.useCallback(()=>{localStorage.setItem(ua,"true"),t(!0)},[]),n=f.useCallback(()=>{localStorage.removeItem(ua),t(!1)},[]);return{hasSeenTour:a,isReady:s,markTourAsDone:i,resetTour:n}}const Nd=[{popover:{title:" Bem-vindo ao Emprata!",description:'Vamos configurar sua <strong>mquina de vendas</strong> em 30 segundos. Clique em "Prximo" para comear!',side:"bottom",align:"center"}},{element:"#tour-studio-card",popover:{title:" Crie Fotos Mgicas",description:"Aqui  onde a <strong>IA transforma fotos de celular em estdio profissional</strong>. Tire uma foto do seu prato e veja a mgica acontecer!",side:"bottom",align:"start"}},{element:"#tour-menu-card",popover:{title:" Publique seu Cardpio",description:"Crie seu <strong>link de vendas personalizado</strong>, defina preos e categorias. Seus clientes podero pedir direto pelo celular!",side:"bottom",align:"center"}},{element:"#tour-tools-card",popover:{title:" Operao Profissional",description:"Acesse a <strong>tela da cozinha (KDS)</strong>, imprima QR Codes para mesas e gerencie sua equipe. Tudo para voc operar como um restaurante top!",side:"top",align:"center"}},{popover:{title:" Voc est pronto!",description:"Agora  s comear a criar. Se precisar de ajuda, clique no <strong>boto (?) no canto inferior direito</strong>. Boas vendas! ",side:"bottom",align:"center"}}];function kd({forceStart:a=!1,onComplete:t}){const{hasSeenTour:s,isReady:r,markTourAsDone:i}=jd(),[n,o]=f.useState(!1);f.useEffect(()=>{if(!(!r||n)&&(!s||a)){const c=setTimeout(()=>{l()},1e3);return()=>clearTimeout(c)}},[r,s,a,n]);const l=()=>{o(!0);const c=yd({showProgress:!0,showButtons:["next","previous","close"],nextBtnText:"Prximo ",prevBtnText:" Anterior",doneBtnText:"Comear! ",progressText:"{{current}} de {{total}}",allowClose:!0,overlayColor:"rgba(0, 0, 0, 0.85)",stagePadding:8,stageRadius:12,popoverClass:"emprata-tour-popover",steps:Nd,onDestroyStarted:()=>{i(),t?.(),c.destroy()}});c.drive()};return e.jsx(e.Fragment,{children:e.jsx("style",{children:`
        .emprata-tour-popover {
          background: #18181b !important;
          color: #fff !important;
          border: 1px solid rgba(255,255,255,0.1) !important;
          border-radius: 16px !important;
          box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5) !important;
        }

        .emprata-tour-popover .driver-popover-title {
          color: #fff !important;
          font-size: 1.25rem !important;
          font-weight: 800 !important;
        }

        .emprata-tour-popover .driver-popover-description {
          color: rgba(255,255,255,0.7) !important;
          font-size: 0.95rem !important;
          line-height: 1.6 !important;
        }

        .emprata-tour-popover .driver-popover-description strong {
          color: #FF6B00 !important;
        }

        .emprata-tour-popover .driver-popover-progress-text {
          color: rgba(255,255,255,0.4) !important;
          font-size: 0.75rem !important;
        }

        .emprata-tour-popover .driver-popover-navigation-btns {
          gap: 8px !important;
        }

        .emprata-tour-popover button.driver-popover-next-btn,
        .emprata-tour-popover button.driver-popover-prev-btn {
          background: linear-gradient(135deg, #FF6B00 0%, #FF8533 100%) !important;
          color: #fff !important;
          border: none !important;
          border-radius: 8px !important;
          padding: 10px 20px !important;
          font-weight: 700 !important;
          font-size: 0.875rem !important;
          text-shadow: none !important;
          transition: all 0.2s !important;
        }

        .emprata-tour-popover button.driver-popover-prev-btn {
          background: rgba(255,255,255,0.1) !important;
        }

        .emprata-tour-popover button.driver-popover-next-btn:hover {
          filter: brightness(1.1) !important;
        }

        .emprata-tour-popover button.driver-popover-close-btn {
          color: rgba(255,255,255,0.4) !important;
        }

        .emprata-tour-popover button.driver-popover-close-btn:hover {
          color: #fff !important;
        }

        .driver-popover-arrow-side-left,
        .driver-popover-arrow-side-right,
        .driver-popover-arrow-side-top,
        .driver-popover-arrow-side-bottom {
          border-color: #18181b !important;
        }
      `})})}const ha={"/studio":{title:"Estdio IA",subtitle:"Dicas para fotos perfeitas",tips:[{icon:ct,title:"Tire uma foto bem iluminada",content:"Luz natural (perto da janela)  melhor. Evite sombras fortes no prato."},{icon:Se,title:"Como descrever um hambrguer",content:'Ex: "Burger artesanal com queijo derretendo, bacon crocante e molho especial brilhante"'},{icon:Hi,title:"Escolha o estilo certo",content:'"Food Photography" = fundo limpo. "Fine Dining" = mais elegante. Experimente!'},{icon:Gi,title:"Dica de ouro",content:'Adicione detalhes sensoriais: "fumaa saindo", "gelo escorrendo", "queijo puxando".'}]},"/menu-builder":{title:"Construtor de Cardpio",subtitle:"Monte seu menu digital",tips:[{icon:It,title:"Como criar categorias",content:'Clique em "+ Categoria" e organize: Entradas, Pratos Principais, Bebidas, Sobremesas.'},{icon:Kt,title:"Preos estratgicos",content:'Use R$ 24,90 ao invs de R$ 25. O ".90" aumenta converso em at 15%!'},{icon:ct,title:"Fotos vendem mais",content:"Itens com foto vendem 30% a mais. Use o Studio IA para gerar fotos profissionais."},{icon:yo,title:"Compartilhe seu link",content:"Copie o link do seu cardpio e coloque no Instagram Bio e WhatsApp Business."}]},"/kitchen-mode":{title:"Tela da Cozinha (KDS)",subtitle:"Sistema de pedidos em tempo real",tips:[{icon:Zt,title:"Como funciona o KDS",content:'Os pedidos aparecem automaticamente. Clique para marcar como "Preparando" ou "Pronto".'},{icon:We,title:"Significado das cores",content:" Amarelo = Pendente |  Azul = Preparando |  Verde = Pronto para servir"},{icon:Pa,title:"Tela cheia recomendada",content:"Pressione F11 para modo fullscreen. Ideal para tablets na cozinha."}]},"/tools":{title:"Ferramentas & Apps",subtitle:"Central de recursos",tips:[{icon:Zt,title:"Kitchen Display (KDS)",content:"Tela dedicada para a cozinha ver pedidos em tempo real."},{icon:Pa,title:"QR Codes de Mesa",content:"Imprima placas profissionais para cada mesa. O cliente escaneia e faz o pedido."},{icon:Xe,title:"Gesto de Equipe",content:"Cadastre garons e motoboys. Cada um tem seu login por PIN."}]},"/dashboard":{title:"Painel Principal",subtitle:"Viso geral do seu negcio",tips:[{icon:ct,title:"Comece pelo Studio",content:"Tire fotos dos seus pratos e transforme em profissionais com IA."},{icon:It,title:"Monte seu Cardpio",content:"Crie categorias, adicione itens e publique seu link de vendas."},{icon:Zt,title:"Configure a Operao",content:"Acesse Ferramentas para KDS, QR Codes e gesto de equipe."}]}},Cd={title:"Central de Ajuda",subtitle:"Navegue pela plataforma",tips:[{icon:Gi,title:"Precisa de ajuda?",content:"Use o menu lateral para navegar entre as ferramentas do Emprata."}]};function Ed(){const[a,t]=f.useState(!1),s=pn(),i=(()=>{if(ha[s.pathname])return ha[s.pathname];const n=Object.entries(ha).find(([o])=>s.pathname.startsWith(o.replace("*","")));return n?n[1]:Cd})();return e.jsxs(e.Fragment,{children:[e.jsx(k.button,{initial:{scale:0},animate:{scale:1},transition:{delay:1,type:"spring"},onClick:()=>t(!0),className:"fixed bottom-6 right-6 z-50 w-14 h-14 bg-gradient-to-br from-primary to-orange-600 rounded-full flex items-center justify-center shadow-lg shadow-primary/30 hover:shadow-primary/50 hover:scale-110 transition-all","aria-label":"Ajuda",children:e.jsx(wo,{className:"w-6 h-6 text-white"})}),e.jsx(ce,{children:a&&e.jsxs(e.Fragment,{children:[e.jsx(k.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>t(!1),className:"fixed inset-0 z-50 bg-black/60 backdrop-blur-sm"}),e.jsxs(k.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",damping:25,stiffness:300},className:"fixed top-0 right-0 bottom-0 z-50 w-full max-w-md bg-[#0f0f0f] border-l border-white/10 flex flex-col",children:[e.jsxs("div",{className:"px-6 py-5 border-b border-white/10 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-bold text-white",children:i.title}),e.jsx("p",{className:"text-sm text-white/40",children:i.subtitle})]}),e.jsx("button",{onClick:()=>t(!1),className:"p-2 hover:bg-white/10 rounded-xl transition-colors",children:e.jsx(Je,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-6 space-y-4",children:i.tips.map((n,o)=>e.jsx(k.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:o*.1},className:"p-4 bg-white/5 border border-white/10 rounded-xl",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary/20 flex items-center justify-center shrink-0",children:e.jsx(n.icon,{className:"w-5 h-5 text-primary"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-white mb-1",children:n.title}),e.jsx("p",{className:"text-sm text-white/60 leading-relaxed",children:n.content})]})]})},o))}),e.jsx("div",{className:"px-6 py-4 border-t border-white/10",children:e.jsxs("a",{href:"https://wa.me/5511999999999?text=Oi!%20Preciso%20de%20ajuda%20com%20o%20Emprata.ai",target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center gap-2 w-full py-3 bg-white/5 hover:bg-white/10 rounded-xl text-sm text-white/40 hover:text-white transition-colors",children:[e.jsx(Fs,{className:"w-4 h-4"}),"Falar com Suporte Humano",e.jsx(Ya,{className:"w-3 h-3"})]})})]})]})})]})}const Ad=[{path:"/dashboard",label:"Dashboard",icon:e.jsx(jo,{className:"w-5 h-5"})},{path:"/studio",label:"Estdio IA",icon:e.jsx(ct,{className:"w-5 h-5"})},{path:"/menu-builder",label:"Cardpio",icon:e.jsx(No,{className:"w-5 h-5"})},{path:"/finance",label:"Financeiro",icon:e.jsx(Kt,{className:"w-5 h-5"}),ownerOnly:!0},{path:"/staff",label:"Equipe",icon:e.jsx(Xe,{className:"w-5 h-5"}),ownerOnly:!0},{path:"/profile",label:"Configuraes",icon:e.jsx(ko,{className:"w-5 h-5"})}],Sd={"/dashboard":"Dashboard","/studio":"Estdio de Criao","/menu-builder":"Construtor de Cardpio","/finance":"Gesto Financeira","/staff":"Gesto de Equipe","/profile":"Configuraes"};function _d({items:a}){return e.jsxs("aside",{className:"hidden lg:flex fixed left-0 top-0 bottom-0 w-64 flex-col bg-[#0a0a0a]/80 backdrop-blur-xl border-r border-white/5 z-40",children:[e.jsx("div",{className:"h-20 flex items-center px-6 border-b border-white/5",children:e.jsx(Is,{to:"/dashboard",className:"flex items-center gap-2",children:e.jsxs("span",{className:"text-2xl font-black italic tracking-tighter",children:["Emprata",e.jsx("span",{className:"text-primary",children:".ai"})]})})}),e.jsx("nav",{className:"flex-1 py-6 px-3 space-y-1",children:a.map(t=>e.jsx(Is,{to:t.path,className:({isActive:s})=>`
              flex items-center gap-3 px-4 py-3 rounded-xl font-bold text-sm
              transition-all group relative
              ${s?"bg-primary/10 text-primary":"text-white/50 hover:text-white hover:bg-white/5"}
            `,children:({isActive:s})=>e.jsxs(e.Fragment,{children:[s&&e.jsx(k.div,{layoutId:"sidebar-indicator",className:"absolute right-0 top-1/2 -translate-y-1/2 w-1 h-8 bg-primary rounded-l-full"}),e.jsx("span",{className:s?"text-primary":"text-white/40 group-hover:text-white/60",children:t.icon}),e.jsx("span",{children:t.label})]})},t.path))}),e.jsx("div",{className:"p-4 border-t border-white/5",children:e.jsxs("div",{className:"p-4 bg-white/5 rounded-xl",children:[e.jsx("p",{className:"text-[10px] font-bold uppercase tracking-widest text-white/30 mb-2",children:"Novo"}),e.jsx("p",{className:"text-sm font-bold text-white/60",children:" App do Garom disponvel"}),e.jsxs(Is,{to:"/waiter-login",className:"text-xs text-primary font-bold flex items-center gap-1 mt-2 hover:underline",children:["Acessar ",e.jsx(Ki,{className:"w-3 h-3"})]})]})})]})}function Td({items:a}){const t=a.slice(0,5);return e.jsx("nav",{className:"lg:hidden fixed bottom-0 left-0 right-0 h-20 bg-[#0a0a0a]/95 backdrop-blur-xl border-t border-white/5 flex items-center justify-around px-2 z-50",children:t.map(s=>e.jsx(Is,{to:s.path,className:({isActive:r})=>`
            flex flex-col items-center gap-1 px-3 py-2 rounded-xl transition-all
            ${r?"text-primary":"text-white/40"}
          `,children:({isActive:r})=>e.jsxs(e.Fragment,{children:[e.jsx(k.div,{animate:{scale:r?1.1:1},className:r?"text-primary":"",children:s.icon}),e.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wider",children:s.label.split(" ")[0]})]})},s.path))})}function Id({title:a}){const[t,s]=f.useState(!1);return e.jsxs("header",{className:"h-16 lg:h-20 flex items-center justify-between px-4 lg:px-8 bg-[#0a0a0a]/80 backdrop-blur-xl border-b border-white/5 sticky top-0 z-30",children:[e.jsx("button",{className:"lg:hidden p-2 -ml-2 text-white/60 hover:text-white",onClick:()=>s(!t),children:t?e.jsx(Je,{className:"w-6 h-6"}):e.jsx(Co,{className:"w-6 h-6"})}),e.jsx("div",{className:"lg:flex-1",children:e.jsx(k.h1,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"text-lg lg:text-xl font-black tracking-tight",children:a},a)}),e.jsx(In,{})]})}function Rd(){const a=pn();we();const t=Ad,s=Sd[a.pathname]||"Emprata.ai";return e.jsxs("div",{className:"min-h-screen bg-[#0a0a0a] text-white",children:[e.jsx(_d,{items:t}),e.jsxs("div",{className:"lg:ml-64 min-h-screen flex flex-col pb-20 lg:pb-0",children:[e.jsx(Id,{title:s}),e.jsx("main",{className:"flex-1",children:e.jsx(ce,{mode:"wait",children:e.jsx(k.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2,ease:"easeInOut"},className:"h-full",children:e.jsx(el,{})},a.pathname)})})]}),e.jsx(Td,{items:t}),e.jsx(kd,{}),e.jsx(Ed,{})]})}const ks=({title:a,desc:t,icon:s,color:r,delay:i,colSpan:n=1})=>e.jsxs(k.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:i,duration:.5},className:`bg-white/5 border border-white/10 rounded-3xl p-8 hover:bg-white/10 transition-all group overflow-hidden relative ${n===2?"md:col-span-2":""}`,children:[e.jsx("div",{className:`absolute top-0 right-0 p-32 opacity-10 blur-[60px] transition-all group-hover:opacity-20 ${r}`}),e.jsxs("div",{className:"relative z-10",children:[e.jsx("div",{className:`w-12 h-12 rounded-2xl flex items-center justify-center mb-6 ${r.replace("bg-","bg-").replace("500","500/20")} border border-white/10`,children:e.jsx(s,{className:"w-6 h-6 text-white"})}),e.jsx("h3",{className:"text-xl font-black italic mb-2",children:a}),e.jsx("p",{className:"text-white/50 text-sm leading-relaxed font-medium",children:t})]})]}),Cs=({number:a,label:t})=>e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-4xl md:text-5xl font-black italic text-transparent bg-clip-text bg-gradient-to-b from-white to-white/40 mb-2",children:a}),e.jsx("div",{className:"text-xs font-bold uppercase tracking-widest text-primary",children:t})]});function Md(){const[a,t]=f.useState(!1),s=f.useRef(null),{scrollYProgress:r}=Eo({target:s,offset:["start start","end start"]}),i=br(r,[0,.5],[1,0]),n=br(r,[0,.5],[1,.9]);return e.jsxs("div",{className:"min-h-screen bg-[#050505] text-white selection:bg-primary selection:text-white overflow-x-hidden font-sans",children:[e.jsx("nav",{className:"fixed top-0 inset-x-0 z-50 bg-[#050505]/80 backdrop-blur-md border-b border-white/5 h-20 flex items-center",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-6 w-full flex justify-between items-center",children:[e.jsxs("div",{className:"text-2xl font-black italic tracking-tighter",children:["Emprata",e.jsx("span",{className:"text-primary",children:".ai"})]}),e.jsxs("div",{className:"hidden md:flex gap-8 text-xs font-bold uppercase tracking-widest text-white/60",children:[e.jsx("a",{href:"#features",className:"hover:text-white transition-colors",children:"Funcionalidades"}),e.jsx("a",{href:"#magic",className:"hover:text-white transition-colors",children:"Tecnologia"}),e.jsx("a",{href:"#pricing",className:"hover:text-white transition-colors",children:"Planos"})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx(me,{to:"/auth",className:"text-xs font-bold uppercase tracking-widest py-3 px-4 hover:text-primary transition-colors",children:"Login"}),e.jsx(me,{to:"/auth",children:e.jsx("button",{className:"bg-primary hover:bg-orange-600 text-white px-6 py-2 rounded-full text-xs font-black uppercase tracking-widest transition-all hover:scale-105 shadow-[0_0_20px_rgba(255,107,0,0.3)]",children:"Comear Agora"})})]})]})}),e.jsxs("section",{ref:s,className:"relative h-screen flex items-center justify-center overflow-hidden pt-20",children:[e.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_center,_var(--tw-gradient-stops))] from-primary/10 via-[#050505] to-[#050505]"}),e.jsx("div",{className:"absolute inset-0 bg-[url('https://grainy-gradients.vercel.app/noise.svg')] opacity-20"}),e.jsxs(k.div,{style:{opacity:i,scale:n},className:"relative z-10 text-center max-w-5xl px-6",children:[e.jsxs(k.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-white/5 border border-white/10 mb-8 backdrop-blur-xl",children:[e.jsxs("span",{className:"relative flex h-2 w-2",children:[e.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-75"}),e.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-green-500"})]}),e.jsx("span",{className:"text-[10px] font-black uppercase tracking-[0.2em] text-white/80",children:"O Sistema Operacional Neural v3.0"})]}),e.jsxs("h1",{className:"text-5xl md:text-8xl font-black italic tracking-tighter leading-[0.9] mb-8",children:["Seu Delivery.",e.jsx("br",{}),e.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-white via-white to-white/40",children:"Agora com Superpoderes."})]}),e.jsxs("p",{className:"text-lg md:text-2xl text-white/40 font-medium max-w-2xl mx-auto mb-12 leading-relaxed",children:["No  apenas um cardpio.  uma ",e.jsx("span",{className:"text-white",children:"Inteligncia Artificial"})," que fotografa, gerencia entregas, obedece sua voz e recupera clientes."]}),e.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-center gap-6",children:[e.jsx(me,{to:"/auth",children:e.jsxs("button",{className:"group relative px-8 py-4 bg-white text-black rounded-2xl font-black text-sm uppercase tracking-widest hover:scale-105 transition-all shadow-[0_0_40px_rgba(255,255,255,0.3)] flex items-center gap-3",children:[e.jsx(mt,{className:"w-5 h-5 fill-current text-primary"}),"Criar Conta Grtis",e.jsx("div",{className:"absolute inset-0 rounded-2xl ring-2 ring-white/50 group-hover:ring-4 transition-all"})]})}),e.jsxs("button",{onClick:()=>t(!0),className:"px-8 py-4 bg-white/5 border border-white/10 rounded-2xl font-black text-sm uppercase tracking-widest hover:bg-white/10 transition-all flex items-center gap-3",children:[e.jsx(vr,{className:"w-4 h-4 fill-current"})," Ver Demo (1min)"]})]}),e.jsx("div",{className:"mt-16 flex items-center justify-center gap-8 opacity-40 grayscale hover:grayscale-0 transition-all duration-500",children:e.jsx("div",{className:"text-sm font-black uppercase tracking-widest",children:"Usado por +500 Deliveries"})})]})]}),e.jsx("section",{id:"features",className:"py-32 px-6 relative",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"mb-20",children:e.jsxs("h2",{className:"text-4xl md:text-6xl font-black italic tracking-tighter mb-6",children:["Tudo o que voc precisa.",e.jsx("br",{}),e.jsx("span",{className:"text-primary",children:"E o que nem sabia que existia."})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsx(ks,{colSpan:2,title:"Estdio Fotogrfico Neural",desc:"Nossa IA transforma fotos tiradas do seu celular em obras de arte profissionais. Sem estdio, sem fotgrafo, em segundos.",icon:Ao,color:"bg-purple-500",delay:.1}),e.jsx(ks,{title:"KDS Hands-Free",desc:"Comando de voz para a cozinha. O cozinheiro grita 'Pronto!' e o sistema obedece. Zero toques na tela.",icon:Da,color:"bg-red-500",delay:.2}),e.jsx(ks,{title:"Emprata Logistics",desc:"App do Entregador com Rota Waze, PIN de Segurana e Acerto de Contas automtico no fim do dia.",icon:So,color:"bg-blue-500",delay:.3}),e.jsx(ks,{colSpan:2,title:"Taste DNA & Menu Vivo",desc:"O cardpio muda a ordem dos itens baseado no clima (frio/calor) e no paladar nico de cada cliente. Personalizao nvel Netflix.",icon:_o,color:"bg-green-500",delay:.4})]})]})}),e.jsxs("section",{id:"magic",className:"py-32 px-6 bg-white/5 border-y border-white/5 relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[url('/grid-pattern.svg')] opacity-10"}),e.jsxs("div",{className:"max-w-7xl mx-auto grid md:grid-cols-2 gap-20 items-center",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-primary/20 text-primary mb-6",children:[e.jsx(Ks,{className:"w-3 h-3 fill-current"}),e.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"Tecnologia Exclusiva"})]}),e.jsxs("h2",{className:"text-4xl md:text-6xl font-black italic tracking-tighter mb-6 leading-tight",children:["Sua cozinha no precisa de telas.",e.jsx("br",{}),"Precisa de ",e.jsx("span",{className:"text-primary",children:"Ouvidos."})]}),e.jsxs("p",{className:"text-xl text-white/50 leading-relaxed mb-8",children:["Cozinheiros tm mos ocupadas. Com o ",e.jsx("strong",{children:"Emprata Voice"}),", a operao flui na velocidade do som.  higinico, futurista e incrivelmente rpido."]}),e.jsx("ul",{className:"space-y-4 mb-10",children:["Reconhecimento de Voz Offline","Integrao com Pulse (Vibra o Garom)","Zero erros de leitura"].map(o=>e.jsxs("li",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-6 h-6 rounded-full bg-green-500/20 flex items-center justify-center",children:e.jsx(Ce,{className:"w-3 h-3 text-green-500"})}),e.jsx("span",{className:"font-bold text-sm text-white/80",children:o})]},o))}),e.jsx(me,{to:"/auth",children:e.jsx("button",{className:"px-8 py-4 bg-white text-black rounded-xl font-black text-xs uppercase tracking-widest hover:bg-gray-200 transition-colors",children:"Testar Voz Agora"})})]}),e.jsxs("div",{className:"relative h-[500px] bg-black border border-white/10 rounded-3xl p-8 flex flex-col items-center justify-center overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 flex items-center justify-center gap-1 opacity-50",children:[...Array(20)].map((o,l)=>e.jsx(k.div,{animate:{height:[20,100,20]},transition:{duration:1,repeat:1/0,delay:l*.05},className:"w-2 bg-primary rounded-full"},l))}),e.jsxs("div",{className:"z-10 bg-white/10 backdrop-blur-xl border border-white/20 p-6 rounded-2xl text-center",children:[e.jsx(Da,{className:"w-12 h-12 mx-auto text-white mb-4"}),e.jsx("p",{className:"text-2xl font-black italic",children:'"Pedido 42 Pronto!"'}),e.jsx("p",{className:"text-xs text-white/50 uppercase tracking-widest mt-2",children:"Comando Reconhecido"})]})]})]})]}),e.jsx("section",{className:"py-20 border-b border-white/5 bg-black",children:e.jsxs("div",{className:"max-w-5xl mx-auto px-6 grid grid-cols-2 md:grid-cols-4 gap-12",children:[e.jsx(Cs,{number:"+40%",label:"Converso Mdia"}),e.jsx(Cs,{number:"-12h",label:"Tempo Operacional/Sem"}),e.jsx(Cs,{number:"0%",label:"Comisso Cobrada"}),e.jsx(Cs,{number:"24/7",label:"Vendas Automticas"})]})}),e.jsxs("section",{id:"pricing",className:"py-32 px-6",children:[e.jsxs("div",{className:"text-center max-w-3xl mx-auto mb-20",children:[e.jsxs("h2",{className:"text-4xl md:text-6xl font-black italic tracking-tighter mb-6",children:["Preo de Pizza.",e.jsx("br",{}),"Potncia de Tech Company."]}),e.jsx("p",{className:"text-white/40 text-lg",children:"Sem pegadinhas. Sem comisses sobre suas vendas. Cancele quando quiser."})]}),e.jsxs("div",{className:"max-w-6xl mx-auto grid md:grid-cols-3 gap-8 items-center",children:[e.jsxs("div",{className:"p-8 rounded-3xl border border-white/10 bg-white/5 hover:bg-white/10 transition-all",children:[e.jsx("h3",{className:"text-xl font-black uppercase text-white/60 mb-2",children:"Starter"}),e.jsxs("div",{className:"text-4xl font-black mb-6",children:["R$ 97",e.jsx("span",{className:"text-sm font-bold text-white/40",children:"/ms"})]}),e.jsx("p",{className:"text-sm text-white/50 mb-8",children:"Para quem est comeando e quer profissionalismo visual."}),e.jsxs("ul",{className:"space-y-3 mb-8 text-sm font-bold text-white/70",children:[e.jsxs("li",{className:"flex gap-2",children:[e.jsx(Ce,{className:"w-4 h-4 text-green-500"})," Fotos com IA (50/ms)"]}),e.jsxs("li",{className:"flex gap-2",children:[e.jsx(Ce,{className:"w-4 h-4 text-green-500"})," Cardpio Digital"]}),e.jsxs("li",{className:"flex gap-2",children:[e.jsx(Ce,{className:"w-4 h-4 text-green-500"})," Pedidos via WhatsApp"]})]}),e.jsx(me,{to:"/auth?plan=starter",children:e.jsx("button",{className:"w-full py-4 border border-white/20 rounded-xl font-black text-xs uppercase hover:bg-white hover:text-black transition-all",children:"Comear Starter"})})]}),e.jsxs("div",{className:"p-10 rounded-3xl border-2 border-primary bg-[#120a05] relative transform md:-translate-y-4 shadow-2xl shadow-primary/20",children:[e.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-primary px-4 py-1 rounded-full text-[10px] font-black uppercase tracking-widest",children:"Mais Escolhido"}),e.jsx("h3",{className:"text-xl font-black uppercase text-primary mb-2",children:"Growth"}),e.jsxs("div",{className:"text-5xl font-black mb-6",children:["R$ 197",e.jsx("span",{className:"text-sm font-bold text-white/40",children:"/ms"})]}),e.jsx("p",{className:"text-sm text-white/50 mb-8",children:"O sistema operacional completo. Logstica, KDS e IA."}),e.jsxs("ul",{className:"space-y-3 mb-8 text-sm font-bold text-white",children:[e.jsxs("li",{className:"flex gap-2",children:[e.jsx(Ce,{className:"w-4 h-4 text-primary"})," Fotos IA Ilimitadas"]}),e.jsxs("li",{className:"flex gap-2",children:[e.jsx(Ce,{className:"w-4 h-4 text-primary"})," KDS (Tela Cozinha) + Voz"]}),e.jsxs("li",{className:"flex gap-2",children:[e.jsx(Ce,{className:"w-4 h-4 text-primary"})," App do Entregador & Rastreio"]}),e.jsxs("li",{className:"flex gap-2",children:[e.jsx(Ce,{className:"w-4 h-4 text-primary"})," Taste DNA & Menu Vivo"]})]}),e.jsx(me,{to:"/auth?plan=pro",children:e.jsx("button",{className:"w-full py-4 bg-primary rounded-xl font-black text-xs uppercase hover:bg-orange-600 transition-all hover:scale-105",children:"Assinar Growth"})})]}),e.jsxs("div",{className:"p-8 rounded-3xl border border-white/10 bg-white/5 hover:bg-white/10 transition-all",children:[e.jsx("h3",{className:"text-xl font-black uppercase text-white/60 mb-2",children:"Scale"}),e.jsxs("div",{className:"text-4xl font-black mb-6",children:["R$ 397",e.jsx("span",{className:"text-sm font-bold text-white/40",children:"/ms"})]}),e.jsx("p",{className:"text-sm text-white/50 mb-8",children:"Para redes e operaes de alto volume que precisam de automao."}),e.jsxs("ul",{className:"space-y-3 mb-8 text-sm font-bold text-white/70",children:[e.jsxs("li",{className:"flex gap-2",children:[e.jsx(Ce,{className:"w-4 h-4 text-purple-500"})," Tudo do Growth"]}),e.jsxs("li",{className:"flex gap-2",children:[e.jsx(Ce,{className:"w-4 h-4 text-purple-500"})," Disparos WhatsApp (Evolution)"]}),e.jsxs("li",{className:"flex gap-2",children:[e.jsx(Ce,{className:"w-4 h-4 text-purple-500"})," IA de Reviews & Campanhas"]}),e.jsxs("li",{className:"flex gap-2",children:[e.jsx(Ce,{className:"w-4 h-4 text-purple-500"})," Mltiplas Lojas"]})]}),e.jsx(me,{to:"/auth?plan=scale",children:e.jsx("button",{className:"w-full py-4 border border-white/20 rounded-xl font-black text-xs uppercase hover:bg-white hover:text-black transition-all",children:"Comear Scale"})})]})]})]}),e.jsxs("footer",{className:"py-20 border-t border-white/5 text-center md:text-left",children:[e.jsxs("div",{className:"max-w-7xl mx-auto px-6 grid md:grid-cols-4 gap-12",children:[e.jsxs("div",{className:"col-span-2",children:[e.jsxs("div",{className:"text-2xl font-black italic tracking-tighter mb-4",children:["Emprata",e.jsx("span",{className:"text-primary",children:".ai"})]}),e.jsx("p",{className:"text-white/40 text-sm max-w-xs",children:"O primeiro sistema operacional neural para delivery do mundo. Feito para quem cansou de ser refm de taxas."})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold uppercase tracking-widest text-xs mb-6",children:"Produto"}),e.jsxs("ul",{className:"space-y-4 text-sm text-white/60",children:[e.jsx("li",{children:e.jsx("a",{href:"#",className:"hover:text-primary",children:"Neural Studio"})}),e.jsx("li",{children:e.jsx("a",{href:"#",className:"hover:text-primary",children:"KDS de Voz"})}),e.jsx("li",{children:e.jsx("a",{href:"#",className:"hover:text-primary",children:"Logstica"})}),e.jsx("li",{children:e.jsx("a",{href:"#",className:"hover:text-primary",children:"Preos"})})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold uppercase tracking-widest text-xs mb-6",children:"Legal"}),e.jsxs("ul",{className:"space-y-4 text-sm text-white/60",children:[e.jsx("li",{children:e.jsx(me,{to:"/privacy",className:"hover:text-primary",children:"Privacidade"})}),e.jsx("li",{children:e.jsx(me,{to:"/terms",className:"hover:text-primary",children:"Termos de Uso"})}),e.jsx("li",{children:e.jsx("a",{href:"#",className:"hover:text-primary",children:"Contato"})})]})]})]}),e.jsxs("div",{className:"max-w-7xl mx-auto px-6 mt-20 pt-8 border-t border-white/5 flex flex-col md:flex-row justify-between items-center text-xs text-white/20 font-bold uppercase tracking-widest",children:[e.jsx("p",{children:" 2025 Emprata Inc. Curitiba, PR."}),e.jsx("p",{children:"Designed with  by Gemini 3 Pro"})]})]}),e.jsx(ce,{children:a&&e.jsx(k.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[100] bg-black/95 flex items-center justify-center p-6",onClick:()=>t(!1),children:e.jsxs(k.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"relative w-full max-w-4xl aspect-video bg-black rounded-2xl border border-white/10 flex items-center justify-center",onClick:o=>o.stopPropagation(),children:[e.jsxs("div",{className:"text-center",children:[e.jsx(vr,{className:"w-16 h-16 text-white/20 mx-auto mb-4"}),e.jsx("p",{className:"text-white/40",children:"Vdeo demo em breve"})]}),e.jsx("button",{onClick:()=>t(!1),className:"absolute top-4 right-4 p-2 hover:bg-white/10 rounded-lg transition-colors",children:""})]})})})]})}function Un({isOpen:a,onClose:t,onSuccess:s}){const{loginWithGoogle:r,signIn:i,signUp:n,error:o}=we(),[l,c]=f.useState("google"),[d,m]=f.useState(""),[u,h]=f.useState(""),[x,v]=f.useState(""),[w,y]=f.useState(null),[p,g]=f.useState(!1),N=async()=>{try{g(!0),y(null),await r(),s?.(),t()}catch(C){y(C.message||"Erro ao fazer login com Google")}finally{g(!1)}},S=async C=>{C.preventDefault();try{g(!0),y(null),await i(d,u),s?.(),t()}catch{y("Email ou senha incorretos")}finally{g(!1)}},M=async C=>{C.preventDefault();try{g(!0),y(null),await n(d,u,x),s?.(),t()}catch(D){y(D.message||"Erro ao criar conta")}finally{g(!1)}};return e.jsx(ce,{children:a&&e.jsxs("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4",children:[e.jsx(k.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:t,className:"absolute inset-0 bg-black/90 backdrop-blur-md"}),e.jsxs(k.div,{initial:{scale:.9,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.9,opacity:0,y:20},className:"relative w-full max-w-md bg-zinc-900 border-2 border-white/10 rounded-3xl overflow-hidden shadow-2xl",children:[e.jsx("button",{onClick:t,className:"absolute top-4 right-4 p-2 hover:bg-white/10 rounded-full transition-colors z-10",children:e.jsx(Je,{className:"w-5 h-5 text-white/60"})}),e.jsxs("div",{className:"p-8 pt-12",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"w-16 h-16 bg-primary rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-lg shadow-primary/30",children:e.jsx("span",{className:"text-3xl",children:""})}),e.jsx("h2",{className:"text-3xl font-black text-white mb-2 italic uppercase",children:"Salve sua obra de arte"}),e.jsxs("p",{className:"text-white/60 font-medium",children:["Crie uma conta grtis para baixar sua imagem e ganhar ",e.jsx("span",{className:"text-primary font-bold",children:"+3 crditos"})]})]}),l==="google"&&e.jsxs(k.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"space-y-4",children:[e.jsx("button",{onClick:N,disabled:p,className:"w-full bg-white hover:bg-gray-100 text-gray-900 font-bold py-4 px-6 rounded-2xl flex items-center justify-center gap-3 transition-all shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",children:p?e.jsx(le,{className:"w-5 h-5 animate-spin"}):e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[e.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),e.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),e.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),e.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continuar com Google"]})}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("div",{className:"w-full border-t border-white/10"})}),e.jsx("div",{className:"relative flex justify-center text-sm",children:e.jsx("span",{className:"px-4 bg-zinc-900 text-white/40 font-bold uppercase tracking-wider",children:"ou"})})]}),e.jsxs("button",{onClick:()=>c("email"),className:"w-full bg-white/5 hover:bg-white/10 text-white font-bold py-4 px-6 rounded-2xl flex items-center justify-center gap-3 transition-all border border-white/10",children:[e.jsx(es,{className:"w-5 h-5"}),"Entrar com Email"]})]}),l==="email"&&e.jsxs(k.form,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},onSubmit:S,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-white/60 mb-2 uppercase tracking-wider",children:"Email"}),e.jsxs("div",{className:"relative",children:[e.jsx(es,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-white/40"}),e.jsx("input",{type:"email",value:d,onChange:C=>m(C.target.value),className:"w-full bg-white/5 border border-white/10 rounded-xl px-12 py-3 text-white focus:outline-none focus:border-primary/50 transition-colors",placeholder:"seu@email.com",required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-white/60 mb-2 uppercase tracking-wider",children:"Senha"}),e.jsxs("div",{className:"relative",children:[e.jsx(rs,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-white/40"}),e.jsx("input",{type:"password",value:u,onChange:C=>h(C.target.value),className:"w-full bg-white/5 border border-white/10 rounded-xl px-12 py-3 text-white focus:outline-none focus:border-primary/50 transition-colors",placeholder:"",required:!0})]})]}),e.jsx("button",{type:"submit",disabled:p,className:"w-full bg-primary hover:bg-orange-600 text-white font-black py-4 rounded-2xl transition-all shadow-lg shadow-primary/30 disabled:opacity-50 disabled:cursor-not-allowed uppercase tracking-wider",children:p?e.jsx(le,{className:"w-5 h-5 animate-spin mx-auto"}):"Entrar"}),e.jsx("div",{className:"text-center",children:e.jsxs("button",{type:"button",onClick:()=>c("signup"),className:"text-sm text-white/60 hover:text-white font-bold transition-colors",children:["No tem conta? ",e.jsx("span",{className:"text-primary",children:"Criar agora"})]})}),e.jsx("button",{type:"button",onClick:()=>c("google"),className:"w-full text-sm text-white/40 hover:text-white font-bold transition-colors",children:" Voltar"})]}),l==="signup"&&e.jsxs(k.form,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},onSubmit:M,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-white/60 mb-2 uppercase tracking-wider",children:"Nome"}),e.jsxs("div",{className:"relative",children:[e.jsx(Vt,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-white/40"}),e.jsx("input",{type:"text",value:x,onChange:C=>v(C.target.value),className:"w-full bg-white/5 border border-white/10 rounded-xl px-12 py-3 text-white focus:outline-none focus:border-primary/50 transition-colors",placeholder:"Seu nome",required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-white/60 mb-2 uppercase tracking-wider",children:"Email"}),e.jsxs("div",{className:"relative",children:[e.jsx(es,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-white/40"}),e.jsx("input",{type:"email",value:d,onChange:C=>m(C.target.value),className:"w-full bg-white/5 border border-white/10 rounded-xl px-12 py-3 text-white focus:outline-none focus:border-primary/50 transition-colors",placeholder:"seu@email.com",required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-white/60 mb-2 uppercase tracking-wider",children:"Senha"}),e.jsxs("div",{className:"relative",children:[e.jsx(rs,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-white/40"}),e.jsx("input",{type:"password",value:u,onChange:C=>h(C.target.value),className:"w-full bg-white/5 border border-white/10 rounded-xl px-12 py-3 text-white focus:outline-none focus:border-primary/50 transition-colors",placeholder:"Mnimo 6 caracteres",required:!0,minLength:6})]})]}),e.jsx("button",{type:"submit",disabled:p,className:"w-full bg-primary hover:bg-orange-600 text-white font-black py-4 rounded-2xl transition-all shadow-lg shadow-primary/30 disabled:opacity-50 disabled:cursor-not-allowed uppercase tracking-wider",children:p?e.jsx(le,{className:"w-5 h-5 animate-spin mx-auto"}):"Criar Conta"}),e.jsx("div",{className:"text-center",children:e.jsxs("button",{type:"button",onClick:()=>c("email"),className:"text-sm text-white/60 hover:text-white font-bold transition-colors",children:["J tem conta? ",e.jsx("span",{className:"text-primary",children:"Entrar"})]})}),e.jsx("button",{type:"button",onClick:()=>c("google"),className:"w-full text-sm text-white/40 hover:text-white font-bold transition-colors",children:" Voltar"})]}),(w||o)&&e.jsxs(k.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mt-4 bg-red-500/20 border border-red-500/50 rounded-xl p-3 flex items-center gap-2",children:[e.jsx(Wi,{className:"w-4 h-4 text-red-400 shrink-0"}),e.jsx("p",{className:"text-sm text-red-300 font-bold",children:w||o})]}),e.jsx("p",{className:"text-center text-xs text-white/30 font-bold mt-6",children:"Ao continuar, voc concorda com nossos Termos de Uso"})]})]})]})})}const Od={starter:"STARTER",pro:"GROWTH"};function Pd(){const[a]=xn(),t=tt(),{user:s,userData:r,loading:i}=we(),n=a.get("role")==="consumer"?"consumer":"owner",[o,l]=f.useState(n),[c,d]=f.useState(!1),[m,u]=f.useState(!1),h=typeof window<"u"?sessionStorage.getItem("pending_plan"):null;f.useEffect(()=>{!i&&s&&x()},[s,i]);const x=async()=>{const w=sessionStorage.getItem("pending_plan");if(w){console.log(` [LoginPage] Resuming purchase for plan: ${w}`),u(!0);try{P.loading("Gerando seu pagamento seguro...");const g=(await qt(Ht,"createSubscription")({plan:Od[w],billingType:"PIX"})).data;if(sessionStorage.removeItem("pending_plan"),sessionStorage.removeItem("purchase_intent_value"),g.success&&g.invoiceUrl)window.location.href=g.invoiceUrl;else throw new Error("Falha ao gerar assinatura")}catch(y){console.error("Error resuming purchase:",y),P.dismiss(),P.error("Erro ao gerar assinatura. Tente novamente."),u(!1),t("/dashboard",{replace:!0})}}else{const y=r?.role||o;y==="consumer"?t("/marketplace",{replace:!0}):y==="waiter"||y==="staff"?t("/waiter-mode",{replace:!0}):t("/dashboard",{replace:!0})}};if(i||m)return e.jsxs("div",{className:"min-h-screen bg-[#0a0a0a] flex flex-col items-center justify-center p-6 text-center",children:[e.jsx(le,{className:"w-12 h-12 text-primary animate-spin mb-4"}),e.jsx("h2",{className:"text-xl font-bold text-white",children:m?"Preparando seu ambiente...":"Conectando..."}),m&&e.jsx("p",{className:"text-white/40 text-sm mt-2",children:"Estamos gerando sua assinatura Asaas."})]});const v=()=>{};return e.jsxs("div",{className:"min-h-screen bg-[#050505] text-white flex flex-col items-center justify-center p-6 relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-[url('https://grainy-gradients.vercel.app/noise.svg')] opacity-20 pointer-events-none"}),e.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-gradient-to-b from-primary/10 via-transparent to-transparent pointer-events-none"}),e.jsx("header",{className:"absolute top-6 left-6 z-10",children:e.jsxs("button",{onClick:()=>t("/"),className:"flex items-center gap-2 text-white/40 hover:text-white transition-colors group",children:[e.jsx(pt,{className:"w-5 h-5 group-hover:-translate-x-1 transition-transform"}),e.jsx("span",{className:"font-bold text-sm",children:"Voltar"})]})}),e.jsxs(k.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-md z-10",children:[e.jsxs("div",{className:"text-center mb-10",children:[e.jsxs("h1",{className:"text-4xl font-black italic tracking-tighter mb-2",children:["Emprata",e.jsx("span",{className:"text-primary",children:".ai"})]}),e.jsx("p",{className:"text-white/40 font-medium",children:h?"Complete seu login para ativar o plano":o==="consumer"?"O melhor da gastronomia na sua porta.":"O Sistema Operacional do seu Delivery."})]}),h&&e.jsxs(k.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"mb-8 p-4 bg-primary/10 border border-primary/30 rounded-2xl text-center",children:[e.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[e.jsx(mt,{className:"w-5 h-5 text-primary"}),e.jsx("span",{className:"text-primary text-xs font-black uppercase tracking-wider",children:"Quase l!"})]}),e.jsxs("p",{className:"text-white/80 text-sm font-medium",children:["Faa login para concluir a assinatura do plano"," ",e.jsx("span",{className:"text-white font-black",children:h.toUpperCase()})]})]}),!h&&e.jsxs("div",{className:"bg-white/5 p-1 rounded-2xl flex mb-8 border border-white/10",children:[e.jsxs("button",{onClick:()=>l("owner"),className:`flex-1 py-3 rounded-xl text-xs font-bold uppercase tracking-widest transition-all flex items-center justify-center gap-2 ${o==="owner"?"bg-primary text-white shadow-lg":"text-white/40 hover:text-white"}`,children:[e.jsx(Se,{className:"w-4 h-4"})," Restaurante"]}),e.jsxs("button",{onClick:()=>l("consumer"),className:`flex-1 py-3 rounded-xl text-xs font-bold uppercase tracking-widest transition-all flex items-center justify-center gap-2 ${o==="consumer"?"bg-white text-black shadow-lg":"text-white/40 hover:text-white"}`,children:[e.jsx(Ls,{className:"w-4 h-4"})," Cliente"]})]}),e.jsxs("div",{className:"bg-[#121212] border border-white/10 rounded-3xl p-8 shadow-2xl relative overflow-hidden group",children:[e.jsx("div",{className:"absolute top-0 right-0 p-32 bg-primary/5 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2 group-hover:bg-primary/10 transition-all duration-1000"}),e.jsx("h2",{className:"text-2xl font-bold mb-2 relative z-10",children:h?"Login Rpido":o==="consumer"?"Fome de qu?":"Gerencie seu Negcio"}),e.jsx("p",{className:"text-white/40 text-sm mb-8 relative z-10 leading-relaxed",children:h?"Aps o login, voc ser redirecionado automaticamente para o pagamento.":o==="consumer"?"Entre para acompanhar seus pedidos, salvar endereos e descobrir novos sabores.":"Acesse sua dashboard, KDS e ferramentas de gesto com inteligncia artificial."}),e.jsxs("button",{onClick:()=>d(!0),className:`w-full py-4 rounded-xl font-black uppercase tracking-widest text-sm flex items-center justify-center gap-3 transition-all transform active:scale-95 ${h||o==="owner"?"bg-primary text-white hover:bg-orange-600":"bg-white text-black hover:bg-gray-200"}`,children:[h?"Entrar e Assinar":o==="consumer"?"Entrar / Cadastrar":"Acessar Painel",e.jsx(is,{className:"w-4 h-4"})]}),o==="owner"&&!h&&e.jsx(me,{to:"/waiter-login",className:"block text-center mt-6 text-xs font-bold text-white/30 hover:text-white transition-colors",children:"Sou Garom / Staff"})]}),e.jsx("div",{className:"text-center mt-8 text-[10px] font-bold text-white/20 uppercase tracking-widest",children:"Emprata Inc.  2025"})]}),e.jsx(Un,{isOpen:c,onClose:()=>d(!1),onSuccess:v})]})}var zn=f.forwardRef(({transition:a,...t},s)=>{let r={position:"absolute",top:0,left:0,width:"100%",height:"100%",transition:a?`clip-path ${a}`:void 0,userSelect:"none",willChange:"clip-path, transition",KhtmlUserSelect:"none",MozUserSelect:"none",WebkitUserSelect:"none"};return e.jsx("div",{...t,style:r,"data-rcs":"clip-item",ref:s})});zn.displayName="ContainerClip";var qn=f.forwardRef(({children:a,disabled:t,portrait:s,position:r,transition:i},n)=>{let o={position:"absolute",top:0,width:s?"100%":void 0,height:s?void 0:"100%",background:"none",border:0,padding:0,pointerEvents:"all",appearance:"none",WebkitAppearance:"none",MozAppearance:"none",outline:0,transform:s?"translate3d(0, -50% ,0)":"translate3d(-50%, 0, 0)",transition:i?`${s?"top":"left"} ${i}`:void 0};return e.jsx("button",{ref:n,"aria-label":"Drag to move or focus and use arrow keys","aria-orientation":s?"vertical":"horizontal","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":r,"data-rcs":"handle-container",disabled:t,role:"slider",style:o,children:a})});qn.displayName="ThisHandleContainer";var Gr=({flip:a})=>e.jsx("div",{className:"__rcs-handle-arrow",style:{width:0,height:0,borderTop:"8px solid transparent",borderRight:"10px solid",borderBottom:"8px solid transparent",transform:a?"rotate(180deg)":void 0}}),Dd=({className:a="__rcs-handle-root",disabled:t,buttonStyle:s,linesStyle:r,portrait:i,style:n,...o})=>{let l={display:"flex",flexDirection:i?"row":"column",placeItems:"center",height:"100%",cursor:t?"not-allowed":i?"ns-resize":"ew-resize",pointerEvents:"none",color:"#fff",...n},c={flexGrow:1,height:i?2:"100%",width:i?"100%":2,backgroundColor:"currentColor",pointerEvents:"auto",boxShadow:"0 0 4px rgba(0,0,0,.5)",...r},d={display:"grid",gridAutoFlow:"column",gap:8,placeContent:"center",flexShrink:0,width:56,height:56,borderRadius:"50%",borderStyle:"solid",borderWidth:2,pointerEvents:"auto",backdropFilter:"blur(7px)",WebkitBackdropFilter:"blur(7px)",backgroundColor:"rgba(0, 0, 0, 0.125)",boxShadow:"0 0 4px rgba(0,0,0,.35)",transform:i?"rotate(90deg)":void 0,...s};return e.jsxs("div",{...o,className:a,style:l,children:[e.jsx("div",{className:"__rcs-handle-line",style:c}),e.jsxs("div",{className:"__rcs-handle-button",style:d,children:[e.jsx(Gr,{}),e.jsx(Gr,{flip:!0})]}),e.jsx("div",{className:"__rcs-handle-line",style:c})]})},Hn=(a=>(a.ARROW_LEFT="ArrowLeft",a.ARROW_RIGHT="ArrowRight",a.ARROW_UP="ArrowUp",a.ARROW_DOWN="ArrowDown",a))(Hn||{}),Fd=({boxSizing:a="border-box",objectFit:t="cover",objectPosition:s="center center",...r}={})=>({display:"block",width:"100%",height:"100%",maxWidth:"100%",boxSizing:a,objectFit:t,objectPosition:s,...r}),Ld=a=>{let t=f.useRef(a);return f.useEffect(()=>{t.current=a}),t.current},ma=(a,t,s,r)=>{let i=f.useRef();f.useEffect(()=>{i.current=t},[t]),f.useEffect(()=>{if(!(s&&s.addEventListener))return;let n=o=>i.current&&i.current(o);return s.addEventListener(a,n,r),()=>{s.removeEventListener(a,n,r)}},[a,s,r])},Bd=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?f.useLayoutEffect:f.useEffect,$d=(a,t)=>{let s=f.useRef(),r=f.useCallback(()=>{a.current&&s.current&&s.current.observe(a.current)},[a]);Bd(()=>(s.current=new ResizeObserver(([i])=>t(i.contentRect)),r(),()=>{s.current&&s.current.disconnect()}),[t,r])},Es={capture:!1,passive:!0},pa={capture:!0,passive:!1},Vd=a=>{a.preventDefault(),a.currentTarget.focus()},Gn=f.forwardRef(({boundsPadding:a=0,browsingContext:t=globalThis,changePositionOnHover:s=!1,disabled:r=!1,handle:i,itemOne:n,itemTwo:o,keyboardIncrement:l="5%",onlyHandleDraggable:c=!1,onPositionChange:d,portrait:m=!1,position:u=50,style:h,transition:x,...v},w)=>{let y=f.useRef(null),p=f.useRef(null),g=f.useRef(null),N=f.useRef(u),[S,M]=f.useState(!1),[C,D]=f.useState(!0),X=f.useRef(!1),[ee,B]=f.useState(),K=Ld(u),T=f.useCallback(function({x:b,y:O,isOffset:R}){let F=y.current,$=g.current,Q=p.current,{width:q,height:V,left:ie,top:de}=F.getBoundingClientRect();if(q===0||V===0)return;let ne=m?R?O-de-t.scrollY:O:R?b-ie-t.scrollX:b,oe=Math.min(Math.max(ne/(m?V:q)*100,0),100),pe=m?V/(F.offsetHeight||1):q/(F.offsetWidth||1),ae=a*pe/(m?V:q)*100,fe=Math.min(Math.max(oe,ae*pe),100-ae*pe);N.current=oe,$.setAttribute("aria-valuenow",`${Math.round(N.current)}`),$.style.top=m?`${fe}%`:"0",$.style.left=m?"0":`${fe}%`,Q.style.clipPath=m?`inset(${fe}% 0 0 0)`:`inset(0 0 0 ${fe}%)`,d&&d(N.current)},[a,d,m,t]);f.useEffect(()=>{let{width:b,height:O}=y.current.getBoundingClientRect(),R=u===K?N.current:u;T({x:b/100*R,y:O/100*R})},[a,u,m,K,T]);let U=f.useCallback(b=>{b.preventDefault(),!(r||b.button!==0)&&(T({isOffset:!0,x:b.pageX,y:b.pageY}),M(!0),D(!0))},[r,T]),J=f.useCallback(function(b){T({isOffset:!0,x:b.pageX,y:b.pageY}),D(!1)},[T]),_=f.useCallback(()=>{M(!1),D(!0)},[]),E=f.useCallback(({width:b,height:O})=>{let{width:R,height:F}=y.current.getBoundingClientRect();T({x:b/100*N.current*R/b,y:O/100*N.current*F/O})},[T]),L=f.useCallback(b=>{if(!Object.values(Hn).includes(b.key))return;b.preventDefault(),D(!0);let{top:O,left:R}=g.current.getBoundingClientRect(),{width:F,height:$}=y.current.getBoundingClientRect(),Q=typeof l=="string"?parseFloat(l):l/F*100,q=m?b.key==="ArrowLeft"||b.key==="ArrowDown":b.key==="ArrowRight"||b.key==="ArrowUp",V=Math.min(Math.max(q?N.current+Q:N.current-Q,0),100);T({x:m?R:F*V/100,y:m?$*V/100:O})},[l,m,T]);f.useEffect(()=>{B(c?g.current:y.current)},[c]),f.useEffect(()=>{let b=y.current,O=()=>{S||_()};return s&&(b.addEventListener("pointermove",J,Es),b.addEventListener("pointerleave",O,Es)),()=>{b.removeEventListener("pointermove",J),b.removeEventListener("pointerleave",O)}},[s,J,_,S]),f.useEffect(()=>(S&&!X.current&&(t.addEventListener("pointermove",J,Es),t.addEventListener("pointerup",_,Es),X.current=!0),()=>{X.current&&(t.removeEventListener("pointermove",J),t.removeEventListener("pointerup",_),X.current=!1)}),[J,_,S,t]),f.useImperativeHandle(w,()=>({rootContainer:y.current,handleContainer:g.current,setPosition(b){let{width:O,height:R}=y.current.getBoundingClientRect();T({x:O/100*b,y:R/100*b})}}),[T]),$d(y,E),ma("keydown",L,g.current,pa),ma("click",Vd,g.current,pa),ma("pointerdown",U,ee,pa);let A=i||e.jsx(Dd,{disabled:r,portrait:m}),H=C?x:void 0,j={position:"relative",display:"flex",overflow:"hidden",cursor:S?m?"ns-resize":"ew-resize":void 0,touchAction:"none",userSelect:"none",KhtmlUserSelect:"none",msUserSelect:"none",MozUserSelect:"none",WebkitUserSelect:"none",...h};return e.jsxs("div",{...v,ref:y,style:j,"data-rcs":"root",children:[n,e.jsx(zn,{ref:p,transition:H,children:o}),e.jsx(qn,{disabled:r,portrait:m,position:Math.round(N.current),ref:g,transition:H,children:A})]})});Gn.displayName="ReactCompareSlider";var Ga=f.forwardRef(({style:a,...t},s)=>{let r=Fd(a);return e.jsx("img",{ref:s,...t,style:r,"data-rcs":"image"})});Ga.displayName="ReactCompareSliderImage";var ir={};(function a(t,s,r,i){var n=!!(t.Worker&&t.Blob&&t.Promise&&t.OffscreenCanvas&&t.OffscreenCanvasRenderingContext2D&&t.HTMLCanvasElement&&t.HTMLCanvasElement.prototype.transferControlToOffscreen&&t.URL&&t.URL.createObjectURL),o=typeof Path2D=="function"&&typeof DOMMatrix=="function",l=(function(){if(!t.OffscreenCanvas)return!1;try{var j=new OffscreenCanvas(1,1),b=j.getContext("2d");b.fillRect(0,0,1,1);var O=j.transferToImageBitmap();b.createPattern(O,"no-repeat")}catch{return!1}return!0})();function c(){}function d(j){var b=s.exports.Promise,O=b!==void 0?b:t.Promise;return typeof O=="function"?new O(j):(j(c,c),null)}var m=(function(j,b){return{transform:function(O){if(j)return O;if(b.has(O))return b.get(O);var R=new OffscreenCanvas(O.width,O.height),F=R.getContext("2d");return F.drawImage(O,0,0),b.set(O,R),R},clear:function(){b.clear()}}})(l,new Map),u=(function(){var j=Math.floor(16.666666666666668),b,O,R={},F=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(b=function($){var Q=Math.random();return R[Q]=requestAnimationFrame(function q(V){F===V||F+j-1<V?(F=V,delete R[Q],$()):R[Q]=requestAnimationFrame(q)}),Q},O=function($){R[$]&&cancelAnimationFrame(R[$])}):(b=function($){return setTimeout($,j)},O=function($){return clearTimeout($)}),{frame:b,cancel:O}})(),h=(function(){var j,b,O={};function R(F){function $(Q,q){F.postMessage({options:Q||{},callback:q})}F.init=function(q){var V=q.transferControlToOffscreen();F.postMessage({canvas:V},[V])},F.fire=function(q,V,ie){if(b)return $(q,null),b;var de=Math.random().toString(36).slice(2);return b=d(function(ne){function oe(pe){pe.data.callback===de&&(delete O[de],F.removeEventListener("message",oe),b=null,m.clear(),ie(),ne())}F.addEventListener("message",oe),$(q,de),O[de]=oe.bind(null,{data:{callback:de}})}),b},F.reset=function(){F.postMessage({reset:!0});for(var q in O)O[q](),delete O[q]}}return function(){if(j)return j;if(!r&&n){var F=["var CONFETTI, SIZE = {}, module = {};","("+a.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{j=new Worker(URL.createObjectURL(new Blob([F])))}catch($){return typeof console<"u"&&typeof console.warn=="function"&&console.warn(" Could not load worker",$),null}R(j)}return j}})(),x={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function v(j,b){return b?b(j):j}function w(j){return j!=null}function y(j,b,O){return v(j&&w(j[b])?j[b]:x[b],O)}function p(j){return j<0?0:Math.floor(j)}function g(j,b){return Math.floor(Math.random()*(b-j))+j}function N(j){return parseInt(j,16)}function S(j){return j.map(M)}function M(j){var b=String(j).replace(/[^0-9a-f]/gi,"");return b.length<6&&(b=b[0]+b[0]+b[1]+b[1]+b[2]+b[2]),{r:N(b.substring(0,2)),g:N(b.substring(2,4)),b:N(b.substring(4,6))}}function C(j){var b=y(j,"origin",Object);return b.x=y(b,"x",Number),b.y=y(b,"y",Number),b}function D(j){j.width=document.documentElement.clientWidth,j.height=document.documentElement.clientHeight}function X(j){var b=j.getBoundingClientRect();j.width=b.width,j.height=b.height}function ee(j){var b=document.createElement("canvas");return b.style.position="fixed",b.style.top="0px",b.style.left="0px",b.style.pointerEvents="none",b.style.zIndex=j,b}function B(j,b,O,R,F,$,Q,q,V){j.save(),j.translate(b,O),j.rotate($),j.scale(R,F),j.arc(0,0,1,Q,q,V),j.restore()}function K(j){var b=j.angle*(Math.PI/180),O=j.spread*(Math.PI/180);return{x:j.x,y:j.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:j.startVelocity*.5+Math.random()*j.startVelocity,angle2D:-b+(.5*O-Math.random()*O),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:j.color,shape:j.shape,tick:0,totalTicks:j.ticks,decay:j.decay,drift:j.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:j.gravity*3,ovalScalar:.6,scalar:j.scalar,flat:j.flat}}function T(j,b){b.x+=Math.cos(b.angle2D)*b.velocity+b.drift,b.y+=Math.sin(b.angle2D)*b.velocity+b.gravity,b.velocity*=b.decay,b.flat?(b.wobble=0,b.wobbleX=b.x+10*b.scalar,b.wobbleY=b.y+10*b.scalar,b.tiltSin=0,b.tiltCos=0,b.random=1):(b.wobble+=b.wobbleSpeed,b.wobbleX=b.x+10*b.scalar*Math.cos(b.wobble),b.wobbleY=b.y+10*b.scalar*Math.sin(b.wobble),b.tiltAngle+=.1,b.tiltSin=Math.sin(b.tiltAngle),b.tiltCos=Math.cos(b.tiltAngle),b.random=Math.random()+2);var O=b.tick++/b.totalTicks,R=b.x+b.random*b.tiltCos,F=b.y+b.random*b.tiltSin,$=b.wobbleX+b.random*b.tiltCos,Q=b.wobbleY+b.random*b.tiltSin;if(j.fillStyle="rgba("+b.color.r+", "+b.color.g+", "+b.color.b+", "+(1-O)+")",j.beginPath(),o&&b.shape.type==="path"&&typeof b.shape.path=="string"&&Array.isArray(b.shape.matrix))j.fill(L(b.shape.path,b.shape.matrix,b.x,b.y,Math.abs($-R)*.1,Math.abs(Q-F)*.1,Math.PI/10*b.wobble));else if(b.shape.type==="bitmap"){var q=Math.PI/10*b.wobble,V=Math.abs($-R)*.1,ie=Math.abs(Q-F)*.1,de=b.shape.bitmap.width*b.scalar,ne=b.shape.bitmap.height*b.scalar,oe=new DOMMatrix([Math.cos(q)*V,Math.sin(q)*V,-Math.sin(q)*ie,Math.cos(q)*ie,b.x,b.y]);oe.multiplySelf(new DOMMatrix(b.shape.matrix));var pe=j.createPattern(m.transform(b.shape.bitmap),"no-repeat");pe.setTransform(oe),j.globalAlpha=1-O,j.fillStyle=pe,j.fillRect(b.x-de/2,b.y-ne/2,de,ne),j.globalAlpha=1}else if(b.shape==="circle")j.ellipse?j.ellipse(b.x,b.y,Math.abs($-R)*b.ovalScalar,Math.abs(Q-F)*b.ovalScalar,Math.PI/10*b.wobble,0,2*Math.PI):B(j,b.x,b.y,Math.abs($-R)*b.ovalScalar,Math.abs(Q-F)*b.ovalScalar,Math.PI/10*b.wobble,0,2*Math.PI);else if(b.shape==="star")for(var ae=Math.PI/2*3,fe=4*b.scalar,Me=8*b.scalar,ye=b.x,Ue=b.y,je=5,ze=Math.PI/je;je--;)ye=b.x+Math.cos(ae)*Me,Ue=b.y+Math.sin(ae)*Me,j.lineTo(ye,Ue),ae+=ze,ye=b.x+Math.cos(ae)*fe,Ue=b.y+Math.sin(ae)*fe,j.lineTo(ye,Ue),ae+=ze;else j.moveTo(Math.floor(b.x),Math.floor(b.y)),j.lineTo(Math.floor(b.wobbleX),Math.floor(F)),j.lineTo(Math.floor($),Math.floor(Q)),j.lineTo(Math.floor(R),Math.floor(b.wobbleY));return j.closePath(),j.fill(),b.tick<b.totalTicks}function U(j,b,O,R,F){var $=b.slice(),Q=j.getContext("2d"),q,V,ie=d(function(de){function ne(){q=V=null,Q.clearRect(0,0,R.width,R.height),m.clear(),F(),de()}function oe(){r&&!(R.width===i.width&&R.height===i.height)&&(R.width=j.width=i.width,R.height=j.height=i.height),!R.width&&!R.height&&(O(j),R.width=j.width,R.height=j.height),Q.clearRect(0,0,R.width,R.height),$=$.filter(function(pe){return T(Q,pe)}),$.length?q=u.frame(oe):ne()}q=u.frame(oe),V=ne});return{addFettis:function(de){return $=$.concat(de),ie},canvas:j,promise:ie,reset:function(){q&&u.cancel(q),V&&V()}}}function J(j,b){var O=!j,R=!!y(b||{},"resize"),F=!1,$=y(b,"disableForReducedMotion",Boolean),Q=n&&!!y(b||{},"useWorker"),q=Q?h():null,V=O?D:X,ie=j&&q?!!j.__confetti_initialized:!1,de=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,ne;function oe(ae,fe,Me){for(var ye=y(ae,"particleCount",p),Ue=y(ae,"angle",Number),je=y(ae,"spread",Number),ze=y(ae,"startVelocity",Number),Zs=y(ae,"decay",Number),Ie=y(ae,"gravity",Number),xt=y(ae,"drift",Number),xs=y(ae,"colors",S),ea=y(ae,"ticks",Number),Et=y(ae,"shapes"),ta=y(ae,"scalar"),fs=!!y(ae,"flat"),Ot=C(ae),nt=ye,Pt=[],ft=j.width*Ot.x,sa=j.height*Ot.y;nt--;)Pt.push(K({x:ft,y:sa,angle:Ue,spread:je,startVelocity:ze,color:xs[nt%xs.length],shape:Et[g(0,Et.length)],ticks:ea,decay:Zs,gravity:Ie,drift:xt,scalar:ta,flat:fs}));return ne?ne.addFettis(Pt):(ne=U(j,Pt,V,fe,Me),ne.promise)}function pe(ae){var fe=$||y(ae,"disableForReducedMotion",Boolean),Me=y(ae,"zIndex",Number);if(fe&&de)return d(function(ze){ze()});O&&ne?j=ne.canvas:O&&!j&&(j=ee(Me),document.body.appendChild(j)),R&&!ie&&V(j);var ye={width:j.width,height:j.height};q&&!ie&&q.init(j),ie=!0,q&&(j.__confetti_initialized=!0);function Ue(){if(q){var ze={getBoundingClientRect:function(){if(!O)return j.getBoundingClientRect()}};V(ze),q.postMessage({resize:{width:ze.width,height:ze.height}});return}ye.width=ye.height=null}function je(){ne=null,R&&(F=!1,t.removeEventListener("resize",Ue)),O&&j&&(document.body.contains(j)&&document.body.removeChild(j),j=null,ie=!1)}return R&&!F&&(F=!0,t.addEventListener("resize",Ue,!1)),q?q.fire(ae,ye,je):oe(ae,ye,je)}return pe.reset=function(){q&&q.reset(),ne&&ne.reset()},pe}var _;function E(){return _||(_=J(null,{useWorker:!0,resize:!0})),_}function L(j,b,O,R,F,$,Q){var q=new Path2D(j),V=new Path2D;V.addPath(q,new DOMMatrix(b));var ie=new Path2D;return ie.addPath(V,new DOMMatrix([Math.cos(Q)*F,Math.sin(Q)*F,-Math.sin(Q)*$,Math.cos(Q)*$,O,R])),ie}function A(j){if(!o)throw new Error("path confetti are not supported in this browser");var b,O;typeof j=="string"?b=j:(b=j.path,O=j.matrix);var R=new Path2D(b),F=document.createElement("canvas"),$=F.getContext("2d");if(!O){for(var Q=1e3,q=Q,V=Q,ie=0,de=0,ne,oe,pe=0;pe<Q;pe+=2)for(var ae=0;ae<Q;ae+=2)$.isPointInPath(R,pe,ae,"nonzero")&&(q=Math.min(q,pe),V=Math.min(V,ae),ie=Math.max(ie,pe),de=Math.max(de,ae));ne=ie-q,oe=de-V;var fe=10,Me=Math.min(fe/ne,fe/oe);O=[Me,0,0,Me,-Math.round(ne/2+q)*Me,-Math.round(oe/2+V)*Me]}return{type:"path",path:b,matrix:O}}function H(j){var b,O=1,R="#000000",F='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof j=="string"?b=j:(b=j.text,O="scalar"in j?j.scalar:O,F="fontFamily"in j?j.fontFamily:F,R="color"in j?j.color:R);var $=10*O,Q=""+$+"px "+F,q=new OffscreenCanvas($,$),V=q.getContext("2d");V.font=Q;var ie=V.measureText(b),de=Math.ceil(ie.actualBoundingBoxRight+ie.actualBoundingBoxLeft),ne=Math.ceil(ie.actualBoundingBoxAscent+ie.actualBoundingBoxDescent),oe=2,pe=ie.actualBoundingBoxLeft+oe,ae=ie.actualBoundingBoxAscent+oe;de+=oe+oe,ne+=oe+oe,q=new OffscreenCanvas(de,ne),V=q.getContext("2d"),V.font=Q,V.fillStyle=R,V.fillText(b,pe,ae);var fe=1/O;return{type:"bitmap",bitmap:q.transferToImageBitmap(),matrix:[fe,0,0,fe,-de*fe/2,-ne*fe/2]}}s.exports=function(){return E().apply(this,arguments)},s.exports.reset=function(){E().reset()},s.exports.create=J,s.exports.shapeFromPath=A,s.exports.shapeFromText=H})((function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}})(),ir,!1);const Ka=ir.exports;ir.exports.create;var Kr;(function(a){a.STRING="string",a.NUMBER="number",a.INTEGER="integer",a.BOOLEAN="boolean",a.ARRAY="array",a.OBJECT="object"})(Kr||(Kr={}));var Wr;(function(a){a.LANGUAGE_UNSPECIFIED="language_unspecified",a.PYTHON="python"})(Wr||(Wr={}));var Yr;(function(a){a.OUTCOME_UNSPECIFIED="outcome_unspecified",a.OUTCOME_OK="outcome_ok",a.OUTCOME_FAILED="outcome_failed",a.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(Yr||(Yr={}));const Qr=["user","model","function","system"];var Xr;(function(a){a.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",a.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",a.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",a.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",a.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",a.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(Xr||(Xr={}));var Jr;(function(a){a.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",a.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",a.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",a.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",a.BLOCK_NONE="BLOCK_NONE"})(Jr||(Jr={}));var Zr;(function(a){a.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",a.NEGLIGIBLE="NEGLIGIBLE",a.LOW="LOW",a.MEDIUM="MEDIUM",a.HIGH="HIGH"})(Zr||(Zr={}));var ei;(function(a){a.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",a.SAFETY="SAFETY",a.OTHER="OTHER"})(ei||(ei={}));var as;(function(a){a.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",a.STOP="STOP",a.MAX_TOKENS="MAX_TOKENS",a.SAFETY="SAFETY",a.RECITATION="RECITATION",a.LANGUAGE="LANGUAGE",a.BLOCKLIST="BLOCKLIST",a.PROHIBITED_CONTENT="PROHIBITED_CONTENT",a.SPII="SPII",a.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",a.OTHER="OTHER"})(as||(as={}));var ti;(function(a){a.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",a.RETRIEVAL_QUERY="RETRIEVAL_QUERY",a.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",a.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",a.CLASSIFICATION="CLASSIFICATION",a.CLUSTERING="CLUSTERING"})(ti||(ti={}));var si;(function(a){a.MODE_UNSPECIFIED="MODE_UNSPECIFIED",a.AUTO="AUTO",a.ANY="ANY",a.NONE="NONE"})(si||(si={}));var ai;(function(a){a.MODE_UNSPECIFIED="MODE_UNSPECIFIED",a.MODE_DYNAMIC="MODE_DYNAMIC"})(ai||(ai={}));class Ae extends Error{constructor(t){super(`[GoogleGenerativeAI Error]: ${t}`)}}class Ft extends Ae{constructor(t,s){super(t),this.response=s}}class Kn extends Ae{constructor(t,s,r,i){super(t),this.status=s,this.statusText=r,this.errorDetails=i}}class yt extends Ae{}class Wn extends Ae{}const Ud="https://generativelanguage.googleapis.com",zd="v1beta",qd="0.24.1",Hd="genai-js";var Mt;(function(a){a.GENERATE_CONTENT="generateContent",a.STREAM_GENERATE_CONTENT="streamGenerateContent",a.COUNT_TOKENS="countTokens",a.EMBED_CONTENT="embedContent",a.BATCH_EMBED_CONTENTS="batchEmbedContents"})(Mt||(Mt={}));class Gd{constructor(t,s,r,i,n){this.model=t,this.task=s,this.apiKey=r,this.stream=i,this.requestOptions=n}toString(){var t,s;const r=((t=this.requestOptions)===null||t===void 0?void 0:t.apiVersion)||zd;let n=`${((s=this.requestOptions)===null||s===void 0?void 0:s.baseUrl)||Ud}/${r}/${this.model}:${this.task}`;return this.stream&&(n+="?alt=sse"),n}}function Kd(a){const t=[];return a?.apiClient&&t.push(a.apiClient),t.push(`${Hd}/${qd}`),t.join(" ")}async function Wd(a){var t;const s=new Headers;s.append("Content-Type","application/json"),s.append("x-goog-api-client",Kd(a.requestOptions)),s.append("x-goog-api-key",a.apiKey);let r=(t=a.requestOptions)===null||t===void 0?void 0:t.customHeaders;if(r){if(!(r instanceof Headers))try{r=new Headers(r)}catch(i){throw new yt(`unable to convert customHeaders value ${JSON.stringify(r)} to Headers: ${i.message}`)}for(const[i,n]of r.entries()){if(i==="x-goog-api-key")throw new yt(`Cannot set reserved header name ${i}`);if(i==="x-goog-api-client")throw new yt(`Header name ${i} can only be set using the apiClient field`);s.append(i,n)}}return s}async function Yd(a,t,s,r,i,n){const o=new Gd(a,t,s,r,n);return{url:o.toString(),fetchOptions:Object.assign(Object.assign({},Zd(n)),{method:"POST",headers:await Wd(o),body:i})}}async function ms(a,t,s,r,i,n={},o=fetch){const{url:l,fetchOptions:c}=await Yd(a,t,s,r,i,n);return Qd(l,c,o)}async function Qd(a,t,s=fetch){let r;try{r=await s(a,t)}catch(i){Xd(i,a)}return r.ok||await Jd(r,a),r}function Xd(a,t){let s=a;throw s.name==="AbortError"?(s=new Wn(`Request aborted when fetching ${t.toString()}: ${a.message}`),s.stack=a.stack):a instanceof Kn||a instanceof yt||(s=new Ae(`Error fetching from ${t.toString()}: ${a.message}`),s.stack=a.stack),s}async function Jd(a,t){let s="",r;try{const i=await a.json();s=i.error.message,i.error.details&&(s+=` ${JSON.stringify(i.error.details)}`,r=i.error.details)}catch{}throw new Kn(`Error fetching from ${t.toString()}: [${a.status} ${a.statusText}] ${s}`,a.status,a.statusText,r)}function Zd(a){const t={};if(a?.signal!==void 0||a?.timeout>=0){const s=new AbortController;a?.timeout>=0&&setTimeout(()=>s.abort(),a.timeout),a?.signal&&a.signal.addEventListener("abort",()=>{s.abort()}),t.signal=s.signal}return t}function nr(a){return a.text=()=>{if(a.candidates&&a.candidates.length>0){if(a.candidates.length>1&&console.warn(`This response had ${a.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),Os(a.candidates[0]))throw new Ft(`${vt(a)}`,a);return eu(a)}else if(a.promptFeedback)throw new Ft(`Text not available. ${vt(a)}`,a);return""},a.functionCall=()=>{if(a.candidates&&a.candidates.length>0){if(a.candidates.length>1&&console.warn(`This response had ${a.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),Os(a.candidates[0]))throw new Ft(`${vt(a)}`,a);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),ri(a)[0]}else if(a.promptFeedback)throw new Ft(`Function call not available. ${vt(a)}`,a)},a.functionCalls=()=>{if(a.candidates&&a.candidates.length>0){if(a.candidates.length>1&&console.warn(`This response had ${a.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),Os(a.candidates[0]))throw new Ft(`${vt(a)}`,a);return ri(a)}else if(a.promptFeedback)throw new Ft(`Function call not available. ${vt(a)}`,a)},a}function eu(a){var t,s,r,i;const n=[];if(!((s=(t=a.candidates)===null||t===void 0?void 0:t[0].content)===null||s===void 0)&&s.parts)for(const o of(i=(r=a.candidates)===null||r===void 0?void 0:r[0].content)===null||i===void 0?void 0:i.parts)o.text&&n.push(o.text),o.executableCode&&n.push("\n```"+o.executableCode.language+`
`+o.executableCode.code+"\n```\n"),o.codeExecutionResult&&n.push("\n```\n"+o.codeExecutionResult.output+"\n```\n");return n.length>0?n.join(""):""}function ri(a){var t,s,r,i;const n=[];if(!((s=(t=a.candidates)===null||t===void 0?void 0:t[0].content)===null||s===void 0)&&s.parts)for(const o of(i=(r=a.candidates)===null||r===void 0?void 0:r[0].content)===null||i===void 0?void 0:i.parts)o.functionCall&&n.push(o.functionCall);if(n.length>0)return n}const tu=[as.RECITATION,as.SAFETY,as.LANGUAGE];function Os(a){return!!a.finishReason&&tu.includes(a.finishReason)}function vt(a){var t,s,r;let i="";if((!a.candidates||a.candidates.length===0)&&a.promptFeedback)i+="Response was blocked",!((t=a.promptFeedback)===null||t===void 0)&&t.blockReason&&(i+=` due to ${a.promptFeedback.blockReason}`),!((s=a.promptFeedback)===null||s===void 0)&&s.blockReasonMessage&&(i+=`: ${a.promptFeedback.blockReasonMessage}`);else if(!((r=a.candidates)===null||r===void 0)&&r[0]){const n=a.candidates[0];Os(n)&&(i+=`Candidate was blocked due to ${n.finishReason}`,n.finishMessage&&(i+=`: ${n.finishMessage}`))}return i}function ls(a){return this instanceof ls?(this.v=a,this):new ls(a)}function su(a,t,s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=s.apply(a,t||[]),i,n=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(x){return new Promise(function(v,w){n.push([h,x,v,w])>1||l(h,x)})})}function l(h,x){try{c(r[h](x))}catch(v){u(n[0][3],v)}}function c(h){h.value instanceof ls?Promise.resolve(h.value.v).then(d,m):u(n[0][2],h)}function d(h){l("next",h)}function m(h){l("throw",h)}function u(h,x){h(x),n.shift(),n.length&&l(n[0][0],n[0][1])}}const ii=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function au(a){const t=a.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),s=nu(t),[r,i]=s.tee();return{stream:iu(r),response:ru(i)}}async function ru(a){const t=[],s=a.getReader();for(;;){const{done:r,value:i}=await s.read();if(r)return nr(ou(t));t.push(i)}}function iu(a){return su(this,arguments,function*(){const s=a.getReader();for(;;){const{value:r,done:i}=yield ls(s.read());if(i)break;yield yield ls(nr(r))}})}function nu(a){const t=a.getReader();return new ReadableStream({start(r){let i="";return n();function n(){return t.read().then(({value:o,done:l})=>{if(l){if(i.trim()){r.error(new Ae("Failed to parse stream"));return}r.close();return}i+=o;let c=i.match(ii),d;for(;c;){try{d=JSON.parse(c[1])}catch{r.error(new Ae(`Error parsing JSON response: "${c[1]}"`));return}r.enqueue(d),i=i.substring(c[0].length),c=i.match(ii)}return n()}).catch(o=>{let l=o;throw l.stack=o.stack,l.name==="AbortError"?l=new Wn("Request aborted when reading from the stream"):l=new Ae("Error reading from the stream"),l})}}})}function ou(a){const t=a[a.length-1],s={promptFeedback:t?.promptFeedback};for(const r of a){if(r.candidates){let i=0;for(const n of r.candidates)if(s.candidates||(s.candidates=[]),s.candidates[i]||(s.candidates[i]={index:i}),s.candidates[i].citationMetadata=n.citationMetadata,s.candidates[i].groundingMetadata=n.groundingMetadata,s.candidates[i].finishReason=n.finishReason,s.candidates[i].finishMessage=n.finishMessage,s.candidates[i].safetyRatings=n.safetyRatings,n.content&&n.content.parts){s.candidates[i].content||(s.candidates[i].content={role:n.content.role||"user",parts:[]});const o={};for(const l of n.content.parts)l.text&&(o.text=l.text),l.functionCall&&(o.functionCall=l.functionCall),l.executableCode&&(o.executableCode=l.executableCode),l.codeExecutionResult&&(o.codeExecutionResult=l.codeExecutionResult),Object.keys(o).length===0&&(o.text=""),s.candidates[i].content.parts.push(o)}i++}r.usageMetadata&&(s.usageMetadata=r.usageMetadata)}return s}async function Yn(a,t,s,r){const i=await ms(t,Mt.STREAM_GENERATE_CONTENT,a,!0,JSON.stringify(s),r);return au(i)}async function Qn(a,t,s,r){const n=await(await ms(t,Mt.GENERATE_CONTENT,a,!1,JSON.stringify(s),r)).json();return{response:nr(n)}}function Xn(a){if(a!=null){if(typeof a=="string")return{role:"system",parts:[{text:a}]};if(a.text)return{role:"system",parts:[a]};if(a.parts)return a.role?a:{role:"system",parts:a.parts}}}function cs(a){let t=[];if(typeof a=="string")t=[{text:a}];else for(const s of a)typeof s=="string"?t.push({text:s}):t.push(s);return lu(t)}function lu(a){const t={role:"user",parts:[]},s={role:"function",parts:[]};let r=!1,i=!1;for(const n of a)"functionResponse"in n?(s.parts.push(n),i=!0):(t.parts.push(n),r=!0);if(r&&i)throw new Ae("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!r&&!i)throw new Ae("No content is provided for sending chat message.");return r?t:s}function cu(a,t){var s;let r={model:t?.model,generationConfig:t?.generationConfig,safetySettings:t?.safetySettings,tools:t?.tools,toolConfig:t?.toolConfig,systemInstruction:t?.systemInstruction,cachedContent:(s=t?.cachedContent)===null||s===void 0?void 0:s.name,contents:[]};const i=a.generateContentRequest!=null;if(a.contents){if(i)throw new yt("CountTokensRequest must have one of contents or generateContentRequest, not both.");r.contents=a.contents}else if(i)r=Object.assign(Object.assign({},r),a.generateContentRequest);else{const n=cs(a);r.contents=[n]}return{generateContentRequest:r}}function ni(a){let t;return a.contents?t=a:t={contents:[cs(a)]},a.systemInstruction&&(t.systemInstruction=Xn(a.systemInstruction)),t}function du(a){return typeof a=="string"||Array.isArray(a)?{content:cs(a)}:a}const oi=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],uu={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function hu(a){let t=!1;for(const s of a){const{role:r,parts:i}=s;if(!t&&r!=="user")throw new Ae(`First content should be with role 'user', got ${r}`);if(!Qr.includes(r))throw new Ae(`Each item should include role field. Got ${r} but valid roles are: ${JSON.stringify(Qr)}`);if(!Array.isArray(i))throw new Ae("Content should have 'parts' property with an array of Parts");if(i.length===0)throw new Ae("Each Content should have at least one part");const n={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const l of i)for(const c of oi)c in l&&(n[c]+=1);const o=uu[r];for(const l of oi)if(!o.includes(l)&&n[l]>0)throw new Ae(`Content with role '${r}' can't contain '${l}' part`);t=!0}}function li(a){var t;if(a.candidates===void 0||a.candidates.length===0)return!1;const s=(t=a.candidates[0])===null||t===void 0?void 0:t.content;if(s===void 0||s.parts===void 0||s.parts.length===0)return!1;for(const r of s.parts)if(r===void 0||Object.keys(r).length===0||r.text!==void 0&&r.text==="")return!1;return!0}const ci="SILENT_ERROR";class mu{constructor(t,s,r,i={}){this.model=s,this.params=r,this._requestOptions=i,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=t,r?.history&&(hu(r.history),this._history=r.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(t,s={}){var r,i,n,o,l,c;await this._sendPromise;const d=cs(t),m={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(i=this.params)===null||i===void 0?void 0:i.generationConfig,tools:(n=this.params)===null||n===void 0?void 0:n.tools,toolConfig:(o=this.params)===null||o===void 0?void 0:o.toolConfig,systemInstruction:(l=this.params)===null||l===void 0?void 0:l.systemInstruction,cachedContent:(c=this.params)===null||c===void 0?void 0:c.cachedContent,contents:[...this._history,d]},u=Object.assign(Object.assign({},this._requestOptions),s);let h;return this._sendPromise=this._sendPromise.then(()=>Qn(this._apiKey,this.model,m,u)).then(x=>{var v;if(li(x.response)){this._history.push(d);const w=Object.assign({parts:[],role:"model"},(v=x.response.candidates)===null||v===void 0?void 0:v[0].content);this._history.push(w)}else{const w=vt(x.response);w&&console.warn(`sendMessage() was unsuccessful. ${w}. Inspect response object for details.`)}h=x}).catch(x=>{throw this._sendPromise=Promise.resolve(),x}),await this._sendPromise,h}async sendMessageStream(t,s={}){var r,i,n,o,l,c;await this._sendPromise;const d=cs(t),m={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(i=this.params)===null||i===void 0?void 0:i.generationConfig,tools:(n=this.params)===null||n===void 0?void 0:n.tools,toolConfig:(o=this.params)===null||o===void 0?void 0:o.toolConfig,systemInstruction:(l=this.params)===null||l===void 0?void 0:l.systemInstruction,cachedContent:(c=this.params)===null||c===void 0?void 0:c.cachedContent,contents:[...this._history,d]},u=Object.assign(Object.assign({},this._requestOptions),s),h=Yn(this._apiKey,this.model,m,u);return this._sendPromise=this._sendPromise.then(()=>h).catch(x=>{throw new Error(ci)}).then(x=>x.response).then(x=>{if(li(x)){this._history.push(d);const v=Object.assign({},x.candidates[0].content);v.role||(v.role="model"),this._history.push(v)}else{const v=vt(x);v&&console.warn(`sendMessageStream() was unsuccessful. ${v}. Inspect response object for details.`)}}).catch(x=>{x.message!==ci&&console.error(x)}),h}}async function pu(a,t,s,r){return(await ms(t,Mt.COUNT_TOKENS,a,!1,JSON.stringify(s),r)).json()}async function xu(a,t,s,r){return(await ms(t,Mt.EMBED_CONTENT,a,!1,JSON.stringify(s),r)).json()}async function fu(a,t,s,r){const i=s.requests.map(o=>Object.assign(Object.assign({},o),{model:t}));return(await ms(t,Mt.BATCH_EMBED_CONTENTS,a,!1,JSON.stringify({requests:i}),r)).json()}class di{constructor(t,s,r={}){this.apiKey=t,this._requestOptions=r,s.model.includes("/")?this.model=s.model:this.model=`models/${s.model}`,this.generationConfig=s.generationConfig||{},this.safetySettings=s.safetySettings||[],this.tools=s.tools,this.toolConfig=s.toolConfig,this.systemInstruction=Xn(s.systemInstruction),this.cachedContent=s.cachedContent}async generateContent(t,s={}){var r;const i=ni(t),n=Object.assign(Object.assign({},this._requestOptions),s);return Qn(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},i),n)}async generateContentStream(t,s={}){var r;const i=ni(t),n=Object.assign(Object.assign({},this._requestOptions),s);return Yn(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},i),n)}startChat(t){var s;return new mu(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(s=this.cachedContent)===null||s===void 0?void 0:s.name},t),this._requestOptions)}async countTokens(t,s={}){const r=cu(t,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),i=Object.assign(Object.assign({},this._requestOptions),s);return pu(this.apiKey,this.model,r,i)}async embedContent(t,s={}){const r=du(t),i=Object.assign(Object.assign({},this._requestOptions),s);return xu(this.apiKey,this.model,r,i)}async batchEmbedContents(t,s={}){const r=Object.assign(Object.assign({},this._requestOptions),s);return fu(this.apiKey,this.model,t,r)}}class ps{constructor(t){this.apiKey=t}getGenerativeModel(t,s){if(!t.model)throw new Ae("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new di(this.apiKey,t,s)}getGenerativeModelFromCachedContent(t,s,r){if(!t.name)throw new yt("Cached content must contain a `name` field.");if(!t.model)throw new yt("Cached content must contain a `model` field.");const i=["model","systemInstruction"];for(const o of i)if(s?.[o]&&t[o]&&s?.[o]!==t[o]){if(o==="model"){const l=s.model.startsWith("models/")?s.model.replace("models/",""):s.model,c=t.model.startsWith("models/")?t.model.replace("models/",""):t.model;if(l===c)continue}throw new yt(`Different value for "${o}" specified in modelParams (${s[o]}) and cachedContent (${t[o]})`)}const n=Object.assign(Object.assign({},s),{model:t.model,tools:t.tools,toolConfig:t.toolConfig,systemInstruction:t.systemInstruction,cachedContent:t});return new di(this.apiKey,n,r)}}const ui=new ps("AIzaSyAFo1Hq5LuuaqkKLzZgUOl3PTtKk_cagVc"),xa="models/gemini-3-pro-preview",fa="models/gemini-2.5-flash-image";async function gu(a,t=1080){return new Promise((s,r)=>{const i=new Image,n=document.createElement("canvas"),o=n.getContext("2d");if(!o){r(new Error("Canvas context not available"));return}i.onload=()=>{const l=Math.min(i.width,i.height),c=(i.width-l)/2,d=(i.height-l)/2;n.width=t,n.height=t,o.drawImage(i,c,d,l,l,0,0,t,t),n.toBlob(m=>{m?s(new File([m],a.name,{type:"image/jpeg",lastModified:Date.now()})):r(new Error("Failed to create blob"))},"image/jpeg",.95)},i.onerror=()=>r(new Error("Failed to load image")),i.src=URL.createObjectURL(a)})}function bu(a){return new Promise((t,s)=>{const r=new FileReader;r.readAsDataURL(a),r.onload=()=>{const i=r.result;t(i.split(",")[1])},r.onerror=i=>s(i)})}function vu(a,t,s){const r={rustico:"rustic wooden table",gourmet:"white marble surface",dark:"dark matte black surface",domingo:"bright white with morning sunlight",marble:"luxurious black onyx marble",neon:"reflective surface with neon lights"},i={top:"90 flat lay top-down",diagonal:"45 diner's perspective",front:"eye-level hero shot",macro:"extreme close-up macro"},n=s>70?"bright studio softbox lighting":s>40?"balanced natural lighting":"dramatic low-key shadows";return`Role: Food Photographer Expert.
Task: Enhance this request into a high-end food delivery photography prompt.
Context:
- Surface: ${r[a]||r.rustico}
- Camera Angle: ${i[t]||i.diagonal}  
- Lighting: ${n}
Technical Specs: 85mm lens, f/1.8, shallow DOF, 1080x1080 square, 8K quality.
Keywords: commercial food photography, appetizing, Michelin star presentation.
Output: Just the prompt in English. No explanations.`}async function wu(a){console.log(" [Neural Engine v4.2] Iniciando...");const t=Yt.getState(),s=ot.currentUser;if(!s)return{success:!1,error:"Usurio no autenticado."};if(t.plan!=="PRO"&&t.credits<1)return{success:!1,error:"Crditos insuficientes. Faa um upgrade."};console.log(" Cobrana otimista (UI + Firestore)..."),t.decrementCredit();const r=he(te,"users",s.uid);try{await Fe(r,{credits:Nr(-1)}),console.log(" Crdito deduzido no Firestore")}catch(i){return console.error(" Erro ao deduzir crdito no Firestore:",i),t.refundCredit(),{success:!1,error:"Erro ao processar pagamento. Tente novamente."}}try{console.log(" Processando imagem 1080x1080...");const i=await gu(a.file,1080),n=await bu(i);console.log(` [Prompt Architect] Usando ${xa}...`);const o=ui.getGenerativeModel({model:xa}),l=vu(a.vibe,a.angle,a.lightIntensity||50),d=(await o.generateContent([{text:l},{inlineData:{mimeType:i.type,data:n}}])).response.text();console.log(" Prompt gerado:",d.substring(0,100)+"..."),console.log(` [Image Generator] Usando ${fa}...`);const x=(await ui.getGenerativeModel({model:fa}).generateContent(d)).response.candidates?.[0]?.content?.parts||[];let v;for(const w of x)if(w.inlineData?.mimeType?.startsWith("image/")){v=`data:${w.inlineData.mimeType};base64,${w.inlineData.data}`;break}return v||(console.log(" Fallback para Pollinations..."),v=`https://image.pollinations.ai/prompt/${encodeURIComponent(d)}?model=flux-realism&width=1080&height=1080&nologo=true&seed=${Date.now()}`),console.log(" [Neural Engine] Gerao concluda!"),{success:!0,imageUrl:v,debugInfo:{usedModel:`${xa} + ${fa}`,promptGenerated:d}}}catch(i){console.error(" Erro na gerao:",i),console.log(" Rollback: Devolvendo crdito (UI + Firestore)..."),t.refundCredit();try{await Fe(r,{credits:Nr(1)}),console.log(" Crdito devolvido no Firestore")}catch(n){console.error(" Erro crtico ao estornar crdito:",n)}return{success:!1,error:i.message||"Erro na Engine Neural. Tente novamente."}}}function yu({isOpen:a,onClose:t}){const s=Yt(i=>i.userId);tt();const r=i=>{let n;i==="starter"?n="https://pay.kirvano.com/30cef9d1-c08e-49ed-b361-2862f182485f":n="https://pay.kirvano.com/b26facd0-9585-4b17-8b68-d58aaf659939";const o=s?`${n}?external_id=${s}`:n;window.open(o,"_blank")};return e.jsx(ce,{children:a&&e.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 md:p-6",children:[e.jsx(k.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:t,className:"absolute inset-0 bg-black/90 backdrop-blur-md"}),e.jsxs(k.div,{initial:{scale:.9,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.9,opacity:0,y:20},className:"relative w-full max-w-6xl bg-[#0a0a0a] border border-white/10 rounded-[3rem] overflow-hidden shadow-[0_0_100px_rgba(255,94,0,0.3)] max-h-[90vh] overflow-y-auto",children:[e.jsx("div",{className:"absolute top-0 inset-x-0 h-60 bg-gradient-to-b from-primary/20 via-primary/5 to-transparent pointer-events-none"}),e.jsx("button",{onClick:t,className:"absolute top-6 right-6 p-3 hover:bg-white/5 rounded-full text-white/40 hover:text-white transition-colors z-10",children:e.jsx(Je,{className:"w-6 h-6"})}),e.jsxs("div",{className:"p-8 md:p-12 pt-20 relative z-10",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("div",{className:"w-20 h-20 bg-primary rounded-3xl flex items-center justify-center mb-6 shadow-2xl shadow-primary/40 rotate-12 mx-auto",children:e.jsx(mt,{className:"w-10 h-10 text-white fill-current"})}),e.jsxs("h2",{className:"text-4xl md:text-6xl font-black italic tracking-tighter uppercase mb-4",children:["Escolha Seu ",e.jsx("span",{className:"text-primary",children:"Arsenal"})]}),e.jsx("p",{className:"text-white/50 font-medium text-lg max-w-2xl mx-auto",children:"De teste gratuito a domnio total do delivery. Voc escolhe o ritmo."})]}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-3xl p-8 flex flex-col",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("span",{className:"text-[10px] font-black uppercase tracking-[0.4em] text-white/30",children:"Teste Grtis"}),e.jsx("h3",{className:"text-2xl font-black mt-2 mb-1 italic uppercase",children:"Degustao"})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("div",{className:"text-5xl font-black tracking-tight mb-1 italic",children:"R$ 0"}),e.jsx("p",{className:"text-xs font-bold text-white/40",children:"Sem carto  Sem compromisso"})]}),e.jsxs("ul",{className:"space-y-2 mb-8 flex-grow text-sm font-medium text-white/50",children:[e.jsxs("li",{className:"flex gap-2 items-start",children:[e.jsx(We,{className:"w-4 h-4 text-white/20 shrink-0 mt-0.5"}),e.jsxs("span",{children:[e.jsx("span",{className:"text-white font-bold",children:"1 Crdito"})," para testar"]})]}),e.jsxs("li",{className:"flex gap-2 items-start",children:[e.jsx(We,{className:"w-4 h-4 text-white/20 shrink-0 mt-0.5"}),"Baixa Resoluo (720p)"]}),e.jsxs("li",{className:"flex gap-2 items-start",children:[e.jsx(We,{className:"w-4 h-4 text-white/20 shrink-0 mt-0.5"}),"Com Marca d'gua"]}),e.jsxs("li",{className:"flex gap-2 items-start",children:[e.jsx(We,{className:"w-4 h-4 text-white/20 shrink-0 mt-0.5"}),"1 Estilo disponvel"]})]}),e.jsx(me,{to:"/app",onClick:t,className:"mt-auto",children:e.jsx("button",{className:"w-full py-4 rounded-2xl border-2 border-white/10 font-black hover:bg-white/5 transition-all uppercase tracking-widest text-xs",children:"Testar Agora"})})]}),e.jsxs("div",{className:"bg-gradient-to-br from-blue-500/10 to-blue-600/5 border-2 border-blue-500/30 rounded-3xl p-8 flex flex-col relative",children:[e.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2 bg-blue-500 text-white px-4 py-1 rounded-full font-black text-[10px] tracking-widest uppercase",children:"Ideal Cardpios Pequenos"}),e.jsxs("div",{className:"mb-6 mt-2",children:[e.jsx("span",{className:"text-[10px] font-black uppercase tracking-[0.4em] text-blue-400",children:"Pagamento nico"}),e.jsx("h3",{className:"text-2xl font-black mt-2 mb-1 italic uppercase",children:"Pack Delivery"})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-baseline gap-2 mb-1",children:[e.jsx("span",{className:"text-5xl font-black tracking-tight italic",children:"R$ 97"}),e.jsx("span",{className:"text-lg font-bold text-white/40",children:"/ms"})]}),e.jsx("p",{className:"text-sm font-bold text-blue-400",children:"15 Crditos Mensais"}),e.jsx("p",{className:"text-xs font-black text-white/30 mt-1",children:"(Acumulativos)  R$ 6,40/foto"})]}),e.jsxs("ul",{className:"space-y-2 mb-8 flex-grow text-sm font-medium",children:[e.jsxs("li",{className:"flex gap-2 items-start",children:[e.jsx(Ee,{className:"w-4 h-4 text-blue-400 fill-current shrink-0 mt-0.5"}),e.jsx("span",{className:"text-white font-bold",children:"15 Crditos"})]}),e.jsxs("li",{className:"flex gap-2 items-start",children:[e.jsx(Ee,{className:"w-4 h-4 text-blue-400 fill-current shrink-0 mt-0.5"}),"Full HD (1080p)"]}),e.jsxs("li",{className:"flex gap-2 items-start",children:[e.jsx(Ee,{className:"w-4 h-4 text-blue-400 fill-current shrink-0 mt-0.5"}),"Sem Marca d'gua"]}),e.jsxs("li",{className:"flex gap-2 items-start",children:[e.jsx(Ee,{className:"w-4 h-4 text-blue-400 fill-current shrink-0 mt-0.5"}),"Todos os Estilos Pro"]}),e.jsxs("li",{className:"flex gap-2 items-start",children:[e.jsx(Ee,{className:"w-4 h-4 text-blue-400 fill-current shrink-0 mt-0.5"}),"Suporte via Email"]})]}),e.jsx("button",{onClick:()=>r("starter"),className:"w-full py-5 rounded-2xl bg-blue-500 hover:bg-blue-600 font-black text-white shadow-xl shadow-blue-500/30 uppercase tracking-tighter text-base transition-all hover:scale-[1.02] active:scale-95 mt-auto",children:"Comprar Pack"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-primary/20 to-orange-600/10 border-2 border-primary rounded-3xl p-8 flex flex-col relative overflow-hidden transform scale-105",children:[e.jsx("div",{className:"absolute top-0 right-0 bg-primary text-white px-6 py-2 rounded-bl-3xl font-black text-[10px] tracking-widest uppercase italic",children:"MAIS VENDIDO"}),e.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-gradient-to-br from-primary/5 to-transparent pointer-events-none"}),e.jsxs("div",{className:"mb-6 mt-6 relative z-10",children:[e.jsx("span",{className:"text-[10px] font-black uppercase tracking-[0.4em] text-primary",children:"Emprata Neural Engine"}),e.jsx("h3",{className:"text-2xl font-black mt-2 mb-1 italic uppercase",children:"Franquia / Pro"})]}),e.jsxs("div",{className:"mb-6 relative z-10",children:[e.jsxs("div",{className:"flex items-baseline gap-2 mb-1",children:[e.jsx("span",{className:"text-5xl font-black tracking-tight italic",children:"R$ 197"}),e.jsx("span",{className:"text-lg font-bold text-white/40",children:"/ms"})]}),e.jsx("p",{className:"text-sm font-bold text-primary",children:"50 Crditos Mensais + Vibes PRO"}),e.jsx("p",{className:"text-xs font-black text-white/30 mt-1",children:"(Acumulativos)  R$ 3,90/foto "})]}),e.jsx("div",{className:"bg-primary/10 border border-primary/20 rounded-xl p-3 mb-6 relative z-10",children:e.jsx("p",{className:"text-xs font-black text-primary uppercase tracking-wide text-center",children:" Recomendado para Dark Kitchens"})}),e.jsxs("ul",{className:"space-y-2 mb-8 flex-grow text-sm font-medium relative z-10",children:[e.jsxs("li",{className:"flex gap-2 items-start",children:[e.jsx(bt,{className:"w-4 h-4 text-primary fill-current shrink-0 mt-0.5"}),e.jsx("span",{className:"text-white font-bold",children:"50 Crditos Premium"})]}),e.jsxs("li",{className:"flex gap-2 items-start",children:[e.jsx(bt,{className:"w-4 h-4 text-primary fill-current shrink-0 mt-0.5"}),"4K Ultra HD"]}),e.jsxs("li",{className:"flex gap-2 items-start",children:[e.jsx(bt,{className:"w-4 h-4 text-primary fill-current shrink-0 mt-0.5"}),"Sem Marca d'gua"]}),e.jsxs("li",{className:"flex gap-2 items-start",children:[e.jsx(bt,{className:"w-4 h-4 text-primary fill-current shrink-0 mt-0.5"}),"Estilos Exclusivos"]}),e.jsxs("li",{className:"flex gap-2 items-start",children:[e.jsx(bt,{className:"w-4 h-4 text-primary fill-current shrink-0 mt-0.5"}),"Suporte WhatsApp"]}),e.jsxs("li",{className:"flex gap-2 items-start",children:[e.jsx(bt,{className:"w-4 h-4 text-primary fill-current shrink-0 mt-0.5"}),"Processamento Rpido"]})]}),e.jsxs("button",{onClick:()=>r("pro"),className:"w-full py-5 rounded-2xl bg-primary hover:bg-orange-600 font-black text-white shadow-xl shadow-primary/40 uppercase tracking-tighter text-base transition-all hover:scale-[1.02] active:scale-95 mt-auto relative z-10",children:[e.jsx(Ks,{className:"w-5 h-5 inline-block mr-2 fill-current"}),"Quero Lucro Mximo"]})]})]}),e.jsx("p",{className:"text-center text-xs font-black uppercase tracking-widest text-white/20 mt-8",children:"Pagamento 100% Seguro  Processado pela Kirvano"})]})]})]})})}function ju(){const[a,t]=f.useState(!1),[s,r]=f.useState(null);return{downloadImage:async(n,o)=>{try{t(!0),r(null);const l=document.createElement("canvas");l.width=1080,l.height=1080;const c=l.getContext("2d");if(!c)throw new Error("Canvas context not available");const d=await Nu(n);ku(c,d,l.width,l.height),o==="FREE"&&Cu(c,l.width,l.height),await Eu(l,"emprata_resultado.jpg")}catch(l){throw console.error("Download error:",l),r("Erro ao baixar imagem. Tente novamente."),l}finally{t(!1)}},isDownloading:a,error:s}}function Nu(a){return new Promise((t,s)=>{const r=new Image;r.crossOrigin="anonymous",r.onload=()=>t(r),r.onerror=()=>s(new Error("Failed to load image")),r.src=a})}function ku(a,t,s,r){const i=t.width/t.height,n=s/r;let o=0,l=0,c=t.width,d=t.height;i>n?(c=t.height*n,o=(t.width-c)/2):(d=t.width/n,l=(t.height-d)/2),a.drawImage(t,o,l,c,d,0,0,s,r)}function Cu(a,t,s){a.save(),a.translate(t/2,s/2),a.rotate(-Math.PI/4),a.font="bold 80px sans-serif",a.fillStyle="rgba(255, 255, 255, 0.3)",a.textAlign="center",a.textBaseline="middle",a.fillText("EMPRATA.AI - FREE",0,0),a.restore(),a.save();const r=40,i=30;a.font=`bold ${r}px sans-serif`,a.fillStyle="rgba(255, 94, 0, 0.6)",a.strokeStyle="rgba(0, 0, 0, 0.5)",a.lineWidth=3,a.textAlign="right",a.textBaseline="bottom";const n="Emprata.ai";a.strokeText(n,t-i,s-i),a.fillText(n,t-i,s-i),a.restore()}function Eu(a,t){return new Promise((s,r)=>{a.toBlob(i=>{if(!i){r(new Error("Failed to create blob"));return}const n=URL.createObjectURL(i),o=document.createElement("a");o.href=n,o.download=t,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(n),s()},"image/jpeg",.95)})}const Au=[{id:"rustico",name:"Mesa Rstica",image:"https://images.unsplash.com/photo-1547592166-23ac45744acd?w=200&h=200&fit=crop&q=80",isPro:!1,promptKeyword:"rustic wooden table, natural lighting, artisanal presentation",description:"Madeira natural, iluminao suave, estilo caseiro"},{id:"gourmet",name:"Mrmore Clean",image:"https://images.unsplash.com/photo-1615799998603-7c6270a45196?w=200&h=200&fit=crop&q=80",isPro:!1,promptKeyword:"white marble surface, minimalist, clean aesthetic, soft shadows",description:"Mrmore branco, minimalista, sombras suaves"},{id:"dark",name:"Moody Dark",image:"https://images.unsplash.com/photo-1555939594-58d7cb561ad1?w=200&h=200&fit=crop&q=80",isPro:!1,promptKeyword:"dark moody atmosphere, dramatic lighting, black background",description:"Atmosfera escura, iluminao dramtica"},{id:"domingo",name:"Sol de Manh",image:"https://images.unsplash.com/photo-1473093226795-af9932fe5856?w=200&h=200&fit=crop&q=80",isPro:!1,promptKeyword:"bright morning sunlight, warm tones, fresh and airy",description:"Luz solar matinal, tons quentes, fresco"},{id:"marble",name:"Onyx Luxo",image:"https://images.unsplash.com/photo-1518013431117-eb1465fa5752?w=200&h=200&fit=crop&q=80",isPro:!1,promptKeyword:"black marble, luxury presentation, gold accents",description:"Mrmore preto, apresentao luxuosa"},{id:"neon",name:"Neon Cyber",image:"https://images.unsplash.com/photo-1550745165-9bc0b252726f?w=200&h=200&fit=crop&q=80",isPro:!1,promptKeyword:"neon lights, cyberpunk aesthetic, vibrant colors, futuristic",description:"Luzes neon, esttica cyberpunk, futurista"},{id:"chefs-table",name:"Chef's Table",image:"https://images.unsplash.com/photo-1414235077428-338989a2e8c0?w=200&h=200&fit=crop&q=80",isPro:!0,promptKeyword:"fine dining, dramatic spotlight, dark background, professional plating, michelin star presentation",description:"Iluminao dramtica, foco pontual, alta gastronomia"},{id:"editorial",name:"Editorial Magazine",image:"https://images.unsplash.com/photo-1504674900247-0877df9cc836?w=200&h=200&fit=crop&q=80",isPro:!0,promptKeyword:"solid color background, hard shadows, pop art style, magazine editorial, bold composition",description:"Fundo colorido slido, sombras duras, estilo revista"},{id:"morning-brunch",name:"Morning Brunch",image:"https://images.unsplash.com/photo-1533777324565-a040eb52facd?w=200&h=200&fit=crop&q=80",isPro:!0,promptKeyword:"intense natural light, plant shadows, airy atmosphere, fresh breakfast setting, window light",description:"Luz natural intensa, sombras de plantas, arejado"},{id:"dark-kitchen",name:"Dark Kitchen",image:"https://images.unsplash.com/photo-1565299624946-b28f40a0ae38?w=200&h=200&fit=crop&q=80",isPro:!0,promptKeyword:"slate stone surface, steam rising, industrial style, professional kitchen atmosphere",description:"Pedra ardsia, vapor, estilo industrial"},{id:"golden-hour",name:"Golden Hour",image:"https://images.unsplash.com/photo-1567620905732-2d1ec7ab7445?w=200&h=200&fit=crop&q=80",isPro:!0,promptKeyword:"sunset lighting, warm golden tones, soft glow, magic hour photography",description:"Luz do pr do sol, tons dourados, brilho suave"},{id:"macro-detail",name:"Macro Detail",image:"https://images.unsplash.com/photo-1606787366850-de6330128bfc?w=200&h=200&fit=crop&q=80",isPro:!0,promptKeyword:"extreme close-up, texture focus, bokeh background, macro photography, shallow depth of field",description:"Foco extremo na textura, fundo desfocado (bokeh)"}],Su=[{id:"top",label:"Flat Lay",subLabel:"90",icon:To},{id:"diagonal",label:"Diner's Eye",subLabel:"45",icon:Io},{id:"front",label:"The Hero",subLabel:"0",icon:It},{id:"macro",label:"Macro",subLabel:"Close",icon:Ro}];function _u(){const a=Yt(),{user:t}=we(),{downloadImage:s,isDownloading:r,error:i}=ju(),[n,o]=f.useState(!1),[l,c]=f.useState(!1),[d,m]=f.useState(null),[u,h]=f.useState(""),[x,v]=f.useState(!1),[w,y]=f.useState(!1),[p,g]=f.useState(!1),N=f.useRef(null),S=async B=>new Promise((K,T)=>{const U=new Image,J=document.createElement("canvas"),_=J.getContext("2d");if(!_){T(new Error("Canvas context not available"));return}U.onload=()=>{console.log(" Cortando imagem para 1080x1080...");const E=Math.min(U.width,U.height),L=(U.width-E)/2,A=(U.height-E)/2;J.width=1080,J.height=1080,_.drawImage(U,L,A,E,E,0,0,1080,1080),J.toBlob(H=>{if(H){const j=new File([H],B.name,{type:"image/jpeg",lastModified:Date.now()});console.log(" Imagem cortada:",j.size,"bytes"),K(j)}else T(new Error("Failed to create blob from canvas"))},"image/jpeg",.95)},U.onerror=()=>T(new Error("Failed to load image for cropping")),U.src=URL.createObjectURL(B)});f.useEffect(()=>{if(a.generatedImage){y(!0),v(!1);const B=new Image;B.onload=()=>{console.log(" Imagem carregada com sucesso"),v(!0),y(!1)},B.onerror=()=>{console.error(" Erro ao carregar imagem"),m("Erro ao carregar a imagem gerada."),y(!1),a.setGeneratedImage(null)},B.src=a.generatedImage}else v(!1),y(!1)},[a.generatedImage]),f.useEffect(()=>{i&&m(i)},[i]);const M=async B=>{const K=B.target.files?.[0];if(K)try{g(!0),m(null);const T=await S(K),U=URL.createObjectURL(T);a.setOriginalImage(U,T),g(!1)}catch(T){console.error("Erro ao processar imagem:",T),m("Erro ao processar a imagem."),g(!1)}},C=(B,K)=>{const T=a.plan.toLowerCase();if(K&&T==="free"){o(!0);return}a.setVibe(B)},D=async()=>{if(!(!a.originalImage||!a.originalFile||a.isGenerating)){if(a.plan==="FREE"&&a.credits<=0){o(!0);return}a.setIsGenerating(!0),m(null);try{h("Identificando textura..."),await new Promise(K=>setTimeout(K,800)),h("Ajustando iluminao..."),await new Promise(K=>setTimeout(K,800)),h("Empratando...");const B=await wu({file:a.originalFile,vibe:a.selectedVibe,angle:a.selectedPerspective,lightIntensity:a.lightIntensity});B.success&&B.imageUrl?(console.log(" URL recebida:",B.imageUrl),a.setGeneratedImage(B.imageUrl),a.useCredit(),setTimeout(()=>{Ka({particleCount:200,spread:100,origin:{y:.6},colors:["#ff5e00","#FFC107","#FFFFFF"],ticks:300})},500)):m(B.error||"A Engine Neural falhou.")}catch(B){console.error(B),m("Erro de conexo.")}finally{a.setIsGenerating(!1),h("")}}},X=async()=>{if(a.generatedImage){if(!t){c(!0);return}try{await s(a.generatedImage,a.plan)}catch(B){console.error("Download failed:",B)}}},ee=()=>e.jsxs("div",{className:"space-y-6 md:space-y-12 pb-safe",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-end mb-4",children:[e.jsx("h3",{className:"text-[10px] font-black uppercase tracking-[0.3em] text-white/30",children:"Vibe da Foto"}),e.jsx(Ee,{className:"w-4 h-4 text-primary"})]}),e.jsx("div",{className:"flex md:grid md:grid-cols-2 gap-3 overflow-x-auto md:overflow-x-visible no-scrollbar pb-2 px-4 md:px-0 scroll-px-4",children:Au.map(B=>{const K=B.isPro&&a.plan.toLowerCase()==="free";return e.jsx("button",{onClick:()=>C(B.id,B.isPro),className:`flex-shrink-0 w-24 h-24 md:w-auto md:aspect-square rounded-2xl md:rounded-[2rem] overflow-hidden border-2 transition-all duration-300 group ${a.selectedVibe===B.id?"border-primary ring-2 ring-primary/20 scale-105":"border-white/5"}`,children:e.jsxs("div",{className:"relative w-full h-full",children:[e.jsx("img",{src:B.image,alt:B.name,className:`w-full h-full object-cover transition-transform duration-700 ${a.selectedVibe===B.id?"scale-110":"group-hover:scale-105"}`}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/90 via-black/20 to-transparent flex flex-col justify-end p-2 md:p-5",children:e.jsx("span",{className:"text-[9px] md:text-xs font-black uppercase tracking-tight italic",children:B.name})}),K&&e.jsx("div",{className:"absolute top-2 right-2 w-6 h-6 md:w-8 md:h-8 bg-black/60 backdrop-blur-md rounded-full flex items-center justify-center border border-white/10",children:e.jsx(rs,{className:"w-3 h-3 md:w-4 md:h-4 text-amber-500 fill-current"})})]})},B.id)})})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-[10px] font-black uppercase tracking-[0.3em] text-white/30 mb-4",children:"ngulo"}),e.jsx("div",{className:"grid grid-cols-4 gap-2 md:gap-3",children:Su.map(B=>e.jsxs("button",{onClick:()=>a.setPerspective(B.id),className:`flex flex-col items-center gap-1 md:gap-2 p-2 md:p-4 rounded-2xl md:rounded-3xl border-2 transition-all ${a.selectedPerspective===B.id?"bg-primary border-primary text-white shadow-xl shadow-primary/20":"bg-white/5 border-white/5 text-white/40"}`,children:[e.jsx(B.icon,{className:"w-5 h-5 md:w-6 md:h-6"}),e.jsx("span",{className:"text-[8px] md:text-[9px] font-black uppercase tracking-tight",children:B.label}),e.jsx("span",{className:"text-[7px] md:text-[8px] font-bold text-white/60",children:B.subLabel})]},B.id))})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-[10px] font-black uppercase tracking-[0.3em] text-white/30",children:"Luz"}),e.jsxs("span",{className:"text-sm font-black text-primary italic",children:[a.lightIntensity,"%"]})]}),e.jsxs("div",{className:"relative h-10 md:h-12 flex items-center",children:[e.jsx("div",{className:"absolute inset-x-0 h-2 bg-white/5 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-orange-900 via-primary to-amber-200",style:{width:`${a.lightIntensity}%`}})}),e.jsx("input",{type:"range",min:"0",max:"100",value:a.lightIntensity,disabled:a.plan==="FREE",onChange:B=>a.setLightIntensity(parseInt(B.target.value)),className:`absolute inset-x-0 appearance-none bg-transparent cursor-pointer z-10 h-10 md:h-12 ${a.plan==="FREE"?"cursor-not-allowed opacity-50":""}`})]}),a.plan==="FREE"&&e.jsxs("div",{onClick:()=>o(!0),className:"flex items-center gap-2 mt-3 text-[9px] md:text-[10px] font-bold text-amber-500 uppercase cursor-pointer",children:[e.jsx(rs,{className:"w-3 h-3"})," PRO"]})]}),e.jsx(k.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:D,disabled:!a.originalImage||a.isGenerating||a.plan==="FREE"&&a.credits<=0,className:`w-full py-6 md:py-8 rounded-3xl md:rounded-[2.5rem] font-black text-lg md:text-2xl uppercase italic tracking-ultra-tight flex items-center justify-center gap-3 md:gap-4 transition-all shadow-2xl shimmer ${a.originalImage&&!a.isGenerating?"bg-primary text-white shadow-orange-intense":"bg-white/5 text-white/20 cursor-not-allowed"}`,children:a.isGenerating?e.jsx(Nt,{className:"w-6 h-6 md:w-8 md:h-8 animate-spin"}):e.jsxs(e.Fragment,{children:[e.jsx(mt,{className:"w-6 h-6 md:w-8 md:h-8 fill-current"}),"GERAR MGICA"]})})]});return e.jsxs("div",{className:"min-h-[100dvh] w-screen bg-[#0a0a0a] text-white flex flex-col md:flex-row font-sans overflow-hidden",children:[e.jsx(yu,{isOpen:n,onClose:()=>o(!1)}),e.jsx(Un,{isOpen:l,onClose:()=>c(!1)}),e.jsxs("header",{className:"md:hidden absolute top-0 left-0 right-0 z-50 flex items-center justify-between p-4 bg-gradient-to-b from-black/80 to-transparent backdrop-blur-sm",children:[e.jsx(me,{to:"/dashboard",className:"text-white/60 hover:text-white transition-colors",children:e.jsx(Bs,{className:"w-7 h-7"})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"flex items-center gap-2 bg-black/60 backdrop-blur-xl px-3 py-1.5 rounded-full border border-white/10",children:[e.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${a.credits>0?"bg-green-500":"bg-red-500"}`}),e.jsx("span",{className:"text-[10px] font-black uppercase tracking-wider text-white/80",children:a.plan==="PRO"?"":a.credits})]}),a.originalImage&&e.jsx("button",{onClick:()=>a.resetEditor(),className:"p-2 bg-white/5 hover:bg-white/10 rounded-full border border-white/10 transition-colors",title:"Nova Foto",children:e.jsx(wr,{className:"w-4 h-4 text-white/60"})}),a.generatedImage&&x&&e.jsx("button",{onClick:X,disabled:r,className:"p-2 bg-primary rounded-full disabled:opacity-50",children:r?e.jsx(le,{className:"w-4 h-4 text-white animate-spin"}):e.jsx(Yi,{className:"w-4 h-4 text-white"})})]})]}),e.jsxs("header",{className:"hidden md:flex h-20 w-full border-b border-white/5 items-center justify-between px-8 bg-[#0a0a0a]/80 backdrop-blur-3xl z-40 absolute top-0 left-0 right-0",children:[e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsx(me,{to:"/dashboard",className:"text-white/40 hover:text-white transition-colors",children:e.jsx(Bs,{className:"w-8 h-8"})}),e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("h1",{className:"text-xl font-black italic tracking-ultra-tight leading-none",children:["Emprata",e.jsx("span",{className:"text-primary",children:".ai"})," Studio"]}),e.jsx("span",{className:"text-[10px] font-black uppercase tracking-[0.3em] text-white/30",children:"v10.0 Admin Ready"})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(In,{}),a.originalImage&&e.jsxs("button",{onClick:()=>a.resetEditor(),className:"flex items-center gap-2 px-5 py-3 rounded-2xl font-black text-xs uppercase tracking-widest border border-white/10 text-white/60 hover:text-white hover:border-white/20 hover:bg-white/5 transition-all",children:[e.jsx(wr,{className:"w-4 h-4"}),"Nova Foto"]}),e.jsx("button",{onClick:X,disabled:!a.generatedImage||!x||r,className:`px-8 py-3 rounded-2xl font-black text-xs uppercase tracking-widest shadow-lg transition-all ${a.generatedImage&&x&&!r?"bg-primary text-white shadow-orange-glow hover:scale-105 active:scale-95":"bg-white/5 text-white/20 cursor-not-allowed"}`,children:r?"Exportando...":"Exportar"})]})]}),e.jsx(ce,{children:d&&e.jsxs(k.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"absolute top-20 md:top-24 left-1/2 -translate-x-1/2 z-50 bg-red-500/90 backdrop-blur-xl px-4 md:px-6 py-3 md:py-4 rounded-2xl border border-red-400/50 shadow-2xl flex items-center gap-3 md:gap-4 max-w-[90%] md:max-w-none",children:[e.jsx(Qi,{className:"w-4 h-4 md:w-5 md:h-5 text-white flex-shrink-0"}),e.jsx("p",{className:"text-xs md:text-sm font-bold text-white uppercase tracking-tight",children:d}),e.jsx("button",{onClick:()=>m(null),className:"p-1 hover:bg-white/10 rounded-full transition-colors flex-shrink-0",children:e.jsx(Je,{className:"w-3 h-3 md:w-4 md:h-4 text-white"})})]})}),e.jsx("aside",{className:"hidden md:flex w-[400px] h-full border-r border-white/5 flex-col bg-[#0a0a0a] z-10 overflow-y-auto no-scrollbar mt-20",children:e.jsx("div",{className:"p-8",children:e.jsx(ee,{})})}),e.jsxs("section",{className:`flex-1 relative min-h-0 flex items-center justify-center bg-[#0a0a0a] overflow-hidden \r
                          h-[55%] md:h-full w-full md:flex-1 md:mt-20`,children:[e.jsx("div",{className:"absolute inset-0 opacity-[0.02] pointer-events-none",style:{backgroundImage:"radial-gradient(circle, #fff 1px, transparent 1px)",backgroundSize:"60px 60px"}}),e.jsx(ce,{mode:"wait",children:a.originalImage?e.jsx(k.div,{initial:{opacity:0},animate:{opacity:1},className:"relative w-full h-full flex items-center justify-center p-4 md:p-12",children:e.jsxs("div",{className:"relative w-full h-full max-w-5xl max-h-5xl flex items-center justify-center",children:[e.jsx("div",{className:"relative shadow-[0_50px_100px_-30px_rgba(0,0,0,1)] border-4 md:border-[12px] border-white/5 rounded-2xl md:rounded-3xl overflow-hidden bg-black w-full h-full max-w-full max-h-full aspect-square",children:a.generatedImage&&x?e.jsxs("div",{className:"relative w-full h-full",children:[e.jsx(Gn,{itemOne:e.jsxs("div",{className:"relative h-full flex items-center justify-center bg-black",children:[e.jsx(Ga,{src:a.originalImage,alt:"Original",style:{width:"100%",height:"100%",objectFit:"contain"}}),e.jsx("div",{className:"absolute top-4 left-4 bg-black/60 backdrop-blur-xl px-3 py-1.5 rounded-full border border-white/10 text-[9px] md:text-[10px] font-black uppercase tracking-widest text-white/40 italic",children:"Original"})]}),itemTwo:e.jsxs("div",{className:"relative h-full flex items-center justify-center bg-black",children:[e.jsx(Ga,{src:a.generatedImage,alt:"Generated",style:{width:"100%",height:"100%",objectFit:"contain"}}),e.jsx("div",{className:"absolute top-4 right-4 bg-primary/80 backdrop-blur-xl px-3 py-1.5 rounded-full border border-white/10 text-[9px] md:text-[10px] font-black uppercase tracking-widest text-white italic shadow-lg",children:"Neural"})]}),className:"w-full h-full"}),a.plan==="FREE"&&e.jsx("div",{className:"absolute inset-0 pointer-events-none flex items-center justify-center z-10",children:e.jsx("div",{className:"rotate-45 text-white/5 text-6xl md:text-[10rem] font-black tracking-ultra-tight select-none whitespace-nowrap",children:"Emprata.ai"})})]}):w?e.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center gap-4 md:gap-6 bg-black",children:[e.jsx(le,{className:"w-12 h-12 md:w-16 md:h-16 text-primary animate-spin"}),e.jsx("span",{className:"text-sm md:text-lg font-black italic uppercase tracking-widest text-primary/80",children:"Carregando..."})]}):e.jsxs(e.Fragment,{children:[e.jsx("img",{src:a.originalImage,className:`w-full h-full object-contain transition-all duration-700 ${a.isGenerating?"blur-2xl opacity-40 scale-110":""}`,alt:"Preview"}),a.isGenerating&&e.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center gap-4 md:gap-6 z-20",children:[e.jsxs("div",{className:"relative w-16 h-16 md:w-24 md:h-24",children:[e.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-white/5 border-t-primary animate-spin"}),e.jsx("div",{className:"absolute inset-2 md:inset-4 rounded-full border-4 border-white/5 border-b-primary animate-spin-reverse"})]}),e.jsx("span",{className:"text-base md:text-2xl font-black italic uppercase tracking-widest animate-pulse text-primary drop-shadow-[0_0_15px_rgba(255,94,0,0.5)] px-4 text-center",children:u||"Processando..."})]})]})}),a.isGenerating&&e.jsx("div",{className:"scanner-line"})]})},"editor"):e.jsxs(k.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:1.1},onClick:()=>!p&&N.current?.click(),className:`group flex flex-col items-center ${p?"cursor-wait":"cursor-pointer"}`,children:[e.jsxs("div",{className:"w-32 h-32 md:w-56 md:h-56 bg-white/5 border-2 border-dashed border-white/20 rounded-3xl md:rounded-[4rem] flex items-center justify-center text-white/20 group-hover:border-primary group-hover:text-primary transition-all duration-500 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-primary/0 group-hover:bg-primary/5 transition-all duration-500 rounded-3xl md:rounded-[4rem]"}),p?e.jsx(le,{className:"w-12 h-12 md:w-20 md:h-20 animate-spin text-primary"}):e.jsx(ct,{className:"w-12 h-12 md:w-20 md:h-20"}),e.jsx("input",{ref:N,type:"file",onChange:M,className:"hidden",accept:"image/*",disabled:p})]}),e.jsxs("div",{className:"mt-6 md:mt-10 text-center px-4",children:[e.jsx("h2",{className:"text-xl md:text-3xl font-black uppercase italic tracking-ultra-tight mb-1 md:mb-2",children:p?"Processando...":"Sirva seu Rango"}),e.jsx("p",{className:"text-white/30 font-bold uppercase tracking-widest text-[10px] md:text-xs",children:p?"Cortando para 1080x1080":"Toque para buscar"})]})]},"empty")})]}),e.jsx("div",{className:"md:hidden w-full h-[45%] bg-[#1a1a1a] rounded-t-[30px] shadow-2xl overflow-y-auto px-6 py-6 z-20 border-t border-white/10",children:e.jsx(ee,{})})]})}function Tu(){const{user:a,signOut:t}=we(),s=tt();return e.jsxs("div",{className:"min-h-screen bg-[#0a0a0a] text-white p-6 md:p-12",children:[e.jsxs("div",{className:"max-w-7xl mx-auto mb-12 flex justify-between items-end",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-4xl font-black italic tracking-tighter",children:["Bem-vindo, ",e.jsx("span",{className:"text-primary",children:a?.displayName||a?.email?.split("@")[0]||"Chef"})]}),e.jsx("p",{className:"text-white/40 font-bold uppercase tracking-widest text-sm mt-2",children:"Viso Geral do Seu Imprio Digital"})]}),e.jsxs("button",{onClick:()=>t(),className:"text-xs font-bold text-red-500 uppercase tracking-widest hover:text-red-400 flex items-center gap-2",children:[e.jsx(Gt,{className:"w-4 h-4"})," Sair"]})]}),e.jsxs("div",{className:"max-w-7xl mx-auto grid gap-8",children:[e.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[e.jsxs(k.button,{id:"tour-studio-card",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},onClick:()=>s("/studio"),className:"group relative h-48 bg-white/5 border border-white/10 rounded-3xl p-6 flex flex-col justify-between hover:bg-white/10 transition-all hover:scale-[1.02] overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 p-32 bg-primary/20 blur-[80px] group-hover:bg-primary/30 transition-all"}),e.jsx("div",{className:"w-12 h-12 bg-black/50 rounded-2xl flex items-center justify-center border border-white/10 z-10",children:e.jsx(ct,{className:"w-6 h-6 text-primary"})}),e.jsxs("div",{className:"text-left z-10",children:[e.jsx("h3",{className:"text-xl font-black italic uppercase",children:"Estdio IA"}),e.jsx("p",{className:"text-xs text-white/50 font-bold mt-1",children:"Criar novas fotos"})]})]}),e.jsxs(k.button,{id:"tour-menu-card",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},onClick:()=>s("/menu-builder"),className:"group relative h-48 bg-white/5 border border-white/10 rounded-3xl p-6 flex flex-col justify-between hover:bg-white/10 transition-all hover:scale-[1.02] overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 p-32 bg-blue-500/10 blur-[80px] group-hover:bg-blue-500/20 transition-all"}),e.jsx("div",{className:"w-12 h-12 bg-black/50 rounded-2xl flex items-center justify-center border border-white/10 z-10",children:e.jsx(It,{className:"w-6 h-6 text-blue-400"})}),e.jsxs("div",{className:"text-left z-10",children:[e.jsx("h3",{className:"text-xl font-black italic uppercase",children:"Cardpio Digital"}),e.jsx("p",{className:"text-xs text-white/50 font-bold mt-1",children:"Gerenciar Pratos e Preos"})]})]}),e.jsxs(k.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},onClick:()=>window.open("/menu/meu-restaurante","_blank"),className:"group relative h-48 bg-white/5 border border-white/10 rounded-3xl p-6 flex flex-col justify-between hover:bg-white/10 transition-all hover:scale-[1.02] overflow-hidden",children:[e.jsx("div",{className:"w-12 h-12 bg-black/50 rounded-2xl flex items-center justify-center border border-white/10 z-10",children:e.jsx(Ws,{className:"w-6 h-6 text-green-400"})}),e.jsxs("div",{className:"text-left z-10",children:[e.jsx("h3",{className:"text-xl font-black italic uppercase",children:"Ver Cardpio"}),e.jsx("p",{className:"text-xs text-white/50 font-bold mt-1",children:"Visualizar como cliente"})]})]})]}),e.jsxs(k.button,{id:"tour-tools-card",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},onClick:()=>s("/tools"),className:"group relative w-full h-32 bg-gradient-to-r from-primary/20 to-orange-600/10 border border-primary/30 rounded-3xl p-6 flex items-center justify-between hover:from-primary/30 hover:to-orange-600/20 transition-all hover:scale-[1.01] overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-primary/30 blur-[100px] opacity-50 group-hover:opacity-70 transition-opacity"}),e.jsxs("div",{className:"flex items-center gap-6 z-10",children:[e.jsx("div",{className:"w-14 h-14 bg-primary/20 rounded-2xl flex items-center justify-center border border-primary/30",children:e.jsx(Ee,{className:"w-7 h-7 text-primary"})}),e.jsxs("div",{className:"text-left",children:[e.jsx("h3",{className:"text-2xl font-black italic uppercase text-primary",children:"Ferramentas & Apps"}),e.jsx("p",{className:"text-sm text-white/50 font-bold mt-1",children:"KDS, WhatsApp, QR Codes, Precificao IA e mais"})]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-primary font-bold z-10",children:[e.jsx("span",{className:"text-sm uppercase tracking-wider hidden sm:block",children:"Acessar"}),e.jsx(is,{className:"w-6 h-6 group-hover:translate-x-1 transition-transform"})]})]}),e.jsxs(k.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"bg-white/5 border border-white/10 rounded-[2.5rem] p-8 md:p-12 relative overflow-hidden",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[e.jsx(ns,{className:"w-6 h-6 text-primary"}),e.jsx("h2",{className:"text-2xl font-black uppercase tracking-tight",children:"Performance (BETA)"})]}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"p-6 bg-black/40 rounded-3xl border border-white/5",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2 text-white/40 text-xs font-bold uppercase",children:[e.jsx(Kt,{className:"w-4 h-4"})," Vendas Hoje"]}),e.jsx("div",{className:"text-3xl font-black text-white",children:"R$ 0,00"})]}),e.jsxs("div",{className:"p-6 bg-black/40 rounded-3xl border border-white/5",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2 text-white/40 text-xs font-bold uppercase",children:[e.jsx(Xe,{className:"w-4 h-4"})," Visitantes"]}),e.jsx("div",{className:"text-3xl font-black text-white",children:"0"})]}),e.jsxs("div",{className:"p-6 bg-black/40 rounded-3xl border border-white/5",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2 text-white/40 text-xs font-bold uppercase",children:[e.jsx(ns,{className:"w-4 h-4"})," Pedidos"]}),e.jsx("div",{className:"text-3xl font-black text-white",children:"0"})]})]}),e.jsx("div",{className:"mt-8 p-4 bg-primary/10 border border-primary/20 rounded-xl text-center",children:e.jsx("p",{className:"text-sm font-bold text-primary",children:" Configure seu cardpio para comear a ver dados reais aqui."})})]})]})]})}var Lt={},ga={exports:{}},ba,hi;function Iu(){if(hi)return ba;hi=1;var a="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return ba=a,ba}var va,mi;function Ru(){if(mi)return va;mi=1;var a=Iu();function t(){}function s(){}return s.resetWarningCache=t,va=function(){function r(o,l,c,d,m,u){if(u!==a){var h=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}}r.isRequired=r;function i(){return r}var n={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:s,resetWarningCache:t};return n.PropTypes=n,n},va}var pi;function or(){return pi||(pi=1,ga.exports=Ru()()),ga.exports}var wa,xi;function Jn(){return xi||(xi=1,wa={L:1,M:0,Q:3,H:2}),wa}var ya,fi;function Zn(){return fi||(fi=1,ya={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8}),ya}var ja,gi;function Mu(){if(gi)return ja;gi=1;var a=Zn();function t(s){this.mode=a.MODE_8BIT_BYTE,this.data=s}return t.prototype={getLength:function(s){return this.data.length},write:function(s){for(var r=0;r<this.data.length;r++)s.put(this.data.charCodeAt(r),8)}},ja=t,ja}var Na,bi;function Ou(){if(bi)return Na;bi=1;var a=Jn();function t(s,r){this.totalCount=s,this.dataCount=r}return t.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],t.getRSBlocks=function(s,r){var i=t.getRsBlockTable(s,r);if(i==null)throw new Error("bad rs block @ typeNumber:"+s+"/errorCorrectLevel:"+r);for(var n=i.length/3,o=new Array,l=0;l<n;l++)for(var c=i[l*3+0],d=i[l*3+1],m=i[l*3+2],u=0;u<c;u++)o.push(new t(d,m));return o},t.getRsBlockTable=function(s,r){switch(r){case a.L:return t.RS_BLOCK_TABLE[(s-1)*4+0];case a.M:return t.RS_BLOCK_TABLE[(s-1)*4+1];case a.Q:return t.RS_BLOCK_TABLE[(s-1)*4+2];case a.H:return t.RS_BLOCK_TABLE[(s-1)*4+3];default:return}},Na=t,Na}var ka,vi;function Pu(){if(vi)return ka;vi=1;function a(){this.buffer=new Array,this.length=0}return a.prototype={get:function(t){var s=Math.floor(t/8);return(this.buffer[s]>>>7-t%8&1)==1},put:function(t,s){for(var r=0;r<s;r++)this.putBit((t>>>s-r-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(t){var s=Math.floor(this.length/8);this.buffer.length<=s&&this.buffer.push(0),t&&(this.buffer[s]|=128>>>this.length%8),this.length++}},ka=a,ka}var Ca,wi;function eo(){if(wi)return Ca;wi=1;for(var a={glog:function(s){if(s<1)throw new Error("glog("+s+")");return a.LOG_TABLE[s]},gexp:function(s){for(;s<0;)s+=255;for(;s>=256;)s-=255;return a.EXP_TABLE[s]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},t=0;t<8;t++)a.EXP_TABLE[t]=1<<t;for(var t=8;t<256;t++)a.EXP_TABLE[t]=a.EXP_TABLE[t-4]^a.EXP_TABLE[t-5]^a.EXP_TABLE[t-6]^a.EXP_TABLE[t-8];for(var t=0;t<255;t++)a.LOG_TABLE[a.EXP_TABLE[t]]=t;return Ca=a,Ca}var Ea,yi;function to(){if(yi)return Ea;yi=1;var a=eo();function t(s,r){if(s.length==null)throw new Error(s.length+"/"+r);for(var i=0;i<s.length&&s[i]==0;)i++;this.num=new Array(s.length-i+r);for(var n=0;n<s.length-i;n++)this.num[n]=s[n+i]}return t.prototype={get:function(s){return this.num[s]},getLength:function(){return this.num.length},multiply:function(s){for(var r=new Array(this.getLength()+s.getLength()-1),i=0;i<this.getLength();i++)for(var n=0;n<s.getLength();n++)r[i+n]^=a.gexp(a.glog(this.get(i))+a.glog(s.get(n)));return new t(r,0)},mod:function(s){if(this.getLength()-s.getLength()<0)return this;for(var r=a.glog(this.get(0))-a.glog(s.get(0)),i=new Array(this.getLength()),n=0;n<this.getLength();n++)i[n]=this.get(n);for(var n=0;n<s.getLength();n++)i[n]^=a.gexp(a.glog(s.get(n))+r);return new t(i,0).mod(s)}},Ea=t,Ea}var Aa,ji;function Du(){if(ji)return Aa;ji=1;var a=Zn(),t=to(),s=eo(),r={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},i={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(n){for(var o=n<<10;i.getBCHDigit(o)-i.getBCHDigit(i.G15)>=0;)o^=i.G15<<i.getBCHDigit(o)-i.getBCHDigit(i.G15);return(n<<10|o)^i.G15_MASK},getBCHTypeNumber:function(n){for(var o=n<<12;i.getBCHDigit(o)-i.getBCHDigit(i.G18)>=0;)o^=i.G18<<i.getBCHDigit(o)-i.getBCHDigit(i.G18);return n<<12|o},getBCHDigit:function(n){for(var o=0;n!=0;)o++,n>>>=1;return o},getPatternPosition:function(n){return i.PATTERN_POSITION_TABLE[n-1]},getMask:function(n,o,l){switch(n){case r.PATTERN000:return(o+l)%2==0;case r.PATTERN001:return o%2==0;case r.PATTERN010:return l%3==0;case r.PATTERN011:return(o+l)%3==0;case r.PATTERN100:return(Math.floor(o/2)+Math.floor(l/3))%2==0;case r.PATTERN101:return o*l%2+o*l%3==0;case r.PATTERN110:return(o*l%2+o*l%3)%2==0;case r.PATTERN111:return(o*l%3+(o+l)%2)%2==0;default:throw new Error("bad maskPattern:"+n)}},getErrorCorrectPolynomial:function(n){for(var o=new t([1],0),l=0;l<n;l++)o=o.multiply(new t([1,s.gexp(l)],0));return o},getLengthInBits:function(n,o){if(1<=o&&o<10)switch(n){case a.MODE_NUMBER:return 10;case a.MODE_ALPHA_NUM:return 9;case a.MODE_8BIT_BYTE:return 8;case a.MODE_KANJI:return 8;default:throw new Error("mode:"+n)}else if(o<27)switch(n){case a.MODE_NUMBER:return 12;case a.MODE_ALPHA_NUM:return 11;case a.MODE_8BIT_BYTE:return 16;case a.MODE_KANJI:return 10;default:throw new Error("mode:"+n)}else if(o<41)switch(n){case a.MODE_NUMBER:return 14;case a.MODE_ALPHA_NUM:return 13;case a.MODE_8BIT_BYTE:return 16;case a.MODE_KANJI:return 12;default:throw new Error("mode:"+n)}else throw new Error("type:"+o)},getLostPoint:function(n){for(var o=n.getModuleCount(),l=0,c=0;c<o;c++)for(var d=0;d<o;d++){for(var m=0,u=n.isDark(c,d),h=-1;h<=1;h++)if(!(c+h<0||o<=c+h))for(var x=-1;x<=1;x++)d+x<0||o<=d+x||h==0&&x==0||u==n.isDark(c+h,d+x)&&m++;m>5&&(l+=3+m-5)}for(var c=0;c<o-1;c++)for(var d=0;d<o-1;d++){var v=0;n.isDark(c,d)&&v++,n.isDark(c+1,d)&&v++,n.isDark(c,d+1)&&v++,n.isDark(c+1,d+1)&&v++,(v==0||v==4)&&(l+=3)}for(var c=0;c<o;c++)for(var d=0;d<o-6;d++)n.isDark(c,d)&&!n.isDark(c,d+1)&&n.isDark(c,d+2)&&n.isDark(c,d+3)&&n.isDark(c,d+4)&&!n.isDark(c,d+5)&&n.isDark(c,d+6)&&(l+=40);for(var d=0;d<o;d++)for(var c=0;c<o-6;c++)n.isDark(c,d)&&!n.isDark(c+1,d)&&n.isDark(c+2,d)&&n.isDark(c+3,d)&&n.isDark(c+4,d)&&!n.isDark(c+5,d)&&n.isDark(c+6,d)&&(l+=40);for(var w=0,d=0;d<o;d++)for(var c=0;c<o;c++)n.isDark(c,d)&&w++;var y=Math.abs(100*w/o/o-50)/5;return l+=y*10,l}};return Aa=i,Aa}var Sa,Ni;function Fu(){if(Ni)return Sa;Ni=1;var a=Mu(),t=Ou(),s=Pu(),r=Du(),i=to();function n(l,c){this.typeNumber=l,this.errorCorrectLevel=c,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var o=n.prototype;return o.addData=function(l){var c=new a(l);this.dataList.push(c),this.dataCache=null},o.isDark=function(l,c){if(l<0||this.moduleCount<=l||c<0||this.moduleCount<=c)throw new Error(l+","+c);return this.modules[l][c]},o.getModuleCount=function(){return this.moduleCount},o.make=function(){if(this.typeNumber<1){var l=1;for(l=1;l<40;l++){for(var c=t.getRSBlocks(l,this.errorCorrectLevel),d=new s,m=0,u=0;u<c.length;u++)m+=c[u].dataCount;for(var u=0;u<this.dataList.length;u++){var h=this.dataList[u];d.put(h.mode,4),d.put(h.getLength(),r.getLengthInBits(h.mode,l)),h.write(d)}if(d.getLengthInBits()<=m*8)break}this.typeNumber=l}this.makeImpl(!1,this.getBestMaskPattern())},o.makeImpl=function(l,c){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var d=0;d<this.moduleCount;d++){this.modules[d]=new Array(this.moduleCount);for(var m=0;m<this.moduleCount;m++)this.modules[d][m]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(l,c),this.typeNumber>=7&&this.setupTypeNumber(l),this.dataCache==null&&(this.dataCache=n.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,c)},o.setupPositionProbePattern=function(l,c){for(var d=-1;d<=7;d++)if(!(l+d<=-1||this.moduleCount<=l+d))for(var m=-1;m<=7;m++)c+m<=-1||this.moduleCount<=c+m||(0<=d&&d<=6&&(m==0||m==6)||0<=m&&m<=6&&(d==0||d==6)||2<=d&&d<=4&&2<=m&&m<=4?this.modules[l+d][c+m]=!0:this.modules[l+d][c+m]=!1)},o.getBestMaskPattern=function(){for(var l=0,c=0,d=0;d<8;d++){this.makeImpl(!0,d);var m=r.getLostPoint(this);(d==0||l>m)&&(l=m,c=d)}return c},o.createMovieClip=function(l,c,d){var m=l.createEmptyMovieClip(c,d),u=1;this.make();for(var h=0;h<this.modules.length;h++)for(var x=h*u,v=0;v<this.modules[h].length;v++){var w=v*u,y=this.modules[h][v];y&&(m.beginFill(0,100),m.moveTo(w,x),m.lineTo(w+u,x),m.lineTo(w+u,x+u),m.lineTo(w,x+u),m.endFill())}return m},o.setupTimingPattern=function(){for(var l=8;l<this.moduleCount-8;l++)this.modules[l][6]==null&&(this.modules[l][6]=l%2==0);for(var c=8;c<this.moduleCount-8;c++)this.modules[6][c]==null&&(this.modules[6][c]=c%2==0)},o.setupPositionAdjustPattern=function(){for(var l=r.getPatternPosition(this.typeNumber),c=0;c<l.length;c++)for(var d=0;d<l.length;d++){var m=l[c],u=l[d];if(this.modules[m][u]==null)for(var h=-2;h<=2;h++)for(var x=-2;x<=2;x++)h==-2||h==2||x==-2||x==2||h==0&&x==0?this.modules[m+h][u+x]=!0:this.modules[m+h][u+x]=!1}},o.setupTypeNumber=function(l){for(var c=r.getBCHTypeNumber(this.typeNumber),d=0;d<18;d++){var m=!l&&(c>>d&1)==1;this.modules[Math.floor(d/3)][d%3+this.moduleCount-8-3]=m}for(var d=0;d<18;d++){var m=!l&&(c>>d&1)==1;this.modules[d%3+this.moduleCount-8-3][Math.floor(d/3)]=m}},o.setupTypeInfo=function(l,c){for(var d=this.errorCorrectLevel<<3|c,m=r.getBCHTypeInfo(d),u=0;u<15;u++){var h=!l&&(m>>u&1)==1;u<6?this.modules[u][8]=h:u<8?this.modules[u+1][8]=h:this.modules[this.moduleCount-15+u][8]=h}for(var u=0;u<15;u++){var h=!l&&(m>>u&1)==1;u<8?this.modules[8][this.moduleCount-u-1]=h:u<9?this.modules[8][15-u-1+1]=h:this.modules[8][15-u-1]=h}this.modules[this.moduleCount-8][8]=!l},o.mapData=function(l,c){for(var d=-1,m=this.moduleCount-1,u=7,h=0,x=this.moduleCount-1;x>0;x-=2)for(x==6&&x--;;){for(var v=0;v<2;v++)if(this.modules[m][x-v]==null){var w=!1;h<l.length&&(w=(l[h]>>>u&1)==1);var y=r.getMask(c,m,x-v);y&&(w=!w),this.modules[m][x-v]=w,u--,u==-1&&(h++,u=7)}if(m+=d,m<0||this.moduleCount<=m){m-=d,d=-d;break}}},n.PAD0=236,n.PAD1=17,n.createData=function(l,c,d){for(var m=t.getRSBlocks(l,c),u=new s,h=0;h<d.length;h++){var x=d[h];u.put(x.mode,4),u.put(x.getLength(),r.getLengthInBits(x.mode,l)),x.write(u)}for(var v=0,h=0;h<m.length;h++)v+=m[h].dataCount;if(u.getLengthInBits()>v*8)throw new Error("code length overflow. ("+u.getLengthInBits()+">"+v*8+")");for(u.getLengthInBits()+4<=v*8&&u.put(0,4);u.getLengthInBits()%8!=0;)u.putBit(!1);for(;!(u.getLengthInBits()>=v*8||(u.put(n.PAD0,8),u.getLengthInBits()>=v*8));)u.put(n.PAD1,8);return n.createBytes(u,m)},n.createBytes=function(l,c){for(var d=0,m=0,u=0,h=new Array(c.length),x=new Array(c.length),v=0;v<c.length;v++){var w=c[v].dataCount,y=c[v].totalCount-w;m=Math.max(m,w),u=Math.max(u,y),h[v]=new Array(w);for(var p=0;p<h[v].length;p++)h[v][p]=255&l.buffer[p+d];d+=w;var g=r.getErrorCorrectPolynomial(y),N=new i(h[v],g.getLength()-1),S=N.mod(g);x[v]=new Array(g.getLength()-1);for(var p=0;p<x[v].length;p++){var M=p+S.getLength()-x[v].length;x[v][p]=M>=0?S.get(M):0}}for(var C=0,p=0;p<c.length;p++)C+=c[p].totalCount;for(var D=new Array(C),X=0,p=0;p<m;p++)for(var v=0;v<c.length;v++)p<h[v].length&&(D[X++]=h[v][p]);for(var p=0;p<u;p++)for(var v=0;v<c.length;v++)p<x[v].length&&(D[X++]=x[v][p]);return D},Sa=n,Sa}var As={},ki;function Lu(){if(ki)return As;ki=1,Object.defineProperty(As,"__esModule",{value:!0});var a=Object.assign||function(d){for(var m=1;m<arguments.length;m++){var u=arguments[m];for(var h in u)Object.prototype.hasOwnProperty.call(u,h)&&(d[h]=u[h])}return d},t=or(),s=n(t),r=fn(),i=n(r);function n(d){return d&&d.__esModule?d:{default:d}}function o(d,m){var u={};for(var h in d)m.indexOf(h)>=0||Object.prototype.hasOwnProperty.call(d,h)&&(u[h]=d[h]);return u}var l={bgColor:s.default.oneOfType([s.default.object,s.default.string]).isRequired,bgD:s.default.string.isRequired,fgColor:s.default.oneOfType([s.default.object,s.default.string]).isRequired,fgD:s.default.string.isRequired,size:s.default.number.isRequired,title:s.default.string,viewBoxSize:s.default.number.isRequired,xmlns:s.default.string},c=(0,r.forwardRef)(function(d,m){var u=d.bgColor,h=d.bgD,x=d.fgD,v=d.fgColor,w=d.size,y=d.title,p=d.viewBoxSize,g=d.xmlns,N=g===void 0?"http://www.w3.org/2000/svg":g,S=o(d,["bgColor","bgD","fgD","fgColor","size","title","viewBoxSize","xmlns"]);return i.default.createElement("svg",a({},S,{height:w,ref:m,viewBox:"0 0 "+p+" "+p,width:w,xmlns:N}),y?i.default.createElement("title",null,y):null,i.default.createElement("path",{d:h,fill:u}),i.default.createElement("path",{d:x,fill:v}))});return c.displayName="QRCodeSvg",c.propTypes=l,As.default=c,As}var Ci;function Bu(){if(Ci)return Lt;Ci=1,Object.defineProperty(Lt,"__esModule",{value:!0}),Lt.QRCode=void 0;var a=Object.assign||function(w){for(var y=1;y<arguments.length;y++){var p=arguments[y];for(var g in p)Object.prototype.hasOwnProperty.call(p,g)&&(w[g]=p[g])}return w},t=or(),s=u(t),r=Jn(),i=u(r),n=Fu(),o=u(n),l=fn(),c=u(l),d=Lu(),m=u(d);function u(w){return w&&w.__esModule?w:{default:w}}function h(w,y){var p={};for(var g in w)y.indexOf(g)>=0||Object.prototype.hasOwnProperty.call(w,g)&&(p[g]=w[g]);return p}var x={bgColor:s.default.oneOfType([s.default.object,s.default.string]),fgColor:s.default.oneOfType([s.default.object,s.default.string]),level:s.default.string,size:s.default.number,value:s.default.string.isRequired},v=(0,l.forwardRef)(function(w,y){var p=w.bgColor,g=p===void 0?"#FFFFFF":p,N=w.fgColor,S=N===void 0?"#000000":N,M=w.level,C=M===void 0?"L":M,D=w.size,X=D===void 0?256:D,ee=w.value,B=h(w,["bgColor","fgColor","level","size","value"]),K=new o.default(-1,i.default[C]);K.addData(ee),K.make();var T=K.modules;return c.default.createElement(m.default,a({},B,{bgColor:g,bgD:T.map(function(U,J){return U.map(function(_,E){return _?"":"M "+E+" "+J+" l 1 0 0 1 -1 0 Z"}).join(" ")}).join(" "),fgColor:S,fgD:T.map(function(U,J){return U.map(function(_,E){return _?"M "+E+" "+J+" l 1 0 0 1 -1 0 Z":""}).join(" ")}).join(" "),ref:y,size:X,viewBoxSize:T.length}))});return Lt.QRCode=v,v.displayName="QRCode",v.propTypes=x,Lt.default=v,Lt}var $u=Bu();const so=Wt($u),lr="menus";async function Vu(a){const t=he(ge(te,lr)),s={...a,id:t.id,createdAt:new Date,updatedAt:new Date};return await ss(t,{...s,createdAt:it(),updatedAt:it()}),s}async function Uu(a,t){const s=he(te,lr,a);await Fe(s,{...t,updatedAt:it()})}async function zu(a){const t=Re(ge(te,lr),xe("ownerId","==",a)),s=await kt(t);if(s.empty)return null;const r=s.docs[0].data();return{...r,id:s.docs[0].id,createdAt:r.createdAt?.toDate()||new Date,updatedAt:r.updatedAt?.toDate()||new Date}}function _a(a){return a.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"").substring(0,50)}const ao=new ps("AIzaSyAFo1Hq5LuuaqkKLzZgUOl3PTtKk_cagVc"),ro="gemini-1.5-pro";async function qu(a,t="gourmet"){if(!a.trim())throw new Error("Texto vazio no pode ser aprimorado.");const s=ao.getGenerativeModel({model:ro}),r=`Atue como um Copywriter Gastronmico de elite. Reescreva a descrio deste prato para torn-la irresistvel, focada em despertar fome e sensorialidade. Mantenha curto (mx 150 caracteres). Vibe: ${t}.

Descrio original: "${a}"

Responda APENAS com a descrio aprimorada, sem aspas nem explicaes.`;return(await s.generateContent(r)).response.text().trim().substring(0,150)}async function Hu(a){if(!a.length)throw new Error("Lista de itens vazia.");const t=ao.getGenerativeModel({model:ro,generationConfig:{responseMimeType:"application/json"}}),r=`Atue como um Engenheiro de Cardpio. Analise esta lista de itens.
1. Categorize-os logicamente (Entradas, Pratos Principais, Burgers, Pizzas, Bebidas, Sobremesas, etc).
2. Identifique quais itens tm maior potencial de venda para serem "Destaques" (Highlights) - mximo 3 itens.

Lista de itens:
${a.map((o,l)=>`${l+1}. ${o}`).join(`
`)}

Retorne APENAS um JSON vlido com a estrutura:
{
  "categories": [
    { "name": "Nome da Categoria", "items": ["Item 1", "Item 2"] }
  ],
  "suggestedHighlights": ["Item destaque 1", "Item destaque 2"]
}`,n=(await t.generateContent(r)).response.text();try{const o=JSON.parse(n);if(!o.categories||!Array.isArray(o.categories))throw new Error("Resposta invlida da IA");return o}catch{throw console.error(" Erro ao parsear resposta da IA:",n),new Error("Erro ao processar resposta da IA. Tente novamente.")}}const Ss=()=>crypto.randomUUID(),Ei=a=>({ownerId:a,slug:"",name:"",description:"",logoUrl:null,phone:"",themeColor:"#FF6B00",categories:[]});function Gu({menu:a}){const t=a.categories.flatMap(s=>s.items).filter(s=>s.isHighlight);return e.jsxs("div",{className:"w-[320px] h-[640px] bg-[#0a0a0a] rounded-[40px] border-4 border-white/10 overflow-hidden shadow-2xl relative",children:[e.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-32 h-6 bg-black rounded-b-2xl z-10"}),e.jsxs("div",{className:"h-full overflow-y-auto no-scrollbar",children:[e.jsxs("div",{className:"h-40 flex flex-col items-center justify-center relative",style:{background:`linear-gradient(135deg, ${a.themeColor}40, ${a.themeColor}10)`},children:[a.logoUrl?e.jsx("img",{src:a.logoUrl,alt:"",className:"w-16 h-16 rounded-2xl object-cover"}):e.jsx("div",{className:"w-16 h-16 rounded-2xl bg-white/10 flex items-center justify-center",children:e.jsx(Se,{className:"w-8 h-8 text-white/40"})}),e.jsx("h1",{className:"text-lg font-black mt-3 text-white text-center px-4",children:a.name||"Nome do Restaurante"}),e.jsx("p",{className:"text-[10px] text-white/50 mt-1",children:a.description||"Descrio curta aqui"})]}),t.length>0&&e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-[10px] font-black uppercase tracking-widest text-white/30 mb-2",children:"Destaques"}),e.jsx("div",{className:"flex gap-2 overflow-x-auto no-scrollbar",children:t.slice(0,3).map(s=>e.jsxs("div",{className:"flex-shrink-0 w-24 h-24 rounded-2xl overflow-hidden relative",children:[s.imageUrl?e.jsx("img",{src:s.imageUrl,alt:"",className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full bg-white/5 flex items-center justify-center",children:e.jsx(It,{className:"w-8 h-8 text-white/20"})}),e.jsx("div",{className:"absolute inset-x-0 bottom-0 bg-gradient-to-t from-black/80 to-transparent p-2",children:e.jsx("span",{className:"text-[9px] font-bold text-white line-clamp-1",children:s.title})})]},s.id))})]}),e.jsx("div",{className:"p-4 pt-0 space-y-4",children:a.categories.map(s=>e.jsxs("div",{children:[e.jsx("h3",{className:"text-xs font-black uppercase tracking-wider text-white/60 mb-2",children:s.title}),e.jsx("div",{className:"space-y-2",children:s.items.map(r=>e.jsxs("div",{className:"flex gap-3 p-2 bg-white/5 rounded-xl",children:[e.jsx("div",{className:"w-14 h-14 rounded-xl overflow-hidden flex-shrink-0",children:r.imageUrl?e.jsx("img",{src:r.imageUrl,alt:"",className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full bg-white/10 flex items-center justify-center",children:e.jsx(It,{className:"w-6 h-6 text-white/20"})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"text-[11px] font-bold text-white line-clamp-1",children:r.title}),e.jsx("p",{className:"text-[9px] text-white/40 line-clamp-2",children:r.description})]}),e.jsxs("div",{className:"text-[11px] font-black text-primary",children:["R$ ",r.price.toFixed(2).replace(".",",")]})]},r.id))})]},s.id))}),a.categories.length===0&&e.jsxs("div",{className:"flex flex-col items-center justify-center h-48 text-white/20",children:[e.jsx(Se,{className:"w-12 h-12 mb-2"}),e.jsx("span",{className:"text-xs",children:"Adicione categorias"})]})]})]})}function Ku(){const{user:a}=we(),t=Yt(_=>_.generatedImage),[s,r]=f.useState(null),[i,n]=f.useState(null),[o,l]=f.useState(!0),[c,d]=f.useState(!1),[m,u]=f.useState(!1),[h,x]=f.useState(!1),[v,w]=f.useState(!1),[y,p]=f.useState(null);f.useEffect(()=>{async function _(){if(a?.uid)try{const E=await zu(a.uid);E?(r({ownerId:E.ownerId,slug:E.slug,name:E.name,description:E.description,logoUrl:E.logoUrl,phone:E.phone,themeColor:E.themeColor,categories:E.categories}),n(E.id)):r(Ei(a.uid))}catch(E){console.error("Erro ao carregar menu:",E),P.error("Erro ao carregar menu"),r(Ei(a?.uid||""))}finally{l(!1)}}_()},[a?.uid]);const g=f.useCallback(async()=>{if(!(!s||!a?.uid)){d(!0);try{if(i)await Uu(i,s);else{const _=await Vu(s);n(_.id)}P.success("Cardpio salvo!",{duration:1500})}catch(_){console.error("Erro ao salvar:",_),P.error("Erro ao salvar cardpio")}finally{d(!1)}}},[s,i,a?.uid]),N=(_,E)=>{r(L=>L?{...L,[_]:E}:null)},S=_=>{N("name",_),(!s?.slug||s.slug===_a(s.name))&&N("slug",_a(_))},M=()=>{const _={id:Ss(),title:"Nova Categoria",items:[]};r(E=>E?{...E,categories:[...E.categories,_]}:null)},C=(_,E)=>{r(L=>L?{...L,categories:L.categories.map(A=>A.id===_?{...A,title:E}:A)}:null)},D=_=>{r(E=>E?{...E,categories:E.categories.filter(L=>L.id!==_)}:null)},X=_=>{const E={id:Ss(),title:"Novo Item",description:"",price:0,imageUrl:null,isHighlight:!1};r(L=>L?{...L,categories:L.categories.map(A=>A.id===_?{...A,items:[...A.items,E]}:A)}:null),p({catId:_,itemId:E.id})},ee=(_,E,L)=>{r(A=>A?{...A,categories:A.categories.map(H=>H.id===_?{...H,items:H.items.map(j=>j.id===E?{...j,...L}:j)}:H)}:null)},B=(_,E)=>{r(L=>L?{...L,categories:L.categories.map(A=>A.id===_?{...A,items:A.items.filter(H=>H.id!==E)}:A)}:null)},K=()=>{if(!t){P.error("Gere uma imagem no Studio primeiro!");return}s?.categories.length===0&&M();const _=s?.categories[0]?.id;if(!_)return;const E={id:Ss(),title:"Novo Prato do Studio",description:"Descrio do prato...",price:29.9,imageUrl:t,isHighlight:!1};r(L=>L?{...L,categories:L.categories.map(A=>A.id===_?{...A,items:[...A.items,E]}:A)}:null),P.success("Imagem importada do Studio!")},T=async(_,E)=>{const L=s?.categories.find(A=>A.id===_)?.items.find(A=>A.id===E);if(!L?.description){P.error("Adicione uma descrio primeiro");return}x(!0);try{const A=await qu(L.description,"gourmet");ee(_,E,{description:A}),P.success("Descrio aprimorada! ")}catch(A){P.error(A.message||"Erro ao aprimorar descrio")}finally{x(!1)}},U=async()=>{if(!s)return;const _=s.categories.flatMap(L=>L.items);if(_.length<2){P.error("Adicione mais itens para organizar");return}const E=_.map(L=>L.title);w(!0);try{const L=await Hu(E),A=L.categories.map(H=>({id:Ss(),title:H.name,items:H.items.map(j=>_.find(O=>O.title===j)||null).filter(j=>j!==null).map(j=>({...j,isHighlight:L.suggestedHighlights.includes(j.title)}))}));r(H=>H?{...H,categories:A}:null),P.success(`Cardpio organizado! ${L.suggestedHighlights.length} destaques sugeridos `)}catch(L){P.error(L.message||"Erro ao organizar cardpio")}finally{w(!1)}},J=s?.slug?`https://emprata.ai/menu/${s.slug}`:"";return o?e.jsx("div",{className:"min-h-screen bg-[#0a0a0a] flex items-center justify-center",children:e.jsx(le,{className:"w-8 h-8 text-primary animate-spin"})}):s?e.jsxs("div",{className:"min-h-screen bg-[#0a0a0a] text-white",children:[e.jsxs("header",{className:"h-16 md:h-20 border-b border-white/5 flex items-center justify-between px-4 md:px-8 bg-[#0a0a0a]/80 backdrop-blur-xl sticky top-0 z-50",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(me,{to:"/dashboard",className:"text-white/40 hover:text-white transition-colors",children:e.jsx(Bs,{className:"w-6 h-6"})}),e.jsxs("div",{children:[e.jsxs("h1",{className:"text-lg font-black italic tracking-tight flex items-center gap-2",children:[e.jsx(Se,{className:"w-5 h-5 text-primary"}),"Living Menu"]}),e.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest text-white/30",children:"Cardpio Digital"})]})]}),e.jsxs("div",{className:"flex items-center gap-2 md:gap-3",children:[e.jsxs("button",{onClick:K,disabled:!t,className:`flex items-center gap-2 px-3 py-2 rounded-xl text-xs font-bold uppercase tracking-wider transition-all ${t?"bg-green-500/20 text-green-400 hover:bg-green-500/30":"bg-white/5 text-white/30 cursor-not-allowed"}`,children:[e.jsx(Yi,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden md:inline",children:"Importar do Studio"})]}),e.jsx("button",{onClick:()=>u(!0),disabled:!s.slug,className:"p-2 bg-white/5 hover:bg-white/10 rounded-xl transition-colors disabled:opacity-50",children:e.jsx(Rt,{className:"w-5 h-5"})}),e.jsxs("button",{onClick:g,disabled:c,className:"flex items-center gap-2 px-4 py-2 bg-primary hover:bg-orange-600 rounded-xl font-bold text-sm transition-all",children:[c?e.jsx(le,{className:"w-4 h-4 animate-spin"}):e.jsx(Ce,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden md:inline",children:"Salvar"})]})]})]}),e.jsxs("div",{className:"flex flex-col lg:flex-row h-[calc(100vh-4rem)] md:h-[calc(100vh-5rem)]",children:[e.jsxs("div",{className:"flex-1 overflow-y-auto p-4 md:p-8 space-y-6",children:[e.jsxs("section",{className:"bg-white/5 rounded-3xl p-6 border border-white/5",children:[e.jsx("h2",{className:"text-sm font-black uppercase tracking-widest text-white/40 mb-4",children:"Configurao"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-bold uppercase tracking-wider text-white/30 mb-1 block",children:"Nome do Restaurante"}),e.jsx("input",{type:"text",value:s.name,onChange:_=>S(_.target.value),placeholder:"Ex: Pizzaria do Zico",className:"w-full bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-white placeholder-white/20 focus:border-primary focus:outline-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-bold uppercase tracking-wider text-white/30 mb-1 block",children:"URL do Cardpio"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-white/30 text-sm",children:"/menu/"}),e.jsx("input",{type:"text",value:s.slug,onChange:_=>N("slug",_a(_.target.value)),placeholder:"pizzaria-do-zico",className:"flex-1 bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-white placeholder-white/20 focus:border-primary focus:outline-none"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-bold uppercase tracking-wider text-white/30 mb-1 block",children:"WhatsApp"}),e.jsxs("div",{className:"relative",children:[e.jsx(us,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-white/30"}),e.jsx("input",{type:"text",value:s.phone,onChange:_=>N("phone",_.target.value),placeholder:"5511999999999",className:"w-full bg-white/5 border border-white/10 rounded-xl px-4 py-3 pl-10 text-white placeholder-white/20 focus:border-primary focus:outline-none"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-bold uppercase tracking-wider text-white/30 mb-1 block",children:"Cor Principal"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"color",value:s.themeColor,onChange:_=>N("themeColor",_.target.value),className:"w-12 h-12 rounded-xl border-2 border-white/10 cursor-pointer"}),e.jsx("input",{type:"text",value:s.themeColor,onChange:_=>N("themeColor",_.target.value),className:"flex-1 bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-white uppercase focus:border-primary focus:outline-none"})]})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{className:"text-[10px] font-bold uppercase tracking-wider text-white/30 mb-1 block",children:"Descrio Curta"}),e.jsx("textarea",{value:s.description,onChange:_=>N("description",_.target.value),placeholder:"Desde 1990 servindo as melhores pizzas...",rows:2,className:"w-full bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-white placeholder-white/20 focus:border-primary focus:outline-none resize-none"})]})]}),e.jsxs("section",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-sm font-black uppercase tracking-widest text-white/40",children:"Categorias & Itens"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{onClick:U,disabled:v||s.categories.flatMap(_=>_.items).length<2,className:"flex items-center gap-2 px-3 py-2 bg-purple-500/20 hover:bg-purple-500/30 text-purple-400 rounded-xl text-xs font-bold uppercase tracking-wider transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:[v?e.jsx(le,{className:"w-4 h-4 animate-spin"}):e.jsx(Mo,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden md:inline",children:"Organizar com IA"})]}),e.jsxs("button",{onClick:M,className:"flex items-center gap-2 px-3 py-2 bg-white/5 hover:bg-white/10 rounded-xl text-xs font-bold uppercase tracking-wider transition-all",children:[e.jsx(Ze,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden md:inline",children:"Categoria"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(ce,{children:s.categories.map(_=>e.jsxs(k.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"bg-white/5 rounded-2xl border border-white/5 overflow-hidden",children:[e.jsxs("div",{className:"flex items-center gap-3 p-4 border-b border-white/5",children:[e.jsx(Oo,{className:"w-4 h-4 text-white/20 cursor-grab"}),e.jsx("input",{type:"text",value:_.title,onChange:E=>C(_.id,E.target.value),className:"flex-1 bg-transparent text-sm font-bold text-white focus:outline-none"}),e.jsx("button",{onClick:()=>X(_.id),className:"p-1.5 bg-white/5 hover:bg-white/10 rounded-lg transition-colors",children:e.jsx(Ze,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>D(_.id),className:"p-1.5 text-red-400 hover:bg-red-500/20 rounded-lg transition-colors",children:e.jsx(Fa,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"divide-y divide-white/5",children:[_.items.map(E=>e.jsxs("div",{className:"p-4 flex items-start gap-4",children:[e.jsxs("div",{className:"w-16 h-16 rounded-xl overflow-hidden bg-white/5 flex-shrink-0 relative",children:[E.imageUrl?e.jsx("img",{src:E.imageUrl,alt:"",className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx(Xi,{className:"w-6 h-6 text-white/20"})}),E.isHighlight&&e.jsx("div",{className:"absolute top-1 right-1 bg-yellow-500 rounded-full p-0.5",children:e.jsx(Ee,{className:"w-3 h-3 text-black"})})]}),e.jsxs("div",{className:"flex-1 min-w-0 space-y-2",children:[e.jsx("input",{type:"text",value:E.title,onChange:L=>ee(_.id,E.id,{title:L.target.value}),className:"w-full bg-transparent text-sm font-bold text-white focus:outline-none",placeholder:"Nome do prato"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("textarea",{value:E.description,onChange:L=>ee(_.id,E.id,{description:L.target.value}),className:"flex-1 bg-white/5 rounded-lg px-3 py-2 text-xs text-white/60 focus:outline-none resize-none",placeholder:"Descrio...",rows:2}),e.jsx("button",{onClick:()=>T(_.id,E.id),disabled:h||!E.description,className:"p-2 bg-purple-500/20 hover:bg-purple-500/30 text-purple-400 rounded-lg transition-colors disabled:opacity-50",title:"Aprimorar com IA",children:h?e.jsx(le,{className:"w-4 h-4 animate-spin"}):e.jsx(Ee,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"text-white/40 text-xs",children:"R$"}),e.jsx("input",{type:"number",step:"0.01",value:E.price||"",onChange:L=>ee(_.id,E.id,{price:parseFloat(L.target.value)||0}),className:"w-20 bg-white/5 rounded-lg px-2 py-1 text-xs text-white focus:outline-none",placeholder:"0,00"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:E.isHighlight,onChange:L=>ee(_.id,E.id,{isHighlight:L.target.checked}),className:"w-4 h-4 rounded bg-white/5 border-white/10"}),e.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wider text-yellow-500",children:"Destaque"})]})]})]}),e.jsx("button",{onClick:()=>B(_.id,E.id),className:"p-1.5 text-red-400 hover:bg-red-500/20 rounded-lg transition-colors",children:e.jsx(Fa,{className:"w-4 h-4"})})]},E.id)),_.items.length===0&&e.jsx("div",{className:"p-4 text-center text-white/20 text-xs",children:"Clique em + para adicionar itens"})]})]},_.id))}),s.categories.length===0&&e.jsxs("div",{className:"text-center py-12 text-white/20",children:[e.jsx(Se,{className:"w-12 h-12 mx-auto mb-3"}),e.jsx("p",{className:"text-sm",children:"Adicione sua primeira categoria"})]})]})]})]}),e.jsxs("div",{className:"hidden lg:flex w-[400px] border-l border-white/5 flex-col items-center justify-center p-8 bg-black/20",children:[e.jsx("h3",{className:"text-[10px] font-black uppercase tracking-widest text-white/30 mb-4",children:"Preview"}),e.jsx(Gu,{menu:s}),s.slug&&e.jsxs("a",{href:`/menu/${s.slug}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 mt-4 text-xs text-white/40 hover:text-primary transition-colors",children:[e.jsx(Ya,{className:"w-4 h-4"}),"Ver pgina pblica"]})]})]}),e.jsx(ce,{children:m&&e.jsx(k.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/90 backdrop-blur-md p-4",onClick:()=>u(!1),children:e.jsxs(k.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-[#1a1a1a] rounded-3xl p-8 border border-white/10 max-w-md w-full text-center",onClick:_=>_.stopPropagation(),children:[e.jsx("h3",{className:"text-xl font-black mb-2",children:"QR Code do Cardpio"}),e.jsx("p",{className:"text-white/40 text-sm mb-6",children:"Escaneie para acessar o cardpio"}),e.jsx("div",{className:"bg-white p-4 rounded-2xl inline-block mb-6",children:e.jsx(so,{value:J,size:200})}),e.jsx("p",{className:"text-xs text-white/40 mb-4 break-all",children:J}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>navigator.clipboard.writeText(J).then(()=>P.success("Link copiado!")),className:"flex-1 py-3 bg-white/10 hover:bg-white/20 rounded-xl font-bold text-sm transition-all",children:"Copiar Link"}),e.jsx("button",{onClick:()=>u(!1),className:"flex-1 py-3 bg-primary hover:bg-orange-600 rounded-xl font-bold text-sm transition-all",children:"Fechar"})]})]})})})]}):null}const Ai=["Acendendo o fogo...","Contratando o fotgrafo...","Arrumando a mesa...","Passando um pano...","Temperando a lente...","Finalizando o empratamento..."],Si=[Po,It,Do,Se],io=()=>{const[a,t]=f.useState(0),[s,r]=f.useState(0);f.useEffect(()=>{const n=setInterval(()=>{t(l=>(l+1)%Ai.length)},800),o=setInterval(()=>{r(l=>(l+1)%Si.length)},1500);return()=>{clearInterval(n),clearInterval(o)}},[]);const i=Si[s];return e.jsxs(k.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-primary z-50 flex flex-col items-center justify-center text-white p-8",children:[e.jsxs("div",{className:"relative",children:[e.jsx(k.div,{animate:{scale:[1,1.2,1],opacity:[.5,.8,.5]},transition:{repeat:1/0,duration:2},className:"absolute inset-0 bg-white/20 rounded-full blur-3xl"}),e.jsx(k.div,{animate:{rotate:360},transition:{repeat:1/0,duration:8,ease:"linear"},className:"w-32 h-32 border-4 border-dashed border-white/50 rounded-full flex items-center justify-center",children:e.jsx(k.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{scale:1.5,opacity:0},className:"w-16 h-16 bg-white text-primary rounded-full flex items-center justify-center shadow-xl",children:e.jsx(i,{className:"w-8 h-8"})},s)})]}),e.jsxs("div",{className:"mt-12 h-20 flex flex-col items-center",children:[e.jsx("h2",{className:"text-3xl font-extrabold mb-4 uppercase tracking-tighter italic",children:"Chef Mode"}),e.jsx(ce,{mode:"wait",children:e.jsx(k.p,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"text-xl font-bold text-white/90 text-center",children:Ai[a]},a)})]}),e.jsx("div",{className:"mt-8 w-48 h-2 bg-white/20 rounded-full overflow-hidden",children:e.jsx(k.div,{animate:{x:["-100%","100%"]},transition:{repeat:1/0,duration:1.5,ease:"easeInOut"},className:"w-full h-full bg-white"})}),e.jsx("div",{className:"absolute bottom-12 text-center opacity-60",children:e.jsx("p",{className:"text-xs font-bold uppercase tracking-widest",children:"A inteligncia est cozinhando..."})})]})};function jt(a){return typeof a=="string"||a instanceof String}function _i(a){var t;return typeof a=="object"&&a!=null&&(a==null||(t=a.constructor)==null?void 0:t.name)==="Object"}function no(a,t){return Array.isArray(t)?no(a,(s,r)=>t.includes(r)):Object.entries(a).reduce((s,r)=>{let[i,n]=r;return t(n,i)&&(s[i]=n),s},{})}const Y={NONE:"NONE",LEFT:"LEFT",FORCE_LEFT:"FORCE_LEFT",RIGHT:"RIGHT",FORCE_RIGHT:"FORCE_RIGHT"};function Wu(a){switch(a){case Y.LEFT:return Y.FORCE_LEFT;case Y.RIGHT:return Y.FORCE_RIGHT;default:return a}}function Ta(a){return a.replace(/([.*+?^=!:${}()|[\]/\\])/g,"\\$1")}function Hs(a,t){if(t===a)return!0;const s=Array.isArray(t),r=Array.isArray(a);let i;if(s&&r){if(t.length!=a.length)return!1;for(i=0;i<t.length;i++)if(!Hs(t[i],a[i]))return!1;return!0}if(s!=r)return!1;if(t&&a&&typeof t=="object"&&typeof a=="object"){const n=t instanceof Date,o=a instanceof Date;if(n&&o)return t.getTime()==a.getTime();if(n!=o)return!1;const l=t instanceof RegExp,c=a instanceof RegExp;if(l&&c)return t.toString()==a.toString();if(l!=c)return!1;const d=Object.keys(t);for(i=0;i<d.length;i++)if(!Object.prototype.hasOwnProperty.call(a,d[i]))return!1;for(i=0;i<d.length;i++)if(!Hs(a[d[i]],t[d[i]]))return!1;return!0}else if(t&&a&&typeof t=="function"&&typeof a=="function")return t.toString()===a.toString();return!1}class Yu{constructor(t){for(Object.assign(this,t);this.value.slice(0,this.startChangePos)!==this.oldValue.slice(0,this.startChangePos);)--this.oldSelection.start;if(this.insertedCount)for(;this.value.slice(this.cursorPos)!==this.oldValue.slice(this.oldSelection.end);)this.value.length-this.cursorPos<this.oldValue.length-this.oldSelection.end?++this.oldSelection.end:++this.cursorPos}get startChangePos(){return Math.min(this.cursorPos,this.oldSelection.start)}get insertedCount(){return this.cursorPos-this.startChangePos}get inserted(){return this.value.substr(this.startChangePos,this.insertedCount)}get removedCount(){return Math.max(this.oldSelection.end-this.startChangePos||this.oldValue.length-this.value.length,0)}get removed(){return this.oldValue.substr(this.startChangePos,this.removedCount)}get head(){return this.value.substring(0,this.startChangePos)}get tail(){return this.value.substring(this.startChangePos+this.insertedCount)}get removeDirection(){return!this.removedCount||this.insertedCount?Y.NONE:(this.oldSelection.end===this.cursorPos||this.oldSelection.start===this.cursorPos)&&this.oldSelection.end===this.oldSelection.start?Y.RIGHT:Y.LEFT}}function Z(a,t){return new Z.InputMask(a,t)}function oo(a){if(a==null)throw new Error("mask property should be defined");return a instanceof RegExp?Z.MaskedRegExp:jt(a)?Z.MaskedPattern:a===Date?Z.MaskedDate:a===Number?Z.MaskedNumber:Array.isArray(a)||a===Array?Z.MaskedDynamic:Z.Masked&&a.prototype instanceof Z.Masked?a:Z.Masked&&a instanceof Z.Masked?a.constructor:a instanceof Function?Z.MaskedFunction:(console.warn("Mask not found for mask",a),Z.Masked)}function ds(a){if(!a)throw new Error("Options in not defined");if(Z.Masked){if(a.prototype instanceof Z.Masked)return{mask:a};const{mask:t=void 0,...s}=a instanceof Z.Masked?{mask:a}:_i(a)&&a.mask instanceof Z.Masked?a:{};if(t){const r=t.mask;return{...no(t,(i,n)=>!n.startsWith("_")),mask:t.constructor,_mask:r,...s}}}return _i(a)?{...a}:{mask:a}}function ht(a){if(Z.Masked&&a instanceof Z.Masked)return a;const t=ds(a),s=oo(t.mask);if(!s)throw new Error("Masked class is not found for provided mask "+t.mask+", appropriate module needs to be imported manually before creating mask.");return t.mask===s&&delete t.mask,t._mask&&(t.mask=t._mask,delete t._mask),new s(t)}Z.createMask=ht;class cr{get selectionStart(){let t;try{t=this._unsafeSelectionStart}catch{}return t??this.value.length}get selectionEnd(){let t;try{t=this._unsafeSelectionEnd}catch{}return t??this.value.length}select(t,s){if(!(t==null||s==null||t===this.selectionStart&&s===this.selectionEnd))try{this._unsafeSelect(t,s)}catch{}}get isActive(){return!1}}Z.MaskElement=cr;const Ti=90,Qu=89;class Ys extends cr{constructor(t){super(),this.input=t,this._onKeydown=this._onKeydown.bind(this),this._onInput=this._onInput.bind(this),this._onBeforeinput=this._onBeforeinput.bind(this),this._onCompositionEnd=this._onCompositionEnd.bind(this)}get rootElement(){var t,s,r;return(t=(s=(r=this.input).getRootNode)==null?void 0:s.call(r))!=null?t:document}get isActive(){return this.input===this.rootElement.activeElement}bindEvents(t){this.input.addEventListener("keydown",this._onKeydown),this.input.addEventListener("input",this._onInput),this.input.addEventListener("beforeinput",this._onBeforeinput),this.input.addEventListener("compositionend",this._onCompositionEnd),this.input.addEventListener("drop",t.drop),this.input.addEventListener("click",t.click),this.input.addEventListener("focus",t.focus),this.input.addEventListener("blur",t.commit),this._handlers=t}_onKeydown(t){if(this._handlers.redo&&(t.keyCode===Ti&&t.shiftKey&&(t.metaKey||t.ctrlKey)||t.keyCode===Qu&&t.ctrlKey))return t.preventDefault(),this._handlers.redo(t);if(this._handlers.undo&&t.keyCode===Ti&&(t.metaKey||t.ctrlKey))return t.preventDefault(),this._handlers.undo(t);t.isComposing||this._handlers.selectionChange(t)}_onBeforeinput(t){if(t.inputType==="historyUndo"&&this._handlers.undo)return t.preventDefault(),this._handlers.undo(t);if(t.inputType==="historyRedo"&&this._handlers.redo)return t.preventDefault(),this._handlers.redo(t)}_onCompositionEnd(t){this._handlers.input(t)}_onInput(t){t.isComposing||this._handlers.input(t)}unbindEvents(){this.input.removeEventListener("keydown",this._onKeydown),this.input.removeEventListener("input",this._onInput),this.input.removeEventListener("beforeinput",this._onBeforeinput),this.input.removeEventListener("compositionend",this._onCompositionEnd),this.input.removeEventListener("drop",this._handlers.drop),this.input.removeEventListener("click",this._handlers.click),this.input.removeEventListener("focus",this._handlers.focus),this.input.removeEventListener("blur",this._handlers.commit),this._handlers={}}}Z.HTMLMaskElement=Ys;class Xu extends Ys{constructor(t){super(t),this.input=t}get _unsafeSelectionStart(){return this.input.selectionStart!=null?this.input.selectionStart:this.value.length}get _unsafeSelectionEnd(){return this.input.selectionEnd}_unsafeSelect(t,s){this.input.setSelectionRange(t,s)}get value(){return this.input.value}set value(t){this.input.value=t}}Z.HTMLMaskElement=Ys;class lo extends Ys{get _unsafeSelectionStart(){const t=this.rootElement,s=t.getSelection&&t.getSelection(),r=s&&s.anchorOffset,i=s&&s.focusOffset;return i==null||r==null||r<i?r:i}get _unsafeSelectionEnd(){const t=this.rootElement,s=t.getSelection&&t.getSelection(),r=s&&s.anchorOffset,i=s&&s.focusOffset;return i==null||r==null||r>i?r:i}_unsafeSelect(t,s){if(!this.rootElement.createRange)return;const r=this.rootElement.createRange();r.setStart(this.input.firstChild||this.input,t),r.setEnd(this.input.lastChild||this.input,s);const i=this.rootElement,n=i.getSelection&&i.getSelection();n&&(n.removeAllRanges(),n.addRange(r))}get value(){return this.input.textContent||""}set value(t){this.input.textContent=t}}Z.HTMLContenteditableMaskElement=lo;class Qs{constructor(){this.states=[],this.currentIndex=0}get currentState(){return this.states[this.currentIndex]}get isEmpty(){return this.states.length===0}push(t){this.currentIndex<this.states.length-1&&(this.states.length=this.currentIndex+1),this.states.push(t),this.states.length>Qs.MAX_LENGTH&&this.states.shift(),this.currentIndex=this.states.length-1}go(t){return this.currentIndex=Math.min(Math.max(this.currentIndex+t,0),this.states.length-1),this.currentState}undo(){return this.go(-1)}redo(){return this.go(1)}clear(){this.states.length=0,this.currentIndex=0}}Qs.MAX_LENGTH=100;class Ju{constructor(t,s){this.el=t instanceof cr?t:t.isContentEditable&&t.tagName!=="INPUT"&&t.tagName!=="TEXTAREA"?new lo(t):new Xu(t),this.masked=ht(s),this._listeners={},this._value="",this._unmaskedValue="",this._rawInputValue="",this.history=new Qs,this._saveSelection=this._saveSelection.bind(this),this._onInput=this._onInput.bind(this),this._onChange=this._onChange.bind(this),this._onDrop=this._onDrop.bind(this),this._onFocus=this._onFocus.bind(this),this._onClick=this._onClick.bind(this),this._onUndo=this._onUndo.bind(this),this._onRedo=this._onRedo.bind(this),this.alignCursor=this.alignCursor.bind(this),this.alignCursorFriendly=this.alignCursorFriendly.bind(this),this._bindEvents(),this.updateValue(),this._onChange()}maskEquals(t){var s;return t==null||((s=this.masked)==null?void 0:s.maskEquals(t))}get mask(){return this.masked.mask}set mask(t){if(this.maskEquals(t))return;if(!(t instanceof Z.Masked)&&this.masked.constructor===oo(t)){this.masked.updateOptions({mask:t});return}const s=t instanceof Z.Masked?t:ht({mask:t});s.unmaskedValue=this.masked.unmaskedValue,this.masked=s}get value(){return this._value}set value(t){this.value!==t&&(this.masked.value=t,this.updateControl("auto"))}get unmaskedValue(){return this._unmaskedValue}set unmaskedValue(t){this.unmaskedValue!==t&&(this.masked.unmaskedValue=t,this.updateControl("auto"))}get rawInputValue(){return this._rawInputValue}set rawInputValue(t){this.rawInputValue!==t&&(this.masked.rawInputValue=t,this.updateControl(),this.alignCursor())}get typedValue(){return this.masked.typedValue}set typedValue(t){this.masked.typedValueEquals(t)||(this.masked.typedValue=t,this.updateControl("auto"))}get displayValue(){return this.masked.displayValue}_bindEvents(){this.el.bindEvents({selectionChange:this._saveSelection,input:this._onInput,drop:this._onDrop,click:this._onClick,focus:this._onFocus,commit:this._onChange,undo:this._onUndo,redo:this._onRedo})}_unbindEvents(){this.el&&this.el.unbindEvents()}_fireEvent(t,s){const r=this._listeners[t];r&&r.forEach(i=>i(s))}get selectionStart(){return this._cursorChanging?this._changingCursorPos:this.el.selectionStart}get cursorPos(){return this._cursorChanging?this._changingCursorPos:this.el.selectionEnd}set cursorPos(t){!this.el||!this.el.isActive||(this.el.select(t,t),this._saveSelection())}_saveSelection(){this.displayValue!==this.el.value&&console.warn("Element value was changed outside of mask. Syncronize mask using `mask.updateValue()` to work properly."),this._selection={start:this.selectionStart,end:this.cursorPos}}updateValue(){this.masked.value=this.el.value,this._value=this.masked.value,this._unmaskedValue=this.masked.unmaskedValue,this._rawInputValue=this.masked.rawInputValue}updateControl(t){const s=this.masked.unmaskedValue,r=this.masked.value,i=this.masked.rawInputValue,n=this.displayValue,o=this.unmaskedValue!==s||this.value!==r||this._rawInputValue!==i;this._unmaskedValue=s,this._value=r,this._rawInputValue=i,this.el.value!==n&&(this.el.value=n),t==="auto"?this.alignCursor():t!=null&&(this.cursorPos=t),o&&this._fireChangeEvents(),!this._historyChanging&&(o||this.history.isEmpty)&&this.history.push({unmaskedValue:s,selection:{start:this.selectionStart,end:this.cursorPos}})}updateOptions(t){const{mask:s,...r}=t,i=!this.maskEquals(s),n=this.masked.optionsIsChanged(r);i&&(this.mask=s),n&&this.masked.updateOptions(r),(i||n)&&this.updateControl()}updateCursor(t){t!=null&&(this.cursorPos=t,this._delayUpdateCursor(t))}_delayUpdateCursor(t){this._abortUpdateCursor(),this._changingCursorPos=t,this._cursorChanging=setTimeout(()=>{this.el&&(this.cursorPos=this._changingCursorPos,this._abortUpdateCursor())},10)}_fireChangeEvents(){this._fireEvent("accept",this._inputEvent),this.masked.isComplete&&this._fireEvent("complete",this._inputEvent)}_abortUpdateCursor(){this._cursorChanging&&(clearTimeout(this._cursorChanging),delete this._cursorChanging)}alignCursor(){this.cursorPos=this.masked.nearestInputPos(this.masked.nearestInputPos(this.cursorPos,Y.LEFT))}alignCursorFriendly(){this.selectionStart===this.cursorPos&&this.alignCursor()}on(t,s){return this._listeners[t]||(this._listeners[t]=[]),this._listeners[t].push(s),this}off(t,s){if(!this._listeners[t])return this;if(!s)return delete this._listeners[t],this;const r=this._listeners[t].indexOf(s);return r>=0&&this._listeners[t].splice(r,1),this}_onInput(t){this._inputEvent=t,this._abortUpdateCursor();const s=new Yu({value:this.el.value,cursorPos:this.cursorPos,oldValue:this.displayValue,oldSelection:this._selection}),r=this.masked.rawInputValue,i=this.masked.splice(s.startChangePos,s.removed.length,s.inserted,s.removeDirection,{input:!0,raw:!0}).offset,n=r===this.masked.rawInputValue?s.removeDirection:Y.NONE;let o=this.masked.nearestInputPos(s.startChangePos+i,n);n!==Y.NONE&&(o=this.masked.nearestInputPos(o,Y.NONE)),this.updateControl(o),delete this._inputEvent}_onChange(){this.displayValue!==this.el.value&&this.updateValue(),this.masked.doCommit(),this.updateControl(),this._saveSelection()}_onDrop(t){t.preventDefault(),t.stopPropagation()}_onFocus(t){this.alignCursorFriendly()}_onClick(t){this.alignCursorFriendly()}_onUndo(){this._applyHistoryState(this.history.undo())}_onRedo(){this._applyHistoryState(this.history.redo())}_applyHistoryState(t){t&&(this._historyChanging=!0,this.unmaskedValue=t.unmaskedValue,this.el.select(t.selection.start,t.selection.end),this._saveSelection(),this._historyChanging=!1)}destroy(){this._unbindEvents(),this._listeners.length=0,delete this.el}}Z.InputMask=Ju;class re{static normalize(t){return Array.isArray(t)?t:[t,new re]}constructor(t){Object.assign(this,{inserted:"",rawInserted:"",tailShift:0,skip:!1},t)}aggregate(t){return this.inserted+=t.inserted,this.rawInserted+=t.rawInserted,this.tailShift+=t.tailShift,this.skip=this.skip||t.skip,this}get offset(){return this.tailShift+this.inserted.length}get consumed(){return!!this.rawInserted||this.skip}equals(t){return this.inserted===t.inserted&&this.tailShift===t.tailShift&&this.rawInserted===t.rawInserted&&this.skip===t.skip}}Z.ChangeDetails=re;class at{constructor(t,s,r){t===void 0&&(t=""),s===void 0&&(s=0),this.value=t,this.from=s,this.stop=r}toString(){return this.value}extend(t){this.value+=String(t)}appendTo(t){return t.append(this.toString(),{tail:!0}).aggregate(t._appendPlaceholder())}get state(){return{value:this.value,from:this.from,stop:this.stop}}set state(t){Object.assign(this,t)}unshift(t){if(!this.value.length||t!=null&&this.from>=t)return"";const s=this.value[0];return this.value=this.value.slice(1),s}shift(){if(!this.value.length)return"";const t=this.value[this.value.length-1];return this.value=this.value.slice(0,-1),t}}class _e{constructor(t){this._value="",this._update({..._e.DEFAULTS,...t}),this._initialized=!0}updateOptions(t){this.optionsIsChanged(t)&&this.withValueRefresh(this._update.bind(this,t))}_update(t){Object.assign(this,t)}get state(){return{_value:this.value,_rawInputValue:this.rawInputValue}}set state(t){this._value=t._value}reset(){this._value=""}get value(){return this._value}set value(t){this.resolve(t,{input:!0})}resolve(t,s){s===void 0&&(s={input:!0}),this.reset(),this.append(t,s,""),this.doCommit()}get unmaskedValue(){return this.value}set unmaskedValue(t){this.resolve(t,{})}get typedValue(){return this.parse?this.parse(this.value,this):this.unmaskedValue}set typedValue(t){this.format?this.value=this.format(t,this):this.unmaskedValue=String(t)}get rawInputValue(){return this.extractInput(0,this.displayValue.length,{raw:!0})}set rawInputValue(t){this.resolve(t,{raw:!0})}get displayValue(){return this.value}get isComplete(){return!0}get isFilled(){return this.isComplete}nearestInputPos(t,s){return t}totalInputPositions(t,s){return t===void 0&&(t=0),s===void 0&&(s=this.displayValue.length),Math.min(this.displayValue.length,s-t)}extractInput(t,s,r){return t===void 0&&(t=0),s===void 0&&(s=this.displayValue.length),this.displayValue.slice(t,s)}extractTail(t,s){return t===void 0&&(t=0),s===void 0&&(s=this.displayValue.length),new at(this.extractInput(t,s),t)}appendTail(t){return jt(t)&&(t=new at(String(t))),t.appendTo(this)}_appendCharRaw(t,s){return t?(this._value+=t,new re({inserted:t,rawInserted:t})):new re}_appendChar(t,s,r){s===void 0&&(s={});const i=this.state;let n;if([t,n]=this.doPrepareChar(t,s),t&&(n=n.aggregate(this._appendCharRaw(t,s)),!n.rawInserted&&this.autofix==="pad")){const o=this.state;this.state=i;let l=this.pad(s);const c=this._appendCharRaw(t,s);l=l.aggregate(c),c.rawInserted||l.equals(n)?n=l:this.state=o}if(n.inserted){let o,l=this.doValidate(s)!==!1;if(l&&r!=null){const c=this.state;if(this.overwrite===!0){o=r.state;for(let m=0;m<n.rawInserted.length;++m)r.unshift(this.displayValue.length-n.tailShift)}let d=this.appendTail(r);if(l=d.rawInserted.length===r.toString().length,!(l&&d.inserted)&&this.overwrite==="shift"){this.state=c,o=r.state;for(let m=0;m<n.rawInserted.length;++m)r.shift();d=this.appendTail(r),l=d.rawInserted.length===r.toString().length}l&&d.inserted&&(this.state=c)}l||(n=new re,this.state=i,r&&o&&(r.state=o))}return n}_appendPlaceholder(){return new re}_appendEager(){return new re}append(t,s,r){if(!jt(t))throw new Error("value should be string");const i=jt(r)?new at(String(r)):r;s!=null&&s.tail&&(s._beforeTailState=this.state);let n;[t,n]=this.doPrepare(t,s);for(let o=0;o<t.length;++o){const l=this._appendChar(t[o],s,i);if(!l.rawInserted&&!this.doSkipInvalid(t[o],s,i))break;n.aggregate(l)}return(this.eager===!0||this.eager==="append")&&s!=null&&s.input&&t&&n.aggregate(this._appendEager()),i!=null&&(n.tailShift+=this.appendTail(i).tailShift),n}remove(t,s){return t===void 0&&(t=0),s===void 0&&(s=this.displayValue.length),this._value=this.displayValue.slice(0,t)+this.displayValue.slice(s),new re}withValueRefresh(t){if(this._refreshing||!this._initialized)return t();this._refreshing=!0;const s=this.rawInputValue,r=this.value,i=t();return this.rawInputValue=s,this.value&&this.value!==r&&r.indexOf(this.value)===0&&(this.append(r.slice(this.displayValue.length),{},""),this.doCommit()),delete this._refreshing,i}runIsolated(t){if(this._isolated||!this._initialized)return t(this);this._isolated=!0;const s=this.state,r=t(this);return this.state=s,delete this._isolated,r}doSkipInvalid(t,s,r){return!!this.skipInvalid}doPrepare(t,s){return s===void 0&&(s={}),re.normalize(this.prepare?this.prepare(t,this,s):t)}doPrepareChar(t,s){return s===void 0&&(s={}),re.normalize(this.prepareChar?this.prepareChar(t,this,s):t)}doValidate(t){return(!this.validate||this.validate(this.value,this,t))&&(!this.parent||this.parent.doValidate(t))}doCommit(){this.commit&&this.commit(this.value,this)}splice(t,s,r,i,n){r===void 0&&(r=""),i===void 0&&(i=Y.NONE),n===void 0&&(n={input:!0});const o=t+s,l=this.extractTail(o),c=this.eager===!0||this.eager==="remove";let d;c&&(i=Wu(i),d=this.extractInput(0,o,{raw:!0}));let m=t;const u=new re;if(i!==Y.NONE&&(m=this.nearestInputPos(t,s>1&&t!==0&&!c?Y.NONE:i),u.tailShift=m-t),u.aggregate(this.remove(m)),c&&i!==Y.NONE&&d===this.rawInputValue)if(i===Y.FORCE_LEFT){let h;for(;d===this.rawInputValue&&(h=this.displayValue.length);)u.aggregate(new re({tailShift:-1})).aggregate(this.remove(h-1))}else i===Y.FORCE_RIGHT&&l.unshift();return u.aggregate(this.append(r,n,l))}maskEquals(t){return this.mask===t}optionsIsChanged(t){return!Hs(this,t)}typedValueEquals(t){const s=this.typedValue;return t===s||_e.EMPTY_VALUES.includes(t)&&_e.EMPTY_VALUES.includes(s)||(this.format?this.format(t,this)===this.format(this.typedValue,this):!1)}pad(t){return new re}}_e.DEFAULTS={skipInvalid:!0};_e.EMPTY_VALUES=[void 0,null,""];Z.Masked=_e;class St{constructor(t,s){t===void 0&&(t=[]),s===void 0&&(s=0),this.chunks=t,this.from=s}toString(){return this.chunks.map(String).join("")}extend(t){if(!String(t))return;t=jt(t)?new at(String(t)):t;const s=this.chunks[this.chunks.length-1],r=s&&(s.stop===t.stop||t.stop==null)&&t.from===s.from+s.toString().length;if(t instanceof at)r?s.extend(t.toString()):this.chunks.push(t);else if(t instanceof St){if(t.stop==null){let i;for(;t.chunks.length&&t.chunks[0].stop==null;)i=t.chunks.shift(),i.from+=t.from,this.extend(i)}t.toString()&&(t.stop=t.blockIndex,this.chunks.push(t))}}appendTo(t){if(!(t instanceof Z.MaskedPattern))return new at(this.toString()).appendTo(t);const s=new re;for(let r=0;r<this.chunks.length;++r){const i=this.chunks[r],n=t._mapPosToBlock(t.displayValue.length),o=i.stop;let l;if(o!=null&&(!n||n.index<=o)&&((i instanceof St||t._stops.indexOf(o)>=0)&&s.aggregate(t._appendPlaceholder(o)),l=i instanceof St&&t._blocks[o]),l){const c=l.appendTail(i);s.aggregate(c);const d=i.toString().slice(c.rawInserted.length);d&&s.aggregate(t.append(d,{tail:!0}))}else s.aggregate(t.append(i.toString(),{tail:!0}))}return s}get state(){return{chunks:this.chunks.map(t=>t.state),from:this.from,stop:this.stop,blockIndex:this.blockIndex}}set state(t){const{chunks:s,...r}=t;Object.assign(this,r),this.chunks=s.map(i=>{const n="chunks"in i?new St:new at;return n.state=i,n})}unshift(t){if(!this.chunks.length||t!=null&&this.from>=t)return"";const s=t!=null?t-this.from:t;let r=0;for(;r<this.chunks.length;){const i=this.chunks[r],n=i.unshift(s);if(i.toString()){if(!n)break;++r}else this.chunks.splice(r,1);if(n)return n}return""}shift(){if(!this.chunks.length)return"";let t=this.chunks.length-1;for(;0<=t;){const s=this.chunks[t],r=s.shift();if(s.toString()){if(!r)break;--t}else this.chunks.splice(t,1);if(r)return r}return""}}class Zu{constructor(t,s){this.masked=t,this._log=[];const{offset:r,index:i}=t._mapPosToBlock(s)||(s<0?{index:0,offset:0}:{index:this.masked._blocks.length,offset:0});this.offset=r,this.index=i,this.ok=!1}get block(){return this.masked._blocks[this.index]}get pos(){return this.masked._blockStartPos(this.index)+this.offset}get state(){return{index:this.index,offset:this.offset,ok:this.ok}}set state(t){Object.assign(this,t)}pushState(){this._log.push(this.state)}popState(){const t=this._log.pop();return t&&(this.state=t),t}bindBlock(){this.block||(this.index<0&&(this.index=0,this.offset=0),this.index>=this.masked._blocks.length&&(this.index=this.masked._blocks.length-1,this.offset=this.block.displayValue.length))}_pushLeft(t){for(this.pushState(),this.bindBlock();0<=this.index;--this.index,this.offset=((s=this.block)==null?void 0:s.displayValue.length)||0){var s;if(t())return this.ok=!0}return this.ok=!1}_pushRight(t){for(this.pushState(),this.bindBlock();this.index<this.masked._blocks.length;++this.index,this.offset=0)if(t())return this.ok=!0;return this.ok=!1}pushLeftBeforeFilled(){return this._pushLeft(()=>{if(!(this.block.isFixed||!this.block.value)&&(this.offset=this.block.nearestInputPos(this.offset,Y.FORCE_LEFT),this.offset!==0))return!0})}pushLeftBeforeInput(){return this._pushLeft(()=>{if(!this.block.isFixed)return this.offset=this.block.nearestInputPos(this.offset,Y.LEFT),!0})}pushLeftBeforeRequired(){return this._pushLeft(()=>{if(!(this.block.isFixed||this.block.isOptional&&!this.block.value))return this.offset=this.block.nearestInputPos(this.offset,Y.LEFT),!0})}pushRightBeforeFilled(){return this._pushRight(()=>{if(!(this.block.isFixed||!this.block.value)&&(this.offset=this.block.nearestInputPos(this.offset,Y.FORCE_RIGHT),this.offset!==this.block.value.length))return!0})}pushRightBeforeInput(){return this._pushRight(()=>{if(!this.block.isFixed)return this.offset=this.block.nearestInputPos(this.offset,Y.NONE),!0})}pushRightBeforeRequired(){return this._pushRight(()=>{if(!(this.block.isFixed||this.block.isOptional&&!this.block.value))return this.offset=this.block.nearestInputPos(this.offset,Y.NONE),!0})}}class co{constructor(t){Object.assign(this,t),this._value="",this.isFixed=!0}get value(){return this._value}get unmaskedValue(){return this.isUnmasking?this.value:""}get rawInputValue(){return this._isRawInput?this.value:""}get displayValue(){return this.value}reset(){this._isRawInput=!1,this._value=""}remove(t,s){return t===void 0&&(t=0),s===void 0&&(s=this._value.length),this._value=this._value.slice(0,t)+this._value.slice(s),this._value||(this._isRawInput=!1),new re}nearestInputPos(t,s){s===void 0&&(s=Y.NONE);const r=0,i=this._value.length;switch(s){case Y.LEFT:case Y.FORCE_LEFT:return r;case Y.NONE:case Y.RIGHT:case Y.FORCE_RIGHT:default:return i}}totalInputPositions(t,s){return t===void 0&&(t=0),s===void 0&&(s=this._value.length),this._isRawInput?s-t:0}extractInput(t,s,r){return t===void 0&&(t=0),s===void 0&&(s=this._value.length),r===void 0&&(r={}),r.raw&&this._isRawInput&&this._value.slice(t,s)||""}get isComplete(){return!0}get isFilled(){return!!this._value}_appendChar(t,s){if(s===void 0&&(s={}),this.isFilled)return new re;const r=this.eager===!0||this.eager==="append",n=this.char===t&&(this.isUnmasking||s.input||s.raw)&&(!s.raw||!r)&&!s.tail,o=new re({inserted:this.char,rawInserted:n?this.char:""});return this._value=this.char,this._isRawInput=n&&(s.raw||s.input),o}_appendEager(){return this._appendChar(this.char,{tail:!0})}_appendPlaceholder(){const t=new re;return this.isFilled||(this._value=t.inserted=this.char),t}extractTail(){return new at("")}appendTail(t){return jt(t)&&(t=new at(String(t))),t.appendTo(this)}append(t,s,r){const i=this._appendChar(t[0],s);return r!=null&&(i.tailShift+=this.appendTail(r).tailShift),i}doCommit(){}get state(){return{_value:this._value,_rawInputValue:this.rawInputValue}}set state(t){this._value=t._value,this._isRawInput=!!t._rawInputValue}pad(t){return this._appendPlaceholder()}}class Gs{constructor(t){const{parent:s,isOptional:r,placeholderChar:i,displayChar:n,lazy:o,eager:l,...c}=t;this.masked=ht(c),Object.assign(this,{parent:s,isOptional:r,placeholderChar:i,displayChar:n,lazy:o,eager:l})}reset(){this.isFilled=!1,this.masked.reset()}remove(t,s){return t===void 0&&(t=0),s===void 0&&(s=this.value.length),t===0&&s>=1?(this.isFilled=!1,this.masked.remove(t,s)):new re}get value(){return this.masked.value||(this.isFilled&&!this.isOptional?this.placeholderChar:"")}get unmaskedValue(){return this.masked.unmaskedValue}get rawInputValue(){return this.masked.rawInputValue}get displayValue(){return this.masked.value&&this.displayChar||this.value}get isComplete(){return!!this.masked.value||this.isOptional}_appendChar(t,s){if(s===void 0&&(s={}),this.isFilled)return new re;const r=this.masked.state;let i=this.masked._appendChar(t,this.currentMaskFlags(s));return i.inserted&&this.doValidate(s)===!1&&(i=new re,this.masked.state=r),!i.inserted&&!this.isOptional&&!this.lazy&&!s.input&&(i.inserted=this.placeholderChar),i.skip=!i.inserted&&!this.isOptional,this.isFilled=!!i.inserted,i}append(t,s,r){return this.masked.append(t,this.currentMaskFlags(s),r)}_appendPlaceholder(){return this.isFilled||this.isOptional?new re:(this.isFilled=!0,new re({inserted:this.placeholderChar}))}_appendEager(){return new re}extractTail(t,s){return this.masked.extractTail(t,s)}appendTail(t){return this.masked.appendTail(t)}extractInput(t,s,r){return t===void 0&&(t=0),s===void 0&&(s=this.value.length),this.masked.extractInput(t,s,r)}nearestInputPos(t,s){s===void 0&&(s=Y.NONE);const r=0,i=this.value.length,n=Math.min(Math.max(t,r),i);switch(s){case Y.LEFT:case Y.FORCE_LEFT:return this.isComplete?n:r;case Y.RIGHT:case Y.FORCE_RIGHT:return this.isComplete?n:i;case Y.NONE:default:return n}}totalInputPositions(t,s){return t===void 0&&(t=0),s===void 0&&(s=this.value.length),this.value.slice(t,s).length}doValidate(t){return this.masked.doValidate(this.currentMaskFlags(t))&&(!this.parent||this.parent.doValidate(this.currentMaskFlags(t)))}doCommit(){this.masked.doCommit()}get state(){return{_value:this.value,_rawInputValue:this.rawInputValue,masked:this.masked.state,isFilled:this.isFilled}}set state(t){this.masked.state=t.masked,this.isFilled=t.isFilled}currentMaskFlags(t){var s;return{...t,_beforeTailState:(t==null||(s=t._beforeTailState)==null?void 0:s.masked)||t?._beforeTailState}}pad(t){return new re}}Gs.DEFAULT_DEFINITIONS={0:/\d/,a:/[\u0041-\u005A\u0061-\u007A\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,"*":/./};class eh extends _e{updateOptions(t){super.updateOptions(t)}_update(t){const s=t.mask;s&&(t.validate=r=>r.search(s)>=0),super._update(t)}}Z.MaskedRegExp=eh;class Te extends _e{constructor(t){super({...Te.DEFAULTS,...t,definitions:Object.assign({},Gs.DEFAULT_DEFINITIONS,t?.definitions)})}updateOptions(t){super.updateOptions(t)}_update(t){t.definitions=Object.assign({},this.definitions,t.definitions),super._update(t),this._rebuildMask()}_rebuildMask(){const t=this.definitions;this._blocks=[],this.exposeBlock=void 0,this._stops=[],this._maskedBlocks={};const s=this.mask;if(!s||!t)return;let r=!1,i=!1;for(let n=0;n<s.length;++n){if(this.blocks){const d=s.slice(n),m=Object.keys(this.blocks).filter(h=>d.indexOf(h)===0);m.sort((h,x)=>x.length-h.length);const u=m[0];if(u){const{expose:h,repeat:x,...v}=ds(this.blocks[u]),w={lazy:this.lazy,eager:this.eager,placeholderChar:this.placeholderChar,displayChar:this.displayChar,overwrite:this.overwrite,autofix:this.autofix,...v,repeat:x,parent:this},y=x!=null?new Z.RepeatBlock(w):ht(w);y&&(this._blocks.push(y),h&&(this.exposeBlock=y),this._maskedBlocks[u]||(this._maskedBlocks[u]=[]),this._maskedBlocks[u].push(this._blocks.length-1)),n+=u.length-1;continue}}let o=s[n],l=o in t;if(o===Te.STOP_CHAR){this._stops.push(this._blocks.length);continue}if(o==="{"||o==="}"){r=!r;continue}if(o==="["||o==="]"){i=!i;continue}if(o===Te.ESCAPE_CHAR){if(++n,o=s[n],!o)break;l=!1}const c=l?new Gs({isOptional:i,lazy:this.lazy,eager:this.eager,placeholderChar:this.placeholderChar,displayChar:this.displayChar,...ds(t[o]),parent:this}):new co({char:o,eager:this.eager,isUnmasking:r});this._blocks.push(c)}}get state(){return{...super.state,_blocks:this._blocks.map(t=>t.state)}}set state(t){if(!t){this.reset();return}const{_blocks:s,...r}=t;this._blocks.forEach((i,n)=>i.state=s[n]),super.state=r}reset(){super.reset(),this._blocks.forEach(t=>t.reset())}get isComplete(){return this.exposeBlock?this.exposeBlock.isComplete:this._blocks.every(t=>t.isComplete)}get isFilled(){return this._blocks.every(t=>t.isFilled)}get isFixed(){return this._blocks.every(t=>t.isFixed)}get isOptional(){return this._blocks.every(t=>t.isOptional)}doCommit(){this._blocks.forEach(t=>t.doCommit()),super.doCommit()}get unmaskedValue(){return this.exposeBlock?this.exposeBlock.unmaskedValue:this._blocks.reduce((t,s)=>t+=s.unmaskedValue,"")}set unmaskedValue(t){if(this.exposeBlock){const s=this.extractTail(this._blockStartPos(this._blocks.indexOf(this.exposeBlock))+this.exposeBlock.displayValue.length);this.exposeBlock.unmaskedValue=t,this.appendTail(s),this.doCommit()}else super.unmaskedValue=t}get value(){return this.exposeBlock?this.exposeBlock.value:this._blocks.reduce((t,s)=>t+=s.value,"")}set value(t){if(this.exposeBlock){const s=this.extractTail(this._blockStartPos(this._blocks.indexOf(this.exposeBlock))+this.exposeBlock.displayValue.length);this.exposeBlock.value=t,this.appendTail(s),this.doCommit()}else super.value=t}get typedValue(){return this.exposeBlock?this.exposeBlock.typedValue:super.typedValue}set typedValue(t){if(this.exposeBlock){const s=this.extractTail(this._blockStartPos(this._blocks.indexOf(this.exposeBlock))+this.exposeBlock.displayValue.length);this.exposeBlock.typedValue=t,this.appendTail(s),this.doCommit()}else super.typedValue=t}get displayValue(){return this._blocks.reduce((t,s)=>t+=s.displayValue,"")}appendTail(t){return super.appendTail(t).aggregate(this._appendPlaceholder())}_appendEager(){var t;const s=new re;let r=(t=this._mapPosToBlock(this.displayValue.length))==null?void 0:t.index;if(r==null)return s;this._blocks[r].isFilled&&++r;for(let i=r;i<this._blocks.length;++i){const n=this._blocks[i]._appendEager();if(!n.inserted)break;s.aggregate(n)}return s}_appendCharRaw(t,s){s===void 0&&(s={});const r=this._mapPosToBlock(this.displayValue.length),i=new re;if(!r)return i;for(let o=r.index,l;l=this._blocks[o];++o){var n;const c=l._appendChar(t,{...s,_beforeTailState:(n=s._beforeTailState)==null||(n=n._blocks)==null?void 0:n[o]});if(i.aggregate(c),c.consumed)break}return i}extractTail(t,s){t===void 0&&(t=0),s===void 0&&(s=this.displayValue.length);const r=new St;return t===s||this._forEachBlocksInRange(t,s,(i,n,o,l)=>{const c=i.extractTail(o,l);c.stop=this._findStopBefore(n),c.from=this._blockStartPos(n),c instanceof St&&(c.blockIndex=n),r.extend(c)}),r}extractInput(t,s,r){if(t===void 0&&(t=0),s===void 0&&(s=this.displayValue.length),r===void 0&&(r={}),t===s)return"";let i="";return this._forEachBlocksInRange(t,s,(n,o,l,c)=>{i+=n.extractInput(l,c,r)}),i}_findStopBefore(t){let s;for(let r=0;r<this._stops.length;++r){const i=this._stops[r];if(i<=t)s=i;else break}return s}_appendPlaceholder(t){const s=new re;if(this.lazy&&t==null)return s;const r=this._mapPosToBlock(this.displayValue.length);if(!r)return s;const i=r.index,n=t??this._blocks.length;return this._blocks.slice(i,n).forEach(o=>{if(!o.lazy||t!=null){var l;s.aggregate(o._appendPlaceholder((l=o._blocks)==null?void 0:l.length))}}),s}_mapPosToBlock(t){let s="";for(let r=0;r<this._blocks.length;++r){const i=this._blocks[r],n=s.length;if(s+=i.displayValue,t<=s.length)return{index:r,offset:t-n}}}_blockStartPos(t){return this._blocks.slice(0,t).reduce((s,r)=>s+=r.displayValue.length,0)}_forEachBlocksInRange(t,s,r){s===void 0&&(s=this.displayValue.length);const i=this._mapPosToBlock(t);if(i){const n=this._mapPosToBlock(s),o=n&&i.index===n.index,l=i.offset,c=n&&o?n.offset:this._blocks[i.index].displayValue.length;if(r(this._blocks[i.index],i.index,l,c),n&&!o){for(let d=i.index+1;d<n.index;++d)r(this._blocks[d],d,0,this._blocks[d].displayValue.length);r(this._blocks[n.index],n.index,0,n.offset)}}}remove(t,s){t===void 0&&(t=0),s===void 0&&(s=this.displayValue.length);const r=super.remove(t,s);return this._forEachBlocksInRange(t,s,(i,n,o,l)=>{r.aggregate(i.remove(o,l))}),r}nearestInputPos(t,s){if(s===void 0&&(s=Y.NONE),!this._blocks.length)return 0;const r=new Zu(this,t);if(s===Y.NONE)return r.pushRightBeforeInput()||(r.popState(),r.pushLeftBeforeInput())?r.pos:this.displayValue.length;if(s===Y.LEFT||s===Y.FORCE_LEFT){if(s===Y.LEFT){if(r.pushRightBeforeFilled(),r.ok&&r.pos===t)return t;r.popState()}if(r.pushLeftBeforeInput(),r.pushLeftBeforeRequired(),r.pushLeftBeforeFilled(),s===Y.LEFT){if(r.pushRightBeforeInput(),r.pushRightBeforeRequired(),r.ok&&r.pos<=t||(r.popState(),r.ok&&r.pos<=t))return r.pos;r.popState()}return r.ok?r.pos:s===Y.FORCE_LEFT?0:(r.popState(),r.ok||(r.popState(),r.ok)?r.pos:0)}return s===Y.RIGHT||s===Y.FORCE_RIGHT?(r.pushRightBeforeInput(),r.pushRightBeforeRequired(),r.pushRightBeforeFilled()?r.pos:s===Y.FORCE_RIGHT?this.displayValue.length:(r.popState(),r.ok||(r.popState(),r.ok)?r.pos:this.nearestInputPos(t,Y.LEFT))):t}totalInputPositions(t,s){t===void 0&&(t=0),s===void 0&&(s=this.displayValue.length);let r=0;return this._forEachBlocksInRange(t,s,(i,n,o,l)=>{r+=i.totalInputPositions(o,l)}),r}maskedBlock(t){return this.maskedBlocks(t)[0]}maskedBlocks(t){const s=this._maskedBlocks[t];return s?s.map(r=>this._blocks[r]):[]}pad(t){const s=new re;return this._forEachBlocksInRange(0,this.displayValue.length,r=>s.aggregate(r.pad(t))),s}}Te.DEFAULTS={..._e.DEFAULTS,lazy:!0,placeholderChar:"_"};Te.STOP_CHAR="`";Te.ESCAPE_CHAR="\\";Te.InputDefinition=Gs;Te.FixedDefinition=co;Z.MaskedPattern=Te;class Ps extends Te{get _matchFrom(){return this.maxLength-String(this.from).length}constructor(t){super(t)}updateOptions(t){super.updateOptions(t)}_update(t){const{to:s=this.to||0,from:r=this.from||0,maxLength:i=this.maxLength||0,autofix:n=this.autofix,...o}=t;this.to=s,this.from=r,this.maxLength=Math.max(String(s).length,i),this.autofix=n;const l=String(this.from).padStart(this.maxLength,"0"),c=String(this.to).padStart(this.maxLength,"0");let d=0;for(;d<c.length&&c[d]===l[d];)++d;o.mask=c.slice(0,d).replace(/0/g,"\\0")+"0".repeat(this.maxLength-d),super._update(o)}get isComplete(){return super.isComplete&&!!this.value}boundaries(t){let s="",r="";const[,i,n]=t.match(/^(\D*)(\d*)(\D*)/)||[];return n&&(s="0".repeat(i.length)+n,r="9".repeat(i.length)+n),s=s.padEnd(this.maxLength,"0"),r=r.padEnd(this.maxLength,"9"),[s,r]}doPrepareChar(t,s){s===void 0&&(s={});let r;return[t,r]=super.doPrepareChar(t.replace(/\D/g,""),s),t||(r.skip=!this.isComplete),[t,r]}_appendCharRaw(t,s){if(s===void 0&&(s={}),!this.autofix||this.value.length+1>this.maxLength)return super._appendCharRaw(t,s);const r=String(this.from).padStart(this.maxLength,"0"),i=String(this.to).padStart(this.maxLength,"0"),[n,o]=this.boundaries(this.value+t);return Number(o)<this.from?super._appendCharRaw(r[this.value.length],s):Number(n)>this.to?!s.tail&&this.autofix==="pad"&&this.value.length+1<this.maxLength?super._appendCharRaw(r[this.value.length],s).aggregate(this._appendCharRaw(t,s)):super._appendCharRaw(i[this.value.length],s):super._appendCharRaw(t,s)}doValidate(t){const s=this.value;if(s.search(/[^0]/)===-1&&s.length<=this._matchFrom)return!0;const[i,n]=this.boundaries(s);return this.from<=Number(n)&&Number(i)<=this.to&&super.doValidate(t)}pad(t){const s=new re;if(this.value.length===this.maxLength)return s;const r=this.value,i=this.maxLength-this.value.length;if(i){this.reset();for(let n=0;n<i;++n)s.aggregate(super._appendCharRaw("0",t));r.split("").forEach(n=>this._appendCharRaw(n))}return s}}Z.MaskedRange=Ps;const th="d{.}`m{.}`Y";class lt extends Te{static extractPatternOptions(t){const{mask:s,pattern:r,...i}=t;return{...i,mask:jt(s)?s:r}}constructor(t){super(lt.extractPatternOptions({...lt.DEFAULTS,...t}))}updateOptions(t){super.updateOptions(t)}_update(t){const{mask:s,pattern:r,blocks:i,...n}={...lt.DEFAULTS,...t},o=Object.assign({},lt.GET_DEFAULT_BLOCKS());t.min&&(o.Y.from=t.min.getFullYear()),t.max&&(o.Y.to=t.max.getFullYear()),t.min&&t.max&&o.Y.from===o.Y.to&&(o.m.from=t.min.getMonth()+1,o.m.to=t.max.getMonth()+1,o.m.from===o.m.to&&(o.d.from=t.min.getDate(),o.d.to=t.max.getDate())),Object.assign(o,this.blocks,i),super._update({...n,mask:jt(s)?s:r,blocks:o})}doValidate(t){const s=this.date;return super.doValidate(t)&&(!this.isComplete||this.isDateExist(this.value)&&s!=null&&(this.min==null||this.min<=s)&&(this.max==null||s<=this.max))}isDateExist(t){return this.format(this.parse(t,this),this).indexOf(t)>=0}get date(){return this.typedValue}set date(t){this.typedValue=t}get typedValue(){return this.isComplete?super.typedValue:null}set typedValue(t){super.typedValue=t}maskEquals(t){return t===Date||super.maskEquals(t)}optionsIsChanged(t){return super.optionsIsChanged(lt.extractPatternOptions(t))}}lt.GET_DEFAULT_BLOCKS=()=>({d:{mask:Ps,from:1,to:31,maxLength:2},m:{mask:Ps,from:1,to:12,maxLength:2},Y:{mask:Ps,from:1900,to:9999}});lt.DEFAULTS={...Te.DEFAULTS,mask:Date,pattern:th,format:(a,t)=>{if(!a)return"";const s=String(a.getDate()).padStart(2,"0"),r=String(a.getMonth()+1).padStart(2,"0"),i=a.getFullYear();return[s,r,i].join(".")},parse:(a,t)=>{const[s,r,i]=a.split(".").map(Number);return new Date(i,r-1,s)}};Z.MaskedDate=lt;class Xs extends _e{constructor(t){super({...Xs.DEFAULTS,...t}),this.currentMask=void 0}updateOptions(t){super.updateOptions(t)}_update(t){super._update(t),"mask"in t&&(this.exposeMask=void 0,this.compiledMasks=Array.isArray(t.mask)?t.mask.map(s=>{const{expose:r,...i}=ds(s),n=ht({overwrite:this._overwrite,eager:this._eager,skipInvalid:this._skipInvalid,...i});return r&&(this.exposeMask=n),n}):[])}_appendCharRaw(t,s){s===void 0&&(s={});const r=this._applyDispatch(t,s);return this.currentMask&&r.aggregate(this.currentMask._appendChar(t,this.currentMaskFlags(s))),r}_applyDispatch(t,s,r){t===void 0&&(t=""),s===void 0&&(s={}),r===void 0&&(r="");const i=s.tail&&s._beforeTailState!=null?s._beforeTailState._value:this.value,n=this.rawInputValue,o=s.tail&&s._beforeTailState!=null?s._beforeTailState._rawInputValue:n,l=n.slice(o.length),c=this.currentMask,d=new re,m=c?.state;return this.currentMask=this.doDispatch(t,{...s},r),this.currentMask&&(this.currentMask!==c?(this.currentMask.reset(),o&&(this.currentMask.append(o,{raw:!0}),d.tailShift=this.currentMask.value.length-i.length),l&&(d.tailShift+=this.currentMask.append(l,{raw:!0,tail:!0}).tailShift)):m&&(this.currentMask.state=m)),d}_appendPlaceholder(){const t=this._applyDispatch();return this.currentMask&&t.aggregate(this.currentMask._appendPlaceholder()),t}_appendEager(){const t=this._applyDispatch();return this.currentMask&&t.aggregate(this.currentMask._appendEager()),t}appendTail(t){const s=new re;return t&&s.aggregate(this._applyDispatch("",{},t)),s.aggregate(this.currentMask?this.currentMask.appendTail(t):super.appendTail(t))}currentMaskFlags(t){var s,r;return{...t,_beforeTailState:((s=t._beforeTailState)==null?void 0:s.currentMaskRef)===this.currentMask&&((r=t._beforeTailState)==null?void 0:r.currentMask)||t._beforeTailState}}doDispatch(t,s,r){return s===void 0&&(s={}),r===void 0&&(r=""),this.dispatch(t,this,s,r)}doValidate(t){return super.doValidate(t)&&(!this.currentMask||this.currentMask.doValidate(this.currentMaskFlags(t)))}doPrepare(t,s){s===void 0&&(s={});let[r,i]=super.doPrepare(t,s);if(this.currentMask){let n;[r,n]=super.doPrepare(r,this.currentMaskFlags(s)),i=i.aggregate(n)}return[r,i]}doPrepareChar(t,s){s===void 0&&(s={});let[r,i]=super.doPrepareChar(t,s);if(this.currentMask){let n;[r,n]=super.doPrepareChar(r,this.currentMaskFlags(s)),i=i.aggregate(n)}return[r,i]}reset(){var t;(t=this.currentMask)==null||t.reset(),this.compiledMasks.forEach(s=>s.reset())}get value(){return this.exposeMask?this.exposeMask.value:this.currentMask?this.currentMask.value:""}set value(t){this.exposeMask?(this.exposeMask.value=t,this.currentMask=this.exposeMask,this._applyDispatch()):super.value=t}get unmaskedValue(){return this.exposeMask?this.exposeMask.unmaskedValue:this.currentMask?this.currentMask.unmaskedValue:""}set unmaskedValue(t){this.exposeMask?(this.exposeMask.unmaskedValue=t,this.currentMask=this.exposeMask,this._applyDispatch()):super.unmaskedValue=t}get typedValue(){return this.exposeMask?this.exposeMask.typedValue:this.currentMask?this.currentMask.typedValue:""}set typedValue(t){if(this.exposeMask){this.exposeMask.typedValue=t,this.currentMask=this.exposeMask,this._applyDispatch();return}let s=String(t);this.currentMask&&(this.currentMask.typedValue=t,s=this.currentMask.unmaskedValue),this.unmaskedValue=s}get displayValue(){return this.currentMask?this.currentMask.displayValue:""}get isComplete(){var t;return!!((t=this.currentMask)!=null&&t.isComplete)}get isFilled(){var t;return!!((t=this.currentMask)!=null&&t.isFilled)}remove(t,s){const r=new re;return this.currentMask&&r.aggregate(this.currentMask.remove(t,s)).aggregate(this._applyDispatch()),r}get state(){var t;return{...super.state,_rawInputValue:this.rawInputValue,compiledMasks:this.compiledMasks.map(s=>s.state),currentMaskRef:this.currentMask,currentMask:(t=this.currentMask)==null?void 0:t.state}}set state(t){const{compiledMasks:s,currentMaskRef:r,currentMask:i,...n}=t;s&&this.compiledMasks.forEach((o,l)=>o.state=s[l]),r!=null&&(this.currentMask=r,this.currentMask.state=i),super.state=n}extractInput(t,s,r){return this.currentMask?this.currentMask.extractInput(t,s,r):""}extractTail(t,s){return this.currentMask?this.currentMask.extractTail(t,s):super.extractTail(t,s)}doCommit(){this.currentMask&&this.currentMask.doCommit(),super.doCommit()}nearestInputPos(t,s){return this.currentMask?this.currentMask.nearestInputPos(t,s):super.nearestInputPos(t,s)}get overwrite(){return this.currentMask?this.currentMask.overwrite:this._overwrite}set overwrite(t){this._overwrite=t}get eager(){return this.currentMask?this.currentMask.eager:this._eager}set eager(t){this._eager=t}get skipInvalid(){return this.currentMask?this.currentMask.skipInvalid:this._skipInvalid}set skipInvalid(t){this._skipInvalid=t}get autofix(){return this.currentMask?this.currentMask.autofix:this._autofix}set autofix(t){this._autofix=t}maskEquals(t){return Array.isArray(t)?this.compiledMasks.every((s,r)=>{if(!t[r])return;const{mask:i,...n}=t[r];return Hs(s,n)&&s.maskEquals(i)}):super.maskEquals(t)}typedValueEquals(t){var s;return!!((s=this.currentMask)!=null&&s.typedValueEquals(t))}}Xs.DEFAULTS={..._e.DEFAULTS,dispatch:(a,t,s,r)=>{if(!t.compiledMasks.length)return;const i=t.rawInputValue,n=t.compiledMasks.map((o,l)=>{const c=t.currentMask===o,d=c?o.displayValue.length:o.nearestInputPos(o.displayValue.length,Y.FORCE_LEFT);return o.rawInputValue!==i?(o.reset(),o.append(i,{raw:!0})):c||o.remove(d),o.append(a,t.currentMaskFlags(s)),o.appendTail(r),{index:l,weight:o.rawInputValue.length,totalInputPositions:o.totalInputPositions(0,Math.max(d,o.nearestInputPos(o.displayValue.length,Y.FORCE_LEFT)))}});return n.sort((o,l)=>l.weight-o.weight||l.totalInputPositions-o.totalInputPositions),t.compiledMasks[n[0].index]}};Z.MaskedDynamic=Xs;class Js extends Te{constructor(t){super({...Js.DEFAULTS,...t})}updateOptions(t){super.updateOptions(t)}_update(t){const{enum:s,...r}=t;if(s){const i=s.map(l=>l.length),n=Math.min(...i),o=Math.max(...i)-n;r.mask="*".repeat(n),o&&(r.mask+="["+"*".repeat(o)+"]"),this.enum=s}super._update(r)}_appendCharRaw(t,s){s===void 0&&(s={});const r=Math.min(this.nearestInputPos(0,Y.FORCE_RIGHT),this.value.length),i=this.enum.filter(n=>this.matchValue(n,this.unmaskedValue+t,r));if(i.length){i.length===1&&this._forEachBlocksInRange(0,this.value.length,(o,l)=>{const c=i[0][l];l>=this.value.length||c===o.value||(o.reset(),o._appendChar(c,s))});const n=super._appendCharRaw(i[0][this.value.length],s);return i.length===1&&i[0].slice(this.unmaskedValue.length).split("").forEach(o=>n.aggregate(super._appendCharRaw(o))),n}return new re({skip:!this.isComplete})}extractTail(t,s){return t===void 0&&(t=0),s===void 0&&(s=this.displayValue.length),new at("",t)}remove(t,s){if(t===void 0&&(t=0),s===void 0&&(s=this.displayValue.length),t===s)return new re;const r=Math.min(super.nearestInputPos(0,Y.FORCE_RIGHT),this.value.length);let i;for(i=t;i>=0&&!(this.enum.filter(l=>this.matchValue(l,this.value.slice(r,i),r)).length>1);--i);const n=super.remove(i,s);return n.tailShift+=i-t,n}get isComplete(){return this.enum.indexOf(this.value)>=0}}Js.DEFAULTS={...Te.DEFAULTS,matchValue:(a,t,s)=>a.indexOf(t,s)===s};Z.MaskedEnum=Js;class sh extends _e{updateOptions(t){super.updateOptions(t)}_update(t){super._update({...t,validate:t.mask})}}Z.MaskedFunction=sh;var uo;class Be extends _e{constructor(t){super({...Be.DEFAULTS,...t})}updateOptions(t){super.updateOptions(t)}_update(t){super._update(t),this._updateRegExps()}_updateRegExps(){const t="^"+(this.allowNegative?"[+|\\-]?":""),s="\\d*",r=(this.scale?"("+Ta(this.radix)+"\\d{0,"+this.scale+"})?":"")+"$";this._numberRegExp=new RegExp(t+s+r),this._mapToRadixRegExp=new RegExp("["+this.mapToRadix.map(Ta).join("")+"]","g"),this._thousandsSeparatorRegExp=new RegExp(Ta(this.thousandsSeparator),"g")}_removeThousandsSeparators(t){return t.replace(this._thousandsSeparatorRegExp,"")}_insertThousandsSeparators(t){const s=t.split(this.radix);return s[0]=s[0].replace(/\B(?=(\d{3})+(?!\d))/g,this.thousandsSeparator),s.join(this.radix)}doPrepareChar(t,s){s===void 0&&(s={});const[r,i]=super.doPrepareChar(this._removeThousandsSeparators(this.scale&&this.mapToRadix.length&&(s.input&&s.raw||!s.input&&!s.raw)?t.replace(this._mapToRadixRegExp,this.radix):t),s);return t&&!r&&(i.skip=!0),r&&!this.allowPositive&&!this.value&&r!=="-"&&i.aggregate(this._appendChar("-")),[r,i]}_separatorsCount(t,s){s===void 0&&(s=!1);let r=0;for(let i=0;i<t;++i)this._value.indexOf(this.thousandsSeparator,i)===i&&(++r,s&&(t+=this.thousandsSeparator.length));return r}_separatorsCountFromSlice(t){return t===void 0&&(t=this._value),this._separatorsCount(this._removeThousandsSeparators(t).length,!0)}extractInput(t,s,r){return t===void 0&&(t=0),s===void 0&&(s=this.displayValue.length),[t,s]=this._adjustRangeWithSeparators(t,s),this._removeThousandsSeparators(super.extractInput(t,s,r))}_appendCharRaw(t,s){s===void 0&&(s={});const r=s.tail&&s._beforeTailState?s._beforeTailState._value:this._value,i=this._separatorsCountFromSlice(r);this._value=this._removeThousandsSeparators(this.value);const n=this._value;this._value+=t;const o=this.number;let l=!isNaN(o),c=!1;if(l){let h;this.min!=null&&this.min<0&&this.number<this.min&&(h=this.min),this.max!=null&&this.max>0&&this.number>this.max&&(h=this.max),h!=null&&(this.autofix?(this._value=this.format(h,this).replace(Be.UNMASKED_RADIX,this.radix),c||(c=n===this._value&&!s.tail)):l=!1),l&&(l=!!this._value.match(this._numberRegExp))}let d;l?d=new re({inserted:this._value.slice(n.length),rawInserted:c?"":t,skip:c}):(this._value=n,d=new re),this._value=this._insertThousandsSeparators(this._value);const m=s.tail&&s._beforeTailState?s._beforeTailState._value:this._value,u=this._separatorsCountFromSlice(m);return d.tailShift+=(u-i)*this.thousandsSeparator.length,d}_findSeparatorAround(t){if(this.thousandsSeparator){const s=t-this.thousandsSeparator.length+1,r=this.value.indexOf(this.thousandsSeparator,s);if(r<=t)return r}return-1}_adjustRangeWithSeparators(t,s){const r=this._findSeparatorAround(t);r>=0&&(t=r);const i=this._findSeparatorAround(s);return i>=0&&(s=i+this.thousandsSeparator.length),[t,s]}remove(t,s){t===void 0&&(t=0),s===void 0&&(s=this.displayValue.length),[t,s]=this._adjustRangeWithSeparators(t,s);const r=this.value.slice(0,t),i=this.value.slice(s),n=this._separatorsCount(r.length);this._value=this._insertThousandsSeparators(this._removeThousandsSeparators(r+i));const o=this._separatorsCountFromSlice(r);return new re({tailShift:(o-n)*this.thousandsSeparator.length})}nearestInputPos(t,s){if(!this.thousandsSeparator)return t;switch(s){case Y.NONE:case Y.LEFT:case Y.FORCE_LEFT:{const r=this._findSeparatorAround(t-1);if(r>=0){const i=r+this.thousandsSeparator.length;if(t<i||this.value.length<=i||s===Y.FORCE_LEFT)return r}break}case Y.RIGHT:case Y.FORCE_RIGHT:{const r=this._findSeparatorAround(t);if(r>=0)return r+this.thousandsSeparator.length}}return t}doCommit(){if(this.value){const t=this.number;let s=t;this.min!=null&&(s=Math.max(s,this.min)),this.max!=null&&(s=Math.min(s,this.max)),s!==t&&(this.unmaskedValue=this.format(s,this));let r=this.value;this.normalizeZeros&&(r=this._normalizeZeros(r)),this.padFractionalZeros&&this.scale>0&&(r=this._padFractionalZeros(r)),this._value=r}super.doCommit()}_normalizeZeros(t){const s=this._removeThousandsSeparators(t).split(this.radix);return s[0]=s[0].replace(/^(\D*)(0*)(\d*)/,(r,i,n,o)=>i+o),t.length&&!/\d$/.test(s[0])&&(s[0]=s[0]+"0"),s.length>1&&(s[1]=s[1].replace(/0*$/,""),s[1].length||(s.length=1)),this._insertThousandsSeparators(s.join(this.radix))}_padFractionalZeros(t){if(!t)return t;const s=t.split(this.radix);return s.length<2&&s.push(""),s[1]=s[1].padEnd(this.scale,"0"),s.join(this.radix)}doSkipInvalid(t,s,r){s===void 0&&(s={});const i=this.scale===0&&t!==this.thousandsSeparator&&(t===this.radix||t===Be.UNMASKED_RADIX||this.mapToRadix.includes(t));return super.doSkipInvalid(t,s,r)&&!i}get unmaskedValue(){return this._removeThousandsSeparators(this._normalizeZeros(this.value)).replace(this.radix,Be.UNMASKED_RADIX)}set unmaskedValue(t){super.unmaskedValue=t}get typedValue(){return this.parse(this.unmaskedValue,this)}set typedValue(t){this.rawInputValue=this.format(t,this).replace(Be.UNMASKED_RADIX,this.radix)}get number(){return this.typedValue}set number(t){this.typedValue=t}get allowNegative(){return this.min!=null&&this.min<0||this.max!=null&&this.max<0}get allowPositive(){return this.min!=null&&this.min>0||this.max!=null&&this.max>0}typedValueEquals(t){return(super.typedValueEquals(t)||Be.EMPTY_VALUES.includes(t)&&Be.EMPTY_VALUES.includes(this.typedValue))&&!(t===0&&this.value==="")}}uo=Be;Be.UNMASKED_RADIX=".";Be.EMPTY_VALUES=[..._e.EMPTY_VALUES,0];Be.DEFAULTS={..._e.DEFAULTS,mask:Number,radix:",",thousandsSeparator:"",mapToRadix:[uo.UNMASKED_RADIX],min:Number.MIN_SAFE_INTEGER,max:Number.MAX_SAFE_INTEGER,scale:2,normalizeZeros:!0,padFractionalZeros:!1,parse:Number,format:a=>a.toLocaleString("en-US",{useGrouping:!1,maximumFractionDigits:20})};Z.MaskedNumber=Be;const Wa={MASKED:"value",UNMASKED:"unmaskedValue",TYPED:"typedValue"};function ho(a,t,s){t===void 0&&(t=Wa.MASKED),s===void 0&&(s=Wa.MASKED);const r=ht(a);return i=>r.runIsolated(n=>(n[t]=i,n[s]))}function ah(a,t,s,r){return ho(t,s,r)(a)}Z.PIPE_TYPE=Wa;Z.createPipe=ho;Z.pipe=ah;class rh extends Te{get repeatFrom(){var t;return(t=Array.isArray(this.repeat)?this.repeat[0]:this.repeat===1/0?0:this.repeat)!=null?t:0}get repeatTo(){var t;return(t=Array.isArray(this.repeat)?this.repeat[1]:this.repeat)!=null?t:1/0}constructor(t){super(t)}updateOptions(t){super.updateOptions(t)}_update(t){var s,r,i;const{repeat:n,...o}=ds(t);this._blockOpts=Object.assign({},this._blockOpts,o);const l=ht(this._blockOpts);this.repeat=(s=(r=n??l.repeat)!=null?r:this.repeat)!=null?s:1/0,super._update({mask:"m".repeat(Math.max(this.repeatTo===1/0&&((i=this._blocks)==null?void 0:i.length)||0,this.repeatFrom)),blocks:{m:l},eager:l.eager,overwrite:l.overwrite,skipInvalid:l.skipInvalid,lazy:l.lazy,placeholderChar:l.placeholderChar,displayChar:l.displayChar})}_allocateBlock(t){if(t<this._blocks.length)return this._blocks[t];if(this.repeatTo===1/0||this._blocks.length<this.repeatTo)return this._blocks.push(ht(this._blockOpts)),this.mask+="m",this._blocks[this._blocks.length-1]}_appendCharRaw(t,s){s===void 0&&(s={});const r=new re;for(let c=(i=(n=this._mapPosToBlock(this.displayValue.length))==null?void 0:n.index)!=null?i:Math.max(this._blocks.length-1,0),d,m;d=(o=this._blocks[c])!=null?o:m=!m&&this._allocateBlock(c);++c){var i,n,o,l;const u=d._appendChar(t,{...s,_beforeTailState:(l=s._beforeTailState)==null||(l=l._blocks)==null?void 0:l[c]});if(u.skip&&m){this._blocks.pop(),this.mask=this.mask.slice(1);break}if(r.aggregate(u),u.consumed)break}return r}_trimEmptyTail(t,s){var r,i;t===void 0&&(t=0);const n=Math.max(((r=this._mapPosToBlock(t))==null?void 0:r.index)||0,this.repeatFrom,0);let o;s!=null&&(o=(i=this._mapPosToBlock(s))==null?void 0:i.index),o==null&&(o=this._blocks.length-1);let l=0;for(let c=o;n<=c&&!this._blocks[c].unmaskedValue;--c,++l);l&&(this._blocks.splice(o-l+1,l),this.mask=this.mask.slice(l))}reset(){super.reset(),this._trimEmptyTail()}remove(t,s){t===void 0&&(t=0),s===void 0&&(s=this.displayValue.length);const r=super.remove(t,s);return this._trimEmptyTail(t,s),r}totalInputPositions(t,s){return t===void 0&&(t=0),s==null&&this.repeatTo===1/0?1/0:super.totalInputPositions(t,s)}get state(){return super.state}set state(t){this._blocks.length=t._blocks.length,this.mask=this.mask.slice(0,this._blocks.length),super.state=t}}Z.RepeatBlock=rh;try{globalThis.IMask=Z}catch{}var ih=or();const W=Wt(ih),mo={mask:W.oneOfType([W.array,W.func,W.string,W.instanceOf(RegExp),W.oneOf([Date,Number,Z.Masked]),W.instanceOf(Z.Masked)]),value:W.any,unmask:W.oneOfType([W.bool,W.oneOf(["typed"])]),prepare:W.func,prepareChar:W.func,validate:W.func,commit:W.func,overwrite:W.oneOfType([W.bool,W.oneOf(["shift"])]),eager:W.oneOfType([W.bool,W.oneOf(["append","remove"])]),skipInvalid:W.bool,onAccept:W.func,onComplete:W.func,placeholderChar:W.string,displayChar:W.string,lazy:W.bool,definitions:W.object,blocks:W.object,enum:W.arrayOf(W.string),maxLength:W.number,from:W.number,to:W.number,pattern:W.string,format:W.func,parse:W.func,autofix:W.oneOfType([W.bool,W.oneOf(["pad"])]),radix:W.string,thousandsSeparator:W.string,mapToRadix:W.arrayOf(W.string),scale:W.number,normalizeZeros:W.bool,padFractionalZeros:W.bool,min:W.oneOfType([W.number,W.instanceOf(Date)]),max:W.oneOfType([W.number,W.instanceOf(Date)]),dispatch:W.func,inputRef:W.oneOfType([W.func,W.shape({current:W.object})])},po=Object.keys(mo).filter(a=>a!=="value"),nh=["value","unmask","onAccept","onComplete","inputRef"],oh=po.filter(a=>nh.indexOf(a)<0);function lh(a){var t;const s=(t=class extends I.Component{constructor(n){super(n),this._inputRef=this._inputRef.bind(this)}componentDidMount(){this.props.mask&&this.initMask()}componentDidUpdate(){const n=this.props,o=this._extractMaskOptionsFromProps(n);if(o.mask)this.maskRef?(this.maskRef.updateOptions(o),"value"in n&&n.value!==void 0&&(this.maskValue=n.value)):this.initMask(o);else if(this.destroyMask(),"value"in n&&n.value!==void 0){var l;(l=this.element)!=null&&l.isContentEditable&&this.element.tagName!=="INPUT"&&this.element.tagName!=="TEXTAREA"?this.element.textContent=n.value:this.element.value=n.value}}componentWillUnmount(){this.destroyMask()}_inputRef(n){this.element=n,this.props.inputRef&&(Object.prototype.hasOwnProperty.call(this.props.inputRef,"current")?this.props.inputRef.current=n:this.props.inputRef(n))}initMask(n){n===void 0&&(n=this._extractMaskOptionsFromProps(this.props)),this.maskRef=Z(this.element,n).on("accept",this._onAccept.bind(this)).on("complete",this._onComplete.bind(this)),"value"in this.props&&this.props.value!==void 0&&(this.maskValue=this.props.value)}destroyMask(){this.maskRef&&(this.maskRef.destroy(),delete this.maskRef)}_extractMaskOptionsFromProps(n){const{...o}=n;return Object.keys(o).filter(l=>oh.indexOf(l)<0).forEach(l=>{delete o[l]}),o}_extractNonMaskProps(n){const{...o}=n;return po.forEach(l=>{l!=="maxLength"&&delete o[l]}),"defaultValue"in o||(o.defaultValue=n.mask?"":o.value),delete o.value,o}get maskValue(){return this.maskRef?this.props.unmask==="typed"?this.maskRef.typedValue:this.props.unmask?this.maskRef.unmaskedValue:this.maskRef.value:""}set maskValue(n){this.maskRef&&(n=n==null&&this.props.unmask!=="typed"?"":n,this.props.unmask==="typed"?this.maskRef.typedValue=n:this.props.unmask?this.maskRef.unmaskedValue=n:this.maskRef.value=n)}_onAccept(n){this.props.onAccept&&this.maskRef&&this.props.onAccept(this.maskValue,this.maskRef,n)}_onComplete(n){this.props.onComplete&&this.maskRef&&this.props.onComplete(this.maskValue,this.maskRef,n)}render(){return I.createElement(a,{...this._extractNonMaskProps(this.props),inputRef:this._inputRef})}},t.displayName=void 0,t.propTypes=void 0,t),r=a.displayName||a.name||"Component";return s.displayName="IMask("+r+")",s.propTypes=mo,I.forwardRef((i,n)=>I.createElement(s,{...i,ref:n}))}const ch=lh(a=>{let{inputRef:t,...s}=a;return I.createElement("input",{...s,ref:t})}),dh=(a,t)=>I.createElement(ch,{...a,ref:t}),Pe=I.forwardRef(dh),Ii=[(a,t)=>`Algum ${t?`em ${t}`:"por perto"} acabou de pedir ${a}`,a=>` Novo pedido: ${a}`,a=>`Algum garantiu um ${a} agora!`],Ri=[(a,t)=>`${a} est bombando: ${t} pedidos hoje!`,(a,t)=>` Hit do dia: ${a} (${t}x pedidos)`],Mi=[a=>`${a} pessoas esto vendo este cardpio`,a=>` ${a} clientes navegando agora`];function uh({restaurantId:a,intervalMs:t=2e4}){const[s,r]=f.useState([]),[i,n]=f.useState(null),[o,l]=f.useState(!1),[c,d]=f.useState(new Map),m=f.useRef(0),u=f.useRef(Math.floor(Math.random()*18)+8);return f.useEffect(()=>{if(!a)return;const h=Re(ge(te,"orders"),xe("restaurantId","==",a),xe("status","!=","cancelled"),Ut("status"),Ut("createdAt","desc"),bn(20)),x=et(h,v=>{const w=[],y=new Map;v.docs.forEach(p=>{const g=p.data(),N=g.items||[];if(N.length>0){const S=N[0];w.push({id:p.id,itemName:S.name||"Item especial",neighborhood:g.customer?.address?.neighborhood,timestamp:g.createdAt?.toDate?.()||new Date}),N.forEach(M=>{const C=M.name||"Item";y.set(C,(y.get(C)||0)+M.quantity)})}}),r(w),d(y)});return()=>x()},[a]),f.useEffect(()=>{const h=()=>{if(s.length===0&&c.size===0){l(!1);return}const w=m.current%3;let y=null;if(w===0&&s.length>0){const p=s[Math.floor(Math.random()*Math.min(5,s.length))],g=Ii[Math.floor(Math.random()*Ii.length)];y={id:`order-${Date.now()}`,type:"order",icon:Ls,text:g(p.itemName,p.neighborhood||""),highlight:p.itemName}}else if(w===1&&c.size>0){const g=Array.from(c.entries()).sort((N,S)=>S[1]-N[1])[0];if(g&&g[1]>=2){const N=Ri[Math.floor(Math.random()*Ri.length)];y={id:`trending-${Date.now()}`,type:"trending",icon:Ji,text:N(g[0],g[1]),highlight:g[0]}}}else{u.current=Math.max(5,Math.min(30,u.current+Math.floor(Math.random()*7)-3));const p=Mi[Math.floor(Math.random()*Mi.length)];y={id:`viewers-${Date.now()}`,type:"viewers",icon:Ws,text:p(u.current)}}y&&(n(y),l(!0),setTimeout(()=>{l(!1)},5e3)),m.current++},x=setTimeout(()=>{h()},5e3),v=setInterval(h,t);return()=>{clearTimeout(x),clearInterval(v)}},[s,c,t]),e.jsx(ce,{children:o&&i&&e.jsx(k.div,{initial:{opacity:0,y:50,x:-20},animate:{opacity:1,y:0,x:0},exit:{opacity:0,y:20,x:-10},transition:{type:"spring",damping:20,stiffness:300},className:"fixed bottom-24 left-4 z-40 max-w-[300px]",children:e.jsx("div",{className:"bg-[#1a1a1a] border border-white/10 rounded-2xl p-4 shadow-2xl shadow-black/50 backdrop-blur-xl",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center shrink-0 ${i.type==="order"?"bg-green-500/20":i.type==="trending"?"bg-orange-500/20":"bg-blue-500/20"}`,children:e.jsx(i.icon,{className:`w-5 h-5 ${i.type==="order"?"text-green-400":i.type==="trending"?"text-orange-400":"text-blue-400"}`})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-white/80 leading-relaxed",children:i.text}),e.jsx("p",{className:"text-[10px] text-white/30 mt-1",children:"agora mesmo"})]})]})})})})}const hh="",mh=new ps(hh);mh.getGenerativeModel({model:"gemini-2.0-flash-exp"});async function ph(a,t,s){return t}const Oi=[{id:"pix_online",label:"Pix Automtico",description:"Aprovao imediata  Envio mais rpido",icon:e.jsx(Rt,{className:"w-6 h-6 text-green-400"}),category:"online"},{id:"credit_online",label:"Carto de Crdito",description:"Visa, Master, Elo  Parcele em at 12x",icon:e.jsx(ts,{className:"w-6 h-6 text-blue-400"}),category:"online"},{id:"credit_machine",label:"Maquininha (Crdito)",description:"Pague ao receber",icon:e.jsx(ts,{className:"w-6 h-6"}),category:"delivery"},{id:"debit_machine",label:"Maquininha (Dbito)",description:"Pague ao receber",icon:e.jsx(ts,{className:"w-6 h-6"}),category:"delivery"},{id:"cash",label:"Dinheiro",description:"Pague ao receber",icon:e.jsx(Fo,{className:"w-6 h-6 text-green-500"}),category:"delivery"}];function xh({order:a,onSuccess:t,onCancel:s}){const[r,i]=f.useState("method"),[n,o]=f.useState(""),[l,c]=f.useState(""),[d,m]=f.useState(null),[u,h]=f.useState(!1),[x,v]=f.useState(null),w=async()=>{if(n){i("processing"),v(null);try{if(["cash","credit_machine","debit_machine"].includes(n)){t({paymentMethod:n,paymentStatus:"pending",changeFor:n==="cash"?parseFloat(l.replace(/\D/g,""))/100:void 0});return}const N=(await qt(Ht,"financeCharge")({orderId:a.id||`temp_${Date.now()}`,amount:a.total,restaurantId:a.restaurantId,customer:a.customer,paymentMethod:n})).data;n==="pix_online"?(m(N),i("pix_waiting"),P.success("Pix gerado! Escaneie o QR Code para pagar.")):n==="credit_online"&&t({paymentMethod:n,paymentStatus:"authorized",paymentId:N.paymentId})}catch(p){console.error("Checkout error:",p),v(p.message||"Erro ao processar pagamento"),i("error")}}},y=()=>{d?.pixCopyPaste&&(navigator.clipboard.writeText(d.pixCopyPaste),h(!0),P.success("Cdigo Pix copiado!"),setTimeout(()=>h(!1),3e3))};return e.jsxs(k.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-[#121212] w-full max-w-md rounded-3xl overflow-hidden border border-white/10 shadow-2xl",children:[e.jsxs("div",{className:"bg-gradient-to-r from-primary/20 to-orange-600/10 p-6 border-b border-white/5",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(Qa,{className:"w-5 h-5 text-primary"}),e.jsx("h2",{className:"text-xl font-black italic",children:"Pagamento Seguro"})]}),e.jsxs("p",{className:"text-sm text-white/50",children:["Total: ",e.jsxs("span",{className:"text-primary font-black text-lg",children:["R$ ",a.total.toFixed(2)]})]})]}),e.jsx("div",{className:"p-6",children:e.jsxs(ce,{mode:"wait",children:[r==="method"&&e.jsxs(k.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"space-y-4",children:[e.jsx("p",{className:"text-xs font-black uppercase tracking-widest text-white/40 mb-2",children:"Pague Agora"}),Oi.filter(p=>p.category==="online").map(p=>e.jsxs("button",{onClick:()=>o(p.id),className:`w-full p-4 rounded-2xl border flex items-center gap-4 transition-all ${n===p.id?"bg-primary/10 border-primary text-white":"bg-black/40 border-white/10 text-white/60 hover:bg-white/5"}`,children:[p.icon,e.jsxs("div",{className:"text-left flex-1",children:[e.jsx("p",{className:"font-bold text-sm",children:p.label}),e.jsx("p",{className:"text-xs opacity-60",children:p.description})]})]},p.id)),e.jsx("p",{className:"text-xs font-black uppercase tracking-widest text-white/40 mt-6 mb-2",children:"Pague na Entrega"}),Oi.filter(p=>p.category==="delivery").map(p=>e.jsxs("button",{onClick:()=>o(p.id),className:`w-full p-4 rounded-2xl border flex items-center gap-4 transition-all ${n===p.id?"bg-white/10 border-white text-white":"bg-black/40 border-white/10 text-white/60 hover:bg-white/5"}`,children:[p.icon,e.jsxs("div",{className:"text-left flex-1",children:[e.jsx("p",{className:"font-bold text-sm",children:p.label}),e.jsx("p",{className:"text-xs opacity-60",children:p.description})]})]},p.id)),e.jsx(ce,{children:n==="cash"&&e.jsx(k.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden",children:e.jsxs("div",{className:"bg-white/5 p-4 rounded-2xl mt-2 border border-white/10",children:[e.jsx("label",{className:"text-xs font-bold text-white/50 mb-2 block uppercase tracking-wider",children:"Precisa de troco para?"}),e.jsx(Pe,{mask:"R$ num",blocks:{num:{mask:Number,scale:2,thousandsSeparator:".",padFractionalZeros:!0,radix:","}},value:l,onAccept:p=>c(p),placeholder:"R$ 0,00",className:"w-full bg-transparent border-b border-white/20 pb-2 outline-none font-black text-xl text-white"})]})})}),e.jsxs("button",{disabled:!n,onClick:w,className:"w-full mt-6 py-4 bg-primary hover:bg-orange-600 disabled:opacity-40 disabled:cursor-not-allowed rounded-2xl font-black uppercase tracking-wider transition-all flex items-center justify-center gap-2",children:["Confirmar Pedido",e.jsx(is,{className:"w-5 h-5"})]}),e.jsx("button",{onClick:s,className:"w-full py-3 text-white/40 hover:text-white text-sm font-bold transition-colors",children:"Cancelar"})]},"method"),r==="pix_waiting"&&d&&e.jsxs(k.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"text-center py-4",children:[d.pixQrCode&&e.jsx("div",{className:"bg-white p-4 rounded-2xl inline-block mb-6 shadow-xl",children:e.jsx("img",{src:`data:image/png;base64,${d.pixQrCode}`,alt:"Pix QR Code",className:"w-48 h-48"})}),d.pixCopyPaste&&e.jsxs("div",{className:"bg-white/5 p-4 rounded-2xl border border-white/10 flex items-center gap-3 mb-6",children:[e.jsx("input",{readOnly:!0,value:d.pixCopyPaste,className:"bg-transparent text-xs w-full text-white/50 truncate font-mono"}),e.jsxs("button",{onClick:y,className:"flex items-center gap-1 text-primary font-bold text-xs uppercase shrink-0",children:[u?e.jsx(Ce,{className:"w-4 h-4"}):e.jsx($s,{className:"w-4 h-4"}),u?"Copiado":"Copiar"]})]}),e.jsxs("div",{className:"flex items-center justify-center gap-2 text-yellow-400",children:[e.jsx(le,{className:"w-5 h-5 animate-spin"}),e.jsx("span",{className:"text-sm font-bold",children:"Aguardando pagamento..."})]}),e.jsx("p",{className:"text-xs text-white/30 mt-4",children:"O pedido ser enviado automaticamente aps a confirmao"})]},"pix"),r==="processing"&&e.jsxs(k.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"flex flex-col items-center justify-center py-16",children:[e.jsx(le,{className:"w-12 h-12 text-primary animate-spin mb-4"}),e.jsx("p",{className:"text-white/60 font-medium",children:"Processando pagamento..."}),e.jsx("p",{className:"text-xs text-white/30 mt-2",children:"Ambiente seguro EmprataAI"})]},"processing"),r==="error"&&e.jsxs(k.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-10",children:[e.jsx("div",{className:"w-16 h-16 bg-red-500/20 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(dt,{className:"w-8 h-8 text-red-400"})}),e.jsx("h3",{className:"text-lg font-black mb-2",children:"Erro no Pagamento"}),e.jsx("p",{className:"text-sm text-white/50 mb-6",children:x||"Tente outro mtodo"}),e.jsx("button",{onClick:()=>i("method"),className:"px-8 py-3 bg-white/10 rounded-full font-bold hover:bg-white/20 transition-colors",children:"Tentar Novamente"})]},"error")]})})]})}function fh(){const{slug:a}=Ja(),[t]=xn(),[s,r]=f.useState(!0),[i,n]=f.useState(null),[o,l]=f.useState([]),[c,d]=f.useState([]),[m,u]=f.useState("Todos"),[h,x]=f.useState([]),[v,w]=f.useState(!1),[y,p]=f.useState(!1),[g,N]=f.useState({name:"",cpf:"",table:"",phone:""}),[S,M]=f.useState(!1),[C,D]=f.useState(null),[X,ee]=f.useState("standard"),[B,K]=f.useState({}),T=f.useRef(!1);f.useEffect(()=>{if(X==="standard"){K({});return}(async()=>{const H=o.slice(0,10);for(const j of H){K(O=>({...O,[j.id]:" Personalizando..."}));const b=await ph(j.title,j.description);K(O=>({...O,[j.id]:b}))}})()},[X,o]),f.useEffect(()=>{a&&(async()=>{try{const H=Re(ge(te,"menus"),xe("slug","==",a)),j=await kt(H);if(j.empty){P.error("Restaurante no encontrado"),r(!1);return}const b=j.docs[0].data();n(b);const O=[],R=new Set;b.categories.forEach(F=>{R.add(F.title),F.items.forEach($=>{O.push({...$,category:F.title})})}),l(O),d(["Todos",...Array.from(R)])}catch(H){console.error(H)}finally{r(!1)}})()},[a]),f.useEffect(()=>{const A=t.get("add_item");if(A&&o.length>0&&!T.current){const H=o.find(j=>j.id===A);H&&(T.current=!0,x(j=>j.find(O=>O.id===H.id)?j.map(O=>O.id===H.id?{...O,quantity:O.quantity+1}:O):[...j,{...H,cartId:crypto.randomUUID(),quantity:1,notes:""}]),w(!0),P.success(" Oferta ativada! Item adicionado ao carrinho.",{duration:4e3,icon:""}))}},[o,t]);const U=A=>{x(H=>H.find(b=>b.id===A.id)?H.map(b=>b.id===A.id?{...b,quantity:b.quantity+1}:b):[...H,{...A,cartId:crypto.randomUUID(),quantity:1,notes:""}]),P.success(`${A.title} adicionado!`),w(!0)},J=A=>{x(H=>H.filter(j=>j.cartId!==A))},_=(A,H)=>{x(j=>j.map(b=>{if(b.cartId===A){const O=b.quantity+H;return O>0?{...b,quantity:O}:b}return b}))},E=h.reduce((A,H)=>A+H.price*H.quantity,0),L=async A=>{try{r(!0);const H=Math.floor(1e3+Math.random()*9e3).toString(),j=await tr(ge(te,"orders"),{restaurantId:i.ownerId,customer:g,items:h,total:E,paymentMethod:A.paymentMethod,paymentStatus:A.paymentStatus||"pending",changeFor:A.changeFor,paymentId:A.paymentId,status:"pending",createdAt:it(),deliveryPin:H,isOrderBumpAccepted:!1});D({orderId:j.id,deliveryPin:H,total:E}),x([]),M(!1),p(!1),w(!1)}catch(H){P.error("Erro ao finalizar pedido"),console.error(H)}finally{r(!1)}};return s?e.jsx(io,{}):e.jsxs("div",{className:"min-h-screen bg-[#0a0a0a] text-white pb-24",children:[e.jsx(An,{children:e.jsxs("title",{children:[i?.name||"Cardpio"," | Emprata.ai"]})}),i?.id&&e.jsx(uh,{restaurantId:i.id}),e.jsxs("div",{className:"relative h-64 w-full overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent to-[#0a0a0a] z-10"}),e.jsx("img",{src:i?.coverUrl||"https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?w=1200&q=80",className:"w-full h-full object-cover opacity-50"}),e.jsxs("div",{className:"absolute bottom-0 left-0 p-6 z-20 w-full",children:[e.jsx("h1",{className:"text-4xl font-black italic tracking-tighter mb-2",children:i?.name}),e.jsx("p",{className:"text-white/60 line-clamp-2 max-w-lg",children:i?.description})]})]}),e.jsx("div",{className:"sticky top-0 z-30 bg-[#0a0a0a]/90 backdrop-blur-md border-b border-white/5 py-4 px-6 overflow-x-auto",children:e.jsx("div",{className:"flex gap-3",children:c.map(A=>e.jsx("button",{onClick:()=>u(A),className:`px-4 py-2 rounded-full text-sm font-bold whitespace-nowrap transition-all ${m===A?"bg-primary text-white shadow-lg shadow-primary/20":"bg-white/5 text-white/60 hover:bg-white/10"}`,children:A},A))})}),e.jsxs("div",{className:"bg-[#121212] py-6 px-4 border-b border-white/5",children:[e.jsx("p",{className:"text-white/40 text-xs font-bold uppercase tracking-widest mb-3 text-center",children:"Como voc est se sentindo hoje?"}),e.jsxs("div",{className:"flex justify-center gap-3 overflow-x-auto pb-2 no-scrollbar",children:[e.jsxs("button",{onClick:()=>ee("comfort"),className:`flex flex-col items-center gap-2 p-3 rounded-2xl border transition-all min-w-[80px] ${X==="comfort"?"bg-white/10 border-blue-500 text-white":"border-white/10 text-white/40"}`,children:[e.jsx(Zi,{className:"w-5 h-5"}),e.jsx("span",{className:"text-[10px] font-bold",children:"Frio/Chuva"})]}),e.jsxs("button",{onClick:()=>ee("fitness"),className:`flex flex-col items-center gap-2 p-3 rounded-2xl border transition-all min-w-[80px] ${X==="fitness"?"bg-white/10 border-green-500 text-white":"border-white/10 text-white/40"}`,children:[e.jsx(en,{className:"w-5 h-5"}),e.jsx("span",{className:"text-[10px] font-bold",children:"Fitness"})]}),e.jsxs("button",{onClick:()=>ee("energy"),className:`flex flex-col items-center gap-2 p-3 rounded-2xl border transition-all min-w-[80px] ${X==="energy"?"bg-white/10 border-orange-500 text-white":"border-white/10 text-white/40"}`,children:[e.jsx(mt,{className:"w-5 h-5"}),e.jsx("span",{className:"text-[10px] font-bold",children:"Fome Monstro"})]}),e.jsxs("button",{onClick:()=>ee("late_night"),className:`flex flex-col items-center gap-2 p-3 rounded-2xl border transition-all min-w-[80px] ${X==="late_night"?"bg-white/10 border-purple-500 text-white":"border-white/10 text-white/40"}`,children:[e.jsx(tn,{className:"w-5 h-5"}),e.jsx("span",{className:"text-[10px] font-bold",children:"Larica"})]})]})]}),e.jsx("div",{className:"max-w-4xl mx-auto p-6 grid md:grid-cols-2 gap-6",children:o.filter(A=>m==="Todos"||A.category===m).map(A=>e.jsxs(k.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},className:"group bg-white/5 border border-white/5 rounded-3xl p-4 flex gap-4 hover:bg-white/10 transition-all cursor-pointer",onClick:()=>U(A),children:[e.jsx("div",{className:"w-28 h-28 shrink-0 rounded-2xl overflow-hidden relative",children:e.jsx("img",{src:A.imageUrl,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"})}),e.jsxs("div",{className:"flex-1 flex flex-col justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsx("h3",{className:"font-bold text-lg leading-tight mb-1",children:A.title}),e.jsxs("span",{className:"text-primary font-black",children:["R$ ",A.price.toFixed(2)]})]}),e.jsx("p",{className:`text-xs leading-relaxed line-clamp-2 transition-all duration-300 ${B[A.id]?"text-primary/80":"text-white/40"}`,children:B[A.id]||A.description})]}),e.jsxs("button",{className:"mt-2 w-full py-2 bg-white/5 rounded-xl text-xs font-bold uppercase hover:bg-primary hover:text-white transition-colors flex items-center justify-center gap-2",children:[e.jsx(Ze,{className:"w-3 h-3"})," Adicionar"]})]})]},A.id))}),e.jsx(ce,{children:h.length>0&&e.jsx(k.div,{initial:{y:100},animate:{y:0},exit:{y:100},className:"fixed bottom-6 inset-x-0 px-6 z-40 max-w-md mx-auto",children:e.jsxs("button",{onClick:()=>w(!0),className:"w-full bg-primary text-white p-4 rounded-2xl shadow-2xl shadow-primary/30 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"bg-white/20 w-8 h-8 rounded-full flex items-center justify-center font-bold text-sm",children:h.reduce((A,H)=>A+H.quantity,0)}),e.jsx("span",{className:"font-bold uppercase tracking-wider text-sm",children:"Ver Sacola"})]}),e.jsxs("span",{className:"font-black text-lg",children:["R$ ",E.toFixed(2)]})]})})}),v&&e.jsxs("div",{className:"fixed inset-0 z-50 flex justify-end",children:[e.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:()=>w(!1)}),e.jsxs(k.div,{initial:{x:"100%"},animate:{x:0},className:"relative w-full max-w-md bg-[#121212] h-full shadow-2xl flex flex-col",children:[e.jsxs("div",{className:"p-6 border-b border-white/5 flex justify-between items-center",children:[e.jsx("h2",{className:"text-xl font-black italic",children:"Sua Sacola"}),e.jsx("button",{onClick:()=>w(!1),children:e.jsx(Je,{})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:h.map(A=>e.jsxs("div",{className:"flex gap-4",children:[e.jsx("img",{src:A.imageUrl,className:"w-16 h-16 rounded-xl object-cover"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-bold text-sm",children:A.title}),e.jsxs("p",{className:"text-primary font-bold text-sm mb-2",children:["R$ ",A.price.toFixed(2)]}),e.jsxs("div",{className:"flex items-center gap-3 bg-white/5 w-fit rounded-lg p-1",children:[e.jsx("button",{onClick:()=>_(A.cartId,-1),className:"p-1 hover:text-primary",children:e.jsx(sn,{size:14})}),e.jsx("span",{className:"text-xs font-bold w-4 text-center",children:A.quantity}),e.jsx("button",{onClick:()=>_(A.cartId,1),className:"p-1 hover:text-primary",children:e.jsx(Ze,{size:14})})]})]}),e.jsx("button",{onClick:()=>J(A.cartId),className:"text-white/20 hover:text-red-500 self-start",children:e.jsx(Je,{size:16})})]},A.cartId))}),e.jsxs("div",{className:"p-6 bg-white/5 space-y-4",children:[e.jsxs("div",{className:"flex justify-between text-xl font-black",children:[e.jsx("span",{children:"Total"}),e.jsxs("span",{className:"text-primary",children:["R$ ",E.toFixed(2)]})]}),e.jsx("button",{onClick:()=>{w(!1),p(!0)},className:"w-full py-4 bg-green-500 hover:bg-green-600 rounded-xl font-black uppercase tracking-widest transition-all",children:"Finalizar Pedido"})]})]})]}),y&&e.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-black/80 backdrop-blur-md",children:S?e.jsxs("div",{className:"w-full max-w-md relative",children:[e.jsxs("button",{onClick:()=>M(!1),className:"absolute -top-12 left-0 text-white/40 hover:text-white flex items-center gap-2 text-xs font-bold uppercase",children:[e.jsx(is,{className:"w-4 h-4 rotate-180"})," Voltar"]}),e.jsx(xh,{order:{id:`order_${Date.now()}`,total:E,restaurantId:i?.ownerId,customer:{name:g.name,cpf:g.cpf,phone:g.phone||""},items:h},onSuccess:L,onCancel:()=>{M(!1),p(!1)}})]}):e.jsxs(k.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"bg-[#18181b] w-full max-w-md rounded-3xl p-8 border border-white/10",children:[e.jsx("h2",{className:"text-2xl font-black italic mb-6",children:"Identificao"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold uppercase text-white/40 mb-2",children:"Seu Nome"}),e.jsx("input",{type:"text",value:g.name,onChange:A=>N({...g,name:A.target.value}),className:"w-full bg-black/50 border border-white/10 rounded-xl p-4 focus:border-primary outline-none font-bold",placeholder:"Ex: Joo Silva"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold uppercase text-white/40 mb-2",children:"CPF (Nota Fiscal)"}),e.jsx(Pe,{mask:"000.000.000-00",value:g.cpf,unmask:!1,onAccept:A=>N({...g,cpf:A}),className:"w-full bg-black/50 border border-white/10 rounded-xl p-4 focus:border-primary outline-none font-bold placeholder:text-white/20",placeholder:"000.000.000-00"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold uppercase text-white/40 mb-2",children:"Telefone"}),e.jsx(Pe,{mask:"(00) 00000-0000",value:g.phone||"",onAccept:A=>N({...g,phone:A}),className:"w-full bg-black/50 border border-white/10 rounded-xl p-4 focus:border-primary outline-none font-bold placeholder:text-white/20",placeholder:"(00) 00000-0000"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold uppercase text-white/40 mb-2",children:"Mesa (Opcional)"}),e.jsx("input",{type:"text",value:g.table,onChange:A=>N({...g,table:A.target.value}),className:"w-full bg-black/50 border border-white/10 rounded-xl p-4 focus:border-primary outline-none font-bold",placeholder:"Ex: 05"})]}),e.jsxs("button",{onClick:()=>{if(!g.name||!g.cpf){P.error("Por favor, preencha nome e CPF");return}M(!0)},className:"w-full py-4 bg-primary rounded-xl font-black uppercase tracking-widest mt-6 flex items-center justify-center gap-2",children:["Ir para Pagamento ",e.jsx(is,{className:"w-5 h-5"})]}),e.jsx("button",{onClick:()=>p(!1),className:"w-full py-3 text-white/40 font-bold text-xs uppercase hover:text-white",children:"Voltar"})]})]})}),C&&e.jsx(k.div,{initial:{opacity:0},animate:{opacity:1},className:"fixed inset-0 z-[60] bg-black/95 flex items-center justify-center p-6",children:e.jsxs(k.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{type:"spring",damping:15},className:"max-w-md w-full text-center",children:[e.jsx(k.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring"},className:"w-24 h-24 mx-auto mb-6 rounded-full bg-green-500/20 flex items-center justify-center",children:e.jsx(rt,{className:"w-12 h-12 text-green-400"})}),e.jsx(k.h2,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"text-3xl font-black mb-2",children:"Pedido Confirmado! "}),e.jsx(k.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},className:"text-white/60 mb-8",children:"Seu pedido foi enviado para a cozinha"}),e.jsxs(k.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"bg-gradient-to-br from-primary/20 to-orange-600/10 border border-primary/30 rounded-3xl p-6 mb-6",children:[e.jsxs("div",{className:"flex items-center justify-center gap-2 text-primary mb-4",children:[e.jsx(Ee,{className:"w-5 h-5"}),e.jsx("p",{className:"text-sm font-bold uppercase tracking-wider",children:"Cdigo de Recebimento"})]}),e.jsx("div",{className:"flex justify-center gap-3 mb-4",children:C.deliveryPin.split("").map((A,H)=>e.jsx(k.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6+H*.1},className:"w-14 h-16 bg-black/50 border-2 border-primary rounded-xl flex items-center justify-center",children:e.jsx("span",{className:"text-3xl font-black text-white",children:A})},H))}),e.jsx("p",{className:"text-xs text-white/50",children:"Informe este cdigo ao entregador para receber seu pedido"})]}),e.jsx(k.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.8},className:"bg-white/5 rounded-xl p-4 mb-6 text-left",children:e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-white/60",children:"Total do Pedido"}),e.jsxs("span",{className:"font-bold text-green-400",children:["R$ ",C.total.toFixed(2)]})]})}),e.jsx(k.button,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1},onClick:()=>D(null),className:"w-full py-4 bg-white/10 hover:bg-white/20 rounded-xl font-bold transition-colors",children:"Fazer Novo Pedido"})]})})]})}function gh({onCommand:a}){const[t,s]=f.useState(!1),[r,i]=f.useState(""),[n,o]=f.useState("idle"),l=f.useRef(null),c=f.useRef(!0),d=f.useRef(null);f.useEffect(()=>{c.current=!0;const u=window.SpeechRecognition||window.webkitSpeechRecognition;if(!u)return;const h=new u;h.continuous=!1,h.interimResults=!0,h.lang="pt-BR",h.maxAlternatives=1,h.onstart=()=>{c.current&&(s(!0),o("listening"))},h.onresult=x=>{const v=x.resultIndex,w=x.results[v][0].transcript.toLowerCase();i(w),x.results[v].isFinal&&m(w)},h.onerror=x=>{x.error==="no-speech"||x.error==="aborted"||x.error==="not-allowed"||console.warn("Voice Log:",x.error)},h.onend=()=>{c.current&&(s(!1),clearTimeout(d.current),d.current=setTimeout(()=>{try{h.start()}catch{}},1e3))},l.current=h;try{h.start()}catch{console.log("Start bloqueado, aguardando interao.")}return()=>{c.current=!1,clearTimeout(d.current),l.current&&l.current.stop()}},[]);const m=u=>{o("processing");const h=/(pedido|comanda|sai|mesa|nmero|numero)\s+(\d+)/i,x=/(chamar|chama|ajuda)\s+(garom|gerente)/i,v=u.match(h),w=u.match(x);if(v){const y=v[2];o("success"),a("ready",y),P.success(`Comando de Voz: Pedido #${y} PRONTO!`),setTimeout(()=>o("listening"),2e3)}else w?(o("success"),a("call_waiter","all"),P.info("Chamando Garom!"),setTimeout(()=>o("listening"),2e3)):o("listening")};return e.jsxs("div",{className:`
      fixed bottom-6 right-6 z-50 flex items-center gap-4 p-4 rounded-full border backdrop-blur-xl transition-all duration-300
      ${n==="listening"?"bg-black/80 border-primary/50":""}
      ${n==="success"?"bg-green-500/20 border-green-500":""}
      ${n==="idle"?"bg-black/50 border-white/10 opacity-50":""}
    `,children:[e.jsx("div",{className:"hidden md:block",children:r&&n!=="idle"&&e.jsxs("span",{className:"text-sm font-mono text-white/80 mr-2",children:['"',r,'"']})}),e.jsxs("div",{className:"relative",children:[n==="listening"&&e.jsx("span",{className:"absolute inset-0 rounded-full bg-primary/20 animate-ping"}),n==="success"?e.jsx(We,{className:"w-8 h-8 text-green-500"}):t?e.jsx(Da,{className:"w-8 h-8 text-primary"}):e.jsx(Lo,{className:"w-8 h-8 text-red-500"})]})]})}const bh={pending:{color:"text-yellow-400",bg:"bg-yellow-500/20 border-yellow-500/50",label:"PENDENTE"},preparing:{color:"text-blue-400",bg:"bg-blue-500/20 border-blue-500/50",label:"PREPARANDO"},ready:{color:"text-green-400",bg:"bg-green-500/20 border-green-500/50",label:"PRONTO"},dispatched:{color:"text-purple-400",bg:"bg-purple-500/20 border-purple-500/50",label:"ENVIADO"},delivered:{color:"text-gray-400",bg:"bg-gray-500/20 border-gray-500/50",label:"ENTREGUE"},billing_requested:{color:"text-red-400",bg:"bg-red-500/20 border-red-500/50",label:" CONTA"},closed:{color:"text-gray-600",bg:"bg-gray-800/50 border-gray-600/50",label:"FECHADO"},cancelled:{color:"text-gray-600",bg:"bg-gray-800/50 border-gray-600/50",label:"CANCELADO"}},Ia=["pending","preparing","ready","delivered"];function vh(a){if(!a)return 0;const t=a instanceof Ve?a.toDate():new Date(a);return Math.floor((Date.now()-t.getTime())/6e4)}function wh({orders:a}){const t=f.useMemo(()=>{const r=new Map;return a.filter(i=>i.status==="pending"||i.status==="preparing").forEach(i=>{i.items.forEach(n=>{const o=r.get(n.name);o?o.quantity+=n.quantity:r.set(n.name,{name:n.name,quantity:n.quantity,image:n.image})})}),Array.from(r.values()).sort((i,n)=>n.quantity-i.quantity)},[a]);if(t.length===0)return null;const s=t.reduce((r,i)=>r+i.quantity,0);return e.jsxs(k.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"bg-gradient-to-br from-orange-500/10 to-red-500/5 border border-orange-500/30 rounded-2xl p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("div",{className:"w-8 h-8 bg-orange-500/20 rounded-lg flex items-center justify-center",children:e.jsx(Ji,{className:"w-4 h-4 text-orange-400"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-black text-sm uppercase",children:"Resumo da Chapa"}),e.jsxs("p",{className:"text-[10px] text-white/40",children:[s," itens na fila"]})]})]}),e.jsx("div",{className:"space-y-2 max-h-[300px] overflow-y-auto",children:t.map((r,i)=>e.jsxs(k.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:i*.05},className:"flex items-center gap-3 p-3 bg-black/30 rounded-xl",children:[e.jsxs("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center font-black text-xl ${r.quantity>=5?"bg-red-500/30 text-red-400":r.quantity>=3?"bg-yellow-500/30 text-yellow-400":"bg-white/10 text-white"}`,children:[r.quantity,"x"]}),e.jsx("span",{className:"font-bold text-sm flex-1 truncate",children:r.name}),r.quantity>=5&&e.jsx("span",{className:"px-2 py-1 bg-red-500/20 text-red-400 text-[10px] font-bold rounded-full uppercase",children:"Urgente"})]},r.name))}),e.jsx("div",{className:"mt-4 pt-3 border-t border-white/10 text-center",children:e.jsx("p",{className:"text-[10px] text-white/30",children:" Produza em lote para maior eficincia"})})]})}function _s({order:a,onAdvanceStatus:t,onShowDetails:s}){const r=bh[a.status],i=vh(a.createdAt),n=a.status==="billing_requested",o=()=>a.status==="delivered"||a.status==="closed"?"":i>20?"border-red-500 ring-2 ring-red-500/50 animate-pulse":i>10?"border-yellow-500":"border-green-500",l=c=>{c.stopPropagation(),console.log(` [WAITER CALL] Pedido #${a.id?.slice(-4).toUpperCase()} est PRONTO para entrega na Mesa ${a.customer?.table||"N/A"}`),alert(`Garom notificado! Pedido #${a.id?.slice(-4).toUpperCase()} pronto para entrega.`)};return e.jsxs(k.div,{layout:!0,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:`
        ${r.bg} border-2 rounded-2xl p-4 cursor-pointer select-none
        ${o()}
        ${n?"ring-2 ring-red-500/50":""}
        hover:scale-[1.02] transition-transform
      `,onClick:t,onDoubleClick:s,children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-3xl font-black text-white",children:["#",a.id?.slice(-4).toUpperCase()||"?"]}),a.customer?.table&&e.jsxs("span",{className:"px-2 py-1 bg-white/10 rounded-lg text-xs font-bold uppercase",children:["Mesa ",a.customer.table]})]}),e.jsx("span",{className:`text-xs font-black uppercase ${r.color}`,children:r.label})]}),e.jsxs("div",{className:"flex items-center gap-2 mb-3 text-white/60",children:[e.jsx(Xe,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-bold truncate",children:a.customer?.name||"Annimo"})]}),e.jsxs("div",{className:"space-y-1 mb-3",children:[a.items.slice(0,4).map((c,d)=>e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsxs("span",{className:"font-bold text-white",children:[c.quantity,"x ",c.name]}),c.notes&&e.jsx("span",{className:"text-yellow-400 text-xs",children:""})]},d)),a.items.length>4&&e.jsxs("span",{className:"text-xs text-white/40",children:["+",a.items.length-4," mais..."]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-white/10",children:[e.jsxs("div",{className:`flex items-center gap-1 text-xs font-bold ${i>20?"text-red-400":i>10?"text-yellow-400":"text-green-400"}`,children:[e.jsx(hs,{className:"w-3 h-3"}),i," min"]}),e.jsxs("span",{className:"text-lg font-black text-primary",children:["R$ ",a.total.toFixed(2).replace(".",",")]})]}),a.status==="ready"&&e.jsx("button",{onClick:l,className:"w-full mt-3 py-2 bg-green-500 hover:bg-green-600 rounded-xl text-sm font-black uppercase tracking-wider transition-colors",children:" Chamar Garom"})]})}function Pi(){const{restaurantId:a}=Ja(),[t,s]=f.useState([]),[r,i]=f.useState(!0),[n,o]=f.useState(null),[l,c]=f.useState(!0),d=f.useRef(null);f.useEffect(()=>{if(!a)return;const p=Re(ge(te,"orders"),xe("restaurantId","==",a),xe("status","in",["pending","preparing","ready","billing_requested"]),Ut("createdAt","asc")),g=et(p,N=>{const S=N.docs.map(D=>({...D.data(),id:D.id})),M=t.filter(D=>D.status==="pending").length;S.filter(D=>D.status==="pending").length>M&&r&&m(),s(S)});return()=>g()},[a,r]);const m=()=>{try{d.current?.play()}catch{console.log("Audio play blocked")}},u=async p=>{const g=Ia.indexOf(p.status);if(g===-1||g>=Ia.length-1)return;const N=Ia[g+1];try{await Fe(he(te,"orders",p.id),{status:N,updatedAt:Ve.now(),...N==="delivered"&&{completedAt:Ve.now()}})}catch(S){console.error("Error updating order:",S)}},h=t.filter(p=>p.status==="pending"),x=t.filter(p=>p.status==="preparing"),v=t.filter(p=>p.status==="ready"),w=t.filter(p=>p.status==="billing_requested"),y=async(p,g)=>{if(p==="ready"){const N=t.find(S=>S.id?.slice(-4).toUpperCase().includes(g.toUpperCase())||S.id?.slice(-2)===g||String(S.id).includes(g));N?await Fe(he(te,"orders",N.id),{status:"ready",updatedAt:Ve.now()}):P.error(`Pedido ${g} no encontrado`)}else p==="call_waiter"&&(P.success(" Garom foi notificado!",{duration:3e3}),console.log("[VOICE] Waiter called from KDS"))};return e.jsxs("div",{className:"min-h-screen bg-black text-white p-4 md:p-6",children:[e.jsx("audio",{ref:d,src:"data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2teleCADB3qO3+ug",preload:"auto"}),e.jsxs("header",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(Se,{className:"w-10 h-10 text-primary"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl md:text-4xl font-black uppercase tracking-tight",children:"Cozinha"}),e.jsx("p",{className:"text-[10px] font-bold uppercase tracking-widest text-white/40",children:"Kitchen Display System"})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[w.length>0&&e.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-red-500/20 border border-red-500 rounded-xl animate-pulse",children:[e.jsx(dt,{className:"w-5 h-5 text-red-400"}),e.jsxs("span",{className:"text-sm font-bold text-red-400",children:[w.length," Conta(s) Pedida(s)"]})]}),e.jsx("button",{onClick:()=>c(!l),className:`p-3 rounded-xl transition-colors ${l?"bg-orange-500/20 text-orange-400":"bg-white/10"}`,title:"Resumo da Produo",children:e.jsx(ut,{className:"w-6 h-6"})}),e.jsx("button",{onClick:()=>i(!r),className:`p-3 rounded-xl transition-colors ${r?"bg-primary":"bg-white/10"}`,children:r?e.jsx(Bo,{className:"w-6 h-6"}):e.jsx($o,{className:"w-6 h-6"})}),e.jsx("button",{onClick:()=>window.location.reload(),className:"p-3 bg-white/10 rounded-xl hover:bg-white/20 transition-colors",children:e.jsx(Nt,{className:"w-6 h-6"})})]})]}),w.length>0&&e.jsxs("section",{className:"mb-6",children:[e.jsxs("h2",{className:"text-sm font-black uppercase tracking-widest text-red-400 mb-3 flex items-center gap-2",children:[e.jsx(dt,{className:"w-4 h-4"}),"CONTAS PEDIDAS - PRIORIDADE"]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:e.jsx(ce,{children:w.map(p=>e.jsx(_s,{order:p,onAdvanceStatus:()=>u(p),onShowDetails:()=>o(p)},p.id))})})]}),e.jsxs("div",{className:"flex gap-6",children:[e.jsx(ce,{children:l&&e.jsx(k.div,{initial:{opacity:0,width:0},animate:{opacity:1,width:280},exit:{opacity:0,width:0},className:"hidden lg:block shrink-0",children:e.jsx(wh,{orders:t})})}),e.jsxs("div",{className:"flex-1 grid md:grid-cols-3 gap-6",children:[e.jsxs("section",{children:[e.jsxs("h2",{className:"text-sm font-black uppercase tracking-widest text-yellow-400 mb-3 flex items-center gap-2",children:[e.jsx(hs,{className:"w-4 h-4"}),"PENDENTES (",h.length,")"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(ce,{children:h.map(p=>e.jsx(_s,{order:p,onAdvanceStatus:()=>u(p),onShowDetails:()=>o(p)},p.id))}),h.length===0&&e.jsxs("div",{className:"text-center py-12 text-white/20",children:[e.jsx(rt,{className:"w-12 h-12 mx-auto mb-2"}),e.jsx("p",{className:"text-sm font-bold",children:"Nenhum pendente"})]})]})]}),e.jsxs("section",{children:[e.jsxs("h2",{className:"text-sm font-black uppercase tracking-widest text-blue-400 mb-3 flex items-center gap-2",children:[e.jsx(Se,{className:"w-4 h-4"}),"PREPARANDO (",x.length,")"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(ce,{children:x.map(p=>e.jsx(_s,{order:p,onAdvanceStatus:()=>u(p),onShowDetails:()=>o(p)},p.id))}),x.length===0&&e.jsxs("div",{className:"text-center py-12 text-white/20",children:[e.jsx(Se,{className:"w-12 h-12 mx-auto mb-2"}),e.jsx("p",{className:"text-sm font-bold",children:"Nenhum em preparo"})]})]})]}),e.jsxs("section",{children:[e.jsxs("h2",{className:"text-sm font-black uppercase tracking-widest text-green-400 mb-3 flex items-center gap-2",children:[e.jsx(rt,{className:"w-4 h-4"}),"PRONTOS (",v.length,")"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(ce,{children:v.map(p=>e.jsx(_s,{order:p,onAdvanceStatus:()=>u(p),onShowDetails:()=>o(p)},p.id))}),v.length===0&&e.jsxs("div",{className:"text-center py-12 text-white/20",children:[e.jsx(rt,{className:"w-12 h-12 mx-auto mb-2"}),e.jsx("p",{className:"text-sm font-bold",children:"Nenhum pronto"})]})]})]})]})]}),e.jsx(ce,{children:n&&e.jsx(k.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/90 backdrop-blur-md p-4",onClick:()=>o(null),children:e.jsxs(k.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-[#1a1a1a] rounded-3xl p-8 max-w-md w-full border border-white/10",onClick:p=>p.stopPropagation(),children:[e.jsxs("h3",{className:"text-3xl font-black mb-4",children:["Pedido #",n.id?.slice(-4).toUpperCase()]}),e.jsxs("div",{className:"mb-4 p-4 bg-white/5 rounded-xl",children:[e.jsx("p",{className:"font-bold",children:n.customer?.name}),e.jsxs("p",{className:"text-white/40 text-sm",children:["CPF: ",n.customer?.cpf]}),n.customer?.table&&e.jsxs("p",{className:"text-white/40 text-sm",children:["Mesa: ",n.customer.table]})]}),e.jsx("div",{className:"space-y-2 mb-6",children:n.items.map((p,g)=>e.jsxs("div",{className:"flex justify-between p-3 bg-white/5 rounded-xl",children:[e.jsxs("div",{children:[e.jsxs("span",{className:"font-bold",children:[p.quantity,"x ",p.name]}),p.notes&&e.jsxs("p",{className:"text-xs text-yellow-400",children:[" ",p.notes]})]}),e.jsxs("span",{className:"text-primary font-bold",children:["R$ ",(p.price*p.quantity).toFixed(2)]})]},g))}),e.jsxs("div",{className:"flex justify-between items-center p-4 bg-primary/20 rounded-xl",children:[e.jsx("span",{className:"font-bold",children:"TOTAL"}),e.jsxs("span",{className:"text-2xl font-black text-primary",children:["R$ ",n.total.toFixed(2).replace(".",",")]})]}),e.jsx("button",{onClick:()=>o(null),className:"w-full mt-4 py-3 bg-white/10 hover:bg-white/20 rounded-xl font-bold transition-colors",children:"Fechar"})]})})}),e.jsx(gh,{onCommand:y})]})}const Jt={black:{name:"Emprata Black",description:"Fundo escuro premium para acrlicos",bg:"#0a0a0a",text:"#ffffff",accent:"#f97316",qrBg:"#ffffff",qrFg:"#0a0a0a"},white:{name:"Economy White",description:"Econmico para impressora comum",bg:"#ffffff",text:"#0a0a0a",accent:"#f97316",qrBg:"#ffffff",qrFg:"#0a0a0a"}},yh=`
@media print {
  body * {
    visibility: hidden;
  }
  
  #qr-print-area, #qr-print-area * {
    visibility: visible;
  }
  
  #qr-print-area {
    position: absolute;
    left: 0;
    top: 0;
    width: 100%;
    height: 100vh;
    display: flex;
    align-items: center;
    justify-content: center;
    -webkit-print-color-adjust: exact !important;
    print-color-adjust: exact !important;
    color-adjust: exact !important;
  }

  .no-print {
    display: none !important;
  }

  @page {
    margin: 0;
    size: A5 portrait;
  }
}
`;function jh(){const a=tt(),{user:t}=we(),[s,r]=f.useState(!0),[i,n]=f.useState(null),[o,l]=f.useState("black"),[c,d]=f.useState(""),m=Jt[o],u=i?.slug?`https://emprataai.vercel.app/menu/${i.slug}`:"";f.useEffect(()=>{const x=document.createElement("style");return x.innerHTML=yh,document.head.appendChild(x),()=>{document.head.removeChild(x)}},[]),f.useEffect(()=>{(async()=>{if(t?.uid)try{const v=Re(ge(te,"menus"),xe("ownerId","==",t.uid)),w=await kt(v);if(!w.empty){const y=w.docs[0].data();n({name:y.name||"Meu Restaurante",slug:y.slug||"meu-restaurante",logoUrl:y.logoUrl})}}catch(v){console.error("Error fetching menu:",v)}finally{r(!1)}})()},[t?.uid]);const h=()=>{window.print()};return s?e.jsx(io,{}):e.jsxs("div",{className:"min-h-screen bg-[#0a0a0a] text-white",children:[e.jsx("header",{className:"no-print sticky top-0 z-50 bg-[#0a0a0a]/95 backdrop-blur-xl border-b border-white/5",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-4 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:()=>a("/dashboard"),className:"p-2 hover:bg-white/10 rounded-xl transition-colors",children:e.jsx(pt,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-black italic uppercase tracking-tight",children:"QR Studio"}),e.jsx("p",{className:"text-[10px] font-bold uppercase tracking-widest text-white/40",children:"Gerador de Placas de Mesa"})]})]}),e.jsxs("button",{onClick:h,className:"flex items-center gap-2 px-6 py-3 bg-primary hover:bg-orange-600 rounded-xl font-black uppercase tracking-widest text-sm transition-all",children:[e.jsx(Pa,{className:"w-4 h-4"}),"Imprimir"]})]})}),e.jsxs("div",{className:"max-w-7xl mx-auto p-6 grid lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"no-print space-y-6",children:[e.jsxs("section",{className:"bg-white/5 border border-white/10 rounded-3xl p-6",children:[e.jsxs("h2",{className:"text-lg font-black uppercase tracking-tight mb-4 flex items-center gap-2",children:[e.jsx(Hi,{className:"w-5 h-5 text-primary"}),"Tema da Placa"]}),e.jsx("div",{className:"grid grid-cols-2 gap-4",children:Object.keys(Jt).map(x=>e.jsxs("button",{onClick:()=>l(x),className:`p-4 rounded-2xl border-2 transition-all ${o===x?"border-primary bg-primary/10":"border-white/10 hover:border-white/20"}`,children:[e.jsx("div",{className:"w-full h-16 rounded-xl mb-3 border border-white/10",style:{backgroundColor:Jt[x].bg}}),e.jsx("h3",{className:"font-bold text-sm",children:Jt[x].name}),e.jsx("p",{className:"text-[10px] text-white/40",children:Jt[x].description})]},x))})]}),e.jsxs("section",{className:"bg-white/5 border border-white/10 rounded-3xl p-6",children:[e.jsx("h2",{className:"text-lg font-black uppercase tracking-tight mb-4",children:"Nmero da Mesa (Opcional)"}),e.jsx("input",{type:"text",value:c,onChange:x=>d(x.target.value),placeholder:"Ex: 01, 02, VIP...",className:"w-full bg-black/50 border border-white/10 rounded-xl p-4 font-bold text-center text-2xl focus:border-primary outline-none"})]}),e.jsxs("section",{className:"bg-white/5 border border-white/10 rounded-3xl p-6",children:[e.jsxs("h2",{className:"text-lg font-black uppercase tracking-tight mb-4 flex items-center gap-2",children:[e.jsx(Ws,{className:"w-5 h-5 text-green-400"}),"URL do Cardpio"]}),e.jsx("div",{className:"p-4 bg-black/50 rounded-xl break-all text-sm font-mono text-primary",children:u||"Nenhum cardpio encontrado"})]}),e.jsxs("section",{className:"bg-primary/10 border border-primary/20 rounded-3xl p-6",children:[e.jsx("h2",{className:"text-sm font-black uppercase tracking-widest text-primary mb-3",children:" Dicas de Impresso"}),e.jsxs("ul",{className:"space-y-2 text-sm text-white/60",children:[e.jsxs("li",{children:[" ",e.jsx("strong",{children:"Margens:"}),' Configure como "Nenhuma"']}),e.jsxs("li",{children:[" ",e.jsx("strong",{children:"Grficos de fundo:"})," ATIVAR (essencial para fundo preto)"]}),e.jsxs("li",{children:[" ",e.jsx("strong",{children:"Papel:"})," A5 ou A4 funciona bem"]}),e.jsxs("li",{children:[" ",e.jsx("strong",{children:"Acrlico:"})," Tema Black fica incrvel em acrlico T"]})]})]})]}),e.jsx("div",{className:"flex items-start justify-center",children:e.jsx("div",{id:"qr-print-area",className:"w-full max-w-md aspect-[3/4] rounded-3xl overflow-hidden shadow-2xl",style:{backgroundColor:m.bg},children:e.jsxs("div",{className:"h-full flex flex-col items-center justify-between p-8 text-center",children:[e.jsxs("div",{children:[c&&e.jsxs("div",{className:"inline-block px-6 py-2 rounded-full text-sm font-black uppercase tracking-widest mb-4",style:{backgroundColor:m.accent+"20",color:m.accent,border:`2px solid ${m.accent}`},children:["Mesa ",c]}),e.jsx("h1",{className:"text-3xl font-black italic tracking-tighter",style:{color:m.text,fontFamily:"Georgia, serif"},children:"Cardpio Digital"})]}),e.jsx("div",{className:"p-6 rounded-3xl",style:{backgroundColor:m.qrBg},children:u?e.jsx(so,{value:u,size:200,bgColor:m.qrBg,fgColor:m.qrFg,level:"H"}):e.jsx("div",{className:"w-[200px] h-[200px] flex items-center justify-center bg-gray-200 rounded-xl",children:e.jsxs("span",{className:"text-gray-500 text-center text-sm",children:["Configure seu",e.jsx("br",{}),"cardpio primeiro"]})})}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm font-bold mb-6 opacity-60",style:{color:m.text},children:["Aponte a cmera do seu celular",e.jsx("br",{}),"para fazer o pedido"]}),e.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",style:{color:m.text},children:[i?.logoUrl?e.jsx("img",{src:i.logoUrl,alt:i.name,className:"w-8 h-8 rounded-lg object-cover"}):e.jsx(Se,{className:"w-6 h-6 opacity-50"}),e.jsx("span",{className:"font-black text-lg",children:i?.name||"Meu Restaurante"})]}),e.jsx("p",{className:"text-[10px] font-bold uppercase tracking-widest opacity-30",style:{color:m.text},children:"Tecnologia Emprata.ai"})]})]})})})]})]})}const Ct="staff";function Nh(){return`waiter_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}async function kh(a){const t=Nh(),s={totalSales:0,totalOrders:0,averageTicket:0,todaySales:0,todayOrders:0},r={id:t,ownerId:a.ownerId,restaurantId:a.restaurantId,name:a.name,code:a.code,active:!0,isOnline:!1,performance:s,createdAt:Ve.now(),updatedAt:Ve.now()};return await ss(he(te,Ct,t),r),r}function Ch(a,t){const s=Re(ge(te,Ct),xe("ownerId","==",a));return et(s,r=>{const i=r.docs.map(n=>n.data()).sort((n,o)=>o.performance.totalSales-n.performance.totalSales);t(i)},r=>{console.error("Error subscribing to staff:",r),t([])})}async function Eh(a,t){const s=Re(ge(te,Ct),xe("restaurantId","==",a),xe("code","==",t),xe("active","==",!0)),r=await kt(s);return r.empty?null:r.docs[0].data()}async function Ah(a){const t=he(te,Ct,a),s=await Rs(t);return s.exists()?s.data():null}async function Sh(a,t){await Fe(he(te,Ct,a),{active:t,isOnline:t?void 0:!1,updatedAt:Ve.now()})}async function Ds(a,t){await Fe(he(te,Ct,a),{isOnline:t,lastActiveAt:Ve.now(),updatedAt:Ve.now()})}async function _h(a,t){const s=await Ah(a);if(!s)return;const r=s.performance.totalOrders+1,i=s.performance.totalSales+t,n=i/r;await Fe(he(te,Ct,a),{"performance.totalOrders":r,"performance.totalSales":i,"performance.averageTicket":n,"performance.todayOrders":s.performance.todayOrders+1,"performance.todaySales":s.performance.todaySales+t,lastActiveAt:Ve.now(),updatedAt:Ve.now()})}async function Th(a){await yl(he(te,Ct,a))}function Ih(a){const t=a.filter(n=>n.active),s=a.filter(n=>n.isOnline).length,r=a.reduce((n,o)=>n+o.performance.totalSales,0),i=t.length>0?t.sort((n,o)=>o.performance.totalSales-n.performance.totalSales)[0]:null;return{totalStaff:a.length,activeStaff:t.length,onlineNow:s,totalSalesViaWaiters:r,topPerformer:i?{name:i.name,sales:i.performance.totalSales}:null}}function Tt(a){return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(a)}function Ra(){return Math.floor(1e3+Math.random()*9e3).toString()}function Ts({title:a,value:t,icon:s,color:r="text-primary"}){return e.jsxs("div",{className:"bg-white/5 backdrop-blur-xl border border-white/10 rounded-2xl p-5",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:`p-2 bg-white/5 rounded-xl ${r}`,children:s}),e.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest text-white/40",children:a})]}),e.jsx("p",{className:"text-2xl font-black text-white",children:t})]})}function Rh(){const{user:a}=we(),[t,s]=f.useState([]),[r,i]=f.useState(null),[n,o]=f.useState(!0),[l,c]=f.useState(!1),[d,m]=f.useState(!1),[u,h]=f.useState(""),[x,v]=f.useState(Ra()),[w,y]=f.useState(null);f.useEffect(()=>{if(!a?.uid)return;const C=Ch(a.uid,D=>{s(D),i(Ih(D)),o(!1)});return()=>C()},[a?.uid]);const p=async()=>{if(!a?.uid||!u.trim()||!x.trim()){P.error("Preencha nome e cdigo");return}if(x.length<4){P.error("Cdigo deve ter pelo menos 4 dgitos");return}m(!0);try{const C=await kh({name:u.trim(),code:x,ownerId:a.uid,restaurantId:a.uid});y(C),P.success("Garom criado com sucesso!")}catch(C){P.error(C.message||"Erro ao criar garom")}finally{m(!1)}},g=async C=>{try{await Sh(C.id,!C.active),P.success(C.active?"Garom bloqueado":"Garom ativado")}catch{P.error("Erro ao atualizar status")}},N=async C=>{if(confirm("Tem certeza que deseja excluir este garom?"))try{await Th(C),P.success("Garom excludo")}catch{P.error("Erro ao excluir")}},S=C=>{navigator.clipboard.writeText(C),P.success("Cdigo copiado!")},M=()=>{c(!1),h(""),v(Ra()),y(null)};return n?e.jsx("div",{className:"min-h-screen bg-[#0a0a0a] flex items-center justify-center",children:e.jsx(le,{className:"w-8 h-8 text-primary animate-spin"})}):e.jsxs("div",{className:"min-h-screen bg-[#0a0a0a] text-white",children:[e.jsxs("header",{className:"h-16 md:h-20 border-b border-white/5 flex items-center justify-between px-4 md:px-8 bg-[#0a0a0a]/80 backdrop-blur-xl sticky top-0 z-50",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(me,{to:"/dashboard",className:"text-white/40 hover:text-white transition-colors",children:e.jsx(Bs,{className:"w-6 h-6"})}),e.jsxs("div",{children:[e.jsxs("h1",{className:"text-lg font-black italic tracking-tight flex items-center gap-2",children:[e.jsx(Xe,{className:"w-5 h-5 text-primary"}),"Gesto de Equipe"]}),e.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest text-white/30",children:"Staff Management"})]})]}),e.jsxs("button",{onClick:()=>c(!0),className:"flex items-center gap-2 px-4 py-2 bg-primary hover:bg-orange-600 rounded-xl font-bold text-sm transition-all",children:[e.jsx(Ze,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden md:inline",children:"Novo Garom"})]})]}),e.jsxs("main",{className:"p-4 md:p-8 max-w-7xl mx-auto space-y-8",children:[e.jsxs("section",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(Ts,{title:"Total Equipe",value:r?.totalStaff.toString()||"0",icon:e.jsx(Xe,{className:"w-4 h-4"})}),e.jsx(Ts,{title:"Online Agora",value:r?.onlineNow.toString()||"0",icon:e.jsx(Vo,{className:"w-4 h-4"}),color:"text-green-400"}),e.jsx(Ts,{title:"Vendas via Garons",value:Tt(r?.totalSalesViaWaiters||0),icon:e.jsx(Kt,{className:"w-4 h-4"}),color:"text-blue-400"}),e.jsx(Ts,{title:"Top Performer",value:r?.topPerformer?.name||"-",icon:e.jsx(ns,{className:"w-4 h-4"}),color:"text-yellow-400"})]}),e.jsxs("section",{className:"bg-white/5 backdrop-blur-xl border border-white/10 rounded-2xl overflow-hidden",children:[e.jsx("div",{className:"p-4 border-b border-white/5",children:e.jsx("h2",{className:"font-black uppercase tracking-tight",children:"Equipe"})}),t.length===0?e.jsxs("div",{className:"p-12 text-center",children:[e.jsx(Xe,{className:"w-12 h-12 mx-auto text-white/10 mb-3"}),e.jsx("p",{className:"text-white/40 mb-4",children:"Nenhum garom cadastrado"}),e.jsx("button",{onClick:()=>c(!0),className:"px-4 py-2 bg-primary rounded-xl font-bold text-sm",children:"Adicionar Primeiro Garom"})]}):e.jsx("div",{className:"divide-y divide-white/5",children:t.map(C=>e.jsxs(k.div,{initial:{opacity:0},animate:{opacity:1},className:`p-4 flex items-center justify-between ${C.active?"":"opacity-50"}`,children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${C.isOnline?"bg-green-500 animate-pulse":C.active?"bg-yellow-500":"bg-red-500"}`}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-bold text-white",children:C.name}),!C.active&&e.jsx("span",{className:"px-2 py-0.5 bg-red-500/20 text-red-400 text-[10px] font-bold rounded-full uppercase",children:"Bloqueado"})]}),e.jsxs("div",{className:"flex items-center gap-3 text-xs text-white/40",children:[e.jsxs("span",{children:["PIN: ",e.jsx("code",{className:"bg-white/10 px-1 rounded",children:C.code})]}),e.jsx("button",{onClick:()=>S(C.code),className:"hover:text-white transition-colors",children:e.jsx($s,{className:"w-3 h-3"})})]})]})]}),e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsxs("div",{className:"hidden md:flex items-center gap-6 text-sm",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-white/40 text-[10px] uppercase",children:"Vendas"}),e.jsx("p",{className:"font-bold text-primary",children:Tt(C.performance.totalSales)})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-white/40 text-[10px] uppercase",children:"Pedidos"}),e.jsx("p",{className:"font-bold",children:C.performance.totalOrders})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-white/40 text-[10px] uppercase",children:"Ticket"}),e.jsx("p",{className:"font-bold",children:Tt(C.performance.averageTicket)})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>g(C),className:`p-2 rounded-lg transition-colors ${C.active?"bg-red-500/20 text-red-400 hover:bg-red-500/30":"bg-green-500/20 text-green-400 hover:bg-green-500/30"}`,title:C.active?"Bloquear":"Ativar",children:C.active?e.jsx(an,{className:"w-4 h-4"}):e.jsx(Ws,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>N(C.id),className:"p-2 bg-white/5 text-white/40 hover:text-red-400 rounded-lg transition-colors",title:"Excluir",children:e.jsx(Fa,{className:"w-4 h-4"})})]})]})]},C.id))})]})]}),e.jsx(ce,{children:l&&e.jsx(k.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/90 backdrop-blur-md p-4",onClick:M,children:e.jsx(k.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-[#1a1a1a] rounded-3xl p-8 max-w-md w-full border border-white/10",onClick:C=>C.stopPropagation(),children:w?e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-green-500/20 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(rt,{className:"w-8 h-8 text-green-400"})}),e.jsx("h3",{className:"text-2xl font-black mb-2",children:"Garom Criado!"}),e.jsx("p",{className:"text-white/40 mb-6",children:w.name}),e.jsxs("div",{className:"bg-white/5 rounded-2xl p-6 mb-6",children:[e.jsx("p",{className:"text-[10px] font-bold uppercase tracking-widest text-white/40 mb-2",children:"Cdigo de Acesso"}),e.jsxs("div",{className:"flex items-center justify-center gap-3",children:[e.jsx("span",{className:"text-4xl font-black tracking-[0.5em] text-primary",children:w.code}),e.jsx("button",{onClick:()=>S(w.code),className:"p-2 bg-white/10 rounded-lg hover:bg-white/20 transition-colors",children:e.jsx($s,{className:"w-5 h-5"})})]})]}),e.jsx("div",{className:"bg-yellow-500/10 border border-yellow-500/30 rounded-xl p-4 mb-6",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(dt,{className:"w-5 h-5 text-yellow-400 flex-shrink-0 mt-0.5"}),e.jsx("p",{className:"text-sm text-yellow-400 text-left",children:"Anote este cdigo! O garom precisar dele para acessar o app."})]})}),e.jsx("button",{onClick:M,className:"w-full py-3 bg-primary hover:bg-orange-600 rounded-xl font-bold transition-colors",children:"Concluir"})]}):e.jsxs(e.Fragment,{children:[e.jsx("h3",{className:"text-2xl font-black mb-6",children:"Novo Garom"}),e.jsxs("div",{className:"space-y-4 mb-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-bold uppercase tracking-widest text-white/40 block mb-2",children:"Nome do Garom"}),e.jsx("input",{type:"text",value:u,onChange:C=>h(C.target.value),placeholder:"Ex: Joo Silva",className:"w-full bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-white placeholder-white/20 focus:border-primary focus:outline-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-bold uppercase tracking-widest text-white/40 block mb-2",children:"Cdigo de Acesso (PIN)"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:x,onChange:C=>v(C.target.value.replace(/\D/g,"").slice(0,6)),className:"flex-1 bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-white text-center text-2xl font-black tracking-widest focus:border-primary focus:outline-none",maxLength:6}),e.jsx("button",{onClick:()=>v(Ra()),className:"px-4 bg-white/10 hover:bg-white/20 rounded-xl transition-colors",title:"Gerar novo cdigo",children:""})]}),e.jsx("p",{className:"text-xs text-white/30 mt-2",children:"O garom usar este PIN para fazer login rpido"})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:M,className:"flex-1 py-3 bg-white/10 hover:bg-white/20 rounded-xl font-bold transition-colors",children:"Cancelar"}),e.jsx("button",{onClick:p,disabled:d||!u.trim(),className:"flex-1 py-3 bg-primary hover:bg-orange-600 rounded-xl font-bold transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:d?e.jsx(le,{className:"w-4 h-4 animate-spin"}):e.jsxs(e.Fragment,{children:[e.jsx(Ze,{className:"w-4 h-4"}),"Criar"]})})]})]})})})})]})}function Mh(){const a=tt(),[t,s]=f.useState(""),[r,i]=f.useState(""),[n,o]=f.useState(!1),[l,c]=f.useState(""),d=async()=>{if(!t.trim()||!r.trim()){c("Preencha o cdigo do restaurante e seu PIN");return}o(!0),c("");try{const u=await Eh(t.trim(),r);if(!u){c("Cdigo ou PIN invlido"),o(!1);return}const h={waiterId:u.id,waiterName:u.name,restaurantId:u.restaurantId,ownerId:u.ownerId,loginAt:new Date,currentTables:[]};sessionStorage.setItem("waiterSession",JSON.stringify(h)),await Ds(u.id,!0),P.success(`Bem-vindo, ${u.name}!`),a("/waiter-mode")}catch(u){c(u.message||"Erro ao fazer login")}finally{o(!1)}},m=u=>{const h=u.replace(/\D/g,"").slice(0,6);i(h),c("")};return e.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col",children:[e.jsx("header",{className:"p-6",children:e.jsxs(me,{to:"/",className:"flex items-center gap-2 text-white/40 hover:text-white transition-colors",children:[e.jsx(pt,{className:"w-5 h-5"}),e.jsx("span",{className:"font-bold",children:"Voltar"})]})}),e.jsx("main",{className:"flex-1 flex flex-col items-center justify-center p-6",children:e.jsxs(k.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-sm space-y-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-20 h-20 bg-primary/20 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(Se,{className:"w-10 h-10 text-primary"})}),e.jsx("h1",{className:"text-3xl font-black italic tracking-tight",children:"Modo Garom"}),e.jsx("p",{className:"text-white/40 text-sm mt-1",children:"Digite seu cdigo de acesso"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-bold uppercase tracking-widest text-white/40 block mb-2",children:"Cdigo do Restaurante"}),e.jsx("input",{type:"text",value:t,onChange:u=>{s(u.target.value),c("")},placeholder:"ID do restaurante",className:"w-full bg-white/5 border border-white/10 rounded-xl px-4 py-4 text-white text-center font-mono placeholder-white/20 focus:border-primary focus:outline-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-bold uppercase tracking-widest text-white/40 block mb-2",children:"Seu PIN"}),e.jsx("input",{type:"text",inputMode:"numeric",value:r,onChange:u=>m(u.target.value),placeholder:"   ",className:"w-full bg-white/5 border border-white/10 rounded-xl px-4 py-4 text-white text-center text-3xl font-black tracking-[0.5em] placeholder-white/20 focus:border-primary focus:outline-none",maxLength:6})]}),l&&e.jsxs(k.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"flex items-center gap-2 p-3 bg-red-500/20 border border-red-500/30 rounded-xl text-red-400 text-sm",children:[e.jsx(dt,{className:"w-4 h-4 flex-shrink-0"}),e.jsx("span",{children:l})]}),e.jsx("button",{onClick:d,disabled:n||!r||!t,className:"w-full py-4 bg-primary hover:bg-orange-600 rounded-xl font-black text-lg uppercase tracking-wider transition-all disabled:opacity-50 flex items-center justify-center gap-2",children:n?e.jsx(le,{className:"w-5 h-5 animate-spin"}):"Entrar"})]}),e.jsx("p",{className:"text-center text-xs text-white/30",children:"Pea o cdigo do restaurante e seu PIN pessoal ao gerente."})]})})]})}function Oh({onSelect:a,occupiedTables:t}){const s=Array.from({length:30},(r,i)=>i+1);return e.jsx("div",{className:"grid grid-cols-5 gap-3 p-4",children:s.map(r=>e.jsx("button",{onClick:()=>a(r),className:`
            aspect-square rounded-2xl font-black text-2xl flex items-center justify-center
            transition-all active:scale-95
            ${t.includes(r)?"bg-primary/20 text-primary border-2 border-primary":"bg-white/5 text-white/60 hover:bg-white/10 border border-white/10"}
          `,children:r},r))})}function Ph({item:a,quantity:t,onAdd:s,onRemove:r}){return e.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/5 rounded-xl",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-bold text-white truncate",children:a.title}),e.jsx("p",{className:"text-sm text-primary font-bold",children:Tt(a.price)})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[t>0&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:r,className:"w-10 h-10 bg-white/10 rounded-full flex items-center justify-center active:scale-95",children:e.jsx(sn,{className:"w-4 h-4"})}),e.jsx("span",{className:"w-8 text-center font-black text-lg",children:t})]}),e.jsx("button",{onClick:s,className:"w-10 h-10 bg-primary rounded-full flex items-center justify-center active:scale-95",children:e.jsx(Ze,{className:"w-4 h-4"})})]})]})}function Dh(){const a=tt(),[t,s]=f.useState(null),[r,i]=f.useState(!0),[n,o]=f.useState("tables"),[l,c]=f.useState(null),[d,m]=f.useState(""),[u,h]=f.useState([]),[x,v]=f.useState([]),[w,y]=f.useState([]),[p,g]=f.useState(!1);f.useEffect(()=>{const T=sessionStorage.getItem("waiterSession");if(T){const U=JSON.parse(T);s(U),Ds(U.waiterId,!0)}else a("/waiter-login");return i(!1),()=>{if(T){const U=JSON.parse(T);Ds(U.waiterId,!1)}}},[a]),f.useEffect(()=>{async function T(){if(t)try{const U=Re(ge(te,"menus"),xe("ownerId","==",t.ownerId)),J=await kt(U);if(!J.empty){const E=J.docs[0].data().categories?.flatMap(L=>L.items)||[];h(E)}}catch(U){console.error("Error loading menu:",U)}}T()},[t]);const N=T=>{c(T),o("menu"),w.includes(T)||y(U=>[...U,T])},S=T=>{v(U=>{if(U.find(E=>E.menuItemId===T.id))return U.map(E=>E.menuItemId===T.id?{...E,quantity:E.quantity+1}:E);const _={id:T.id,menuItemId:T.id,name:T.title,price:Number(T.price),quantity:1,cartId:crypto.randomUUID(),notes:"",imageUrl:T.imageUrl||""};return[...U,_]}),P.success(`${T.title} adicionado!`)},M=T=>{v(U=>{const J=U.find(_=>_.menuItemId===T);return J&&J.quantity>1?U.map(_=>_.menuItemId===T?{..._,quantity:_.quantity-1}:_):U.filter(_=>_.menuItemId!==T)})},C=T=>x.find(U=>U.menuItemId===T)?.quantity||0,D=x.reduce((T,U)=>T+U.price*U.quantity,0),X=x.reduce((T,U)=>T+U.quantity,0),ee=async()=>{if(!(!t||!l||x.length===0)){g(!0);try{const T=x.map(J=>({id:crypto.randomUUID(),menuItemId:J.menuItemId,name:J.name,quantity:J.quantity,unitPrice:J.price,totalPrice:J.price*J.quantity,imageUrl:J.imageUrl,status:"pending"})),U={restaurantId:t.restaurantId,ownerId:t.ownerId,customer:{name:`Mesa ${l}`,cpf:"",table:l.toString()},items:T,subtotal:D,deliveryFee:0,total:D,status:"pending",orderNumber:Math.floor(Math.random()*999)+1,isPaid:!1,waiterId:t.waiterId,waiterName:t.waiterName,tableNumber:l,isOrderBumpAccepted:!1,deliveryType:"dine_in",createdAt:Ve.now(),updatedAt:Ve.now()};await tr(ge(te,"orders"),U),await _h(t.waiterId,D),P.success("Pedido enviado para a cozinha! "),v([]),o("tables"),c(null)}catch(T){P.error(T.message||"Erro ao enviar pedido")}finally{g(!1)}}},B=()=>{t&&Ds(t.waiterId,!1),sessionStorage.removeItem("waiterSession"),a("/")},K=u.filter(T=>T.title.toLowerCase().includes(d.toLowerCase()));return r?e.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center",children:e.jsx(le,{className:"w-8 h-8 text-primary animate-spin"})}):t?e.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col",children:[e.jsxs("header",{className:"h-16 border-b border-white/10 flex items-center justify-between px-4 bg-black sticky top-0 z-50",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-primary/20 rounded-full flex items-center justify-center",children:e.jsx(Se,{className:"w-5 h-5 text-primary"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold text-sm",children:t.waiterName}),e.jsx("p",{className:"text-[10px] text-white/40 uppercase tracking-wider",children:"Modo Garom"})]})]}),l&&e.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-primary/20 rounded-full",children:[e.jsx(Xe,{className:"w-4 h-4 text-primary"}),e.jsxs("span",{className:"font-black text-primary",children:["Mesa ",l]})]}),e.jsx("button",{onClick:B,className:"p-2 text-white/40 hover:text-red-400 transition-colors",children:e.jsx(Gt,{className:"w-5 h-5"})})]}),e.jsx("main",{className:"flex-1 overflow-y-auto pb-24",children:e.jsxs(ce,{mode:"wait",children:[n==="tables"&&e.jsxs(k.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[e.jsx("div",{className:"p-4",children:e.jsx("h2",{className:"text-lg font-black uppercase tracking-tight mb-4",children:"Selecione a Mesa"})}),e.jsx(Oh,{onSelect:N,occupiedTables:w})]},"tables"),n==="menu"&&e.jsxs(k.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"p-4 space-y-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(rn,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-white/30"}),e.jsx("input",{type:"text",value:d,onChange:T=>m(T.target.value),placeholder:"Buscar prato...",className:"w-full bg-white/5 border border-white/10 rounded-xl pl-12 pr-4 py-3 text-white placeholder-white/30 focus:border-primary focus:outline-none",autoFocus:!0})]}),e.jsxs("div",{className:"space-y-2",children:[K.map(T=>e.jsx(Ph,{item:T,quantity:C(T.id),onAdd:()=>S(T),onRemove:()=>M(T.id)},T.id)),K.length===0&&e.jsxs("div",{className:"text-center py-12 text-white/30",children:[e.jsx(Se,{className:"w-12 h-12 mx-auto mb-2"}),e.jsx("p",{children:"Nenhum item encontrado"})]})]})]},"menu"),n==="cart"&&e.jsxs(k.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"p-4 space-y-4",children:[e.jsx("h2",{className:"text-lg font-black uppercase tracking-tight",children:"Resumo do Pedido"}),x.length===0?e.jsxs("div",{className:"text-center py-12 text-white/30",children:[e.jsx(Ls,{className:"w-12 h-12 mx-auto mb-2"}),e.jsx("p",{children:"Carrinho vazio"})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"space-y-2",children:x.map(T=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/5 rounded-xl",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"font-bold",children:[T.quantity,"x ",T.name]}),e.jsxs("p",{className:"text-sm text-white/40",children:[Tt(T.price)," cada"]})]}),e.jsx("p",{className:"font-black text-primary",children:Tt(T.price*T.quantity)})]},T.menuItemId))}),e.jsxs("div",{className:"p-4 bg-primary/20 rounded-2xl flex items-center justify-between",children:[e.jsx("span",{className:"font-black uppercase",children:"Total"}),e.jsx("span",{className:"text-2xl font-black text-primary",children:Tt(D)})]}),e.jsx("button",{onClick:ee,disabled:p,className:"w-full py-4 bg-green-500 hover:bg-green-600 rounded-2xl font-black text-lg flex items-center justify-center gap-2 transition-colors disabled:opacity-50",children:p?e.jsx(le,{className:"w-5 h-5 animate-spin"}):e.jsxs(e.Fragment,{children:[e.jsx(nn,{className:"w-5 h-5"}),"Disparar para Cozinha"]})})]})]},"cart"),n==="my-tables"&&e.jsxs(k.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"p-4 space-y-4",children:[e.jsx("h2",{className:"text-lg font-black uppercase tracking-tight",children:"Minhas Mesas"}),w.length===0?e.jsxs("div",{className:"text-center py-12 text-white/30",children:[e.jsx(Xe,{className:"w-12 h-12 mx-auto mb-2"}),e.jsx("p",{children:"Nenhuma mesa atendida ainda"})]}):e.jsx("div",{className:"grid grid-cols-3 gap-3",children:w.map(T=>e.jsx("button",{onClick:()=>N(T),className:"aspect-square rounded-2xl bg-primary/20 text-primary font-black text-3xl flex items-center justify-center border-2 border-primary active:scale-95",children:T},T))})]},"my-tables")]})}),e.jsxs("nav",{className:"fixed bottom-0 left-0 right-0 h-20 bg-black/95 backdrop-blur-xl border-t border-white/10 flex items-center justify-around px-4 z-50",children:[e.jsxs("button",{onClick:()=>o("tables"),className:`flex flex-col items-center gap-1 ${n==="tables"?"text-primary":"text-white/40"}`,children:[e.jsx(Uo,{className:"w-6 h-6"}),e.jsx("span",{className:"text-[10px] font-bold uppercase",children:"Mesas"})]}),e.jsxs("button",{onClick:()=>o("my-tables"),className:`flex flex-col items-center gap-1 ${n==="my-tables"?"text-primary":"text-white/40"}`,children:[e.jsx(Xe,{className:"w-6 h-6"}),e.jsx("span",{className:"text-[10px] font-bold uppercase",children:"Minhas"})]}),e.jsxs("button",{onClick:()=>o("cart"),className:"relative -mt-6 w-16 h-16 bg-primary rounded-full flex items-center justify-center shadow-lg shadow-primary/30",children:[e.jsx(Ls,{className:"w-7 h-7"}),X>0&&e.jsx("span",{className:"absolute -top-1 -right-1 w-6 h-6 bg-red-500 rounded-full text-xs font-black flex items-center justify-center",children:X})]}),e.jsxs("button",{onClick:()=>n==="menu"?o("tables"):c(null),className:`flex flex-col items-center gap-1 ${n==="menu"?"text-primary":"text-white/40"}`,children:[e.jsx(zo,{className:"w-6 h-6"}),e.jsx("span",{className:"text-[10px] font-bold uppercase",children:"Pedidos"})]}),e.jsxs("button",{onClick:()=>P.info("Em breve: Fechar conta"),className:"flex flex-col items-center gap-1 text-white/40",children:[e.jsx(Kt,{className:"w-6 h-6"}),e.jsx("span",{className:"text-[10px] font-bold uppercase",children:"Conta"})]})]})]}):null}function Fh(){return e.jsx("div",{className:"min-h-screen bg-zinc-950 text-white p-4 md:p-8 pt-24",children:e.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[e.jsx("div",{className:"bg-white/5 border border-white/10 rounded-3xl p-6 md:p-8 animate-pulse",children:e.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-6",children:[e.jsx("div",{className:"w-24 h-24 md:w-28 md:h-28 rounded-full bg-white/10"}),e.jsxs("div",{className:"flex-1 text-center md:text-left space-y-3",children:[e.jsx("div",{className:"h-8 bg-white/10 rounded-lg w-48 mx-auto md:mx-0"}),e.jsx("div",{className:"h-4 bg-white/10 rounded w-64 mx-auto md:mx-0"})]}),e.jsx("div",{className:"h-12 w-32 bg-white/10 rounded-2xl"})]})}),e.jsx("div",{className:"grid md:grid-cols-3 gap-4",children:[1,2,3].map(a=>e.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-6 animate-pulse",children:[e.jsx("div",{className:"h-4 bg-white/10 rounded w-24 mb-4"}),e.jsx("div",{className:"h-8 bg-white/10 rounded w-16 mb-2"}),e.jsx("div",{className:"h-3 bg-white/10 rounded w-20"})]},a))}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsx("div",{className:"flex-1 h-14 bg-white/10 rounded-2xl animate-pulse"}),e.jsx("div",{className:"flex-1 h-14 bg-white/10 rounded-2xl animate-pulse"})]})]})})}function Lh(){const a=tt(),{user:t,userData:s,loading:r,signOut:i}=we(),{credits:n,plan:o}=Yt(),[l,c]=f.useState(""),[d,m]=f.useState(!1),[u,h]=f.useState(!1),[x,v]=f.useState(null),w=12,p=(()=>{const D=new Date,X=new Date(D);X.setDate(X.getDate()+30);const ee=B=>new Intl.DateTimeFormat("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric"}).format(B);return{start:ee(D),renewal:ee(X)}})(),g=o?.toLowerCase()||"free",N=g==="pro"||g==="starter";if(f.useEffect(()=>{s?.name?c(s.name):t?.displayName&&c(t.displayName)},[s,t]),r)return e.jsx(Fh,{});if(!t)return e.jsx(Za,{to:"/",replace:!0});const S=async()=>{if(!(!t||!l.trim()))try{h(!0);const D=he(te,"users",t.uid);await Fe(D,{name:l.trim()}),v(" Nome atualizado!"),m(!1),setTimeout(()=>v(null),3e3)}catch(D){console.error("Error updating name:",D),v(" Erro ao atualizar")}finally{h(!1)}},M=async()=>{await i(),a("/")},C=()=>{window.open("https://kirvano.com/portal","_blank")};return e.jsxs("div",{className:"min-h-screen bg-zinc-950 text-white p-4 md:p-8 pt-24",children:[e.jsx("header",{className:"fixed top-0 left-0 right-0 border-b border-white/5 bg-zinc-950/80 backdrop-blur-xl z-50",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 md:px-8 py-4 flex items-center justify-between",children:[e.jsxs("button",{onClick:()=>a("/app"),className:"flex items-center gap-2 text-white/60 hover:text-white transition-colors group",children:[e.jsx(pt,{className:"w-5 h-5 group-hover:-translate-x-1 transition-transform"}),e.jsx("span",{className:"font-bold",children:"Voltar ao Studio"})]}),e.jsxs("h1",{className:"text-xl font-black italic",children:["Emprata",e.jsx("span",{className:"text-primary",children:".ai"})]})]})}),e.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[e.jsx(k.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},className:"bg-white/5 border border-white/10 rounded-3xl p-6 md:p-8 backdrop-blur-xl",children:e.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-6",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:`w-24 h-24 md:w-28 md:h-28 rounded-full bg-gradient-to-br ${N?"from-primary to-orange-600":"from-gray-500 to-gray-600"} flex items-center justify-center text-4xl font-black ring-4 ${N?"ring-primary/30":"ring-white/10"}`,children:t?.photoURL?e.jsx("img",{src:t.photoURL,alt:"Avatar",className:"w-full h-full rounded-full object-cover"}):e.jsx("span",{children:l?.charAt(0)?.toUpperCase()||"U"})}),e.jsx("button",{className:"absolute bottom-0 right-0 w-8 h-8 bg-white/20 rounded-full flex items-center justify-center hover:scale-110 transition-transform ring-2 ring-zinc-950",children:e.jsx(ct,{className:"w-4 h-4 text-white"})})]}),e.jsxs("div",{className:"flex-1 text-center md:text-left space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 justify-center md:justify-start",children:[e.jsx("input",{type:"text",value:l,onChange:D=>{c(D.target.value),m(!0)},className:"text-2xl md:text-3xl font-black bg-transparent border-b-2 border-transparent hover:border-white/20 focus:border-primary focus:outline-none transition-colors max-w-[200px] md:max-w-[300px]",placeholder:"Seu Nome"}),d&&e.jsx("button",{onClick:S,disabled:u,className:"p-2 bg-primary rounded-lg hover:bg-orange-600 transition-colors",children:u?e.jsx(le,{className:"w-4 h-4 animate-spin"}):e.jsx(qo,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex items-center gap-2 text-white/60 justify-center md:justify-start",children:[e.jsx(es,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium",children:t?.email})]}),x&&e.jsx(k.p,{initial:{opacity:0},animate:{opacity:1},className:`text-sm font-bold ${x.includes("")?"text-green-400":"text-red-400"}`,children:x})]}),e.jsxs("div",{className:`px-6 py-3 rounded-2xl ${N?"bg-gradient-to-r from-primary to-orange-600":"bg-white/10"} text-white font-black text-sm uppercase flex items-center gap-2 shadow-lg`,children:[e.jsx(bt,{className:`w-5 h-5 ${N?"fill-current":""}`}),N?"ASSINANTE PRO":"MEMBRO GRATUITO"]})]})}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[e.jsxs(k.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.1},className:"bg-gradient-to-br from-primary/20 to-orange-600/20 border-2 border-primary/30 rounded-2xl p-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(mt,{className:"w-5 h-5 text-primary fill-current"}),e.jsx("h3",{className:"text-sm font-bold text-white/60 uppercase tracking-wider",children:"Crditos"})]}),e.jsx("p",{className:"text-4xl font-black text-white mb-1",children:n}),e.jsx("p",{className:"text-xs text-white/40 font-bold",children:"Disponveis"})]}),e.jsxs(k.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.2},className:"bg-white/5 border border-white/10 rounded-2xl p-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(on,{className:"w-5 h-5 text-blue-400"}),e.jsx("h3",{className:"text-sm font-bold text-white/60 uppercase tracking-wider",children:"Ciclo Atual"})]}),e.jsx("div",{className:"space-y-1",children:e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-white/60 text-sm",children:"Renovao:"}),e.jsx("span",{className:"font-bold text-sm text-primary",children:p.renewal})]})}),e.jsxs("div",{className:"mt-2 flex items-center gap-1",children:[e.jsx(rt,{className:"w-3 h-3 text-green-500"}),e.jsx("span",{className:"text-green-400 font-bold text-xs",children:"Ativo"})]})]}),e.jsxs(k.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.3},className:"bg-white/5 border border-white/10 rounded-2xl p-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(Xi,{className:"w-5 h-5 text-purple-400"}),e.jsx("h3",{className:"text-sm font-bold text-white/60 uppercase tracking-wider",children:"Imagens"})]}),e.jsx("p",{className:"text-4xl font-black text-white mb-1",children:w}),e.jsx("p",{className:"text-xs text-white/40 font-bold",children:"Geradas este ms"})]})]}),e.jsxs(k.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.4},className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs("button",{onClick:C,className:"flex-1 bg-primary hover:bg-orange-600 text-white font-black py-4 px-6 rounded-2xl flex items-center justify-center gap-2 transition-all shadow-lg shadow-primary/20",children:[e.jsx(Ya,{className:"w-5 h-5"}),"Gerenciar Assinatura"]}),e.jsxs("button",{onClick:M,className:"flex-1 bg-white/5 hover:bg-red-500/20 border border-white/10 hover:border-red-500/50 text-white font-bold py-4 px-6 rounded-2xl flex items-center justify-center gap-2 transition-all",children:[e.jsx(Gt,{className:"w-5 h-5"}),"Sair da Conta"]})]})]})]})}function xo({plan:a,price:t,isOpen:s,onClose:r}){const{user:i}=we(),[n,o]=f.useState("PIX"),[l,c]=f.useState(!1),[d,m]=f.useState("FORM"),[u,h]=f.useState({number:"",name:"",expiry:"",ccv:"",holderName:"",holderCpf:"",holderPhone:""}),[x,v]=f.useState(null),w=async p=>{p.preventDefault(),c(!0);try{const g=qt(Ht,"createSubscription"),N={plan:a,billingType:n};if(n==="CREDIT_CARD"){const[M,C]=u.expiry.split("/");N.creditCard={holderName:u.name,number:u.number.replace(/\s/g,""),expiryMonth:M,expiryYear:`20${C}`,ccv:u.ccv},N.creditCardHolder={name:u.holderName||i?.displayName||u.name,email:i?.email,cpfCnpj:u.holderCpf.replace(/\D/g,""),postalCode:"00000000",addressNumber:"0",phone:u.holderPhone.replace(/\D/g,"")}}const S=await g(N);S.data.success&&(n==="PIX"?(v({code:S.data.pixCode,image:S.data.pixImage}),m("SUCCESS")):(P.success("Assinatura realizada com sucesso!"),r()))}catch(g){console.error(g),P.error(g.message||"Erro ao processar pagamento")}finally{c(!1)}},y=()=>{x?.code&&(navigator.clipboard.writeText(x.code),P.success("Cdigo Pix copiado!"))};return s?e.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-black/90 backdrop-blur-sm",onClick:r}),e.jsxs(k.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},className:"relative bg-[#121212] border border-white/10 w-full max-w-lg rounded-3xl overflow-hidden shadow-2xl",children:[e.jsxs("div",{className:"p-6 border-b border-white/10 flex justify-between items-center bg-[#1a1a1a]",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"font-black italic text-xl",children:["Checkout ",a]}),e.jsxs("p",{className:"text-white/40 text-sm",children:["R$ ",t.toFixed(2)," / ms"]})]}),e.jsx("button",{onClick:r,children:e.jsx(Je,{className:"text-white/40 hover:text-white"})})]}),e.jsx("div",{className:"p-6",children:d==="SUCCESS"&&x?e.jsxs("div",{className:"text-center py-4",children:[e.jsxs("h3",{className:"text-green-500 font-bold text-xl mb-4 flex items-center justify-center gap-2",children:[e.jsx(Rt,{})," Escaneie para Pagar"]}),e.jsx("div",{className:"bg-white p-4 rounded-xl inline-block mb-6",children:e.jsx("img",{src:`data:image/png;base64,${x.image}`,alt:"Pix QRCode",className:"w-48 h-48"})}),e.jsxs("div",{className:"bg-white/5 p-4 rounded-xl mb-4 break-all text-xs font-mono text-white/50",children:[x.code.substring(0,40),"..."]}),e.jsxs("button",{onClick:y,className:"w-full py-3 bg-primary rounded-xl font-bold text-white flex items-center justify-center gap-2 hover:bg-orange-600 transition-colors",children:[e.jsx($s,{className:"w-4 h-4"})," Copiar Cdigo Pix"]}),e.jsx("p",{className:"mt-4 text-xs text-white/30",children:"Seu plano ser ativado automaticamente aps o pagamento."})]}):e.jsxs("form",{onSubmit:w,children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[e.jsxs("button",{type:"button",onClick:()=>o("PIX"),className:`p-4 rounded-xl border flex flex-col items-center gap-2 transition-all ${n==="PIX"?"bg-primary/20 border-primary text-primary":"bg-white/5 border-white/10 text-white/40 hover:bg-white/10"}`,children:[e.jsx(Rt,{className:"w-6 h-6"}),e.jsx("span",{className:"font-bold text-sm",children:"Pix Instantneo"})]}),e.jsxs("button",{type:"button",onClick:()=>o("CREDIT_CARD"),className:`p-4 rounded-xl border flex flex-col items-center gap-2 transition-all ${n==="CREDIT_CARD"?"bg-primary/20 border-primary text-primary":"bg-white/5 border-white/10 text-white/40 hover:bg-white/10"}`,children:[e.jsx(ts,{className:"w-6 h-6"}),e.jsx("span",{className:"font-bold text-sm",children:"Carto de Crdito"})]})]}),n==="CREDIT_CARD"&&e.jsxs("div",{className:"space-y-4 animate-in fade-in slide-in-from-top-4",children:[e.jsx("div",{children:e.jsx("input",{required:!0,placeholder:"Nome impresso no carto",value:u.name,onChange:p=>h({...u,name:p.target.value.toUpperCase()}),className:"w-full bg-black border border-white/10 rounded-xl p-3 text-white focus:border-primary outline-none"})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(Pe,{mask:"0000 0000 0000 0000",placeholder:"Nmero do Carto",required:!0,value:u.number,onAccept:p=>h({...u,number:p}),className:"w-full bg-black border border-white/10 rounded-xl p-3 text-white focus:border-primary outline-none"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(Pe,{mask:"00/00",placeholder:"MM/AA",required:!0,value:u.expiry,onAccept:p=>h({...u,expiry:p}),className:"w-full bg-black border border-white/10 rounded-xl p-3 text-white focus:border-primary outline-none text-center"}),e.jsx(Pe,{mask:"000",placeholder:"CVV",required:!0,value:u.ccv,onAccept:p=>h({...u,ccv:p}),className:"w-full bg-black border border-white/10 rounded-xl p-3 text-white focus:border-primary outline-none text-center"})]})]}),e.jsxs("div",{className:"pt-4 border-t border-white/10",children:[e.jsx("p",{className:"text-xs text-white/40 mb-3 uppercase font-bold",children:"Dados do Titular"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(Pe,{mask:"000.000.000-00",placeholder:"CPF do Titular",required:!0,value:u.holderCpf,onAccept:p=>h({...u,holderCpf:p}),className:"w-full bg-black border border-white/10 rounded-xl p-3 text-white focus:border-primary outline-none"}),e.jsx(Pe,{mask:"(00) 00000-0000",placeholder:"Celular",required:!0,value:u.holderPhone,onAccept:p=>h({...u,holderPhone:p}),className:"w-full bg-black border border-white/10 rounded-xl p-3 text-white focus:border-primary outline-none"})]})]})]}),e.jsx("button",{type:"submit",disabled:l,className:"w-full mt-6 py-4 bg-primary hover:bg-orange-600 rounded-xl font-black uppercase tracking-widest text-sm transition-colors flex items-center justify-center gap-2",children:l?e.jsx(le,{className:"animate-spin"}):`Pagar R$ ${t.toFixed(2)}`})]})})]})]}):null}const Di={free:{label:"Gratuito",color:"text-gray-400",features:["1 Crdito/dia","Resoluo Padro"]},STARTER:{label:"Starter",color:"text-blue-400",features:["50 Crditos","Full HD","Suporte Bsico"]},GROWTH:{label:"Growth",color:"text-primary",features:["200 Crditos","4K Ultra HD","Sem Marca d'gua"]},SCALE:{label:"Scale",color:"text-purple-400",features:["Crditos Ilimitados","API Access","Gerente de Conta"]}};function Bh(){const{user:a}=we(),[t,s]=f.useState(null),[r,i]=f.useState(!0),[n,o]=f.useState(null),[l,c]=f.useState(!1);f.useEffect(()=>{if(!a?.uid)return;const h=et(he(te,"users",a.uid),x=>{s(x.data()),i(!1)});return()=>h()},[a]);const d=async()=>{if(window.confirm("Tem certeza que deseja cancelar sua assinatura? Voc perder os benefcios ao fim do ciclo.")){c(!0);try{const h=qt(Ht,"cancelSubscription"),x=t?.subscription?.id;if(!x)throw new Error("Assinatura no encontrada");await h({subscriptionId:x}),P.success("Assinatura cancelada com sucesso.")}catch(h){P.error("Erro ao cancelar: "+h.message)}finally{c(!1)}}};if(r)return e.jsx("div",{className:"p-10 flex justify-center",children:e.jsx(le,{className:"animate-spin text-primary"})});const m=t?.subscription?.status==="ACTIVE"?t?.subscription?.plan:"free",u=Di[m]||Di.free;return e.jsxs("div",{className:"min-h-screen bg-black text-white p-6 md:p-10 pb-32",children:[e.jsxs("div",{className:"max-w-5xl mx-auto",children:[e.jsxs("div",{className:"mb-10 flex items-center gap-4",children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-gray-800 to-black border border-white/10 flex items-center justify-center",children:e.jsx(Vt,{className:"w-8 h-8 text-white/50"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-black italic tracking-tighter",children:"Meu Perfil"}),e.jsx("p",{className:"text-white/40 text-sm",children:"Gerencie seus dados e sua assinatura."})]})]}),e.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[e.jsx("div",{className:"lg:col-span-1 space-y-6",children:e.jsxs("div",{className:"bg-[#121212] border border-white/10 rounded-3xl p-6",children:[e.jsxs("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[e.jsx(Qa,{className:"w-5 h-5 text-primary"})," Dados da Conta"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-bold text-white/30 uppercase",children:"Nome"}),e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-black/50 rounded-xl border border-white/5",children:[e.jsx(Vt,{className:"w-4 h-4 text-white/50"}),e.jsx("span",{className:"text-sm font-medium",children:t?.name||"No informado"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-bold text-white/30 uppercase",children:"Email"}),e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-black/50 rounded-xl border border-white/5",children:[e.jsx(es,{className:"w-4 h-4 text-white/50"}),e.jsx("span",{className:"text-sm font-medium truncate",children:t?.email})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-bold text-white/30 uppercase",children:"CPF/CNPJ"}),e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-black/50 rounded-xl border border-white/5",children:[e.jsx(ts,{className:"w-4 h-4 text-white/50"}),e.jsx("span",{className:"text-sm font-medium",children:t?.cpfCnpj||"---"})]})]})]})]})}),e.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[e.jsxs("div",{className:"bg-gradient-to-r from-[#1a1a1a] to-[#121212] border border-white/10 rounded-3xl p-8 relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 p-32 bg-primary/5 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2 pointer-events-none"}),e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-xs font-bold text-white/40 uppercase tracking-widest",children:"Plano Atual"}),e.jsx("h2",{className:`text-4xl font-black italic mt-1 ${u.color}`,children:u.label})]}),t?.subscription?.status==="ACTIVE"&&e.jsxs("span",{className:"px-3 py-1 bg-green-500/10 text-green-500 rounded-full text-xs font-bold border border-green-500/20 flex items-center gap-1",children:[e.jsx(We,{className:"w-3 h-3"})," ATIVO"]})]}),e.jsx("div",{className:"grid md:grid-cols-2 gap-4 mb-6",children:u.features.map((h,x)=>e.jsxs("div",{className:"flex items-center gap-2 text-sm text-white/60",children:[e.jsx(We,{className:"w-4 h-4 text-white/20"})," ",h]},x))}),t?.subscription?.status==="ACTIVE"&&e.jsx("div",{className:"pt-6 border-t border-white/10",children:e.jsxs("button",{onClick:d,disabled:l,className:"text-xs text-red-400 hover:text-red-300 font-bold uppercase tracking-widest flex items-center gap-2 transition-colors",children:[l?e.jsx(le,{className:"w-3 h-3 animate-spin"}):e.jsx(dt,{className:"w-3 h-3"}),"Cancelar Assinatura"]})})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-xl font-bold mb-6 flex items-center gap-2",children:[e.jsx(mt,{className:"w-5 h-5 text-yellow-500"})," Disponvel para Upgrade"]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[m!=="STARTER"&&m!=="GROWTH"&&m!=="SCALE"&&e.jsx(Ma,{title:"Starter",price:"97",color:"blue",features:["50 Crditos","Full HD"],onClick:()=>o({plan:"STARTER",price:97})}),m!=="GROWTH"&&m!=="SCALE"&&e.jsx(Ma,{title:"Growth",price:"197",color:"orange",isPopular:!0,features:["200 Crditos","4K Ultra","Sem Marca d'gua"],onClick:()=>o({plan:"GROWTH",price:197})}),m!=="SCALE"&&e.jsx(Ma,{title:"Scale",price:"497",color:"purple",features:["Crditos Ilimitados","API","Gerente Dedicado"],onClick:()=>o({plan:"SCALE",price:497})})]})]})]})]})]}),n&&e.jsx(xo,{isOpen:!!n,onClose:()=>o(null),plan:n.plan,price:n.price})]})}function Ma({title:a,price:t,color:s,features:r,onClick:i,isPopular:n}){const o={blue:"border-blue-500/30 hover:border-blue-500 bg-blue-500/5",orange:"border-orange-500/30 hover:border-orange-500 bg-orange-500/5",purple:"border-purple-500/30 hover:border-purple-500 bg-purple-500/5"},l={blue:"text-blue-400",orange:"text-orange-400",purple:"text-purple-400"};return e.jsxs("button",{onClick:i,className:`relative text-left p-6 rounded-2xl border transition-all hover:-translate-y-1 hover:shadow-xl w-full ${o[s]}`,children:[n&&e.jsx("span",{className:"absolute -top-3 right-4 px-3 py-1 bg-white text-black text-[10px] font-black uppercase tracking-widest rounded-full",children:"Recomendado"}),e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:`text-lg font-black uppercase italic ${l[s]}`,children:a}),e.jsxs("p",{className:"text-2xl font-bold text-white",children:["R$ ",t,e.jsx("span",{className:"text-sm text-white/40",children:"/ms"})]})]}),s==="purple"?e.jsx(bt,{className:`w-6 h-6 ${l[s]}`}):e.jsx(Ks,{className:`w-6 h-6 ${l[s]}`})]}),e.jsx("ul",{className:"space-y-2",children:r.map((c,d)=>e.jsxs("li",{className:"text-xs font-medium text-white/60 flex items-center gap-2",children:[e.jsx(We,{className:"w-3 h-3 text-white/20"})," ",c]},d))}),e.jsx("div",{className:`mt-4 py-2 rounded-lg text-center text-xs font-black uppercase tracking-widest bg-white/5 hover:bg-white/10 transition-colors ${l[s]}`,children:"Fazer Upgrade"})]})}function $h(){const a=tt(),{userData:t,refreshUser:s}=we(),r=f.useRef(!1);return f.useEffect(()=>{if(s(),!r.current){r.current=!0;const d=sessionStorage.getItem("purchase_intent_value"),m=d?parseFloat(d):0;typeof window.fbq=="function"&&(window.fbq("track","Purchase",{value:m,currency:"BRL",content_name:m===197?"Franquia / Pro":m===97?"Pack Delivery":"Purchase"}),console.log("[Meta Pixel] Purchase event fired:",{value:m,currency:"BRL"})),typeof window.gtag=="function"&&(window.gtag("event","purchase",{value:m,currency:"BRL",transaction_id:`txn_${Date.now()}`,items:[{item_name:m===197?"Franquia / Pro":m===97?"Pack Delivery":"Emprata Credits",price:m,quantity:1}]}),console.log("[GA4] purchase event fired:",{value:m,currency:"BRL"})),sessionStorage.removeItem("purchase_intent_value")}const i=3e3,n=Date.now()+i,o={startVelocity:30,spread:360,ticks:60,zIndex:0};function l(d,m){return Math.random()*(m-d)+d}const c=setInterval(function(){const d=n-Date.now();if(d<=0)return clearInterval(c);const m=50*(d/i);Ka({...o,particleCount:m,origin:{x:l(.1,.3),y:Math.random()-.2}}),Ka({...o,particleCount:m,origin:{x:l(.7,.9),y:Math.random()-.2}})},250);return()=>clearInterval(c)},[s]),e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-black via-zinc-950 to-black flex items-center justify-center p-4",children:e.jsxs(k.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},transition:{duration:.5},className:"max-w-2xl w-full",children:[e.jsx(k.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200,damping:15},className:"flex justify-center mb-8",children:e.jsxs("div",{className:"relative",children:[e.jsx(k.div,{animate:{scale:[1,1.2,1],opacity:[.5,.8,.5]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},className:"absolute inset-0 bg-green-500/30 rounded-full blur-2xl"}),e.jsx("div",{className:"relative bg-green-500 rounded-full p-6 shadow-2xl shadow-green-500/50",children:e.jsx(We,{className:"w-16 h-16 text-white",strokeWidth:3})})]})}),e.jsx(k.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"text-4xl md:text-6xl font-black text-center mb-4 bg-gradient-to-r from-white via-green-100 to-white bg-clip-text text-transparent",children:"Pagamento Confirmado! "}),e.jsx(k.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"text-center text-white/60 text-lg mb-12 font-medium",children:"Seus crditos j esto disponveis para uso imediato."}),e.jsxs(k.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"bg-white/5 border border-white/10 rounded-3xl p-8 mb-8 backdrop-blur-sm",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"bg-primary/20 rounded-2xl p-3",children:e.jsx(mt,{className:"w-6 h-6 text-primary fill-current"})}),e.jsx("h2",{className:"text-2xl font-black text-white",children:"Resumo da Conta"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center py-3 border-b border-white/5",children:[e.jsx("span",{className:"text-white/50 font-medium",children:"Conta"}),e.jsx("span",{className:"text-white font-bold",children:t?.email||"Carregando..."})]}),e.jsxs("div",{className:"flex justify-between items-center py-3 border-b border-white/5",children:[e.jsx("span",{className:"text-white/50 font-medium",children:"Crditos Disponveis"}),e.jsx("span",{className:"text-primary font-black text-xl",children:t?.credits||0})]}),e.jsxs("div",{className:"flex justify-between items-center py-3",children:[e.jsx("span",{className:"text-white/50 font-medium",children:"Status"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),e.jsx("span",{className:"text-green-500 font-black uppercase text-sm tracking-wider",children:"Ativo"})]})]})]})]}),e.jsx(k.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>a("/app"),className:"w-full py-5 rounded-2xl bg-primary hover:bg-orange-600 font-black text-white shadow-xl shadow-primary/40 uppercase tracking-wider text-lg transition-all",children:"Comear a Criar Agora"}),e.jsx(k.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.8},className:"text-center text-white/30 text-xs font-bold uppercase tracking-widest mt-6",children:"Obrigado por escolher Emprata.ai"})]})})}function Vh(){return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-black via-zinc-950 to-black",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-12",children:[e.jsxs(me,{to:"/",className:"inline-flex items-center gap-2 text-white/60 hover:text-white transition-colors mb-8",children:[e.jsx(pt,{className:"w-4 h-4"}),e.jsx("span",{className:"font-medium",children:"Voltar"})]}),e.jsxs(k.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-12",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[e.jsx("div",{className:"bg-primary/20 rounded-2xl p-3",children:e.jsx(Qa,{className:"w-8 h-8 text-primary"})}),e.jsx("h1",{className:"text-4xl md:text-5xl font-black text-white",children:"Poltica de Privacidade"})]}),e.jsx("p",{className:"text-white/60 text-lg",children:"ltima atualizao: 25 de dezembro de 2024"})]}),e.jsx(k.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"prose prose-invert max-w-none",children:e.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-3xl p-8 space-y-8",children:[e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"1. Introduo"}),e.jsxs("p",{className:"text-white/70 leading-relaxed",children:["A ",e.jsx("strong",{className:"text-white",children:"Emprata AI"}),' ("ns", "nosso" ou "nossa") respeita sua privacidade e est comprometida em proteger seus dados pessoais. Esta Poltica de Privacidade explica como coletamos, usamos e protegemos suas informaes em conformidade com a ',e.jsx("strong",{className:"text-white",children:"Lei Geral de Proteo de Dados (LGPD - Lei n 13.709/2018)"}),"."]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"2. Dados Coletados"}),e.jsx("p",{className:"text-white/70 leading-relaxed mb-3",children:"Coletamos apenas os dados essenciais para o funcionamento do servio:"}),e.jsxs("ul",{className:"list-disc list-inside text-white/70 space-y-2 ml-4",children:[e.jsxs("li",{children:[e.jsx("strong",{className:"text-white",children:"E-mail:"})," Utilizado para autenticao via Firebase Authentication e comunicao sobre sua conta."]}),e.jsxs("li",{children:[e.jsx("strong",{className:"text-white",children:"Nome (opcional):"})," Fornecido durante o cadastro para personalizao da experincia."]}),e.jsxs("li",{children:[e.jsx("strong",{className:"text-white",children:"Dados de Uso:"})," Informaes sobre como voc utiliza a plataforma (prompts, imagens geradas, crditos consumidos)."]})]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"3. Uso dos Dados"}),e.jsx("p",{className:"text-white/70 leading-relaxed mb-3",children:"Seus dados so utilizados exclusivamente para:"}),e.jsxs("ul",{className:"list-disc list-inside text-white/70 space-y-2 ml-4",children:[e.jsx("li",{children:"Autenticar e gerenciar sua conta"}),e.jsx("li",{children:"Processar solicitaes de gerao de imagens via IA"}),e.jsx("li",{children:"Gerenciar crditos e planos de assinatura"}),e.jsx("li",{children:"Melhorar nossos servios e experincia do usurio"}),e.jsx("li",{children:"Enviar notificaes importantes sobre sua conta"})]}),e.jsxs("p",{className:"text-white/70 leading-relaxed mt-3",children:[e.jsx("strong",{className:"text-white",children:"Importante:"})," No vendemos, alugamos ou compartilhamos seus dados pessoais com terceiros para fins de marketing."]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"4. Armazenamento e Segurana"}),e.jsxs("p",{className:"text-white/70 leading-relaxed",children:["Seus dados so armazenados de forma segura no ",e.jsx("strong",{className:"text-white",children:"Firebase (Google Cloud Platform)"}),", que utiliza criptografia em trnsito e em repouso. Implementamos medidas tcnicas e organizacionais para proteger suas informaes contra acesso no autorizado, perda ou destruio."]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"5. Seus Direitos (LGPD)"}),e.jsx("p",{className:"text-white/70 leading-relaxed mb-3",children:"Voc tem os seguintes direitos sobre seus dados pessoais:"}),e.jsxs("ul",{className:"list-disc list-inside text-white/70 space-y-2 ml-4",children:[e.jsxs("li",{children:[e.jsx("strong",{className:"text-white",children:"Acesso:"})," Solicitar uma cpia dos seus dados"]}),e.jsxs("li",{children:[e.jsx("strong",{className:"text-white",children:"Correo:"})," Atualizar dados incorretos ou incompletos"]}),e.jsxs("li",{children:[e.jsx("strong",{className:"text-white",children:"Excluso:"})," Solicitar a remoo dos seus dados"]}),e.jsxs("li",{children:[e.jsx("strong",{className:"text-white",children:"Portabilidade:"})," Receber seus dados em formato estruturado"]}),e.jsxs("li",{children:[e.jsx("strong",{className:"text-white",children:"Revogao de Consentimento:"})," Retirar seu consentimento a qualquer momento"]})]}),e.jsxs("p",{className:"text-white/70 leading-relaxed mt-3",children:["Para exercer seus direitos, entre em contato conosco atravs do e-mail: ",e.jsx("a",{href:"mailto:contato@emprata.ai",className:"text-primary hover:underline",children:"contato@emprata.ai"})]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"6. Cookies e Tecnologias Similares"}),e.jsx("p",{className:"text-white/70 leading-relaxed",children:"Utilizamos cookies essenciais para autenticao e funcionamento da plataforma. No utilizamos cookies de rastreamento ou publicidade de terceiros."})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"7. Alteraes nesta Poltica"}),e.jsx("p",{className:"text-white/70 leading-relaxed",children:"Podemos atualizar esta Poltica de Privacidade periodicamente. Notificaremos voc sobre mudanas significativas atravs do e-mail cadastrado ou por aviso na plataforma."})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"8. Contato"}),e.jsx("p",{className:"text-white/70 leading-relaxed",children:"Para dvidas sobre esta Poltica de Privacidade ou sobre o tratamento dos seus dados, entre em contato:"}),e.jsxs("div",{className:"mt-3 text-white/70",children:[e.jsxs("p",{children:[e.jsx("strong",{className:"text-white",children:"E-mail:"})," contato@emprata.ai"]}),e.jsxs("p",{children:[e.jsx("strong",{className:"text-white",children:"Encarregado de Dados (DPO):"})," dpo@emprata.ai"]})]})]})]})})]})})}function Uh(){return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-black via-zinc-950 to-black",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-12",children:[e.jsxs(me,{to:"/",className:"inline-flex items-center gap-2 text-white/60 hover:text-white transition-colors mb-8",children:[e.jsx(pt,{className:"w-4 h-4"}),e.jsx("span",{className:"font-medium",children:"Voltar"})]}),e.jsxs(k.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-12",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[e.jsx("div",{className:"bg-primary/20 rounded-2xl p-3",children:e.jsx(Xa,{className:"w-8 h-8 text-primary"})}),e.jsx("h1",{className:"text-4xl md:text-5xl font-black text-white",children:"Termos de Uso"})]}),e.jsx("p",{className:"text-white/60 text-lg",children:"ltima atualizao: 25 de dezembro de 2024"})]}),e.jsx(k.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"prose prose-invert max-w-none",children:e.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-3xl p-8 space-y-8",children:[e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"1. Aceitao dos Termos"}),e.jsxs("p",{className:"text-white/70 leading-relaxed",children:["Ao acessar e utilizar a plataforma ",e.jsx("strong",{className:"text-white",children:"Emprata AI"}),", voc concorda em cumprir e estar vinculado a estes Termos de Uso. Se voc no concordar com qualquer parte destes termos, no utilize nossos servios."]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"2. Descrio do Servio"}),e.jsxs("p",{className:"text-white/70 leading-relaxed",children:["A Emprata AI  uma plataforma de inteligncia artificial que permite aos usurios gerar imagens profissionais atravs de prompts de texto. O servio  fornecido ",e.jsx("strong",{className:"text-white",children:'"como est"'})," e ",e.jsx("strong",{className:"text-white",children:'"conforme disponvel"'}),", sem garantias de qualquer tipo, expressas ou implcitas."]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"3. Uso Aceitvel"}),e.jsxs("p",{className:"text-white/70 leading-relaxed mb-3",children:["Voc concorda em utilizar a plataforma apenas para fins legais e de acordo com estes Termos.  ",e.jsx("strong",{className:"text-white",children:"PROIBIDO"}),":"]}),e.jsxs("ul",{className:"list-disc list-inside text-white/70 space-y-2 ml-4",children:[e.jsx("li",{children:"Gerar contedo ilegal, difamatrio, obsceno ou que viole direitos de terceiros"}),e.jsx("li",{children:"Utilizar o servio para criar deepfakes ou contedo enganoso"}),e.jsx("li",{children:"Tentar burlar o sistema de crditos ou acessar funcionalidades no autorizadas"}),e.jsx("li",{children:"Revender ou redistribuir o acesso  plataforma sem autorizao"}),e.jsx("li",{children:"Utilizar bots, scripts ou automaes para abusar do servio"})]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"4. Propriedade Intelectual"}),e.jsxs("p",{className:"text-white/70 leading-relaxed",children:["As imagens geradas pela IA so de ",e.jsx("strong",{className:"text-white",children:"propriedade do usurio"})," que as criou. No entanto, a Emprata AI no se responsabiliza por:"]}),e.jsxs("ul",{className:"list-disc list-inside text-white/70 space-y-2 ml-4 mt-3",children:[e.jsx("li",{children:"Violaes de direitos autorais ou marcas registradas nas imagens geradas"}),e.jsx("li",{children:"Uso indevido das imagens por parte do usurio"}),e.jsx("li",{children:"Similaridades no intencionais com obras protegidas por direitos autorais"})]}),e.jsxs("p",{className:"text-white/70 leading-relaxed mt-3",children:[e.jsx("strong",{className:"text-white",children:"Importante:"})," Voc  o nico responsvel pelo uso comercial ou pblico das imagens geradas."]})]}),e.jsxs("section",{className:"bg-primary/10 border-2 border-primary/30 rounded-2xl p-6",children:[e.jsxs("h2",{className:"text-2xl font-bold text-white mb-4 flex items-center gap-2",children:[e.jsx("span",{className:"text-primary",children:""})," 5. Poltica de Reembolso (CDC Art. 49)"]}),e.jsxs("p",{className:"text-white/70 leading-relaxed mb-3",children:["Em conformidade com o ",e.jsx("strong",{className:"text-white",children:"Artigo 49 do Cdigo de Defesa do Consumidor (CDC)"}),", voc tem o direito de desistir da compra em at ",e.jsx("strong",{className:"text-white",children:"7 (sete) dias corridos"})," a partir da data da contratao ou do recebimento do produto/servio."]}),e.jsxs("div",{className:"bg-white/5 rounded-xl p-4 mt-4",children:[e.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"Condies para Reembolso:"}),e.jsxs("ul",{className:"list-disc list-inside text-white/70 space-y-2 ml-4",children:[e.jsx("li",{children:"Solicitao deve ser feita em at 7 dias corridos aps a compra"}),e.jsx("li",{children:"Reembolso integral do valor pago"}),e.jsx("li",{children:"Crditos no utilizados sero removidos da conta"}),e.jsx("li",{children:"Prazo de processamento: at 10 dias teis"})]})]}),e.jsxs("p",{className:"text-white/70 leading-relaxed mt-4",children:["Para solicitar reembolso, envie um e-mail para: ",e.jsx("a",{href:"mailto:reembolso@emprata.ai",className:"text-primary hover:underline font-bold",children:"reembolso@emprata.ai"})]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"6. Planos e Crditos"}),e.jsxs("p",{className:"text-white/70 leading-relaxed",children:["Os crditos adquiridos so ",e.jsx("strong",{className:"text-white",children:"acumulativos"})," e no expiram enquanto sua assinatura estiver ativa. Em caso de cancelamento, os crditos restantes sero perdidos. No h reembolso parcial de crditos no utilizados aps o perodo de 7 dias."]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"7. Limitao de Responsabilidade"}),e.jsx("p",{className:"text-white/70 leading-relaxed",children:"A Emprata AI no se responsabiliza por:"}),e.jsxs("ul",{className:"list-disc list-inside text-white/70 space-y-2 ml-4 mt-3",children:[e.jsx("li",{children:"Danos diretos ou indiretos decorrentes do uso das imagens geradas"}),e.jsx("li",{children:"Interrupes temporrias do servio por manuteno ou falhas tcnicas"}),e.jsx("li",{children:"Perda de dados ou contedo gerado"}),e.jsx("li",{children:"Resultados especficos ou qualidade das imagens geradas"})]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"8. Suspenso e Encerramento"}),e.jsx("p",{className:"text-white/70 leading-relaxed",children:"Reservamo-nos o direito de suspender ou encerrar sua conta imediatamente, sem aviso prvio, em caso de violao destes Termos, uso fraudulento ou atividades ilegais."})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"9. Modificaes nos Termos"}),e.jsx("p",{className:"text-white/70 leading-relaxed",children:"Podemos atualizar estes Termos de Uso periodicamente. Mudanas significativas sero comunicadas atravs do e-mail cadastrado. O uso continuado da plataforma aps as alteraes constitui aceitao dos novos termos."})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"10. Lei Aplicvel"}),e.jsx("p",{className:"text-white/70 leading-relaxed",children:"Estes Termos so regidos pelas leis da Repblica Federativa do Brasil. Qualquer disputa ser resolvida no foro da comarca de So Paulo/SP."})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"11. Contato"}),e.jsx("p",{className:"text-white/70 leading-relaxed",children:"Para dvidas sobre estes Termos de Uso, entre em contato:"}),e.jsxs("div",{className:"mt-3 text-white/70",children:[e.jsxs("p",{children:[e.jsx("strong",{className:"text-white",children:"E-mail:"})," contato@emprata.ai"]}),e.jsxs("p",{children:[e.jsx("strong",{className:"text-white",children:"Suporte:"})," suporte@emprata.ai"]})]})]})]})})]})})}function zh(){const a=tt(),{isAuthenticated:t}=we(),s=()=>{a(t?"/app":"/")};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-black via-zinc-950 to-black flex items-center justify-center p-4",children:e.jsxs(k.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},transition:{duration:.5},className:"text-center max-w-md",children:[e.jsx(k.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200,damping:15},className:"flex justify-center mb-8",children:e.jsxs("div",{className:"relative",children:[e.jsx(k.div,{animate:{scale:[1,1.2,1],opacity:[.3,.6,.3]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},className:"absolute inset-0 bg-red-500/30 rounded-full blur-2xl"}),e.jsx("div",{className:"relative bg-red-500/20 border-2 border-red-500/30 rounded-full p-6",children:e.jsx(Wi,{className:"w-16 h-16 text-red-500",strokeWidth:2})})]})}),e.jsx(k.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"text-8xl md:text-9xl font-black text-white mb-4 tracking-tighter",children:"404"}),e.jsx(k.h2,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"text-2xl md:text-3xl font-bold text-white mb-3",children:"Pgina no encontrada"}),e.jsx(k.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"text-white/60 text-lg mb-8",children:"A pgina que voc est procurando no existe ou foi movida."}),e.jsx(k.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},whileHover:{scale:1.05},whileTap:{scale:.95},onClick:s,className:"px-8 py-4 rounded-2xl bg-primary hover:bg-orange-600 font-black text-white shadow-xl shadow-primary/40 uppercase tracking-wider text-sm transition-all",children:"Voltar para o Incio"})]})})}const dr=new ps("AIzaSyAFo1Hq5LuuaqkKLzZgUOl3PTtKk_cagVc"),ur="models/gemini-3-pro-preview";async function qh(a,t){if(!a.trim())throw new Error("Descrio do prato  obrigatria.");if(t<30||t>100)throw new Error("Margem deve estar entre 30% e 100%.");const s=dr.getGenerativeModel({model:ur,generationConfig:{responseMimeType:"application/json"}}),r=`Atue como um Consultor de Menu Michelin com expertise em precificao gastronmica no Brasil.

Analise este prato: "${a}"

SUAS TAREFAS:
1. **Custo Estimado:** Estime o custo dos ingredientes em Reais (R$), considerando fornecedores brasileiros de mdio porte. Seja realista com pores tpicas.
2. **Preo de Venda:** Sugira um Preo de Venda ideal para atingir ${t}% de margem de lucro bruta. Use a frmula: Preo = Custo / (1 - ${t}/100).
3. **Dica de Neuromarketing:** D UMA dica psicolgica matadora para aumentar o valor percebido (ex: trocar palavras no nome, usar nmero quebrado, sugesto de empratamento, tcnica de ancoragem).

Retorne APENAS um JSON vlido com esta estrutura exata:
{
  "suggestedPrice": 45.90,
  "costEstimate": 12.50,
  "tip": "Troque 'Burger' por 'Smash Artesanal' e use preo R$ 44,90 (nmeros mpares parecem mais autnticos)"
}`;console.log(" [Business AI] Analisando precificao...");const n=(await s.generateContent(r)).response.text();try{const o=JSON.parse(n);if(typeof o.suggestedPrice!="number"||typeof o.costEstimate!="number"||typeof o.tip!="string")throw new Error("Estrutura de resposta invlida");return console.log(" [Business AI] Anlise de precificao concluda!"),o}catch{throw console.error(" [Business AI] Erro ao parsear resposta:",n),new Error("Erro ao processar anlise. Tente novamente.")}}async function Hh(a,t){if(!a.trim())throw new Error("Texto da avaliao  obrigatrio.");if(t<1||t>5)throw new Error("Estrelas devem estar entre 1 e 5.");const s=dr.getGenerativeModel({model:ur,generationConfig:{responseMimeType:"application/json"}}),r=`Voc  um especialista em Gesto de Reputao Online para restaurantes.

Um cliente postou esta avaliao (${t} estrela${t>1?"s":""}):
"${a}"

SUAS TAREFAS:
Escreva 3 opes de resposta profissional:
1. **Curta:** Mximo 2 linhas, direta e cordial.
2. **Emptica:** 3-4 linhas, foco em acolher o sentimento do cliente.
3. **Profissional:** 4-5 linhas, postura corporativa elegante.

REGRAS CRTICAS:
- NUNCA admita culpa diretamente (evite "foi nosso erro", "pedimos desculpas pelo erro")
- Foque em agradecer o feedback e mostrar compromisso com melhoria
- Convide o cliente para retornar com uma experincia melhor
- Mantenha tom respeitoso mesmo se a crtica for injusta

Retorne APENAS um JSON vlido:
{
  "replies": [
    { "tone": "Curta", "text": "Resposta curta aqui..." },
    { "tone": "Emptica", "text": "Resposta emptica aqui..." },
    { "tone": "Profissional", "text": "Resposta profissional aqui..." }
  ]
}`;console.log(" [Business AI] Gerando respostas de reputao...");const n=(await s.generateContent(r)).response.text();try{const o=JSON.parse(n);if(!Array.isArray(o.replies)||o.replies.length===0)throw new Error("Estrutura de resposta invlida");return console.log(" [Business AI] Respostas geradas!"),o}catch{throw console.error(" [Business AI] Erro ao parsear resposta:",n),new Error("Erro ao gerar respostas. Tente novamente.")}}async function Gh(a,t){if(!a.trim())throw new Error("Nome do prato  obrigatrio.");if(t<=0)throw new Error("Preo deve ser maior que zero.");const s=dr.getGenerativeModel({model:ur}),r=`Voc  um Copywriter de Marketing Gastronmico especialista em WhatsApp.

PRATO: "${a}"
PREO: R$ ${t.toFixed(2)}

CRIE uma mensagem de WhatsApp curta e viral para vender este prato AGORA.

REGRAS:
- Mximo 280 caracteres (tamanho de tweet)
- Use 3-5 emojis estratgicos ()
- Aplique ESCASSEZ ("S hoje", "ltimas unidades", "Acaba s 22h")
- Use GATILHOS MENTAIS (urgncia, exclusividade, fome imediata)
- Tom: Jovem, descontrado, irresistvel
- NO use hashtags

EXEMPLO BOM:
" X-BACON DUPLO por apenas R$ 24,90! S at meia-noite  Corre que o queijo t derretendo e a fila t formando!  Pede agora!"

Responda APENAS com o texto da mensagem, sem aspas nem explicaes.`;console.log(" [Business AI] Gerando campanha viral...");const o=(await s.generateContent(r)).response.text().trim().replace(/^["']|["']$/g,"");return console.log(" [Business AI] Campanha gerada!"),o}const Kh=[{title:"Operao",subtitle:"Cho de Loja",tools:[{id:"kds",title:"Kitchen Display (KDS)",description:"Tela de pedidos para a cozinha",icon:Zt,iconColor:"text-red-400",gradient:"from-red-500/20 to-orange-500/10",link:"/kitchen-mode"},{id:"qr",title:"Gerador de Placas",description:"Imprima QR Codes para as mesas",icon:Rt,iconColor:"text-purple-400",gradient:"from-purple-500/20 to-pink-500/10",link:"/print-qr"},{id:"waiter",title:"Modo Garom",description:"App leve para lanar pedidos",icon:Ho,iconColor:"text-cyan-400",gradient:"from-cyan-500/20 to-blue-500/10",link:"/waiter-mode"},{id:"logistics",title:"Logstica & Entregadores",description:"Painel de expedio e motoboys",icon:Zt,iconColor:"text-pink-400",gradient:"from-pink-500/20 to-purple-500/10",link:"/logistics/dispatch",isNew:!0}]},{title:"Gesto",subtitle:"Backoffice",tools:[{id:"staff",title:"Equipe & Acesso",description:"Gerencie garons e permisses",icon:Xe,iconColor:"text-blue-400",gradient:"from-blue-500/20 to-indigo-500/10",link:"/staff"},{id:"pricing",title:"Precificao IA",description:"Calculadora de lucro e neuromarketing",icon:ns,iconColor:"text-green-400",gradient:"from-green-500/20 to-emerald-500/10",modal:"pricing"}]},{title:"Marketing & Vendas",subtitle:"Crescimento",tools:[{id:"whatsapp",title:"Emprata Zap",description:"Automao e Disparos de WhatsApp",icon:Fs,iconColor:"text-green-400",gradient:"from-green-500/20 to-emerald-500/10",link:"/tools/whatsapp",isNew:!0},{id:"reviews",title:"Gestor de Reputao",description:"Responda reviews com IA",icon:ln,iconColor:"text-blue-400",gradient:"from-blue-500/20 to-cyan-500/10",modal:"reviews"},{id:"campaigns",title:"Gerador de Ofertas",description:"Crie campanhas virais",icon:cn,iconColor:"text-orange-400",gradient:"from-orange-500/20 to-red-500/10",modal:"campaigns"}]}];function Wh(){const a=tt(),[t,s]=f.useState(null),r=i=>{i.link?a(i.link):i.modal&&s(i.modal)};return e.jsxs("div",{className:"min-h-screen bg-[#0a0a0a] text-white",children:[e.jsx("header",{className:"sticky top-0 z-50 bg-[#0a0a0a]/80 backdrop-blur-xl border-b border-white/5",children:e.jsx("div",{className:"max-w-6xl mx-auto px-6 py-4 flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(me,{to:"/dashboard",className:"p-2 hover:bg-white/5 rounded-xl transition-colors",children:e.jsx(pt,{className:"w-5 h-5"})}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-primary to-orange-600 flex items-center justify-center",children:e.jsx(Ee,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"font-black text-lg",children:"Ferramentas & Apps"}),e.jsx("p",{className:"text-xs text-white/40",children:"Central de Recursos"})]})]})]})})}),e.jsx("main",{className:"max-w-6xl mx-auto px-6 py-8 space-y-12",children:Kh.map((i,n)=>e.jsxs(k.section,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:n*.1},children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-xl font-black uppercase tracking-tight",children:i.title}),e.jsx("p",{className:"text-sm text-white/40 font-medium",children:i.subtitle})]}),e.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-4",children:i.tools.map((o,l)=>e.jsxs(k.button,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:n*.1+l*.05},onClick:()=>r(o),className:`group relative text-left p-6 rounded-2xl border border-white/10 bg-gradient-to-br ${o.gradient} backdrop-blur-xl overflow-hidden transition-all duration-300 hover:border-white/20 hover:scale-[1.02] hover:-translate-y-1`,children:[e.jsx("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity duration-500",children:e.jsx("div",{className:`absolute top-0 right-0 w-24 h-24 ${o.iconColor} blur-[60px] opacity-40`})}),o.isNew&&e.jsx("div",{className:"absolute top-4 right-4 px-2 py-0.5 rounded-full bg-green-500/20 border border-green-500/30 text-green-400 text-[10px] font-black uppercase",children:"Novo"}),e.jsxs("div",{className:"relative z-10",children:[e.jsx("div",{className:`w-12 h-12 rounded-xl bg-white/5 border border-white/10 flex items-center justify-center mb-4 ${o.iconColor}`,children:e.jsx(o.icon,{className:"w-6 h-6"})}),e.jsx("h3",{className:"text-lg font-bold mb-1",children:o.title}),e.jsx("p",{className:"text-sm text-white/50",children:o.description})]})]},o.id))})]},i.title))}),e.jsxs(ce,{children:[t==="pricing"&&e.jsx(Yh,{onClose:()=>s(null)}),t==="reviews"&&e.jsx(Qh,{onClose:()=>s(null)}),t==="campaigns"&&e.jsx(Xh,{onClose:()=>s(null)})]})]})}function Yh({onClose:a}){const[t,s]=f.useState(""),[r,i]=f.useState(50),[n,o]=f.useState(!1),[l,c]=f.useState(null),d=async()=>{if(!t.trim()){P.error("Descreva o prato primeiro!");return}o(!0);try{const m=await qh(t,r);c(m),P.success("Anlise concluda!")}catch(m){P.error(m.message||"Erro na anlise")}finally{o(!1)}};return e.jsx(hr,{onClose:a,title:"Precificao IA",icon:ns,iconColor:"text-green-400",children:e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold mb-2 text-white/60",children:"Descreva o prato"}),e.jsx("textarea",{value:t,onChange:m=>s(m.target.value),placeholder:"Ex: Burger artesanal 180g, queijo brie, cebola caramelizada",className:"w-full h-24 bg-white/5 border border-white/10 rounded-xl p-3 text-white placeholder:text-white/20 focus:border-primary focus:outline-none resize-none text-sm"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-bold mb-3 text-white/60",children:["Margem de Lucro: ",e.jsxs("span",{className:"text-primary",children:[r,"%"]})]}),e.jsx("input",{type:"range",min:30,max:100,value:r,onChange:m=>i(Number(m.target.value)),className:"w-full h-2 rounded-full bg-white/10 appearance-none cursor-pointer accent-primary"})]}),e.jsx("button",{onClick:d,disabled:n,className:"w-full py-3 rounded-xl bg-gradient-to-r from-green-500 to-emerald-600 font-bold flex items-center justify-center gap-2 hover:brightness-110 disabled:opacity-50",children:n?"Analisando...":e.jsxs(e.Fragment,{children:[e.jsx(Ee,{className:"w-4 h-4"})," Calcular"]})}),l&&e.jsxs(k.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-4 rounded-xl bg-green-500/10 border border-green-500/20 space-y-3",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-white/60",children:"Custo:"}),e.jsxs("span",{className:"font-bold",children:["R$ ",l.costEstimate.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between text-lg",children:[e.jsx("span",{className:"text-white/60",children:"Preo Sugerido:"}),e.jsxs("span",{className:"font-black text-green-400",children:["R$ ",l.suggestedPrice.toFixed(2)]})]}),e.jsxs("div",{className:"pt-3 border-t border-white/10",children:[e.jsxs("p",{className:"text-xs text-primary font-bold mb-1 flex items-center gap-1",children:[e.jsx(Go,{className:"w-3 h-3"})," Neuromarketing"]}),e.jsx("p",{className:"text-sm text-white/70",children:l.tip})]})]})]})})}function Qh({onClose:a}){const[t,s]=f.useState(""),[r,i]=f.useState(2),[n,o]=f.useState(!1),[l,c]=f.useState(null),d=async()=>{if(!t.trim()){P.error("Cole a avaliao primeiro!");return}o(!0);try{const u=await Hh(t,r);c(u),P.success("Respostas geradas!")}catch(u){P.error(u.message||"Erro ao gerar")}finally{o(!1)}},m=u=>{navigator.clipboard.writeText(u),P.success("Copiado!")};return e.jsx(hr,{onClose:a,title:"Gestor de Reputao",icon:ln,iconColor:"text-blue-400",children:e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold mb-2 text-white/60",children:"Cole a avaliao ruim"}),e.jsx("textarea",{value:t,onChange:u=>s(u.target.value),placeholder:"Ex: Comida chegou fria e demorou 2 horas...",className:"w-full h-24 bg-white/5 border border-white/10 rounded-xl p-3 text-white placeholder:text-white/20 focus:border-primary focus:outline-none resize-none text-sm"})]}),e.jsx("div",{className:"flex gap-2",children:[1,2,3,4,5].map(u=>e.jsxs("button",{onClick:()=>i(u),className:`w-9 h-9 rounded-lg text-sm font-bold transition-all ${r===u?"bg-yellow-500 text-black":"bg-white/5 text-white/40 hover:bg-white/10"}`,children:[u,""]},u))}),e.jsx("button",{onClick:d,disabled:n,className:"w-full py-3 rounded-xl bg-gradient-to-r from-blue-500 to-cyan-600 font-bold flex items-center justify-center gap-2 hover:brightness-110 disabled:opacity-50",children:n?"Gerando...":e.jsxs(e.Fragment,{children:[e.jsx(Ee,{className:"w-4 h-4"})," Gerar Resposta"]})}),l&&e.jsx("div",{className:"space-y-3 max-h-48 overflow-y-auto",children:l.replies.map((u,h)=>e.jsxs(k.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:h*.1},className:"p-3 rounded-xl bg-white/5 border border-white/10",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-xs font-bold text-blue-400",children:u.tone}),e.jsx("button",{onClick:()=>m(u.text),className:"text-xs text-white/40 hover:text-white",children:"Copiar"})]}),e.jsx("p",{className:"text-xs text-white/70",children:u.text})]},h))})]})})}function Xh({onClose:a}){const[t,s]=f.useState(""),[r,i]=f.useState(""),[n,o]=f.useState(!1),[l,c]=f.useState(""),d=async()=>{if(!t.trim()||!r){P.error("Preencha nome e preo!");return}o(!0);try{const u=await Gh(t,parseFloat(r));c(u),P.success("Campanha criada!")}catch(u){P.error(u.message||"Erro ao gerar")}finally{o(!1)}},m=()=>{navigator.clipboard.writeText(l),P.success("Copiado!")};return e.jsx(hr,{onClose:a,title:"Gerador de Ofertas",icon:cn,iconColor:"text-orange-400",children:e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold mb-2 text-white/60",children:"Nome do Prato"}),e.jsx("input",{type:"text",value:t,onChange:u=>s(u.target.value),placeholder:"Ex: X-Bacon Duplo",className:"w-full bg-white/5 border border-white/10 rounded-xl p-3 text-white placeholder:text-white/20 focus:border-primary focus:outline-none text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold mb-2 text-white/60",children:"Preo (R$)"}),e.jsx("input",{type:"number",value:r,onChange:u=>i(u.target.value),placeholder:"24.90",className:"w-full bg-white/5 border border-white/10 rounded-xl p-3 text-white placeholder:text-white/20 focus:border-primary focus:outline-none text-sm"})]}),e.jsx("button",{onClick:d,disabled:n,className:"w-full py-3 rounded-xl bg-gradient-to-r from-orange-500 to-red-600 font-bold flex items-center justify-center gap-2 hover:brightness-110 disabled:opacity-50",children:n?"Criando...":e.jsxs(e.Fragment,{children:[e.jsx(Ee,{className:"w-4 h-4"})," Gerar Campanha"]})}),l&&e.jsxs(k.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-4 rounded-xl bg-orange-500/10 border border-orange-500/20",children:[e.jsx("p",{className:"text-sm text-white mb-3",children:l}),e.jsx("button",{onClick:m,className:"w-full py-2 rounded-lg bg-white/10 text-sm font-bold hover:bg-white/20 transition-colors",children:"Copiar Texto"})]})]})})}function hr({onClose:a,title:t,icon:s,iconColor:r,children:i}){return e.jsx(k.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/80 backdrop-blur-md",onClick:a,children:e.jsxs(k.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:n=>n.stopPropagation(),className:"bg-[#121212] w-full max-w-md rounded-2xl border border-white/10 overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between p-5 border-b border-white/10",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-10 h-10 rounded-xl bg-white/5 border border-white/10 flex items-center justify-center ${r}`,children:e.jsx(s,{className:"w-5 h-5"})}),e.jsx("h2",{className:"font-bold text-lg",children:t})]}),e.jsx("button",{onClick:a,className:"p-2 hover:bg-white/5 rounded-lg transition-colors",children:e.jsx(Je,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"p-5",children:i})]})})}function Jh(){const[a,t]=f.useState(!1),[s,r]=f.useState(!1),[i,n]=f.useState("manual"),[o,l]=f.useState(""),[c,d]=f.useState(""),[m,u]=f.useState(!1),h=()=>{r(!0),setTimeout(()=>{r(!1),P.success("QR Code gerado! Escaneie com WhatsApp.")},2e3)},x=()=>{if(!o||!c.trim()){P.error("Preencha telefone e mensagem!");return}if(!a){P.error("Conecte seu WhatsApp primeiro!");return}u(!0),setTimeout(()=>{u(!1),P.success("Mensagem enviada!"),d("")},1500)},v=w=>{d(y=>y+`{${w}}`)};return e.jsxs("div",{className:"min-h-screen bg-[#0a0a0a] text-white",children:[e.jsx("header",{className:"sticky top-0 z-50 bg-[#0a0a0a]/80 backdrop-blur-xl border-b border-white/5",children:e.jsxs("div",{className:"max-w-6xl mx-auto px-6 py-4 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(me,{to:"/tools",className:"p-2 hover:bg-white/5 rounded-xl transition-colors",children:e.jsx(pt,{className:"w-5 h-5"})}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-green-500 to-emerald-600 flex items-center justify-center",children:e.jsx(Fs,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"font-black text-lg",children:"Emprata Zap"}),e.jsx("p",{className:"text-xs text-white/40",children:"Automao de WhatsApp"})]})]})]}),e.jsx("span",{className:"px-3 py-1 rounded-full bg-yellow-500/10 text-yellow-400 text-xs font-bold",children:"Beta"})]})}),e.jsxs("main",{className:"max-w-6xl mx-auto px-6 py-8",children:[e.jsxs("div",{className:"grid lg:grid-cols-2 gap-8",children:[e.jsxs(k.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"bg-white/5 border border-white/10 rounded-3xl p-6",children:[e.jsxs("h2",{className:"text-lg font-bold mb-6 flex items-center gap-2",children:[e.jsx(Rt,{className:"w-5 h-5 text-white/40"}),"Conexo WhatsApp"]}),e.jsxs("div",{className:"flex items-center justify-center gap-3 mb-6",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${a?"bg-green-500 animate-pulse":"bg-red-500"}`}),e.jsx("span",{className:`font-bold ${a?"text-green-400":"text-red-400"}`,children:a?"Online":"Desconectado"}),a?e.jsx(yr,{className:"w-4 h-4 text-green-400"}):e.jsx(dn,{className:"w-4 h-4 text-red-400"})]}),e.jsx("div",{className:"aspect-square max-w-[280px] mx-auto mb-6 rounded-2xl bg-black/50 border border-white/10 flex items-center justify-center overflow-hidden",children:s?e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsx(Nt,{className:"w-8 h-8 text-green-400 animate-spin"}),e.jsx("p",{className:"text-sm text-white/40",children:"Gerando QR Code..."})]}):a?e.jsxs("div",{className:"flex flex-col items-center gap-4 text-center p-6",children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-green-500/20 flex items-center justify-center",children:e.jsx(yr,{className:"w-8 h-8 text-green-400"})}),e.jsx("p",{className:"text-sm text-white/60",children:"WhatsApp conectado e pronto para enviar mensagens."})]}):e.jsxs("div",{className:"flex flex-col items-center gap-4 text-center p-6",children:[e.jsx("div",{className:"grid grid-cols-5 gap-1",children:[...Array(25)].map((w,y)=>e.jsx("div",{className:`w-4 h-4 rounded-sm ${Math.random()>.5?"bg-white/20":"bg-white/5"}`},y))}),e.jsx("p",{className:"text-xs text-white/40 mt-4",children:'Clique em "Gerar QR Code" e escaneie com seu WhatsApp'})]})}),e.jsxs("div",{className:"space-y-3",children:[a?e.jsx("button",{onClick:()=>t(!1),className:"w-full py-3 rounded-xl bg-red-500/20 text-red-400 font-bold hover:bg-red-500/30 transition-all",children:"Desconectar"}):e.jsxs("button",{onClick:h,disabled:s,className:"w-full py-3 rounded-xl bg-gradient-to-r from-green-500 to-emerald-600 font-bold flex items-center justify-center gap-2 hover:brightness-110 disabled:opacity-50 transition-all",children:[e.jsx(Rt,{className:"w-5 h-5"}),s?"Gerando...":"Gerar Novo QR Code"]}),e.jsx("button",{onClick:()=>t(!a),className:"w-full py-2 text-xs text-white/30 hover:text-white/50 transition-colors",children:"[Dev] Toggle Connection"})]})]}),e.jsxs(k.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"bg-white/5 border border-white/10 rounded-3xl p-6",children:[e.jsxs("div",{className:"flex gap-2 mb-6",children:[e.jsx("button",{onClick:()=>n("manual"),className:`flex-1 py-3 rounded-xl font-bold text-sm transition-all ${i==="manual"?"bg-green-500/20 text-green-400 border border-green-500/30":"bg-white/5 text-white/40 hover:bg-white/10"}`,children:"Disparo Manual"}),e.jsx("button",{onClick:()=>n("campaigns"),className:`flex-1 py-3 rounded-xl font-bold text-sm transition-all ${i==="campaigns"?"bg-green-500/20 text-green-400 border border-green-500/30":"bg-white/5 text-white/40 hover:bg-white/10"}`,children:"Campanhas"})]}),i==="manual"?e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-bold mb-2 text-white/60",children:[e.jsx(us,{className:"w-4 h-4"})," Telefone"]}),e.jsx(Pe,{mask:"+55 (00) 00000-0000",value:o,unmask:!1,onAccept:w=>l(w),className:"w-full bg-black/50 border border-white/10 rounded-xl p-4 text-white placeholder:text-white/20 focus:border-green-500 focus:outline-none",placeholder:"+55 (11) 99999-9999"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-bold mb-2 text-white/60",children:[e.jsx(Xa,{className:"w-4 h-4"})," Mensagem"]}),e.jsx("textarea",{value:c,onChange:w=>d(w.target.value),placeholder:`Digite sua mensagem aqui...\r
\r
Use variveis como {nome_cliente} para personalizar.`,className:"w-full h-32 bg-black/50 border border-white/10 rounded-xl p-4 text-white placeholder:text-white/20 focus:border-green-500 focus:outline-none resize-none"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-white/40 mb-2",children:"Variveis rpidas:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:["nome_cliente","pedido","valor"].map(w=>e.jsx("button",{onClick:()=>v(w),className:"px-3 py-1 rounded-lg bg-white/5 text-xs font-mono text-white/60 hover:bg-white/10 hover:text-white transition-colors",children:`{${w}}`},w))})]}),e.jsx("button",{onClick:x,disabled:m||!a,className:"w-full py-4 rounded-xl bg-gradient-to-r from-green-500 to-emerald-600 font-bold text-lg flex items-center justify-center gap-3 hover:brightness-110 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:m?e.jsxs(e.Fragment,{children:[e.jsx(Nt,{className:"w-5 h-5 animate-spin"}),"Enviando..."]}):e.jsxs(e.Fragment,{children:[e.jsx(nn,{className:"w-5 h-5"}),"Enviar Agora"]})}),!a&&e.jsx("p",{className:"text-center text-xs text-red-400",children:" Conecte seu WhatsApp primeiro para enviar mensagens."})]}):e.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-center",children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-white/5 flex items-center justify-center mb-4",children:e.jsx(Fs,{className:"w-8 h-8 text-white/20"})}),e.jsx("h3",{className:"text-lg font-bold text-white/60 mb-2",children:"Em Breve"}),e.jsx("p",{className:"text-sm text-white/40 max-w-xs",children:"Crie campanhas automatizadas com templates, listas de contatos e agendamento."})]})]})]}),e.jsx(k.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"mt-8 p-4 rounded-2xl bg-green-500/10 border border-green-500/20 text-center",children:e.jsxs("p",{className:"text-sm text-green-400",children:[" ",e.jsx("strong",{children:"Seguro:"})," Usamos a Evolution API oficial. Suas mensagens so criptografadas de ponta a ponta."]})})]})]})}function Zh(){const[a,t]=f.useState([]),[s,r]=f.useState([]),[i,n]=f.useState([]),[o,l]=f.useState(null),[c,d]=f.useState("5.00"),[m,u]=f.useState(null),[h,x]=f.useState(!1),[v,w]=f.useState(!0);f.useEffect(()=>{const g=ot.currentUser;if(!g)return;const N=Re(ge(te,"orders"),xe("restaurantId","==",g.uid),xe("status","in",["ready","dispatched"]),Ut("createdAt","desc")),S=et(N,D=>{const X=[],ee=[];D.docs.forEach(B=>{const K={id:B.id,...B.data()};K.status==="ready"?X.push(K):K.status==="dispatched"&&ee.push(K)}),t(X),r(ee),w(!1)}),M=Re(ge(te,"drivers"),xe("restaurantId","==",g.uid),xe("active","==",!0)),C=et(M,D=>{const X=D.docs.map(ee=>({id:ee.id,...ee.data()}));n(X)});return()=>{S(),C()}},[]);const y=async g=>{if(o)try{const N=he(te,"orders",o.id);await Fe(N,{status:"dispatched",driverId:g.id,driverName:g.name,deliveryFee:parseFloat(c)||5,dispatchedAt:it()});const S=he(te,"drivers",g.id);await Fe(S,{currentStatus:"busy",totalDeliveriesToday:(g.totalDeliveriesToday||0)+1}),P.success(`Pedido atribudo a ${g.name}!`),l(null),d("5.00")}catch(N){console.error(N),P.error("Erro ao atribuir pedido")}},p=g=>{if(!g)return"0min";const N=Date.now(),S=g.toDate?.()?.getTime()||g;return`${Math.floor((N-S)/6e4)}min`};return e.jsxs("div",{className:"min-h-screen bg-[#0a0a0a] text-white",children:[e.jsx("header",{className:"sticky top-0 z-50 bg-[#0a0a0a]/80 backdrop-blur-xl border-b border-white/5",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-4 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(me,{to:"/tools",className:"p-2 hover:bg-white/5 rounded-xl transition-colors",children:e.jsx(pt,{className:"w-5 h-5"})}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-purple-500 to-pink-600 flex items-center justify-center",children:e.jsx(wt,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"font-black text-lg",children:"Painel de Expedio"}),e.jsx("p",{className:"text-xs text-white/40",children:"Logstica & Entregadores"})]})]})]}),e.jsxs("button",{onClick:()=>x(!0),className:"flex items-center gap-2 px-4 py-2 bg-white/5 hover:bg-white/10 rounded-xl font-bold text-sm transition-colors",children:[e.jsx(Ze,{className:"w-4 h-4"}),"Novo Motoboy"]})]})}),e.jsx("main",{className:"max-w-7xl mx-auto px-6 py-6",children:e.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(ut,{className:"w-5 h-5 text-yellow-400"}),e.jsx("h2",{className:"font-bold",children:"Aguardando Envio"}),e.jsx("span",{className:"ml-auto px-2 py-0.5 bg-yellow-500/20 text-yellow-400 rounded-full text-xs font-bold",children:a.length})]}),e.jsx("div",{className:"space-y-3 max-h-[60vh] overflow-y-auto",children:a.length===0?e.jsxs("div",{className:"text-center py-8 text-white/30",children:[e.jsx(ut,{className:"w-10 h-10 mx-auto mb-2 opacity-50"}),e.jsx("p",{className:"text-sm",children:"Nenhum pedido aguardando"})]}):a.map(g=>e.jsxs(k.button,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},onClick:()=>l(g),className:`w-full text-left p-4 rounded-xl border transition-all ${o?.id===g.id?"bg-primary/20 border-primary":"bg-black/30 border-white/10 hover:border-white/20"}`,children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsx("span",{className:"font-bold",children:g.customer.name}),e.jsx("button",{onClick:N=>{N.stopPropagation(),u(m===g.id?null:g.id)},className:"p-1 hover:bg-white/10 rounded-lg",title:"Ver cdigo de segurana",children:m===g.id?e.jsx(an,{className:"w-4 h-4 text-white/40"}):e.jsx(rs,{className:"w-4 h-4 text-white/40"})})]}),g.customer.address&&e.jsxs("div",{className:"flex items-start gap-2 text-xs text-white/60 mb-2",children:[e.jsx(Ye,{className:"w-3 h-3 mt-0.5 shrink-0"}),e.jsxs("span",{children:[g.customer.address.street,", ",g.customer.address.number,g.customer.address.neighborhood&&` - ${g.customer.address.neighborhood}`]})]}),m===g.id&&g.deliveryPin&&e.jsxs("div",{className:"mt-2 p-2 bg-yellow-500/20 border border-yellow-500/30 rounded-lg text-center",children:[e.jsx("p",{className:"text-[10px] text-yellow-400/70 mb-1",children:"CDIGO DE SEGURANA"}),e.jsx("p",{className:"font-mono text-xl font-black text-yellow-400 tracking-widest",children:g.deliveryPin})]}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-white/40",children:[e.jsxs("span",{children:["R$ ",g.total?.toFixed(2)]}),e.jsx("span",{children:""}),e.jsxs("span",{children:[g.items?.length||0," itens"]})]})]},g.id))})]}),e.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(wt,{className:"w-5 h-5 text-green-400"}),e.jsx("h2",{className:"font-bold",children:"Motoboys"}),e.jsxs("span",{className:"ml-auto px-2 py-0.5 bg-green-500/20 text-green-400 rounded-full text-xs font-bold",children:[i.filter(g=>g.currentStatus==="available").length," livres"]})]}),o&&e.jsxs(k.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"mb-4 p-3 bg-primary/10 border border-primary/30 rounded-xl",children:[e.jsx("p",{className:"text-xs text-white/60 mb-2",children:"Taxa de Entrega para este pedido:"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-white/60",children:"R$"}),e.jsx("input",{type:"number",value:c,onChange:g=>d(g.target.value),className:"flex-1 bg-black/50 border border-white/10 rounded-lg px-3 py-2 text-white font-bold focus:border-primary focus:outline-none",step:"0.50",min:"0"})]})]}),e.jsx("div",{className:"space-y-3 max-h-[50vh] overflow-y-auto",children:i.length===0?e.jsxs("div",{className:"text-center py-8 text-white/30",children:[e.jsx(wt,{className:"w-10 h-10 mx-auto mb-2 opacity-50"}),e.jsx("p",{className:"text-sm",children:"Nenhum motoboy cadastrado"})]}):i.map(g=>e.jsx(k.button,{disabled:g.currentStatus==="busy"||!o,onClick:()=>y(g),className:`w-full text-left p-4 rounded-xl border transition-all ${g.currentStatus==="available"&&o?"bg-green-500/10 border-green-500/30 hover:bg-green-500/20 cursor-pointer":"bg-black/30 border-white/10 opacity-60 cursor-not-allowed"}`,children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${g.currentStatus==="available"?"bg-green-500/20":"bg-red-500/20"}`,children:e.jsx(Vt,{className:`w-5 h-5 ${g.currentStatus==="available"?"text-green-400":"text-red-400"}`})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-bold",children:g.name}),e.jsxs("p",{className:"text-xs text-white/40 flex items-center gap-1",children:[e.jsx(us,{className:"w-3 h-3"}),g.phone]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:`text-xs font-bold ${g.currentStatus==="available"?"text-green-400":"text-red-400"}`,children:g.currentStatus==="available"?"Livre":"Ocupado"}),e.jsxs("p",{className:"text-xs text-white/40",children:[g.totalDeliveriesToday||0," entregas"]})]})]})},g.id))})]}),e.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(Ye,{className:"w-5 h-5 text-blue-400"}),e.jsx("h2",{className:"font-bold",children:"Em Rota"}),e.jsx("span",{className:"ml-auto px-2 py-0.5 bg-blue-500/20 text-blue-400 rounded-full text-xs font-bold",children:s.length})]}),e.jsx("div",{className:"space-y-3 max-h-[60vh] overflow-y-auto",children:s.length===0?e.jsxs("div",{className:"text-center py-8 text-white/30",children:[e.jsx(Ye,{className:"w-10 h-10 mx-auto mb-2 opacity-50"}),e.jsx("p",{className:"text-sm",children:"Nenhuma entrega em andamento"})]}):s.map(g=>e.jsxs(k.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-4 rounded-xl bg-blue-500/10 border border-blue-500/20",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsx("span",{className:"font-bold",children:g.customer.name}),e.jsxs("div",{className:"flex items-center gap-1 text-blue-400",children:[e.jsx(hs,{className:"w-3 h-3"}),e.jsx("span",{className:"text-xs font-bold",children:p(g.dispatchedAt)})]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-white/60 mb-2",children:[e.jsx(wt,{className:"w-3 h-3"}),e.jsx("span",{children:g.driverName||"Motoboy"})]}),g.customer.address&&e.jsxs("div",{className:"flex items-start gap-2 text-xs text-white/40",children:[e.jsx(Ye,{className:"w-3 h-3 mt-0.5 shrink-0"}),e.jsx("span",{children:g.customer.address.neighborhood})]})]},g.id))})]})]})}),e.jsx(ce,{children:h&&e.jsx(em,{onClose:()=>x(!1)})})]})}function em({onClose:a}){const[t,s]=f.useState(""),[r,i]=f.useState(""),[n,o]=f.useState(""),[l,c]=f.useState(!1),d=async()=>{const m=ot.currentUser;if(!m||!t.trim()||!r.trim()){P.error("Preencha nome e telefone");return}c(!0);try{const u=Math.floor(1e3+Math.random()*9e3).toString();await tr(ge(te,"drivers"),{restaurantId:m.uid,name:t.trim(),phone:r.trim(),pixKey:n.trim()||null,pin:u,active:!0,currentStatus:"available",totalDeliveriesToday:0,createdAt:it()}),P.success(`Motoboy cadastrado! PIN: ${u}`),a()}catch(u){console.error(u),P.error("Erro ao cadastrar")}finally{c(!1)}};return e.jsx(k.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/80 backdrop-blur-md",onClick:a,children:e.jsxs(k.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:m=>m.stopPropagation(),className:"bg-[#121212] w-full max-w-md rounded-2xl border border-white/10 p-6",children:[e.jsx("h2",{className:"text-xl font-black mb-6",children:"Cadastrar Motoboy"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold mb-2 text-white/60",children:"Nome"}),e.jsx("input",{type:"text",value:t,onChange:m=>s(m.target.value),placeholder:"Joo Silva",className:"w-full bg-white/5 border border-white/10 rounded-xl p-3 text-white placeholder:text-white/20 focus:border-primary focus:outline-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold mb-2 text-white/60",children:"Telefone"}),e.jsx("input",{type:"tel",value:r,onChange:m=>i(m.target.value),placeholder:"(11) 99999-9999",className:"w-full bg-white/5 border border-white/10 rounded-xl p-3 text-white placeholder:text-white/20 focus:border-primary focus:outline-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold mb-2 text-white/60",children:"Chave Pix (opcional)"}),e.jsx("input",{type:"text",value:n,onChange:m=>o(m.target.value),placeholder:"CPF, telefone ou email",className:"w-full bg-white/5 border border-white/10 rounded-xl p-3 text-white placeholder:text-white/20 focus:border-primary focus:outline-none"})]}),e.jsxs("button",{onClick:d,disabled:l,className:"w-full py-3 rounded-xl bg-gradient-to-r from-purple-500 to-pink-600 font-bold flex items-center justify-center gap-2 hover:brightness-110 disabled:opacity-50",children:[l?e.jsx(Nt,{className:"w-4 h-4 animate-spin"}):e.jsx(Ze,{className:"w-4 h-4"}),l?"Salvando...":"Cadastrar"]}),e.jsx("button",{onClick:a,className:"w-full py-2 text-white/40 hover:text-white text-sm font-bold",children:"Cancelar"})]})]})})}function tm(){const[a,t]=f.useState(null),[s,r]=f.useState([]),[i,n]=f.useState(null),[o,l]=f.useState(!1),[c,d]=f.useState(!1);f.useEffect(()=>{if(!a)return;const h=Re(ge(te,"orders"),xe("driverId","==",a.id),xe("status","==","dispatched")),x=et(h,v=>{const w=v.docs.map(y=>({id:y.id,...y.data()}));r(w)});return()=>x()},[a]);const m=async(h,x)=>{try{d(!0);let v;if(navigator.geolocation)try{const y=await new Promise((p,g)=>{navigator.geolocation.getCurrentPosition(p,g,{timeout:5e3})});v={lat:y.coords.latitude,lng:y.coords.longitude}}catch{console.log("Geolocation not available")}const w=he(te,"orders",h.id);if(await Fe(w,{status:"delivered",deliveredAt:it(),deliveryProofUrl:x||null,deliveryAttemptCoords:v||null}),a){const y=he(te,"drivers",a.id);await Fe(y,{currentStatus:s.length<=1?"available":"busy"})}P.success("Entrega confirmada!"),l(!1),n(null)}catch(v){console.error(v),P.error("Erro ao confirmar entrega")}finally{d(!1)}},u=()=>{t(null),localStorage.removeItem("driverSession")};return a?e.jsxs("div",{className:"min-h-screen bg-black text-white",children:[e.jsx("header",{className:"sticky top-0 z-50 bg-black border-b border-white/10 px-4 py-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-green-500/20 flex items-center justify-center",children:e.jsx(wt,{className:"w-5 h-5 text-green-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold",children:a.name}),e.jsx("p",{className:"text-xs text-green-400",children:"Online"})]})]}),e.jsx("button",{onClick:u,className:"p-2 hover:bg-white/10 rounded-xl",children:e.jsx(Gt,{className:"w-5 h-5 text-white/40"})})]})}),e.jsxs("main",{className:"p-4",children:[e.jsxs("h2",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[e.jsx(ut,{className:"w-5 h-5"}),"Minha Fila (",s.length,")"]}),s.length===0?e.jsxs("div",{className:"text-center py-20",children:[e.jsx(wt,{className:"w-16 h-16 mx-auto mb-4 text-white/20"}),e.jsx("p",{className:"text-xl font-bold text-white/40",children:"Sem entregas no momento"}),e.jsx("p",{className:"text-sm text-white/30 mt-2",children:"Novas entregas aparecero aqui"})]}):e.jsx("div",{className:"space-y-4",children:s.map(h=>e.jsxs(k.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white/5 border border-white/10 rounded-2xl p-4",children:[e.jsx("h3",{className:"text-2xl font-black mb-2",children:h.customer.name}),h.customer.address&&e.jsxs("div",{className:"bg-white/5 rounded-xl p-4 mb-4",children:[e.jsxs("p",{className:"text-xl font-bold leading-relaxed",children:[h.customer.address.street,", ",h.customer.address.number]}),h.customer.address.complement&&e.jsx("p",{className:"text-lg text-white/60",children:h.customer.address.complement}),e.jsx("p",{className:"text-lg text-primary font-bold mt-1",children:h.customer.address.neighborhood}),h.customer.address.reference&&e.jsxs("p",{className:"text-sm text-white/40 mt-2",children:[" ",h.customer.address.reference]})]}),h.customer.phone&&e.jsxs("a",{href:`tel:${h.customer.phone}`,className:"flex items-center gap-3 p-4 bg-blue-500/20 rounded-xl mb-4",children:[e.jsx(us,{className:"w-6 h-6 text-blue-400"}),e.jsx("span",{className:"text-lg font-bold",children:h.customer.phone})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[e.jsxs("a",{href:`waze://?q=${encodeURIComponent(h.customer.address?`${h.customer.address.street}, ${h.customer.address.number}, ${h.customer.address.city}`:"")}`,className:"flex items-center justify-center gap-2 py-4 bg-[#33CCFF] text-black rounded-xl font-bold text-lg",children:[e.jsx(un,{className:"w-6 h-6"}),"Waze"]}),e.jsxs("a",{href:`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(h.customer.address?`${h.customer.address.street}, ${h.customer.address.number}, ${h.customer.address.city}`:"")}`,target:"_blank",className:"flex items-center justify-center gap-2 py-4 bg-white text-black rounded-xl font-bold text-lg",children:[e.jsx(Ye,{className:"w-6 h-6"}),"Maps"]})]}),e.jsxs("button",{onClick:()=>{n(h),l(!0)},className:"w-full py-6 bg-gradient-to-r from-green-500 to-emerald-600 rounded-2xl font-black text-xl flex items-center justify-center gap-3 active:scale-95 transition-transform",children:[e.jsx(rt,{className:"w-8 h-8"}),"CONFIRMAR ENTREGA"]})]},h.id))})]}),e.jsx(ce,{children:o&&i&&e.jsx(am,{order:i,onConfirm:h=>m(i,h),onClose:()=>{l(!1),n(null)},loading:c})})]}):e.jsx(sm,{onLogin:t})}function sm({onLogin:a}){const[t,s]=f.useState(""),[r,i]=f.useState(!1),[n,o]=f.useState(""),l=async()=>{if(t.length!==4){o("PIN deve ter 4 dgitos");return}i(!0),o("");try{const c=Re(ge(te,"drivers"),xe("pin","==",t),xe("active","==",!0)),d=await kt(c);if(d.empty)o("PIN invlido"),s(""),navigator.vibrate&&navigator.vibrate(200);else{const m={id:d.docs[0].id,...d.docs[0].data()};await Fe(he(te,"drivers",m.id),{currentStatus:"available"}),localStorage.setItem("driverSession",JSON.stringify(m)),a(m),P.success(`Bem-vindo, ${m.name}!`)}}catch(c){console.error(c),o("Erro ao fazer login")}finally{i(!1)}};return e.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col items-center justify-center p-6",children:[e.jsx("div",{className:"w-20 h-20 rounded-full bg-green-500/20 flex items-center justify-center mb-6",children:e.jsx(wt,{className:"w-10 h-10 text-green-400"})}),e.jsx("h1",{className:"text-2xl font-black mb-2",children:"Modo Entregador"}),e.jsx("p",{className:"text-white/40 mb-8",children:"Digite seu PIN de 4 dgitos"}),e.jsx("div",{className:"flex gap-3 mb-6",children:[0,1,2,3].map(c=>e.jsx("div",{className:`w-14 h-14 rounded-xl border-2 flex items-center justify-center text-2xl font-black ${t[c]?"border-green-500 bg-green-500/20":"border-white/20 bg-white/5"}`,children:t[c]||""},c))}),n&&e.jsxs("p",{className:"text-red-400 text-sm mb-4 flex items-center gap-2",children:[e.jsx(dt,{className:"w-4 h-4"}),n]}),e.jsx("div",{className:"grid grid-cols-3 gap-3 w-full max-w-xs mb-6",children:[1,2,3,4,5,6,7,8,9,null,0,"del"].map((c,d)=>e.jsx("button",{disabled:c===null,onClick:()=>{c==="del"?s(t.slice(0,-1)):typeof c=="number"&&t.length<4&&s(t+c)},className:`h-16 rounded-xl font-bold text-2xl transition-all ${c===null?"invisible":c==="del"?"bg-red-500/20 text-red-400":"bg-white/10 hover:bg-white/20 active:scale-95"}`,children:c==="del"?"":c},d))}),e.jsx("button",{onClick:l,disabled:t.length!==4||r,className:"w-full max-w-xs py-4 bg-green-500 rounded-xl font-black text-xl disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:r?e.jsx(le,{className:"w-6 h-6 animate-spin"}):"ENTRAR"})]})}function am({order:a,onConfirm:t,onClose:s,loading:r}){const[i,n]=f.useState("pin"),[o,l]=f.useState(""),[c,d]=f.useState(!1),[m,u]=f.useState(null),[h,x]=f.useState(null),[v,w]=f.useState(!1),y=f.useRef(null),p=N=>{const S=N.target.files?.[0];S&&(u(S),x(URL.createObjectURL(S)))},g=async()=>{if(!m){P.error("Tire uma foto do pacote");return}w(!0);try{const N=`proof_${a.id}_${Date.now()}.jpg`;t(N)}catch{P.error("Erro ao enviar foto")}finally{w(!1)}};return e.jsxs(k.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[100] bg-black",children:[e.jsxs("div",{className:"sticky top-0 bg-black border-b border-white/10 px-4 py-3 flex items-center justify-between",children:[e.jsx("button",{onClick:s,className:"p-2 hover:bg-white/10 rounded-xl",children:e.jsx(Je,{className:"w-6 h-6"})}),e.jsx("h2",{className:"font-bold",children:"Confirmar Entrega"}),e.jsx("div",{className:"w-10"})]}),i==="pin"?e.jsxs("div",{className:"p-6 flex flex-col items-center",children:[e.jsx("h3",{className:"text-xl font-bold mb-2",children:"Digite o Cdigo do Cliente"}),e.jsx("p",{className:"text-white/40 text-sm mb-8 text-center",children:"Pea o cdigo de 4 dgitos que apareceu na confirmao do pedido"}),e.jsx("div",{className:`flex gap-3 mb-6 ${c?"animate-shake":""}`,children:[0,1,2,3].map(N=>e.jsx("div",{className:`w-16 h-16 rounded-xl border-2 flex items-center justify-center text-3xl font-black transition-all ${c?"border-red-500 bg-red-500/20":o[N]?"border-green-500 bg-green-500/20":"border-white/20 bg-white/5"}`,children:o[N]||""},N))}),c&&e.jsx("p",{className:"text-red-400 font-bold mb-4",children:"Cdigo Invlido!"}),e.jsx("div",{className:"grid grid-cols-3 gap-3 w-full max-w-xs mb-6",children:[1,2,3,4,5,6,7,8,9,null,0,"del"].map((N,S)=>e.jsx("button",{disabled:N===null||r,onClick:()=>{if(N==="del")l(o.slice(0,-1));else if(typeof N=="number"&&o.length<4){const M=o+N;l(M),M.length===4&&setTimeout(()=>{M===a.deliveryPin?t():(d(!0),l(""),navigator.vibrate&&navigator.vibrate([100,50,100]),setTimeout(()=>d(!1),1e3))},100)}},className:`h-16 rounded-xl font-bold text-2xl transition-all ${N===null?"invisible":N==="del"?"bg-red-500/20 text-red-400":"bg-white/10 hover:bg-white/20 active:scale-95"}`,children:N==="del"?"":N},S))}),e.jsx("button",{onClick:()=>n("photo"),className:"text-white/40 text-sm underline",children:"No tenho o cdigo / Deixar na Portaria"})]}):e.jsxs("div",{className:"p-6 flex flex-col items-center",children:[e.jsx("h3",{className:"text-xl font-bold mb-2",children:"Comprovante de Entrega"}),e.jsx("p",{className:"text-white/40 text-sm mb-6 text-center",children:"Tire uma foto do pacote no local de entrega"}),e.jsx("div",{onClick:()=>y.current?.click(),className:"w-full aspect-square max-w-xs bg-white/5 border-2 border-dashed border-white/20 rounded-2xl flex flex-col items-center justify-center mb-6 overflow-hidden cursor-pointer",children:h?e.jsx("img",{src:h,className:"w-full h-full object-cover"}):e.jsxs(e.Fragment,{children:[e.jsx(ct,{className:"w-16 h-16 text-white/20 mb-4"}),e.jsx("p",{className:"text-white/40",children:"Toque para tirar foto"})]})}),e.jsx("input",{ref:y,type:"file",accept:"image/*",capture:"environment",onChange:p,className:"hidden"}),e.jsx("button",{onClick:g,disabled:!m||v,className:"w-full max-w-xs py-4 bg-green-500 rounded-xl font-black text-xl disabled:opacity-50 flex items-center justify-center gap-2",children:v?e.jsx(le,{className:"w-6 h-6 animate-spin"}):e.jsxs(e.Fragment,{children:[e.jsx(rt,{className:"w-6 h-6"}),"CONFIRMAR COM FOTO"]})}),e.jsx("button",{onClick:()=>n("pin"),className:"mt-4 text-white/40 text-sm underline",children:"Voltar para cdigo"})]}),r&&e.jsx("div",{className:"absolute inset-0 bg-black/80 flex items-center justify-center",children:e.jsx(le,{className:"w-12 h-12 animate-spin text-green-400"})}),e.jsx("style",{children:`
        @keyframes shake {
          0%, 100% { transform: translateX(0); }
          25% { transform: translateX(-10px); }
          75% { transform: translateX(10px); }
        }
        .animate-shake {
          animation: shake 0.3s ease-in-out;
        }
      `})]})}const rm=new ps(""),im=rm.getGenerativeModel({model:"gemini-2.0-flash-exp",generationConfig:{temperature:.8,maxOutputTokens:500}});async function nm(a,t,s="nosso chef"){try{const r=`Atue como um narrador gastronmico empolgado e divertido.
    
O pedido : "${a}"
O status mudou para: "${t}"
O chef responsvel : "${s}"

Gere uma frase curta, divertida e apetitosa para o cliente (mximo 120 caracteres).
Use emojis relevantes com comida.
Seja criativo e faa o cliente salivar!

Responda APENAS com a frase, nada mais.`,n=(await im.generateContent(r)).response.text().trim(),o=t==="delivered"?"celebration":t==="ready"?"exciting":"calm";return{message:n.slice(0,150),emoji:om(n)||"",tone:o}}catch(r){return console.error("[NeuralCore] Delivery update error:",r),{message:lm(t,a),emoji:"",tone:"calm"}}}function om(a){const t=/(\p{Emoji_Presentation}|\p{Extended_Pictographic})/gu;return a.match(t)?.[0]||""}function lm(a,t){return{pending:`Seu ${t} entrou na fila! `,preparing:`O chef est caprichando no seu ${t}! `,ready:`Seu ${t} est pronto e cheirando bem! `,dispatched:`Seu ${t} est a caminho! `,delivered:`Entregue! Aproveite seu ${t}! `}[a]||`Atualizando seu ${t}...`}const Fi=["pending","preparing","ready","dispatched","delivered"],Li={pending:{label:"Pedido Recebido",icon:ut},preparing:{label:"Em Preparao",icon:Se},ready:{label:"Pronto para Entrega",icon:rt},dispatched:{label:"Saiu para Entrega",icon:wt},delivered:{label:"Entregue",icon:rt}},Bi=["Dica: Enquanto espera, j separou a bebida gelada? ","Sabia que nosso chef  premiado? Seu prato est em boas mos! ","Separe os talheres e guardanapos para aproveitar na hora! ","Que tal preparar aquele suco natural enquanto espera? ","Dica: O prato est mais gostoso quentinho! "];function cm({status:a}){const t=a==="dispatched";return e.jsxs("div",{className:"relative h-40 bg-gradient-to-b from-blue-500/10 to-transparent rounded-3xl overflow-hidden",children:[e.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-8 bg-gray-800",children:e.jsx("div",{className:"h-1 bg-yellow-500 absolute top-1/2 left-0 right-0 -translate-y-1/2",style:{backgroundImage:"repeating-linear-gradient(90deg, #EAB308 0, #EAB308 20px, transparent 20px, transparent 40px)"}})}),e.jsx(k.div,{animate:t?{x:[-20,280,-20]}:{x:0},transition:t?{duration:4,repeat:1/0,ease:"linear"}:{},className:"absolute bottom-6 left-1/2 -translate-x-1/2",children:e.jsx("div",{className:"text-5xl",children:""})}),e.jsx("div",{className:"absolute bottom-8 left-4 text-3xl opacity-40",children:""}),e.jsx("div",{className:"absolute bottom-8 right-4 text-3xl opacity-40",children:""}),e.jsx("div",{className:"absolute top-4 left-0 right-0 text-center",children:e.jsx("span",{className:"text-sm font-bold text-white/60",children:t?" A caminho!":" Aguardando..."})})]})}function dm(){const[a,t]=f.useState(0);return f.useEffect(()=>{const s=setInterval(()=>{t(r=>(r+1)%Bi.length)},1e4);return()=>clearInterval(s)},[]),e.jsx(k.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-br from-primary/20 to-orange-600/10 border border-primary/30 rounded-2xl p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-primary/20 rounded-xl flex items-center justify-center shrink-0",children:e.jsx(Ee,{className:"w-5 h-5 text-primary"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-bold text-primary uppercase mb-1",children:"Emprata AI"}),e.jsx(ce,{mode:"wait",children:e.jsx(k.p,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"text-sm text-white/70",children:Bi[a]},a)})]})]})})}function um(){const{orderId:a}=Ja(),[t,s]=f.useState(null),[r,i]=f.useState(!0),[n,o]=f.useState(null),[l,c]=f.useState("");f.useEffect(()=>{if(!a)return;const m=et(he(te,"orders",a),async u=>{if(u.exists()){const h=u.data(),x={id:u.id,...h};if(s(x),h.status!==l&&h.items?.length>0){const v=h.items[0].name,w=await nm(v,h.status,"nosso chef");o(w),c(h.status)}}i(!1)});return()=>m()},[a,l]);const d=Fi.map((m,u)=>{const h=t?Fi.indexOf(t.status):-1;return{id:m,status:m,label:Li[m]?.label||m,icon:Li[m]?.icon||ut,completed:u<h,current:u===h}});return r?e.jsx("div",{className:"min-h-screen bg-[#0a0a0a] flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-white/60",children:"Buscando seu pedido..."})]})}):t?e.jsxs("div",{className:"min-h-screen bg-[#0a0a0a] text-white pb-24",children:[e.jsx(An,{children:e.jsx("title",{children:"Acompanhar Pedido | Emprata.ai"})}),e.jsx("header",{className:"bg-[#0a0a0a]/90 backdrop-blur-xl border-b border-white/5 p-4 sticky top-0 z-20",children:e.jsxs("div",{className:"max-w-md mx-auto flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-white/40 uppercase tracking-wider",children:"Pedido"}),e.jsxs("p",{className:"font-black text-lg",children:["#",a?.slice(-6).toUpperCase()]})]}),e.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-white/5 rounded-full",children:[e.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),e.jsx("span",{className:"text-xs text-white/60",children:"Ao vivo"})]})]})}),e.jsxs("div",{className:"max-w-md mx-auto p-4 space-y-6",children:[e.jsx(cm,{status:t.status}),n&&e.jsxs(k.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"p-6 bg-gradient-to-br from-white/10 to-transparent border border-white/10 rounded-3xl text-center",children:[e.jsx("span",{className:"text-4xl mb-4 block",children:n.emoji||""}),e.jsx("p",{className:"text-lg font-bold leading-relaxed",children:n.message})]}),e.jsxs("div",{className:"relative",children:[e.jsx("h2",{className:"text-sm font-bold text-white/40 uppercase tracking-wider mb-4",children:"Acompanhamento"}),e.jsx("div",{className:"space-y-0",children:d.map((m,u)=>e.jsxs(k.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:u*.1},className:"flex gap-4",children:[e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center ${m.completed?"bg-green-500/20":m.current?"bg-primary/20 ring-2 ring-primary":"bg-white/5"}`,children:e.jsx(m.icon,{className:`w-5 h-5 ${m.completed?"text-green-400":m.current?"text-primary":"text-white/30"}`})}),u<d.length-1&&e.jsx("div",{className:`w-0.5 h-8 ${m.completed?"bg-green-500/50":"bg-white/10"}`})]}),e.jsxs("div",{className:"pb-6",children:[e.jsx("p",{className:`font-bold ${m.completed||m.current?"text-white":"text-white/40"}`,children:m.label}),m.current&&e.jsx("p",{className:"text-xs text-primary mt-1",children:"Agora"})]})]},m.id))})]}),(t.status==="dispatched"||t.status==="ready")&&t.deliveryPin&&e.jsxs("div",{className:"p-4 bg-green-500/10 border border-green-500/30 rounded-2xl text-center",children:[e.jsx("p",{className:"text-xs text-green-400 font-bold uppercase mb-2",children:"Cdigo de Recebimento"}),e.jsx("p",{className:"text-3xl font-black tracking-[0.2em]",children:t.deliveryPin}),e.jsx("p",{className:"text-xs text-white/50 mt-2",children:"Informe ao entregador"})]}),e.jsx(dm,{}),e.jsxs("div",{className:"bg-white/5 rounded-2xl p-4",children:[e.jsx("h3",{className:"font-bold mb-3",children:"Seu Pedido"}),e.jsx("div",{className:"space-y-2",children:t.items.map((m,u)=>e.jsx("div",{className:"flex justify-between text-sm",children:e.jsxs("span",{children:[m.quantity,"x ",m.name]})},u))}),e.jsxs("div",{className:"mt-4 pt-4 border-t border-white/10 flex justify-between",children:[e.jsx("span",{className:"font-bold",children:"Total"}),e.jsxs("span",{className:"font-black text-primary",children:["R$ ",t.total.toFixed(2).replace(".",",")]})]})]}),e.jsxs("a",{href:`tel:${t.restaurant?.phone||""}`,className:"flex items-center justify-center gap-2 py-4 bg-white/5 rounded-2xl text-white/60 hover:bg-white/10 transition-colors",children:[e.jsx(us,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-bold",children:"Falar com restaurante"})]})]})]}):e.jsx("div",{className:"min-h-screen bg-[#0a0a0a] flex items-center justify-center p-6",children:e.jsxs("div",{className:"text-center max-w-md",children:[e.jsx(ut,{className:"w-16 h-16 text-white/20 mx-auto mb-4"}),e.jsx("h1",{className:"text-2xl font-black mb-2",children:"Pedido no encontrado"}),e.jsx("p",{className:"text-white/60",children:"Verifique o link ou entre em contato com o restaurante."})]})})}const hm=[{value:"MEI",label:"MEI (Microempreendedor Individual)"},{value:"LIMITED",label:"LTDA (Limitada)"},{value:"INDIVIDUAL",label:"Pessoa Fsica (CPF)"},{value:"ASSOCIATION",label:"Associao / ONG"}],Oa=({label:a,type:t,onUpload:s,isDone:r})=>{const i=f.useRef(null),[n,o]=f.useState(!1),l=async c=>{const d=c.target.files?.[0];if(d){if(d.size>5*1024*1024){P.error("Arquivo muito grande. Mximo 5MB.");return}o(!0);try{const m=new FileReader;m.readAsDataURL(d),m.onload=async()=>{const u=m.result;await s(t,u,d.name),o(!1)}}catch{P.error("Erro ao processar arquivo"),o(!1)}}};return e.jsxs("div",{className:`border-2 border-dashed rounded-xl p-6 flex flex-col items-center justify-center transition-all ${r?"border-green-500/50 bg-green-500/5":"border-white/10 hover:border-primary/50 hover:bg-white/5"}`,children:[e.jsx("input",{type:"file",accept:"image/*,application/pdf",className:"hidden",ref:i,onChange:l,disabled:r||n}),r?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-12 h-12 bg-green-500 rounded-full flex items-center justify-center mb-3 shadow-lg shadow-green-500/20",children:e.jsx(Ce,{className:"w-6 h-6 text-white"})}),e.jsx("span",{className:"text-green-500 font-bold text-sm",children:"Enviado"})]}):n?e.jsx(le,{className:"w-8 h-8 text-primary animate-spin mb-2"}):e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>i.current?.click(),className:"w-12 h-12 bg-white/10 rounded-full flex items-center justify-center mb-3 text-white hover:bg-primary hover:text-white transition-colors",children:t==="SELFIE"?e.jsx(ct,{className:"w-5 h-5"}):e.jsx(Ko,{className:"w-5 h-5"})}),e.jsx("span",{className:"text-white/60 font-medium text-sm",children:a}),e.jsx("span",{className:"text-white/20 text-xs mt-1",children:"JPG, PNG ou PDF"})]})]})};function mm(){const{user:a}=we(),[t,s]=f.useState(!0),[r,i]=f.useState(!1),[n,o]=f.useState(null),[l,c]=f.useState({name:"",email:a?.email||"",cpfCnpj:"",birthDate:"",companyType:"MEI",incomeValue:"",phone:"",postalCode:"",address:"",addressNumber:"",province:"",city:"",state:""});f.useEffect(()=>{if(!a?.uid)return;const h=et(he(te,"users",a.uid),x=>{o(x.data()?.finance),s(!1)});return()=>h()},[a]);const d=(h,x)=>{c(v=>({...v,[h]:x}))},m=async(h,x,v)=>{try{await qt(Ht,"financeUploadDocuments")({type:h,fileBase64:x,fileName:v}),P.success("Documento enviado com sucesso!")}catch(w){console.error(w),P.error("Erro no envio. Tente novamente.")}},u=async h=>{if(h.preventDefault(),i(!0),!l.addressNumber){P.error("O Nmero do endereo  obrigatrio."),i(!1);return}if(l.birthDate.length<10){P.error("Data de nascimento invlida"),i(!1);return}if(!l.incomeValue){P.error("Informe a renda mensal estimada."),i(!1);return}try{const[x,v,w]=l.birthDate.split("/"),y=`${w}-${v}-${x}`,p=l.incomeValue.replace(/[^0-9,]/g,"").replace(",","."),g=parseFloat(p);await qt(Ht,"financeOnboard")({...l,birthDate:y,incomeValue:g}),P.success("Conta criada! Agora envie os documentos.")}catch(x){console.error(x),P.error(x.message||"Erro ao criar conta")}finally{i(!1)}};if(t)return e.jsx("div",{className:"p-10 text-center",children:e.jsx(le,{className:"animate-spin mx-auto text-primary"})});if(n?.asaasAccountId){const h=n.documents||{},x=h.docIdSent&&h.docSelfieSent;return e.jsx("div",{className:"min-h-screen bg-black text-white p-6 md:p-10 pb-32",children:e.jsx("div",{className:"max-w-3xl mx-auto",children:e.jsx("div",{className:"bg-[#121212] border border-white/10 rounded-3xl p-8 text-center",children:x?e.jsxs("div",{className:"py-10",children:[e.jsx(We,{className:"w-20 h-20 text-green-500 mx-auto mb-6"}),e.jsx("h2",{className:"text-3xl font-black text-white mb-2",children:"Conta em Anlise!"}),e.jsx("p",{className:"text-white/60 mb-6 max-w-md mx-auto",children:"Recebemos seus documentos. O Asaas analisar em at 2 dias teis. Voc ser notificado."}),e.jsxs("div",{className:"bg-black p-4 rounded-xl border border-white/5 inline-block text-left",children:[e.jsx("p",{className:"text-xs text-white/40 uppercase tracking-widest",children:"Status Atual"}),e.jsx("code",{className:"text-yellow-500 font-mono",children:"Aguardando Aprovao"})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mb-10",children:[e.jsx("div",{className:"w-16 h-16 bg-primary/20 rounded-full flex items-center justify-center mx-auto mb-4 text-primary",children:e.jsx(Xa,{className:"w-8 h-8"})}),e.jsx("h2",{className:"text-3xl font-black italic tracking-tighter mb-2",children:"Falta Pouco!"}),e.jsx("p",{className:"text-white/50 max-w-lg mx-auto",children:"Para ativar saques e pagamentos, o Banco Central exige o envio de documentos para validao de identidade (KYC)."})]}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-6 mb-8",children:[e.jsx(Oa,{label:"Frente do RG/CNH",type:"IDENTIFICATION",onUpload:m,isDone:h.docIdSent}),e.jsx(Oa,{label:"Verso do RG/CNH",type:"IDENTIFICATION",onUpload:m,isDone:h.docIdSent}),e.jsx(Oa,{label:"Selfie com Documento",type:"SELFIE",onUpload:m,isDone:h.docSelfieSent})]}),e.jsxs("div",{className:"bg-yellow-500/10 border border-yellow-500/20 p-4 rounded-xl flex gap-3 text-left",children:[e.jsx(dt,{className:"w-5 h-5 text-yellow-500 shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-bold text-yellow-200",children:"Requisitos da Selfie"}),e.jsx("p",{className:"text-xs text-yellow-200/60 mt-1",children:"Segure o documento ao lado do rosto. O ambiente deve estar iluminado. No use culos escuros ou chapu."})]})]})]})})})})}return e.jsx("div",{className:"min-h-screen bg-black text-white p-6 md:p-10 pb-32",children:e.jsxs("div",{className:"max-w-3xl mx-auto",children:[e.jsxs("div",{className:"mb-10",children:[e.jsxs("h1",{className:"text-3xl md:text-4xl font-black italic tracking-tighter mb-2",children:["Ativar ",e.jsx("span",{className:"text-primary",children:"Recebimentos"})]}),e.jsx("p",{className:"text-white/40",children:"Preencha os dados para abrir sua conta digital."})]}),e.jsxs("form",{onSubmit:u,className:"bg-[#121212] border border-white/10 rounded-3xl p-6 md:p-8 space-y-6",children:[e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-white/60 mb-2 uppercase tracking-wider",children:"Tipo de Conta"}),e.jsx("select",{value:l.companyType,onChange:h=>d("companyType",h.target.value),className:"w-full bg-black/50 border border-white/10 rounded-xl px-4 py-3 text-white focus:border-primary outline-none appearance-none",children:hm.map(h=>e.jsx("option",{value:h.value,children:h.label},h.value))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-white/60 mb-2 uppercase tracking-wider",children:"Nome Completo / Razo Social"}),e.jsx("input",{required:!0,value:l.name,onChange:h=>d("name",h.target.value),className:"w-full bg-black/50 border border-white/10 rounded-xl px-4 py-3 text-white focus:border-primary outline-none",placeholder:"Ex: Joo da Silva ou Pizzaria Ltda"})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-white/60 mb-2 uppercase tracking-wider",children:"CPF ou CNPJ"}),e.jsx(Pe,{mask:l.companyType==="INDIVIDUAL"?"000.000.000-00":[{mask:"000.000.000-00"},{mask:"00.000.000/0000-00"}],value:l.cpfCnpj,onAccept:h=>d("cpfCnpj",h),className:"w-full bg-black/50 border border-white/10 rounded-xl px-4 py-3 text-white focus:border-primary outline-none",placeholder:"Digite apenas nmeros"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-white/60 mb-2 uppercase tracking-wider",children:"Data de Nascimento"}),e.jsxs("div",{className:"relative",children:[e.jsx(Pe,{mask:"00/00/0000",value:l.birthDate,onAccept:h=>d("birthDate",h),className:"w-full bg-black/50 border border-white/10 rounded-xl px-4 py-3 text-white focus:border-primary outline-none",placeholder:"DD/MM/AAAA"}),e.jsx(on,{className:"absolute right-4 top-3 text-white/20 w-5 h-5 pointer-events-none"})]}),e.jsxs("p",{className:"text-[10px] text-white/30 mt-1 flex items-center gap-1",children:[e.jsx(Qi,{className:"w-3 h-3"})," Obrigatrio para validao da Receita Federal."]})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-white/60 mb-2 uppercase tracking-wider",children:"Faturamento Mensal Estimado"}),e.jsxs("div",{className:"relative",children:[e.jsx(Pe,{mask:"R$ num",blocks:{num:{mask:Number,thousandsSeparator:".",padFractionalZeros:!0,normalizeZeros:!0,radix:",",mapToRadix:["."],min:0}},value:l.incomeValue,onAccept:h=>d("incomeValue",h),className:"w-full bg-black/50 border border-white/10 rounded-xl px-4 py-3 text-white focus:border-primary outline-none pl-12",placeholder:"0,00"}),e.jsx(Kt,{className:"absolute left-4 top-3 text-white/40 w-5 h-5 pointer-events-none"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-white/60 mb-2 uppercase tracking-wider",children:"Celular"}),e.jsx(Pe,{mask:"(00) 00000-0000",value:l.phone,onAccept:h=>d("phone",h),className:"w-full bg-black/50 border border-white/10 rounded-xl px-4 py-3 text-white focus:border-primary outline-none"})]})]}),e.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-white/60 mb-2 uppercase tracking-wider",children:"Email da Conta"}),e.jsx("input",{type:"email",required:!0,value:l.email,onChange:h=>d("email",h.target.value),className:"w-full bg-black/50 border border-white/10 rounded-xl px-4 py-3 text-white focus:border-primary outline-none"})]})}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-white/60 mb-2 uppercase tracking-wider",children:"CEP"}),e.jsx(Pe,{mask:"00000-000",value:l.postalCode,onAccept:h=>d("postalCode",h),className:"w-full bg-black/50 border border-white/10 rounded-xl px-4 py-3 text-white focus:border-primary outline-none"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-xs font-bold text-white/60 mb-2 uppercase tracking-wider",children:"Endereo (Rua/Av)"}),e.jsx("input",{required:!0,value:l.address,onChange:h=>d("address",h.target.value),className:"w-full bg-black/50 border border-white/10 rounded-xl px-4 py-3 text-white focus:border-primary outline-none",placeholder:"Ex: Avenida Paulista"})]})]}),e.jsxs("div",{className:"grid md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-white/60 mb-2 uppercase tracking-wider",children:"Nmero"}),e.jsx("input",{required:!0,value:l.addressNumber,onChange:h=>d("addressNumber",h.target.value),className:"w-full bg-black/50 border border-white/10 rounded-xl px-4 py-3 text-white focus:border-primary outline-none",placeholder:"123"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-white/60 mb-2 uppercase tracking-wider",children:"Bairro"}),e.jsx("input",{value:l.province,onChange:h=>d("province",h.target.value),className:"w-full bg-black/50 border border-white/10 rounded-xl px-4 py-3 text-white focus:border-primary outline-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-white/60 mb-2 uppercase tracking-wider",children:"Cidade"}),e.jsx("input",{required:!0,value:l.city,onChange:h=>d("city",h.target.value),className:"w-full bg-black/50 border border-white/10 rounded-xl px-4 py-3 text-white focus:border-primary outline-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-white/60 mb-2 uppercase tracking-wider",children:"UF"}),e.jsx("input",{required:!0,maxLength:2,value:l.state,onChange:h=>d("state",h.target.value.toUpperCase()),className:"w-full bg-black/50 border border-white/10 rounded-xl px-4 py-3 text-white focus:border-primary outline-none",placeholder:"SP"})]})]}),e.jsxs("div",{className:"flex items-start gap-3 p-4 bg-yellow-500/10 border border-yellow-500/20 rounded-xl",children:[e.jsx(dt,{className:"w-5 h-5 text-yellow-500 shrink-0"}),e.jsx("p",{className:"text-xs text-yellow-200/80",children:"Seus dados sero enviados para o Asaas para abertura de conta de pagamento. Certifique-se que o CPF/CNPJ est regular na Receita Federal."})]}),e.jsx("button",{type:"submit",disabled:r,className:"w-full py-4 bg-primary hover:bg-orange-600 rounded-2xl font-black uppercase tracking-widest text-sm transition-colors flex items-center justify-center gap-2 disabled:opacity-50",children:r?e.jsx(le,{className:"animate-spin"}):"Criar Conta Financeira"})]})]})})}async function pm(a){try{const t=a.replace(/\D/g,"");if(t.length!==8)return null;const r=await(await fetch(`https://viacep.com.br/ws/${t}/json/`)).json();return r.erro?null:{street:r.logradouro,neighborhood:r.bairro,city:r.localidade,state:r.uf,postalCode:t}}catch{return null}}function xm({savedAddresses:a=[],selectedAddress:t,onSelect:s,onSaveNew:r}){const[i,n]=f.useState(!1),[o,l]=f.useState(!1),[c,d]=f.useState(!1),[m,u]=f.useState(!1),[h,x]=f.useState({label:"casa",street:"",number:"",complement:"",neighborhood:"",city:"",state:"",postalCode:"",reference:""}),v=()=>{if(!navigator.geolocation){P.error("Geolocalizao no suportada");return}d(!0),navigator.geolocation.getCurrentPosition(async g=>{const{latitude:N,longitude:S}=g.coords;try{const C=await(await fetch(`https://nominatim.openstreetmap.org/reverse?lat=${N}&lon=${S}&format=json&addressdetails=1`,{headers:{"Accept-Language":"pt-BR"}})).json();if(C.address){const D=C.address;x({...h,street:D.road||D.pedestrian||"",neighborhood:D.suburb||D.neighbourhood||"",city:D.city||D.town||D.village||"",state:D.state||"",postalCode:D.postcode?.replace(/\D/g,"")||"",coords:{lat:N,lng:S}}),l(!0),P.success("Localizao detectada!")}}catch{P.error("Erro ao buscar endereo")}d(!1)},()=>{P.error("Permisso de localizao negada"),d(!1)},{enableHighAccuracy:!0,timeout:1e4})},w=async g=>{if(x({...h,postalCode:g}),g.replace(/\D/g,"").length===8){u(!0);const N=await pm(g);N?(x(S=>({...S,...N})),P.success("CEP encontrado!")):P.error("CEP no encontrado"),u(!1)}},y=()=>{if(!h.street||!h.number||!h.neighborhood){P.error("Preencha os campos obrigatrios");return}const g={id:`addr_${Date.now()}`,label:h.label||"outro",street:h.street||"",number:h.number||"",complement:h.complement,neighborhood:h.neighborhood||"",city:h.city||"",state:h.state||"",postalCode:h.postalCode||"",reference:h.reference,coords:h.coords};r?.(g),s(g),l(!1),n(!1),P.success("Endereo salvo!")},p={casa:e.jsx(mn,{className:"w-4 h-4"}),trabalho:e.jsx(hn,{className:"w-4 h-4"}),outro:e.jsx(Ye,{className:"w-4 h-4"})};return e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>n(!0),className:"w-full flex items-center gap-3 bg-white/5 border border-white/10 rounded-2xl px-4 py-3 hover:bg-white/10 transition-colors",children:[e.jsx(Ye,{className:"w-5 h-5 text-primary shrink-0"}),e.jsx("div",{className:"flex-1 text-left",children:t?e.jsxs(e.Fragment,{children:[e.jsxs("p",{className:"text-sm font-bold text-white truncate",children:[t.street,", ",t.number]}),e.jsxs("p",{className:"text-xs text-white/40 truncate",children:[t.neighborhood,"  ",t.city]})]}):e.jsx("p",{className:"text-sm font-medium text-white/50",children:"Selecione um endereo"})}),e.jsx(qi,{className:"w-5 h-5 text-white/40"})]}),e.jsx(ce,{children:i&&e.jsx(k.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-end md:items-center justify-center p-4 bg-black/80 backdrop-blur-sm",onClick:()=>n(!1),children:e.jsxs(k.div,{initial:{y:100,opacity:0},animate:{y:0,opacity:1},exit:{y:100,opacity:0},onClick:g=>g.stopPropagation(),className:"w-full max-w-lg bg-[#121212] border border-white/10 rounded-3xl overflow-hidden max-h-[80vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-white/5",children:[e.jsx("h3",{className:"font-black text-lg",children:o?"Novo Endereo":"Onde voc est?"}),e.jsx("button",{onClick:()=>{o?l(!1):n(!1)},className:"p-2 hover:bg-white/5 rounded-full",children:e.jsx(Je,{className:"w-5 h-5"})})]}),o?e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsx("div",{className:"flex gap-2",children:["casa","trabalho","outro"].map(g=>e.jsxs("button",{onClick:()=>x({...h,label:g}),className:`flex-1 flex items-center justify-center gap-2 py-2 rounded-xl border text-sm font-bold transition-all ${h.label===g?"bg-primary/20 border-primary text-primary":"border-white/10 text-white/50 hover:bg-white/5"}`,children:[p[g],e.jsx("span",{className:"capitalize",children:g})]},g))}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-bold text-white/40 uppercase tracking-wider mb-1 block",children:"CEP"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:h.postalCode,onChange:g=>w(g.target.value),placeholder:"00000-000",maxLength:9,className:"w-full bg-black/50 border border-white/10 rounded-xl px-4 py-3 text-white focus:border-primary focus:outline-none"}),m&&e.jsx(le,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-5 h-5 text-primary animate-spin"})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsxs("div",{className:"col-span-2",children:[e.jsx("label",{className:"text-xs font-bold text-white/40 uppercase tracking-wider mb-1 block",children:"Rua"}),e.jsx("input",{type:"text",value:h.street,onChange:g=>x({...h,street:g.target.value}),className:"w-full bg-black/50 border border-white/10 rounded-xl px-4 py-3 text-white focus:border-primary focus:outline-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-bold text-white/40 uppercase tracking-wider mb-1 block",children:"N"}),e.jsx("input",{type:"text",value:h.number,onChange:g=>x({...h,number:g.target.value}),className:"w-full bg-black/50 border border-white/10 rounded-xl px-4 py-3 text-white focus:border-primary focus:outline-none"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-bold text-white/40 uppercase tracking-wider mb-1 block",children:"Complemento"}),e.jsx("input",{type:"text",value:h.complement,onChange:g=>x({...h,complement:g.target.value}),placeholder:"Apto, Bloco...",className:"w-full bg-black/50 border border-white/10 rounded-xl px-4 py-3 text-white focus:border-primary focus:outline-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-bold text-white/40 uppercase tracking-wider mb-1 block",children:"Bairro"}),e.jsx("input",{type:"text",value:h.neighborhood,onChange:g=>x({...h,neighborhood:g.target.value}),className:"w-full bg-black/50 border border-white/10 rounded-xl px-4 py-3 text-white focus:border-primary focus:outline-none"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-bold text-white/40 uppercase tracking-wider mb-1 block",children:"Ponto de Referncia"}),e.jsx("input",{type:"text",value:h.reference,onChange:g=>x({...h,reference:g.target.value}),placeholder:"Prximo ao mercado...",className:"w-full bg-black/50 border border-white/10 rounded-xl px-4 py-3 text-white focus:border-primary focus:outline-none"})]}),e.jsx("button",{onClick:y,className:"w-full py-4 bg-primary hover:bg-orange-600 rounded-2xl font-black uppercase tracking-wider text-sm transition-colors",children:"Salvar Endereo"})]}):e.jsxs("div",{className:"p-4 space-y-2",children:[e.jsxs("button",{onClick:v,disabled:c,className:"w-full flex items-center gap-3 p-4 bg-primary/10 border border-primary/30 rounded-2xl hover:bg-primary/20 transition-colors disabled:opacity-50",children:[c?e.jsx(le,{className:"w-5 h-5 text-primary animate-spin"}):e.jsx(un,{className:"w-5 h-5 text-primary"}),e.jsx("span",{className:"font-bold text-primary",children:c?"Buscando localizao...":"Usar minha localizao"})]}),a.map(g=>e.jsxs("button",{onClick:()=>{s(g),n(!1)},className:`w-full flex items-center gap-3 p-4 rounded-2xl border transition-colors ${t?.id===g.id?"bg-white/10 border-primary":"border-white/10 hover:bg-white/5"}`,children:[p[g.label],e.jsxs("div",{className:"flex-1 text-left",children:[e.jsxs("p",{className:"text-sm font-bold text-white",children:[g.street,", ",g.number]}),e.jsxs("p",{className:"text-xs text-white/40",children:[g.neighborhood,"  ",g.city]})]}),t?.id===g.id&&e.jsx(Ce,{className:"w-5 h-5 text-primary"})]},g.id)),e.jsxs("button",{onClick:()=>l(!0),className:"w-full flex items-center justify-center gap-2 p-4 border-2 border-dashed border-white/10 rounded-2xl text-white/50 hover:text-white hover:border-white/20 transition-colors",children:[e.jsx(Ze,{className:"w-5 h-5"}),e.jsx("span",{className:"font-bold",children:"Adicionar novo endereo"})]})]})]})})})]})}function fm(a,t,s,r){const n=(s-a)*Math.PI/180,o=(r-t)*Math.PI/180,l=Math.sin(n/2)*Math.sin(n/2)+Math.cos(a*Math.PI/180)*Math.cos(s*Math.PI/180)*Math.sin(o/2)*Math.sin(o/2);return 6371*(2*Math.atan2(Math.sqrt(l),Math.sqrt(1-l)))}const $i=[{id:"all",label:"Todos",icon:e.jsx(Ee,{className:"w-5 h-5"}),color:"primary"},{id:"comfort",label:"Conforto",icon:e.jsx(Zi,{className:"w-5 h-5"}),color:"blue-500"},{id:"fitness",label:"Fitness",icon:e.jsx(en,{className:"w-5 h-5"}),color:"green-500"},{id:"energy",label:"Fome Monstro",icon:e.jsx(mt,{className:"w-5 h-5"}),color:"orange-500"},{id:"late_night",label:"Larica",icon:e.jsx(tn,{className:"w-5 h-5"}),color:"purple-500"}],gm=[{id:"rest_1",name:"Burger Empire",slug:"burger-empire",description:"Os melhores hambrgueres artesanais da cidade",coverUrl:"https://images.unsplash.com/photo-1568901346375-23c9450c58cd?w=800",logoUrl:"https://placehold.co/100x100/ff5500/white?text=BE",categories:["Hambrguer","Americano"],vibes:["energy","late_night"],rating:4.8,reviewCount:234,deliveryTime:{min:25,max:40},deliveryFee:6.99,minimumOrder:25,isOpen:!0,openingHours:{},coords:{lat:-23.5505,lng:-46.6333},address:{},phone:"",acceptsOnlinePayment:!0,acceptsCashPayment:!0,acceptsCardOnDelivery:!0},{id:"rest_2",name:"Sushi Master",slug:"sushi-master",description:"Culinria japonesa tradicional e contempornea",coverUrl:"https://images.unsplash.com/photo-1579871494447-9811cf80d66c?w=800",logoUrl:"https://placehold.co/100x100/dc2626/white?text=SM",categories:["Japons","Sushi"],vibes:["fitness","comfort"],rating:4.9,reviewCount:567,deliveryTime:{min:35,max:50},deliveryFee:8.99,minimumOrder:40,isOpen:!0,openingHours:{},coords:{lat:-23.552,lng:-46.635},address:{},phone:"",acceptsOnlinePayment:!0,acceptsCashPayment:!1,acceptsCardOnDelivery:!0},{id:"rest_3",name:"Fit Kitchen",slug:"fit-kitchen",description:"Comida saudvel sem abrir mo do sabor",coverUrl:"https://images.unsplash.com/photo-1546069901-ba9599a7e63c?w=800",logoUrl:"https://placehold.co/100x100/22c55e/white?text=FK",categories:["Saudvel","Saladas"],vibes:["fitness"],rating:4.6,reviewCount:189,deliveryTime:{min:20,max:30},deliveryFee:4.99,minimumOrder:20,isOpen:!0,openingHours:{},coords:{lat:-23.549,lng:-46.632},address:{},phone:"",acceptsOnlinePayment:!0,acceptsCashPayment:!0,acceptsCardOnDelivery:!0},{id:"rest_4",name:"Pizza da Nonna",slug:"pizza-nonna",description:"Pizzas artesanais com receitas italianas",coverUrl:"https://images.unsplash.com/photo-1565299624946-b28f40a0ae38?w=800",logoUrl:"https://placehold.co/100x100/f97316/white?text=PN",categories:["Pizza","Italiano"],vibes:["comfort","late_night"],rating:4.7,reviewCount:412,deliveryTime:{min:30,max:45},deliveryFee:5.99,minimumOrder:30,isOpen:!0,openingHours:{},coords:{lat:-23.553,lng:-46.63},address:{},phone:"",acceptsOnlinePayment:!0,acceptsCashPayment:!0,acceptsCardOnDelivery:!0}];function Vi(){const[a,t]=f.useState(!1),[s,r]=f.useState(""),[i,n]=f.useState("all"),[o,l]=f.useState(gm),[c,d]=f.useState(null),[m,u]=f.useState([]),[h,x]=f.useState(null);f.useEffect(()=>{(async()=>{t(!0);try{const y=Re(ge(te,"users"),xe("role","==","owner")),p=await kt(y);if(!p.empty){const g=p.docs.map(N=>N.data().restaurant).filter(Boolean);g.length>0&&l(g)}}catch{console.log("Using mock data")}t(!1)})()},[]),f.useEffect(()=>{c?.coords&&x(c.coords)},[c]);const v=f.useMemo(()=>{let w=[...o];if(i!=="all"&&(w=w.filter(y=>y.vibes?.includes(i))),s){const y=s.toLowerCase();w=w.filter(p=>p.name.toLowerCase().includes(y)||p.categories?.some(g=>g.toLowerCase().includes(y))||p.description?.toLowerCase().includes(y))}return h&&(w=w.map(y=>({...y,distance:y.coords?fm(h.lat,h.lng,y.coords.lat,y.coords.lng):999})).filter(y=>y.distance<=10).sort((y,p)=>(y.distance||0)-(p.distance||0))),w},[o,i,s,h]);return e.jsxs("div",{className:"min-h-screen bg-[#0a0a0a] text-white",children:[e.jsxs("header",{className:"sticky top-0 z-40 bg-[#0a0a0a]/95 backdrop-blur-xl border-b border-white/5",children:[e.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs(me,{to:"/",className:"text-2xl font-black italic tracking-tighter",children:["Emprata",e.jsx("span",{className:"text-primary",children:".ai"})]}),e.jsx("div",{className:"flex-1 max-w-xs ml-4",children:e.jsx(xm,{savedAddresses:m,selectedAddress:c,onSelect:d,onSaveNew:w=>u([...m,w])})})]}),e.jsxs("div",{className:"relative",children:[e.jsx(rn,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-white/40"}),e.jsx("input",{type:"text",value:s,onChange:w=>r(w.target.value),placeholder:"Buscar pizza, hambrguer, sushi...",className:"w-full bg-white/5 border border-white/10 rounded-2xl pl-12 pr-4 py-3 text-white placeholder:text-white/40 focus:border-primary focus:outline-none"})]})]}),e.jsx("div",{className:"overflow-x-auto no-scrollbar",children:e.jsx("div",{className:"flex gap-2 px-4 pb-4 min-w-max",children:$i.map(w=>e.jsxs("button",{onClick:()=>n(w.id),className:`flex items-center gap-2 px-4 py-2 rounded-full text-sm font-bold transition-all whitespace-nowrap ${i===w.id?`bg-${w.color}/20 border-${w.color} text-white border`:"bg-white/5 border border-white/10 text-white/50 hover:bg-white/10"}`,style:i===w.id?{backgroundColor:`rgb(var(--${w.color}) / 0.2)`,borderColor:`rgb(var(--${w.color}))`}:{},children:[w.icon,w.label]},w.id))})})]}),e.jsxs("main",{className:"max-w-6xl mx-auto px-4 py-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-xl font-black",children:[v.length," restaurantes"]}),e.jsxs("p",{className:"text-sm text-white/40",children:[i!=="all"?$i.find(w=>w.id===i)?.label:"Todos os estilos",h&&"  At 10km"]})]}),e.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-white/5 rounded-full text-sm font-bold hover:bg-white/10 transition-colors",children:[e.jsx(Wo,{className:"w-4 h-4"}),"Filtros"]})]}),a&&e.jsx("div",{className:"flex items-center justify-center py-20",children:e.jsx(le,{className:"w-8 h-8 text-primary animate-spin"})}),e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.jsx(ce,{mode:"popLayout",children:v.map((w,y)=>e.jsx(k.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,scale:.95},transition:{delay:y*.05},children:e.jsx(me,{to:`/menu/${w.slug}`,children:e.jsxs("div",{className:"group bg-white/5 border border-white/5 rounded-3xl overflow-hidden hover:bg-white/10 hover:border-white/10 transition-all cursor-pointer",children:[e.jsxs("div",{className:"relative h-40 overflow-hidden",children:[e.jsx("img",{src:w.coverUrl,alt:w.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"}),e.jsx("div",{className:`absolute top-3 left-3 px-2 py-1 rounded-full text-[10px] font-black uppercase tracking-wider ${w.isOpen?"bg-green-500/90 text-white":"bg-red-500/90 text-white"}`,children:w.isOpen?"Aberto":"Fechado"}),e.jsx("button",{onClick:p=>{p.preventDefault()},className:"absolute top-3 right-3 p-2 bg-black/50 rounded-full hover:bg-black/70 transition-colors",children:e.jsx(Yo,{className:"w-4 h-4 text-white"})}),e.jsx("div",{className:"absolute -bottom-6 left-4",children:e.jsx("img",{src:w.logoUrl,alt:"",className:"w-14 h-14 rounded-2xl border-4 border-[#0a0a0a] object-cover"})})]}),e.jsxs("div",{className:"p-4 pt-8",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsx("h3",{className:"font-black text-lg",children:w.name}),e.jsxs("div",{className:"flex items-center gap-1 text-yellow-400",children:[e.jsx(Ks,{className:"w-4 h-4 fill-current"}),e.jsx("span",{className:"text-sm font-bold",children:w.rating})]})]}),e.jsx("p",{className:"text-xs text-white/50 mb-3 line-clamp-1",children:w.categories?.join("  ")}),e.jsxs("div",{className:"flex items-center gap-4 text-xs text-white/40",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(hs,{className:"w-3 h-3"}),w.deliveryTime?.min,"-",w.deliveryTime?.max," min"]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Qo,{className:"w-3 h-3"}),w.deliveryFee===0?"Grtis":`R$ ${w.deliveryFee?.toFixed(2)}`]}),w.distance&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Ye,{className:"w-3 h-3"}),w.distance.toFixed(1)," km"]})]})]})]})})},w.id))})}),!a&&v.length===0&&e.jsxs("div",{className:"text-center py-20",children:[e.jsx(Se,{className:"w-16 h-16 text-white/20 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-black mb-2",children:"Nenhum restaurante encontrado"}),e.jsx("p",{className:"text-white/40 mb-6",children:"Tente ajustar os filtros ou buscar por outra categoria"}),e.jsxs("button",{onClick:()=>{r(""),n("all")},className:"px-6 py-3 bg-primary rounded-full font-bold hover:bg-orange-600 transition-colors",children:[e.jsx(Nt,{className:"w-4 h-4 inline-block mr-2"}),"Limpar Filtros"]})]})]})]})}const bm=[{id:"orders",label:"Pedidos",icon:e.jsx(ut,{className:"w-5 h-5"})},{id:"addresses",label:"Endereos",icon:e.jsx(Ye,{className:"w-5 h-5"})},{id:"coupons",label:"Cupons",icon:e.jsx(La,{className:"w-5 h-5"})}];function vm(){const{user:a,signOut:t}=we(),[s,r]=f.useState("orders"),[i,n]=f.useState(!0),[o,l]=f.useState([]),[c,d]=f.useState([]),[m,u]=f.useState([]),[h,x]=f.useState(0);f.useEffect(()=>{if(!a?.uid)return;const p=et(he(te,"users",a.uid),N=>{const S=N.data();S?.consumer&&(d(S.consumer.savedAddresses||[]),u(S.consumer.coupons||[]),x(S.consumer.emprataCoins||0))});return(async()=>{try{const N=Re(ge(te,"orders"),xe("consumerId","==",a.uid),Ut("createdAt","desc")),S=await kt(N);l(S.docs.map(M=>({id:M.id,...M.data()})))}catch(N){console.log("Error loading orders:",N)}n(!1)})(),()=>p()},[a?.uid]);const v={casa:e.jsx(mn,{className:"w-4 h-4"}),trabalho:e.jsx(hn,{className:"w-4 h-4"}),outro:e.jsx(Ye,{className:"w-4 h-4"})},w={pending:"bg-yellow-500/20 text-yellow-400",preparing:"bg-blue-500/20 text-blue-400",ready:"bg-purple-500/20 text-purple-400",dispatched:"bg-primary/20 text-primary",delivered:"bg-green-500/20 text-green-400",cancelled:"bg-red-500/20 text-red-400"},y={pending:"Aguardando",preparing:"Preparando",ready:"Pronto",dispatched:"A caminho",delivered:"Entregue",cancelled:"Cancelado"};return e.jsxs("div",{className:"min-h-screen bg-[#0a0a0a] text-white pb-20",children:[e.jsx("header",{className:"bg-gradient-to-b from-primary/20 to-transparent pt-12 pb-8 px-6",children:e.jsxs("div",{className:"max-w-2xl mx-auto",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsx("div",{className:"w-16 h-16 bg-white/10 rounded-full flex items-center justify-center",children:a?.photoURL?e.jsx("img",{src:a.photoURL,alt:"",className:"w-full h-full rounded-full object-cover"}):e.jsx(Vt,{className:"w-8 h-8 text-white/50"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h1",{className:"text-xl font-black",children:a?.displayName||"Consumidor"}),e.jsx("p",{className:"text-sm text-white/40",children:a?.email})]}),e.jsx("button",{onClick:t,className:"p-3 bg-white/5 rounded-full hover:bg-white/10 transition-colors",children:e.jsx(Gt,{className:"w-5 h-5 text-white/50"})})]}),e.jsxs("div",{className:"bg-gradient-to-r from-yellow-500/20 to-orange-500/20 border border-yellow-500/30 rounded-2xl p-4 flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-yellow-500/30 rounded-full flex items-center justify-center",children:e.jsx(Xo,{className:"w-6 h-6 text-yellow-400"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-2xl font-black text-yellow-400",children:h}),e.jsx("p",{className:"text-xs text-white/50",children:"Emprata Coins"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-xs text-white/40",children:"Equivale a"}),e.jsxs("p",{className:"text-sm font-bold text-yellow-400",children:["R$ ",(h*.1).toFixed(2)]})]})]})]})}),e.jsx("div",{className:"sticky top-0 z-30 bg-[#0a0a0a]/95 backdrop-blur-xl border-b border-white/5",children:e.jsx("div",{className:"max-w-2xl mx-auto flex",children:bm.map(p=>e.jsxs("button",{onClick:()=>r(p.id),className:`flex-1 flex items-center justify-center gap-2 py-4 text-sm font-bold transition-all border-b-2 ${s===p.id?"border-primary text-primary":"border-transparent text-white/40 hover:text-white/60"}`,children:[p.icon,e.jsx("span",{className:"hidden sm:inline",children:p.label})]},p.id))})}),e.jsx("main",{className:"max-w-2xl mx-auto px-4 py-6",children:i?e.jsx("div",{className:"flex items-center justify-center py-20",children:e.jsx(le,{className:"w-8 h-8 text-primary animate-spin"})}):e.jsxs(ce,{mode:"wait",children:[s==="orders"&&e.jsx(k.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"space-y-4",children:o.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(ut,{className:"w-12 h-12 text-white/20 mx-auto mb-4"}),e.jsx("p",{className:"text-white/40",children:"Nenhum pedido ainda"}),e.jsx(me,{to:"/marketplace",className:"mt-4 inline-block px-6 py-3 bg-primary rounded-full font-bold hover:bg-orange-600 transition-colors",children:"Explorar Restaurantes"})]}):o.map(p=>e.jsxs("div",{className:"bg-white/5 border border-white/5 rounded-2xl p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[p.restaurant?.logoUrl&&e.jsx("img",{src:p.restaurant.logoUrl,alt:"",className:"w-10 h-10 rounded-xl object-cover"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold",children:p.restaurant?.name||"Restaurante"}),e.jsxs("p",{className:"text-xs text-white/40",children:[p.items?.length," itens  R$ ",p.total?.toFixed(2)]})]})]}),e.jsx("span",{className:`px-2 py-1 rounded-full text-[10px] font-black uppercase ${w[p.status]||"bg-white/10"}`,children:y[p.status]||p.status})]}),e.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-white/5",children:[e.jsxs("div",{className:"flex items-center gap-2 text-xs text-white/40",children:[e.jsx(hs,{className:"w-3 h-3"}),p.createdAt?.toDate?.()?.toLocaleDateString("pt-BR")||"Recente"]}),e.jsxs("button",{className:"flex items-center gap-1 text-primary text-sm font-bold hover:underline",children:[e.jsx(Nt,{className:"w-4 h-4"}),"Pedir de Novo"]})]})]},p.id))},"orders"),s==="addresses"&&e.jsxs(k.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"space-y-3",children:[c.map(p=>e.jsxs("div",{className:"flex items-center gap-4 bg-white/5 border border-white/5 rounded-2xl p-4",children:[e.jsx("div",{className:"w-10 h-10 bg-white/10 rounded-full flex items-center justify-center text-white/50",children:v[p.label]||e.jsx(Ye,{className:"w-4 h-4"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-bold capitalize",children:p.label}),e.jsxs("p",{className:"text-sm text-white/40",children:[p.street,", ",p.number,p.complement&&` - ${p.complement}`]})]}),e.jsx(Ki,{className:"w-5 h-5 text-white/20"})]},p.id)),e.jsxs("button",{className:"w-full flex items-center justify-center gap-2 p-4 border-2 border-dashed border-white/10 rounded-2xl text-white/50 hover:text-white hover:border-white/20 transition-colors",children:[e.jsx(Ze,{className:"w-5 h-5"}),"Adicionar Endereo"]})]},"addresses"),s==="coupons"&&e.jsx(k.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"space-y-3",children:m.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(La,{className:"w-12 h-12 text-white/20 mx-auto mb-4"}),e.jsx("p",{className:"text-white/40",children:"Nenhum cupom disponvel"}),e.jsx("p",{className:"text-sm text-white/30 mt-2",children:"Continue pedindo para ganhar cupons!"})]}):m.map(p=>e.jsxs("div",{className:"bg-gradient-to-r from-primary/10 to-orange-500/10 border border-primary/30 rounded-2xl p-4 flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-primary/20 rounded-full flex items-center justify-center",children:e.jsx(La,{className:"w-6 h-6 text-primary"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("p",{className:"font-black text-primary",children:[p.type==="percentage"&&`${p.value}% OFF`,p.type==="fixed"&&`R$ ${p.value} OFF`,p.type==="delivery_free"&&"FRETE GRTIS"]}),e.jsxs("p",{className:"text-xs text-white/40",children:["Cdigo: ",e.jsx("span",{className:"font-mono font-bold text-white",children:p.code})]})]}),p.minOrder&&e.jsxs("p",{className:"text-xs text-white/30",children:["Mn. R$ ",p.minOrder]})]},p.id))},"coupons")]})})]})}function Ui({children:a}){const{user:t,loading:s}=we();return s?e.jsxs("div",{className:"fixed inset-0 h-screen w-screen bg-[#0a0a0a] flex items-center justify-center z-50",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"mb-6",children:e.jsxs("h1",{className:"text-4xl font-black italic tracking-tight",children:["Emprata",e.jsx("span",{className:"text-primary",children:".ai"})]})}),e.jsxs("div",{className:"relative w-16 h-16 mx-auto mb-6",children:[e.jsx("div",{className:"absolute inset-0 border-4 border-white/10 rounded-full"}),e.jsx("div",{className:"absolute inset-0 border-4 border-primary border-t-transparent rounded-full animate-spin"}),e.jsx("div",{className:"absolute inset-2 bg-primary/20 rounded-full blur-md animate-pulse"})]}),e.jsx("p",{className:"text-white/50 font-bold text-sm uppercase tracking-widest",children:"Carregando Emprata AI..."}),e.jsx("p",{className:"text-white/20 font-medium text-xs mt-4",children:"Conectando ao servidor"})]}),e.jsx("div",{className:"absolute inset-0 bg-gradient-radial from-primary/5 via-transparent to-transparent pointer-events-none"})]}):t?e.jsx(e.Fragment,{children:a}):(console.log(" [ProtectedRoute] No user, redirecting to /auth"),e.jsx(Za,{to:"/auth",replace:!0}))}const zi={STARTER:97,GROWTH:197,SCALE:497};function wm(){const{user:a}=we(),[t,s]=f.useState(null);return f.useEffect(()=>{if(a){const i=sessionStorage.getItem("pending_plan");if(i){const n=i;zi[n]?(s({plan:n,price:zi[n]}),sessionStorage.removeItem("pending_plan"),P.info(`Retomando compra do plano ${n}...`)):sessionStorage.removeItem("pending_plan")}}},[a]),{pendingPlan:t,clearPending:()=>s(null)}}function ym({children:a}){const{pendingPlan:t,clearPending:s}=wm();return e.jsxs(e.Fragment,{children:[a,t&&e.jsx(xo,{isOpen:!!t,onClose:s,plan:t.plan,price:t.price})]})}function jm(){return e.jsxs(tl,{children:[e.jsx(Hc,{position:"top-center",richColors:!0,toastOptions:{style:{background:"#18181b",border:"1px solid rgba(255,255,255,0.1)",color:"#fff"}}}),e.jsx(ym,{children:e.jsxs(sl,{children:[e.jsx(ue,{path:"/",element:e.jsx(Md,{})}),e.jsx(ue,{path:"/auth",element:e.jsx(Pd,{})}),e.jsx(ue,{path:"/privacy",element:e.jsx(Vh,{})}),e.jsx(ue,{path:"/terms",element:e.jsx(Uh,{})}),e.jsx(ue,{path:"/menu/:slug",element:e.jsx(fh,{})}),e.jsx(ue,{path:"/marketplace",element:e.jsx(Vi,{})}),e.jsx(ue,{path:"/delivery",element:e.jsx(Vi,{})}),e.jsx(ue,{path:"/me",element:e.jsx(vm,{})}),e.jsx(ue,{path:"/track/:orderId",element:e.jsx(um,{})}),e.jsx(ue,{path:"/waiter-login",element:e.jsx(Mh,{})}),e.jsx(ue,{path:"/waiter-mode",element:e.jsx(Dh,{})}),e.jsx(ue,{path:"/kitchen/:restaurantId",element:e.jsx(Pi,{})}),e.jsx(ue,{path:"/kitchen-mode",element:e.jsx(Pi,{})}),e.jsxs(ue,{element:e.jsx(Ui,{children:e.jsx(Rd,{})}),children:[e.jsx(ue,{path:"/dashboard",element:e.jsx(Tu,{})}),e.jsx(ue,{path:"/menu-builder",element:e.jsx(Ku,{})}),e.jsx(ue,{path:"/staff",element:e.jsx(Rh,{})}),e.jsx(ue,{path:"/profile",element:e.jsx(Lh,{})}),e.jsx(ue,{path:"/admin/profile",element:e.jsx(Bh,{})}),e.jsx(ue,{path:"/finance",element:e.jsx(mm,{})}),e.jsx(ue,{path:"/success",element:e.jsx($h,{})}),e.jsx(ue,{path:"/print-qr",element:e.jsx(jh,{})}),e.jsx(ue,{path:"/tools",element:e.jsx(Wh,{})}),e.jsx(ue,{path:"/tools/whatsapp",element:e.jsx(Jh,{})}),e.jsx(ue,{path:"/logistics/dispatch",element:e.jsx(Zh,{})})]}),e.jsx(ue,{path:"/driver-mode",element:e.jsx(tm,{})}),e.jsx(ue,{path:"/studio",element:e.jsx(Ui,{children:e.jsx(_u,{})})}),e.jsx(ue,{path:"/app",element:e.jsx(Za,{to:"/studio",replace:!0})}),e.jsx(ue,{path:"*",element:e.jsx(zh,{})})]})})]})}function Nm(){const[a,t]=f.useState(!0),[s,r]=f.useState(!1);f.useEffect(()=>{t(navigator.onLine),r(!navigator.onLine);const n=()=>{t(!0),setTimeout(()=>r(!1),3e3)},o=()=>{t(!1),r(!0)};return window.addEventListener("online",n),window.addEventListener("offline",o),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",o)}},[]);const i=()=>{window.location.reload()};return e.jsx(ce,{children:s&&e.jsx(k.div,{initial:{y:-100,opacity:0},animate:{y:0,opacity:1},exit:{y:-100,opacity:0},className:`fixed top-0 left-0 right-0 z-[100] px-4 py-3 ${a?"bg-green-500":"bg-red-500"}`,children:e.jsxs("div",{className:"max-w-4xl mx-auto flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center gap-3",children:a?e.jsxs(e.Fragment,{children:[e.jsx(k.div,{initial:{scale:0},animate:{scale:1},className:"w-6 h-6 bg-white/20 rounded-full flex items-center justify-center",children:""}),e.jsx("span",{className:"font-bold text-sm",children:"Conexo restaurada! "})]}):e.jsxs(e.Fragment,{children:[e.jsx(dn,{className:"w-5 h-5"}),e.jsxs("div",{children:[e.jsx("span",{className:"font-bold text-sm block",children:"Voc est Offline"}),e.jsx("span",{className:"text-xs text-white/80",children:"Modo de Contingncia Ativado. Algumas funes podem no funcionar."})]})]})}),!a&&e.jsxs("button",{onClick:i,className:"flex items-center gap-2 px-3 py-1.5 bg-white/20 hover:bg-white/30 rounded-lg text-sm font-bold transition-colors",children:[e.jsx(Nt,{className:"w-4 h-4"}),"Tentar Novamente"]})]})})})}kl.createRoot(document.getElementById("root")).render(e.jsx(I.StrictMode,{children:e.jsx(Cn,{children:e.jsxs(Wc,{children:[e.jsx(Nm,{}),e.jsx(jm,{})]})})}));
