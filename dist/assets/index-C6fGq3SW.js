(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function gE(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var yE={exports:{}},Rd={},vE={exports:{}},ye={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wl=Symbol.for("react.element"),bA=Symbol.for("react.portal"),IA=Symbol.for("react.fragment"),SA=Symbol.for("react.strict_mode"),CA=Symbol.for("react.profiler"),AA=Symbol.for("react.provider"),RA=Symbol.for("react.context"),kA=Symbol.for("react.forward_ref"),PA=Symbol.for("react.suspense"),NA=Symbol.for("react.memo"),DA=Symbol.for("react.lazy"),$v=Symbol.iterator;function MA(t){return t===null||typeof t!="object"?null:(t=$v&&t[$v]||t["@@iterator"],typeof t=="function"?t:null)}var wE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},xE=Object.assign,_E={};function $o(t,e,n){this.props=t,this.context=e,this.refs=_E,this.updater=n||wE}$o.prototype.isReactComponent={};$o.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};$o.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function EE(){}EE.prototype=$o.prototype;function Am(t,e,n){this.props=t,this.context=e,this.refs=_E,this.updater=n||wE}var Rm=Am.prototype=new EE;Rm.constructor=Am;xE(Rm,$o.prototype);Rm.isPureReactComponent=!0;var Hv=Array.isArray,TE=Object.prototype.hasOwnProperty,km={current:null},bE={key:!0,ref:!0,__self:!0,__source:!0};function IE(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)TE.call(e,r)&&!bE.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Wl,type:t,key:i,ref:o,props:s,_owner:km.current}}function jA(t,e){return{$$typeof:Wl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Pm(t){return typeof t=="object"&&t!==null&&t.$$typeof===Wl}function VA(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Wv=/\/+/g;function Dh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?VA(""+t.key):e.toString(36)}function ru(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Wl:case bA:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Dh(o,0):r,Hv(s)?(n="",t!=null&&(n=t.replace(Wv,"$&/")+"/"),ru(s,e,n,"",function(u){return u})):s!=null&&(Pm(s)&&(s=jA(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Wv,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",Hv(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+Dh(i,a);o+=ru(i,e,n,l,s)}else if(l=MA(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+Dh(i,a++),o+=ru(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Cc(t,e,n){if(t==null)return t;var r=[],s=0;return ru(t,r,"","",function(i){return e.call(n,i,s++)}),r}function OA(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Wt={current:null},su={transition:null},LA={ReactCurrentDispatcher:Wt,ReactCurrentBatchConfig:su,ReactCurrentOwner:km};function SE(){throw Error("act(...) is not supported in production builds of React.")}ye.Children={map:Cc,forEach:function(t,e,n){Cc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Cc(t,function(){e++}),e},toArray:function(t){return Cc(t,function(e){return e})||[]},only:function(t){if(!Pm(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ye.Component=$o;ye.Fragment=IA;ye.Profiler=CA;ye.PureComponent=Am;ye.StrictMode=SA;ye.Suspense=PA;ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=LA;ye.act=SE;ye.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=xE({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=km.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)TE.call(e,l)&&!bE.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Wl,type:t.type,key:s,ref:i,props:r,_owner:o}};ye.createContext=function(t){return t={$$typeof:RA,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:AA,_context:t},t.Consumer=t};ye.createElement=IE;ye.createFactory=function(t){var e=IE.bind(null,t);return e.type=t,e};ye.createRef=function(){return{current:null}};ye.forwardRef=function(t){return{$$typeof:kA,render:t}};ye.isValidElement=Pm;ye.lazy=function(t){return{$$typeof:DA,_payload:{_status:-1,_result:t},_init:OA}};ye.memo=function(t,e){return{$$typeof:NA,type:t,compare:e===void 0?null:e}};ye.startTransition=function(t){var e=su.transition;su.transition={};try{t()}finally{su.transition=e}};ye.unstable_act=SE;ye.useCallback=function(t,e){return Wt.current.useCallback(t,e)};ye.useContext=function(t){return Wt.current.useContext(t)};ye.useDebugValue=function(){};ye.useDeferredValue=function(t){return Wt.current.useDeferredValue(t)};ye.useEffect=function(t,e){return Wt.current.useEffect(t,e)};ye.useId=function(){return Wt.current.useId()};ye.useImperativeHandle=function(t,e,n){return Wt.current.useImperativeHandle(t,e,n)};ye.useInsertionEffect=function(t,e){return Wt.current.useInsertionEffect(t,e)};ye.useLayoutEffect=function(t,e){return Wt.current.useLayoutEffect(t,e)};ye.useMemo=function(t,e){return Wt.current.useMemo(t,e)};ye.useReducer=function(t,e,n){return Wt.current.useReducer(t,e,n)};ye.useRef=function(t){return Wt.current.useRef(t)};ye.useState=function(t){return Wt.current.useState(t)};ye.useSyncExternalStore=function(t,e,n){return Wt.current.useSyncExternalStore(t,e,n)};ye.useTransition=function(){return Wt.current.useTransition()};ye.version="18.3.1";vE.exports=ye;var k=vE.exports;const q=gE(k);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FA=k,UA=Symbol.for("react.element"),BA=Symbol.for("react.fragment"),zA=Object.prototype.hasOwnProperty,$A=FA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,HA={key:!0,ref:!0,__self:!0,__source:!0};function CE(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)zA.call(e,r)&&!HA.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:UA,type:t,key:i,ref:o,props:s,_owner:$A.current}}Rd.Fragment=BA;Rd.jsx=CE;Rd.jsxs=CE;yE.exports=Rd;var d=yE.exports,zf={},AE={exports:{}},mn={},RE={exports:{}},kE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e($,Z){var M=$.length;$.push(Z);e:for(;0<M;){var P=M-1>>>1,H=$[P];if(0<s(H,Z))$[P]=Z,$[M]=H,M=P;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var Z=$[0],M=$.pop();if(M!==Z){$[0]=M;e:for(var P=0,H=$.length,z=H>>>1;P<z;){var G=2*(P+1)-1,Q=$[G],ee=G+1,X=$[ee];if(0>s(Q,M))ee<H&&0>s(X,Q)?($[P]=X,$[ee]=M,P=ee):($[P]=Q,$[G]=M,P=G);else if(ee<H&&0>s(X,M))$[P]=X,$[ee]=M,P=ee;else break e}}return Z}function s($,Z){var M=$.sortIndex-Z.sortIndex;return M!==0?M:$.id-Z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],f=1,h=null,m=3,y=!1,E=!1,A=!1,S=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _($){for(var Z=n(u);Z!==null;){if(Z.callback===null)r(u);else if(Z.startTime<=$)r(u),Z.sortIndex=Z.expirationTime,e(l,Z);else break;Z=n(u)}}function D($){if(A=!1,_($),!E)if(n(l)!==null)E=!0,he(V);else{var Z=n(u);Z!==null&&ce(D,Z.startTime-$)}}function V($,Z){E=!1,A&&(A=!1,v(x),x=-1),y=!0;var M=m;try{for(_(Z),h=n(l);h!==null&&(!(h.expirationTime>Z)||$&&!N());){var P=h.callback;if(typeof P=="function"){h.callback=null,m=h.priorityLevel;var H=P(h.expirationTime<=Z);Z=t.unstable_now(),typeof H=="function"?h.callback=H:h===n(l)&&r(l),_(Z)}else r(l);h=n(l)}if(h!==null)var z=!0;else{var G=n(u);G!==null&&ce(D,G.startTime-Z),z=!1}return z}finally{h=null,m=M,y=!1}}var O=!1,T=null,x=-1,C=5,I=-1;function N(){return!(t.unstable_now()-I<C)}function j(){if(T!==null){var $=t.unstable_now();I=$;var Z=!0;try{Z=T(!0,$)}finally{Z?R():(O=!1,T=null)}}else O=!1}var R;if(typeof w=="function")R=function(){w(j)};else if(typeof MessageChannel<"u"){var pe=new MessageChannel,Re=pe.port2;pe.port1.onmessage=j,R=function(){Re.postMessage(null)}}else R=function(){S(j,0)};function he($){T=$,O||(O=!0,R())}function ce($,Z){x=S(function(){$(t.unstable_now())},Z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){E||y||(E=!0,he(V))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function($){switch(m){case 1:case 2:case 3:var Z=3;break;default:Z=m}var M=m;m=Z;try{return $()}finally{m=M}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,Z){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var M=m;m=$;try{return Z()}finally{m=M}},t.unstable_scheduleCallback=function($,Z,M){var P=t.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?P+M:P):M=P,$){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=M+H,$={id:f++,callback:Z,priorityLevel:$,startTime:M,expirationTime:H,sortIndex:-1},M>P?($.sortIndex=M,e(u,$),n(l)===null&&$===n(u)&&(A?(v(x),x=-1):A=!0,ce(D,M-P))):($.sortIndex=H,e(l,$),E||y||(E=!0,he(V))),$},t.unstable_shouldYield=N,t.unstable_wrapCallback=function($){var Z=m;return function(){var M=m;m=Z;try{return $.apply(this,arguments)}finally{m=M}}}})(kE);RE.exports=kE;var WA=RE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qA=k,fn=WA;function W(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var PE=new Set,ol={};function Ni(t,e){So(t,e),So(t+"Capture",e)}function So(t,e){for(ol[t]=e,t=0;t<e.length;t++)PE.add(e[t])}var Pr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$f=Object.prototype.hasOwnProperty,GA=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,qv={},Gv={};function KA(t){return $f.call(Gv,t)?!0:$f.call(qv,t)?!1:GA.test(t)?Gv[t]=!0:(qv[t]=!0,!1)}function QA(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function YA(t,e,n,r){if(e===null||typeof e>"u"||QA(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function qt(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Ct={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ct[t]=new qt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ct[e]=new qt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ct[t]=new qt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ct[t]=new qt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ct[t]=new qt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ct[t]=new qt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ct[t]=new qt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ct[t]=new qt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ct[t]=new qt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Nm=/[\-:]([a-z])/g;function Dm(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Nm,Dm);Ct[e]=new qt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Nm,Dm);Ct[e]=new qt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Nm,Dm);Ct[e]=new qt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ct[t]=new qt(t,1,!1,t.toLowerCase(),null,!1,!1)});Ct.xlinkHref=new qt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ct[t]=new qt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Mm(t,e,n,r){var s=Ct.hasOwnProperty(e)?Ct[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(YA(e,n,s,r)&&(n=null),r||s===null?KA(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Br=qA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ac=Symbol.for("react.element"),Yi=Symbol.for("react.portal"),Xi=Symbol.for("react.fragment"),jm=Symbol.for("react.strict_mode"),Hf=Symbol.for("react.profiler"),NE=Symbol.for("react.provider"),DE=Symbol.for("react.context"),Vm=Symbol.for("react.forward_ref"),Wf=Symbol.for("react.suspense"),qf=Symbol.for("react.suspense_list"),Om=Symbol.for("react.memo"),rs=Symbol.for("react.lazy"),ME=Symbol.for("react.offscreen"),Kv=Symbol.iterator;function ga(t){return t===null||typeof t!="object"?null:(t=Kv&&t[Kv]||t["@@iterator"],typeof t=="function"?t:null)}var Ke=Object.assign,Mh;function Sa(t){if(Mh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Mh=e&&e[1]||""}return`
`+Mh+t}var jh=!1;function Vh(t,e){if(!t||jh)return"";jh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{jh=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Sa(t):""}function XA(t){switch(t.tag){case 5:return Sa(t.type);case 16:return Sa("Lazy");case 13:return Sa("Suspense");case 19:return Sa("SuspenseList");case 0:case 2:case 15:return t=Vh(t.type,!1),t;case 11:return t=Vh(t.type.render,!1),t;case 1:return t=Vh(t.type,!0),t;default:return""}}function Gf(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Xi:return"Fragment";case Yi:return"Portal";case Hf:return"Profiler";case jm:return"StrictMode";case Wf:return"Suspense";case qf:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case DE:return(t.displayName||"Context")+".Consumer";case NE:return(t._context.displayName||"Context")+".Provider";case Vm:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Om:return e=t.displayName||null,e!==null?e:Gf(t.type)||"Memo";case rs:e=t._payload,t=t._init;try{return Gf(t(e))}catch{}}return null}function JA(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Gf(e);case 8:return e===jm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function As(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function jE(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function ZA(t){var e=jE(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Rc(t){t._valueTracker||(t._valueTracker=ZA(t))}function VE(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=jE(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Nu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Kf(t,e){var n=e.checked;return Ke({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Qv(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=As(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function OE(t,e){e=e.checked,e!=null&&Mm(t,"checked",e,!1)}function Qf(t,e){OE(t,e);var n=As(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Yf(t,e.type,n):e.hasOwnProperty("defaultValue")&&Yf(t,e.type,As(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Yv(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Yf(t,e,n){(e!=="number"||Nu(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ca=Array.isArray;function go(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+As(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Xf(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(W(91));return Ke({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Xv(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(W(92));if(Ca(n)){if(1<n.length)throw Error(W(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:As(n)}}function LE(t,e){var n=As(e.value),r=As(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Jv(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function FE(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Jf(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?FE(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var kc,UE=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(kc=kc||document.createElement("div"),kc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=kc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function al(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Fa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},eR=["Webkit","ms","Moz","O"];Object.keys(Fa).forEach(function(t){eR.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Fa[e]=Fa[t]})});function BE(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Fa.hasOwnProperty(t)&&Fa[t]?(""+e).trim():e+"px"}function zE(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=BE(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var tR=Ke({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Zf(t,e){if(e){if(tR[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(W(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(W(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(W(61))}if(e.style!=null&&typeof e.style!="object")throw Error(W(62))}}function ep(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var tp=null;function Lm(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var np=null,yo=null,vo=null;function Zv(t){if(t=Kl(t)){if(typeof np!="function")throw Error(W(280));var e=t.stateNode;e&&(e=Md(e),np(t.stateNode,t.type,e))}}function $E(t){yo?vo?vo.push(t):vo=[t]:yo=t}function HE(){if(yo){var t=yo,e=vo;if(vo=yo=null,Zv(t),e)for(t=0;t<e.length;t++)Zv(e[t])}}function WE(t,e){return t(e)}function qE(){}var Oh=!1;function GE(t,e,n){if(Oh)return t(e,n);Oh=!0;try{return WE(t,e,n)}finally{Oh=!1,(yo!==null||vo!==null)&&(qE(),HE())}}function ll(t,e){var n=t.stateNode;if(n===null)return null;var r=Md(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(W(231,e,typeof n));return n}var rp=!1;if(Pr)try{var ya={};Object.defineProperty(ya,"passive",{get:function(){rp=!0}}),window.addEventListener("test",ya,ya),window.removeEventListener("test",ya,ya)}catch{rp=!1}function nR(t,e,n,r,s,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(f){this.onError(f)}}var Ua=!1,Du=null,Mu=!1,sp=null,rR={onError:function(t){Ua=!0,Du=t}};function sR(t,e,n,r,s,i,o,a,l){Ua=!1,Du=null,nR.apply(rR,arguments)}function iR(t,e,n,r,s,i,o,a,l){if(sR.apply(this,arguments),Ua){if(Ua){var u=Du;Ua=!1,Du=null}else throw Error(W(198));Mu||(Mu=!0,sp=u)}}function Di(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function KE(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function e0(t){if(Di(t)!==t)throw Error(W(188))}function oR(t){var e=t.alternate;if(!e){if(e=Di(t),e===null)throw Error(W(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return e0(s),t;if(i===r)return e0(s),e;i=i.sibling}throw Error(W(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(W(189))}}if(n.alternate!==r)throw Error(W(190))}if(n.tag!==3)throw Error(W(188));return n.stateNode.current===n?t:e}function QE(t){return t=oR(t),t!==null?YE(t):null}function YE(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=YE(t);if(e!==null)return e;t=t.sibling}return null}var XE=fn.unstable_scheduleCallback,t0=fn.unstable_cancelCallback,aR=fn.unstable_shouldYield,lR=fn.unstable_requestPaint,nt=fn.unstable_now,cR=fn.unstable_getCurrentPriorityLevel,Fm=fn.unstable_ImmediatePriority,JE=fn.unstable_UserBlockingPriority,ju=fn.unstable_NormalPriority,uR=fn.unstable_LowPriority,ZE=fn.unstable_IdlePriority,kd=null,tr=null;function dR(t){if(tr&&typeof tr.onCommitFiberRoot=="function")try{tr.onCommitFiberRoot(kd,t,void 0,(t.current.flags&128)===128)}catch{}}var Bn=Math.clz32?Math.clz32:pR,hR=Math.log,fR=Math.LN2;function pR(t){return t>>>=0,t===0?32:31-(hR(t)/fR|0)|0}var Pc=64,Nc=4194304;function Aa(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Vu(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Aa(a):(i&=o,i!==0&&(r=Aa(i)))}else o=n&~s,o!==0?r=Aa(o):i!==0&&(r=Aa(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Bn(e),s=1<<n,r|=t[n],e&=~s;return r}function mR(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gR(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Bn(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=mR(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function ip(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function e1(){var t=Pc;return Pc<<=1,!(Pc&4194240)&&(Pc=64),t}function Lh(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ql(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Bn(e),t[e]=n}function yR(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Bn(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Um(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Bn(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var ke=0;function t1(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var n1,Bm,r1,s1,i1,op=!1,Dc=[],ps=null,ms=null,gs=null,cl=new Map,ul=new Map,os=[],vR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function n0(t,e){switch(t){case"focusin":case"focusout":ps=null;break;case"dragenter":case"dragleave":ms=null;break;case"mouseover":case"mouseout":gs=null;break;case"pointerover":case"pointerout":cl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ul.delete(e.pointerId)}}function va(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Kl(e),e!==null&&Bm(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function wR(t,e,n,r,s){switch(e){case"focusin":return ps=va(ps,t,e,n,r,s),!0;case"dragenter":return ms=va(ms,t,e,n,r,s),!0;case"mouseover":return gs=va(gs,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return cl.set(i,va(cl.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,ul.set(i,va(ul.get(i)||null,t,e,n,r,s)),!0}return!1}function o1(t){var e=li(t.target);if(e!==null){var n=Di(e);if(n!==null){if(e=n.tag,e===13){if(e=KE(n),e!==null){t.blockedOn=e,i1(t.priority,function(){r1(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function iu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=ap(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);tp=r,n.target.dispatchEvent(r),tp=null}else return e=Kl(n),e!==null&&Bm(e),t.blockedOn=n,!1;e.shift()}return!0}function r0(t,e,n){iu(t)&&n.delete(e)}function xR(){op=!1,ps!==null&&iu(ps)&&(ps=null),ms!==null&&iu(ms)&&(ms=null),gs!==null&&iu(gs)&&(gs=null),cl.forEach(r0),ul.forEach(r0)}function wa(t,e){t.blockedOn===e&&(t.blockedOn=null,op||(op=!0,fn.unstable_scheduleCallback(fn.unstable_NormalPriority,xR)))}function dl(t){function e(s){return wa(s,t)}if(0<Dc.length){wa(Dc[0],t);for(var n=1;n<Dc.length;n++){var r=Dc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ps!==null&&wa(ps,t),ms!==null&&wa(ms,t),gs!==null&&wa(gs,t),cl.forEach(e),ul.forEach(e),n=0;n<os.length;n++)r=os[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<os.length&&(n=os[0],n.blockedOn===null);)o1(n),n.blockedOn===null&&os.shift()}var wo=Br.ReactCurrentBatchConfig,Ou=!0;function _R(t,e,n,r){var s=ke,i=wo.transition;wo.transition=null;try{ke=1,zm(t,e,n,r)}finally{ke=s,wo.transition=i}}function ER(t,e,n,r){var s=ke,i=wo.transition;wo.transition=null;try{ke=4,zm(t,e,n,r)}finally{ke=s,wo.transition=i}}function zm(t,e,n,r){if(Ou){var s=ap(t,e,n,r);if(s===null)Kh(t,e,r,Lu,n),n0(t,r);else if(wR(s,t,e,n,r))r.stopPropagation();else if(n0(t,r),e&4&&-1<vR.indexOf(t)){for(;s!==null;){var i=Kl(s);if(i!==null&&n1(i),i=ap(t,e,n,r),i===null&&Kh(t,e,r,Lu,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Kh(t,e,r,null,n)}}var Lu=null;function ap(t,e,n,r){if(Lu=null,t=Lm(r),t=li(t),t!==null)if(e=Di(t),e===null)t=null;else if(n=e.tag,n===13){if(t=KE(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Lu=t,null}function a1(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(cR()){case Fm:return 1;case JE:return 4;case ju:case uR:return 16;case ZE:return 536870912;default:return 16}default:return 16}}var ds=null,$m=null,ou=null;function l1(){if(ou)return ou;var t,e=$m,n=e.length,r,s="value"in ds?ds.value:ds.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return ou=s.slice(t,1<r?1-r:void 0)}function au(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Mc(){return!0}function s0(){return!1}function gn(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Mc:s0,this.isPropagationStopped=s0,this}return Ke(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Mc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Mc)},persist:function(){},isPersistent:Mc}),e}var Ho={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hm=gn(Ho),Gl=Ke({},Ho,{view:0,detail:0}),TR=gn(Gl),Fh,Uh,xa,Pd=Ke({},Gl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wm,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==xa&&(xa&&t.type==="mousemove"?(Fh=t.screenX-xa.screenX,Uh=t.screenY-xa.screenY):Uh=Fh=0,xa=t),Fh)},movementY:function(t){return"movementY"in t?t.movementY:Uh}}),i0=gn(Pd),bR=Ke({},Pd,{dataTransfer:0}),IR=gn(bR),SR=Ke({},Gl,{relatedTarget:0}),Bh=gn(SR),CR=Ke({},Ho,{animationName:0,elapsedTime:0,pseudoElement:0}),AR=gn(CR),RR=Ke({},Ho,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),kR=gn(RR),PR=Ke({},Ho,{data:0}),o0=gn(PR),NR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},DR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},MR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jR(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=MR[t])?!!e[t]:!1}function Wm(){return jR}var VR=Ke({},Gl,{key:function(t){if(t.key){var e=NR[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=au(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?DR[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wm,charCode:function(t){return t.type==="keypress"?au(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?au(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),OR=gn(VR),LR=Ke({},Pd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),a0=gn(LR),FR=Ke({},Gl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wm}),UR=gn(FR),BR=Ke({},Ho,{propertyName:0,elapsedTime:0,pseudoElement:0}),zR=gn(BR),$R=Ke({},Pd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),HR=gn($R),WR=[9,13,27,32],qm=Pr&&"CompositionEvent"in window,Ba=null;Pr&&"documentMode"in document&&(Ba=document.documentMode);var qR=Pr&&"TextEvent"in window&&!Ba,c1=Pr&&(!qm||Ba&&8<Ba&&11>=Ba),l0=" ",c0=!1;function u1(t,e){switch(t){case"keyup":return WR.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function d1(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ji=!1;function GR(t,e){switch(t){case"compositionend":return d1(e);case"keypress":return e.which!==32?null:(c0=!0,l0);case"textInput":return t=e.data,t===l0&&c0?null:t;default:return null}}function KR(t,e){if(Ji)return t==="compositionend"||!qm&&u1(t,e)?(t=l1(),ou=$m=ds=null,Ji=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return c1&&e.locale!=="ko"?null:e.data;default:return null}}var QR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function u0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!QR[t.type]:e==="textarea"}function h1(t,e,n,r){$E(r),e=Fu(e,"onChange"),0<e.length&&(n=new Hm("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var za=null,hl=null;function YR(t){T1(t,0)}function Nd(t){var e=to(t);if(VE(e))return t}function XR(t,e){if(t==="change")return e}var f1=!1;if(Pr){var zh;if(Pr){var $h="oninput"in document;if(!$h){var d0=document.createElement("div");d0.setAttribute("oninput","return;"),$h=typeof d0.oninput=="function"}zh=$h}else zh=!1;f1=zh&&(!document.documentMode||9<document.documentMode)}function h0(){za&&(za.detachEvent("onpropertychange",p1),hl=za=null)}function p1(t){if(t.propertyName==="value"&&Nd(hl)){var e=[];h1(e,hl,t,Lm(t)),GE(YR,e)}}function JR(t,e,n){t==="focusin"?(h0(),za=e,hl=n,za.attachEvent("onpropertychange",p1)):t==="focusout"&&h0()}function ZR(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Nd(hl)}function ek(t,e){if(t==="click")return Nd(e)}function tk(t,e){if(t==="input"||t==="change")return Nd(e)}function nk(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Hn=typeof Object.is=="function"?Object.is:nk;function fl(t,e){if(Hn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!$f.call(e,s)||!Hn(t[s],e[s]))return!1}return!0}function f0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function p0(t,e){var n=f0(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=f0(n)}}function m1(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?m1(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function g1(){for(var t=window,e=Nu();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Nu(t.document)}return e}function Gm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function rk(t){var e=g1(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&m1(n.ownerDocument.documentElement,n)){if(r!==null&&Gm(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=p0(n,i);var o=p0(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var sk=Pr&&"documentMode"in document&&11>=document.documentMode,Zi=null,lp=null,$a=null,cp=!1;function m0(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;cp||Zi==null||Zi!==Nu(r)||(r=Zi,"selectionStart"in r&&Gm(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),$a&&fl($a,r)||($a=r,r=Fu(lp,"onSelect"),0<r.length&&(e=new Hm("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Zi)))}function jc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var eo={animationend:jc("Animation","AnimationEnd"),animationiteration:jc("Animation","AnimationIteration"),animationstart:jc("Animation","AnimationStart"),transitionend:jc("Transition","TransitionEnd")},Hh={},y1={};Pr&&(y1=document.createElement("div").style,"AnimationEvent"in window||(delete eo.animationend.animation,delete eo.animationiteration.animation,delete eo.animationstart.animation),"TransitionEvent"in window||delete eo.transitionend.transition);function Dd(t){if(Hh[t])return Hh[t];if(!eo[t])return t;var e=eo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in y1)return Hh[t]=e[n];return t}var v1=Dd("animationend"),w1=Dd("animationiteration"),x1=Dd("animationstart"),_1=Dd("transitionend"),E1=new Map,g0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ls(t,e){E1.set(t,e),Ni(e,[t])}for(var Wh=0;Wh<g0.length;Wh++){var qh=g0[Wh],ik=qh.toLowerCase(),ok=qh[0].toUpperCase()+qh.slice(1);Ls(ik,"on"+ok)}Ls(v1,"onAnimationEnd");Ls(w1,"onAnimationIteration");Ls(x1,"onAnimationStart");Ls("dblclick","onDoubleClick");Ls("focusin","onFocus");Ls("focusout","onBlur");Ls(_1,"onTransitionEnd");So("onMouseEnter",["mouseout","mouseover"]);So("onMouseLeave",["mouseout","mouseover"]);So("onPointerEnter",["pointerout","pointerover"]);So("onPointerLeave",["pointerout","pointerover"]);Ni("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ni("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ni("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ni("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ni("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ni("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ra="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ak=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ra));function y0(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,iR(r,e,void 0,t),t.currentTarget=null}function T1(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;y0(s,a,u),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;y0(s,a,u),i=l}}}if(Mu)throw t=sp,Mu=!1,sp=null,t}function Ve(t,e){var n=e[pp];n===void 0&&(n=e[pp]=new Set);var r=t+"__bubble";n.has(r)||(b1(e,t,2,!1),n.add(r))}function Gh(t,e,n){var r=0;e&&(r|=4),b1(n,t,r,e)}var Vc="_reactListening"+Math.random().toString(36).slice(2);function pl(t){if(!t[Vc]){t[Vc]=!0,PE.forEach(function(n){n!=="selectionchange"&&(ak.has(n)||Gh(n,!1,t),Gh(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Vc]||(e[Vc]=!0,Gh("selectionchange",!1,e))}}function b1(t,e,n,r){switch(a1(e)){case 1:var s=_R;break;case 4:s=ER;break;default:s=zm}n=s.bind(null,e,n,t),s=void 0,!rp||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Kh(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=li(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}GE(function(){var u=i,f=Lm(n),h=[];e:{var m=E1.get(t);if(m!==void 0){var y=Hm,E=t;switch(t){case"keypress":if(au(n)===0)break e;case"keydown":case"keyup":y=OR;break;case"focusin":E="focus",y=Bh;break;case"focusout":E="blur",y=Bh;break;case"beforeblur":case"afterblur":y=Bh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=i0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=IR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=UR;break;case v1:case w1:case x1:y=AR;break;case _1:y=zR;break;case"scroll":y=TR;break;case"wheel":y=HR;break;case"copy":case"cut":case"paste":y=kR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=a0}var A=(e&4)!==0,S=!A&&t==="scroll",v=A?m!==null?m+"Capture":null:m;A=[];for(var w=u,_;w!==null;){_=w;var D=_.stateNode;if(_.tag===5&&D!==null&&(_=D,v!==null&&(D=ll(w,v),D!=null&&A.push(ml(w,D,_)))),S)break;w=w.return}0<A.length&&(m=new y(m,E,null,n,f),h.push({event:m,listeners:A}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",m&&n!==tp&&(E=n.relatedTarget||n.fromElement)&&(li(E)||E[Nr]))break e;if((y||m)&&(m=f.window===f?f:(m=f.ownerDocument)?m.defaultView||m.parentWindow:window,y?(E=n.relatedTarget||n.toElement,y=u,E=E?li(E):null,E!==null&&(S=Di(E),E!==S||E.tag!==5&&E.tag!==6)&&(E=null)):(y=null,E=u),y!==E)){if(A=i0,D="onMouseLeave",v="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(A=a0,D="onPointerLeave",v="onPointerEnter",w="pointer"),S=y==null?m:to(y),_=E==null?m:to(E),m=new A(D,w+"leave",y,n,f),m.target=S,m.relatedTarget=_,D=null,li(f)===u&&(A=new A(v,w+"enter",E,n,f),A.target=_,A.relatedTarget=S,D=A),S=D,y&&E)t:{for(A=y,v=E,w=0,_=A;_;_=$i(_))w++;for(_=0,D=v;D;D=$i(D))_++;for(;0<w-_;)A=$i(A),w--;for(;0<_-w;)v=$i(v),_--;for(;w--;){if(A===v||v!==null&&A===v.alternate)break t;A=$i(A),v=$i(v)}A=null}else A=null;y!==null&&v0(h,m,y,A,!1),E!==null&&S!==null&&v0(h,S,E,A,!0)}}e:{if(m=u?to(u):window,y=m.nodeName&&m.nodeName.toLowerCase(),y==="select"||y==="input"&&m.type==="file")var V=XR;else if(u0(m))if(f1)V=tk;else{V=ZR;var O=JR}else(y=m.nodeName)&&y.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(V=ek);if(V&&(V=V(t,u))){h1(h,V,n,f);break e}O&&O(t,m,u),t==="focusout"&&(O=m._wrapperState)&&O.controlled&&m.type==="number"&&Yf(m,"number",m.value)}switch(O=u?to(u):window,t){case"focusin":(u0(O)||O.contentEditable==="true")&&(Zi=O,lp=u,$a=null);break;case"focusout":$a=lp=Zi=null;break;case"mousedown":cp=!0;break;case"contextmenu":case"mouseup":case"dragend":cp=!1,m0(h,n,f);break;case"selectionchange":if(sk)break;case"keydown":case"keyup":m0(h,n,f)}var T;if(qm)e:{switch(t){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else Ji?u1(t,n)&&(x="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(x="onCompositionStart");x&&(c1&&n.locale!=="ko"&&(Ji||x!=="onCompositionStart"?x==="onCompositionEnd"&&Ji&&(T=l1()):(ds=f,$m="value"in ds?ds.value:ds.textContent,Ji=!0)),O=Fu(u,x),0<O.length&&(x=new o0(x,t,null,n,f),h.push({event:x,listeners:O}),T?x.data=T:(T=d1(n),T!==null&&(x.data=T)))),(T=qR?GR(t,n):KR(t,n))&&(u=Fu(u,"onBeforeInput"),0<u.length&&(f=new o0("onBeforeInput","beforeinput",null,n,f),h.push({event:f,listeners:u}),f.data=T))}T1(h,e)})}function ml(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Fu(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=ll(t,n),i!=null&&r.unshift(ml(t,i,s)),i=ll(t,e),i!=null&&r.push(ml(t,i,s))),t=t.return}return r}function $i(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function v0(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,s?(l=ll(n,i),l!=null&&o.unshift(ml(n,l,a))):s||(l=ll(n,i),l!=null&&o.push(ml(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var lk=/\r\n?/g,ck=/\u0000|\uFFFD/g;function w0(t){return(typeof t=="string"?t:""+t).replace(lk,`
`).replace(ck,"")}function Oc(t,e,n){if(e=w0(e),w0(t)!==e&&n)throw Error(W(425))}function Uu(){}var up=null,dp=null;function hp(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var fp=typeof setTimeout=="function"?setTimeout:void 0,uk=typeof clearTimeout=="function"?clearTimeout:void 0,x0=typeof Promise=="function"?Promise:void 0,dk=typeof queueMicrotask=="function"?queueMicrotask:typeof x0<"u"?function(t){return x0.resolve(null).then(t).catch(hk)}:fp;function hk(t){setTimeout(function(){throw t})}function Qh(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),dl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);dl(e)}function ys(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function _0(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Wo=Math.random().toString(36).slice(2),Zn="__reactFiber$"+Wo,gl="__reactProps$"+Wo,Nr="__reactContainer$"+Wo,pp="__reactEvents$"+Wo,fk="__reactListeners$"+Wo,pk="__reactHandles$"+Wo;function li(t){var e=t[Zn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Nr]||n[Zn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=_0(t);t!==null;){if(n=t[Zn])return n;t=_0(t)}return e}t=n,n=t.parentNode}return null}function Kl(t){return t=t[Zn]||t[Nr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function to(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(W(33))}function Md(t){return t[gl]||null}var mp=[],no=-1;function Fs(t){return{current:t}}function Le(t){0>no||(t.current=mp[no],mp[no]=null,no--)}function Me(t,e){no++,mp[no]=t.current,t.current=e}var Rs={},Lt=Fs(Rs),tn=Fs(!1),wi=Rs;function Co(t,e){var n=t.type.contextTypes;if(!n)return Rs;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function nn(t){return t=t.childContextTypes,t!=null}function Bu(){Le(tn),Le(Lt)}function E0(t,e,n){if(Lt.current!==Rs)throw Error(W(168));Me(Lt,e),Me(tn,n)}function I1(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(W(108,JA(t)||"Unknown",s));return Ke({},n,r)}function zu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Rs,wi=Lt.current,Me(Lt,t),Me(tn,tn.current),!0}function T0(t,e,n){var r=t.stateNode;if(!r)throw Error(W(169));n?(t=I1(t,e,wi),r.__reactInternalMemoizedMergedChildContext=t,Le(tn),Le(Lt),Me(Lt,t)):Le(tn),Me(tn,n)}var xr=null,jd=!1,Yh=!1;function S1(t){xr===null?xr=[t]:xr.push(t)}function mk(t){jd=!0,S1(t)}function Us(){if(!Yh&&xr!==null){Yh=!0;var t=0,e=ke;try{var n=xr;for(ke=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}xr=null,jd=!1}catch(s){throw xr!==null&&(xr=xr.slice(t+1)),XE(Fm,Us),s}finally{ke=e,Yh=!1}}return null}var ro=[],so=0,$u=null,Hu=0,xn=[],_n=0,xi=null,Er=1,Tr="";function ti(t,e){ro[so++]=Hu,ro[so++]=$u,$u=t,Hu=e}function C1(t,e,n){xn[_n++]=Er,xn[_n++]=Tr,xn[_n++]=xi,xi=t;var r=Er;t=Tr;var s=32-Bn(r)-1;r&=~(1<<s),n+=1;var i=32-Bn(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Er=1<<32-Bn(e)+s|n<<s|r,Tr=i+t}else Er=1<<i|n<<s|r,Tr=t}function Km(t){t.return!==null&&(ti(t,1),C1(t,1,0))}function Qm(t){for(;t===$u;)$u=ro[--so],ro[so]=null,Hu=ro[--so],ro[so]=null;for(;t===xi;)xi=xn[--_n],xn[_n]=null,Tr=xn[--_n],xn[_n]=null,Er=xn[--_n],xn[_n]=null}var dn=null,cn=null,Be=!1,Ln=null;function A1(t,e){var n=Tn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function b0(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,dn=t,cn=ys(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,dn=t,cn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=xi!==null?{id:Er,overflow:Tr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Tn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,dn=t,cn=null,!0):!1;default:return!1}}function gp(t){return(t.mode&1)!==0&&(t.flags&128)===0}function yp(t){if(Be){var e=cn;if(e){var n=e;if(!b0(t,e)){if(gp(t))throw Error(W(418));e=ys(n.nextSibling);var r=dn;e&&b0(t,e)?A1(r,n):(t.flags=t.flags&-4097|2,Be=!1,dn=t)}}else{if(gp(t))throw Error(W(418));t.flags=t.flags&-4097|2,Be=!1,dn=t}}}function I0(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;dn=t}function Lc(t){if(t!==dn)return!1;if(!Be)return I0(t),Be=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!hp(t.type,t.memoizedProps)),e&&(e=cn)){if(gp(t))throw R1(),Error(W(418));for(;e;)A1(t,e),e=ys(e.nextSibling)}if(I0(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(W(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){cn=ys(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}cn=null}}else cn=dn?ys(t.stateNode.nextSibling):null;return!0}function R1(){for(var t=cn;t;)t=ys(t.nextSibling)}function Ao(){cn=dn=null,Be=!1}function Ym(t){Ln===null?Ln=[t]:Ln.push(t)}var gk=Br.ReactCurrentBatchConfig;function _a(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(W(309));var r=n.stateNode}if(!r)throw Error(W(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(W(284));if(!n._owner)throw Error(W(290,t))}return t}function Fc(t,e){throw t=Object.prototype.toString.call(e),Error(W(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function S0(t){var e=t._init;return e(t._payload)}function k1(t){function e(v,w){if(t){var _=v.deletions;_===null?(v.deletions=[w],v.flags|=16):_.push(w)}}function n(v,w){if(!t)return null;for(;w!==null;)e(v,w),w=w.sibling;return null}function r(v,w){for(v=new Map;w!==null;)w.key!==null?v.set(w.key,w):v.set(w.index,w),w=w.sibling;return v}function s(v,w){return v=_s(v,w),v.index=0,v.sibling=null,v}function i(v,w,_){return v.index=_,t?(_=v.alternate,_!==null?(_=_.index,_<w?(v.flags|=2,w):_):(v.flags|=2,w)):(v.flags|=1048576,w)}function o(v){return t&&v.alternate===null&&(v.flags|=2),v}function a(v,w,_,D){return w===null||w.tag!==6?(w=rf(_,v.mode,D),w.return=v,w):(w=s(w,_),w.return=v,w)}function l(v,w,_,D){var V=_.type;return V===Xi?f(v,w,_.props.children,D,_.key):w!==null&&(w.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===rs&&S0(V)===w.type)?(D=s(w,_.props),D.ref=_a(v,w,_),D.return=v,D):(D=pu(_.type,_.key,_.props,null,v.mode,D),D.ref=_a(v,w,_),D.return=v,D)}function u(v,w,_,D){return w===null||w.tag!==4||w.stateNode.containerInfo!==_.containerInfo||w.stateNode.implementation!==_.implementation?(w=sf(_,v.mode,D),w.return=v,w):(w=s(w,_.children||[]),w.return=v,w)}function f(v,w,_,D,V){return w===null||w.tag!==7?(w=mi(_,v.mode,D,V),w.return=v,w):(w=s(w,_),w.return=v,w)}function h(v,w,_){if(typeof w=="string"&&w!==""||typeof w=="number")return w=rf(""+w,v.mode,_),w.return=v,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Ac:return _=pu(w.type,w.key,w.props,null,v.mode,_),_.ref=_a(v,null,w),_.return=v,_;case Yi:return w=sf(w,v.mode,_),w.return=v,w;case rs:var D=w._init;return h(v,D(w._payload),_)}if(Ca(w)||ga(w))return w=mi(w,v.mode,_,null),w.return=v,w;Fc(v,w)}return null}function m(v,w,_,D){var V=w!==null?w.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return V!==null?null:a(v,w,""+_,D);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Ac:return _.key===V?l(v,w,_,D):null;case Yi:return _.key===V?u(v,w,_,D):null;case rs:return V=_._init,m(v,w,V(_._payload),D)}if(Ca(_)||ga(_))return V!==null?null:f(v,w,_,D,null);Fc(v,_)}return null}function y(v,w,_,D,V){if(typeof D=="string"&&D!==""||typeof D=="number")return v=v.get(_)||null,a(w,v,""+D,V);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case Ac:return v=v.get(D.key===null?_:D.key)||null,l(w,v,D,V);case Yi:return v=v.get(D.key===null?_:D.key)||null,u(w,v,D,V);case rs:var O=D._init;return y(v,w,_,O(D._payload),V)}if(Ca(D)||ga(D))return v=v.get(_)||null,f(w,v,D,V,null);Fc(w,D)}return null}function E(v,w,_,D){for(var V=null,O=null,T=w,x=w=0,C=null;T!==null&&x<_.length;x++){T.index>x?(C=T,T=null):C=T.sibling;var I=m(v,T,_[x],D);if(I===null){T===null&&(T=C);break}t&&T&&I.alternate===null&&e(v,T),w=i(I,w,x),O===null?V=I:O.sibling=I,O=I,T=C}if(x===_.length)return n(v,T),Be&&ti(v,x),V;if(T===null){for(;x<_.length;x++)T=h(v,_[x],D),T!==null&&(w=i(T,w,x),O===null?V=T:O.sibling=T,O=T);return Be&&ti(v,x),V}for(T=r(v,T);x<_.length;x++)C=y(T,v,x,_[x],D),C!==null&&(t&&C.alternate!==null&&T.delete(C.key===null?x:C.key),w=i(C,w,x),O===null?V=C:O.sibling=C,O=C);return t&&T.forEach(function(N){return e(v,N)}),Be&&ti(v,x),V}function A(v,w,_,D){var V=ga(_);if(typeof V!="function")throw Error(W(150));if(_=V.call(_),_==null)throw Error(W(151));for(var O=V=null,T=w,x=w=0,C=null,I=_.next();T!==null&&!I.done;x++,I=_.next()){T.index>x?(C=T,T=null):C=T.sibling;var N=m(v,T,I.value,D);if(N===null){T===null&&(T=C);break}t&&T&&N.alternate===null&&e(v,T),w=i(N,w,x),O===null?V=N:O.sibling=N,O=N,T=C}if(I.done)return n(v,T),Be&&ti(v,x),V;if(T===null){for(;!I.done;x++,I=_.next())I=h(v,I.value,D),I!==null&&(w=i(I,w,x),O===null?V=I:O.sibling=I,O=I);return Be&&ti(v,x),V}for(T=r(v,T);!I.done;x++,I=_.next())I=y(T,v,x,I.value,D),I!==null&&(t&&I.alternate!==null&&T.delete(I.key===null?x:I.key),w=i(I,w,x),O===null?V=I:O.sibling=I,O=I);return t&&T.forEach(function(j){return e(v,j)}),Be&&ti(v,x),V}function S(v,w,_,D){if(typeof _=="object"&&_!==null&&_.type===Xi&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case Ac:e:{for(var V=_.key,O=w;O!==null;){if(O.key===V){if(V=_.type,V===Xi){if(O.tag===7){n(v,O.sibling),w=s(O,_.props.children),w.return=v,v=w;break e}}else if(O.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===rs&&S0(V)===O.type){n(v,O.sibling),w=s(O,_.props),w.ref=_a(v,O,_),w.return=v,v=w;break e}n(v,O);break}else e(v,O);O=O.sibling}_.type===Xi?(w=mi(_.props.children,v.mode,D,_.key),w.return=v,v=w):(D=pu(_.type,_.key,_.props,null,v.mode,D),D.ref=_a(v,w,_),D.return=v,v=D)}return o(v);case Yi:e:{for(O=_.key;w!==null;){if(w.key===O)if(w.tag===4&&w.stateNode.containerInfo===_.containerInfo&&w.stateNode.implementation===_.implementation){n(v,w.sibling),w=s(w,_.children||[]),w.return=v,v=w;break e}else{n(v,w);break}else e(v,w);w=w.sibling}w=sf(_,v.mode,D),w.return=v,v=w}return o(v);case rs:return O=_._init,S(v,w,O(_._payload),D)}if(Ca(_))return E(v,w,_,D);if(ga(_))return A(v,w,_,D);Fc(v,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,w!==null&&w.tag===6?(n(v,w.sibling),w=s(w,_),w.return=v,v=w):(n(v,w),w=rf(_,v.mode,D),w.return=v,v=w),o(v)):n(v,w)}return S}var Ro=k1(!0),P1=k1(!1),Wu=Fs(null),qu=null,io=null,Xm=null;function Jm(){Xm=io=qu=null}function Zm(t){var e=Wu.current;Le(Wu),t._currentValue=e}function vp(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function xo(t,e){qu=t,Xm=io=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(en=!0),t.firstContext=null)}function In(t){var e=t._currentValue;if(Xm!==t)if(t={context:t,memoizedValue:e,next:null},io===null){if(qu===null)throw Error(W(308));io=t,qu.dependencies={lanes:0,firstContext:t}}else io=io.next=t;return e}var ci=null;function eg(t){ci===null?ci=[t]:ci.push(t)}function N1(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,eg(e)):(n.next=s.next,s.next=n),e.interleaved=n,Dr(t,r)}function Dr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ss=!1;function tg(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function D1(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Sr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function vs(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Se&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Dr(t,n)}return s=r.interleaved,s===null?(e.next=e,eg(r)):(e.next=s.next,s.next=e),r.interleaved=e,Dr(t,n)}function lu(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Um(t,n)}}function C0(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Gu(t,e,n,r){var s=t.updateQueue;ss=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var f=t.alternate;f!==null&&(f=f.updateQueue,a=f.lastBaseUpdate,a!==o&&(a===null?f.firstBaseUpdate=u:a.next=u,f.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;o=0,f=u=l=null,a=i;do{var m=a.lane,y=a.eventTime;if((r&m)===m){f!==null&&(f=f.next={eventTime:y,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var E=t,A=a;switch(m=e,y=n,A.tag){case 1:if(E=A.payload,typeof E=="function"){h=E.call(y,h,m);break e}h=E;break e;case 3:E.flags=E.flags&-65537|128;case 0:if(E=A.payload,m=typeof E=="function"?E.call(y,h,m):E,m==null)break e;h=Ke({},h,m);break e;case 2:ss=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,m=s.effects,m===null?s.effects=[a]:m.push(a))}else y={eventTime:y,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},f===null?(u=f=y,l=h):f=f.next=y,o|=m;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;m=a,a=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(f===null&&(l=h),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=f,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Ei|=o,t.lanes=o,t.memoizedState=h}}function A0(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(W(191,s));s.call(r)}}}var Ql={},nr=Fs(Ql),yl=Fs(Ql),vl=Fs(Ql);function ui(t){if(t===Ql)throw Error(W(174));return t}function ng(t,e){switch(Me(vl,e),Me(yl,t),Me(nr,Ql),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Jf(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Jf(e,t)}Le(nr),Me(nr,e)}function ko(){Le(nr),Le(yl),Le(vl)}function M1(t){ui(vl.current);var e=ui(nr.current),n=Jf(e,t.type);e!==n&&(Me(yl,t),Me(nr,n))}function rg(t){yl.current===t&&(Le(nr),Le(yl))}var He=Fs(0);function Ku(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Xh=[];function sg(){for(var t=0;t<Xh.length;t++)Xh[t]._workInProgressVersionPrimary=null;Xh.length=0}var cu=Br.ReactCurrentDispatcher,Jh=Br.ReactCurrentBatchConfig,_i=0,Ge=null,lt=null,vt=null,Qu=!1,Ha=!1,wl=0,yk=0;function Rt(){throw Error(W(321))}function ig(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Hn(t[n],e[n]))return!1;return!0}function og(t,e,n,r,s,i){if(_i=i,Ge=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,cu.current=t===null||t.memoizedState===null?_k:Ek,t=n(r,s),Ha){i=0;do{if(Ha=!1,wl=0,25<=i)throw Error(W(301));i+=1,vt=lt=null,e.updateQueue=null,cu.current=Tk,t=n(r,s)}while(Ha)}if(cu.current=Yu,e=lt!==null&&lt.next!==null,_i=0,vt=lt=Ge=null,Qu=!1,e)throw Error(W(300));return t}function ag(){var t=wl!==0;return wl=0,t}function Xn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vt===null?Ge.memoizedState=vt=t:vt=vt.next=t,vt}function Sn(){if(lt===null){var t=Ge.alternate;t=t!==null?t.memoizedState:null}else t=lt.next;var e=vt===null?Ge.memoizedState:vt.next;if(e!==null)vt=e,lt=t;else{if(t===null)throw Error(W(310));lt=t,t={memoizedState:lt.memoizedState,baseState:lt.baseState,baseQueue:lt.baseQueue,queue:lt.queue,next:null},vt===null?Ge.memoizedState=vt=t:vt=vt.next=t}return vt}function xl(t,e){return typeof e=="function"?e(t):e}function Zh(t){var e=Sn(),n=e.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=t;var r=lt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,u=i;do{var f=u.lane;if((_i&f)===f)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,Ge.lanes|=f,Ei|=f}u=u.next}while(u!==null&&u!==i);l===null?o=r:l.next=a,Hn(r,e.memoizedState)||(en=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Ge.lanes|=i,Ei|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function ef(t){var e=Sn(),n=e.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Hn(i,e.memoizedState)||(en=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function j1(){}function V1(t,e){var n=Ge,r=Sn(),s=e(),i=!Hn(r.memoizedState,s);if(i&&(r.memoizedState=s,en=!0),r=r.queue,lg(F1.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||vt!==null&&vt.memoizedState.tag&1){if(n.flags|=2048,_l(9,L1.bind(null,n,r,s,e),void 0,null),wt===null)throw Error(W(349));_i&30||O1(n,e,s)}return s}function O1(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ge.updateQueue,e===null?(e={lastEffect:null,stores:null},Ge.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function L1(t,e,n,r){e.value=n,e.getSnapshot=r,U1(e)&&B1(t)}function F1(t,e,n){return n(function(){U1(e)&&B1(t)})}function U1(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Hn(t,n)}catch{return!0}}function B1(t){var e=Dr(t,1);e!==null&&zn(e,t,1,-1)}function R0(t){var e=Xn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xl,lastRenderedState:t},e.queue=t,t=t.dispatch=xk.bind(null,Ge,t),[e.memoizedState,t]}function _l(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ge.updateQueue,e===null?(e={lastEffect:null,stores:null},Ge.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function z1(){return Sn().memoizedState}function uu(t,e,n,r){var s=Xn();Ge.flags|=t,s.memoizedState=_l(1|e,n,void 0,r===void 0?null:r)}function Vd(t,e,n,r){var s=Sn();r=r===void 0?null:r;var i=void 0;if(lt!==null){var o=lt.memoizedState;if(i=o.destroy,r!==null&&ig(r,o.deps)){s.memoizedState=_l(e,n,i,r);return}}Ge.flags|=t,s.memoizedState=_l(1|e,n,i,r)}function k0(t,e){return uu(8390656,8,t,e)}function lg(t,e){return Vd(2048,8,t,e)}function $1(t,e){return Vd(4,2,t,e)}function H1(t,e){return Vd(4,4,t,e)}function W1(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function q1(t,e,n){return n=n!=null?n.concat([t]):null,Vd(4,4,W1.bind(null,e,t),n)}function cg(){}function G1(t,e){var n=Sn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ig(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function K1(t,e){var n=Sn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ig(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Q1(t,e,n){return _i&21?(Hn(n,e)||(n=e1(),Ge.lanes|=n,Ei|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,en=!0),t.memoizedState=n)}function vk(t,e){var n=ke;ke=n!==0&&4>n?n:4,t(!0);var r=Jh.transition;Jh.transition={};try{t(!1),e()}finally{ke=n,Jh.transition=r}}function Y1(){return Sn().memoizedState}function wk(t,e,n){var r=xs(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},X1(t))J1(e,n);else if(n=N1(t,e,n,r),n!==null){var s=Ht();zn(n,t,r,s),Z1(n,e,r)}}function xk(t,e,n){var r=xs(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(X1(t))J1(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,Hn(a,o)){var l=e.interleaved;l===null?(s.next=s,eg(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=N1(t,e,s,r),n!==null&&(s=Ht(),zn(n,t,r,s),Z1(n,e,r))}}function X1(t){var e=t.alternate;return t===Ge||e!==null&&e===Ge}function J1(t,e){Ha=Qu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Z1(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Um(t,n)}}var Yu={readContext:In,useCallback:Rt,useContext:Rt,useEffect:Rt,useImperativeHandle:Rt,useInsertionEffect:Rt,useLayoutEffect:Rt,useMemo:Rt,useReducer:Rt,useRef:Rt,useState:Rt,useDebugValue:Rt,useDeferredValue:Rt,useTransition:Rt,useMutableSource:Rt,useSyncExternalStore:Rt,useId:Rt,unstable_isNewReconciler:!1},_k={readContext:In,useCallback:function(t,e){return Xn().memoizedState=[t,e===void 0?null:e],t},useContext:In,useEffect:k0,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,uu(4194308,4,W1.bind(null,e,t),n)},useLayoutEffect:function(t,e){return uu(4194308,4,t,e)},useInsertionEffect:function(t,e){return uu(4,2,t,e)},useMemo:function(t,e){var n=Xn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Xn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=wk.bind(null,Ge,t),[r.memoizedState,t]},useRef:function(t){var e=Xn();return t={current:t},e.memoizedState=t},useState:R0,useDebugValue:cg,useDeferredValue:function(t){return Xn().memoizedState=t},useTransition:function(){var t=R0(!1),e=t[0];return t=vk.bind(null,t[1]),Xn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ge,s=Xn();if(Be){if(n===void 0)throw Error(W(407));n=n()}else{if(n=e(),wt===null)throw Error(W(349));_i&30||O1(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,k0(F1.bind(null,r,i,t),[t]),r.flags|=2048,_l(9,L1.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Xn(),e=wt.identifierPrefix;if(Be){var n=Tr,r=Er;n=(r&~(1<<32-Bn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=wl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=yk++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Ek={readContext:In,useCallback:G1,useContext:In,useEffect:lg,useImperativeHandle:q1,useInsertionEffect:$1,useLayoutEffect:H1,useMemo:K1,useReducer:Zh,useRef:z1,useState:function(){return Zh(xl)},useDebugValue:cg,useDeferredValue:function(t){var e=Sn();return Q1(e,lt.memoizedState,t)},useTransition:function(){var t=Zh(xl)[0],e=Sn().memoizedState;return[t,e]},useMutableSource:j1,useSyncExternalStore:V1,useId:Y1,unstable_isNewReconciler:!1},Tk={readContext:In,useCallback:G1,useContext:In,useEffect:lg,useImperativeHandle:q1,useInsertionEffect:$1,useLayoutEffect:H1,useMemo:K1,useReducer:ef,useRef:z1,useState:function(){return ef(xl)},useDebugValue:cg,useDeferredValue:function(t){var e=Sn();return lt===null?e.memoizedState=t:Q1(e,lt.memoizedState,t)},useTransition:function(){var t=ef(xl)[0],e=Sn().memoizedState;return[t,e]},useMutableSource:j1,useSyncExternalStore:V1,useId:Y1,unstable_isNewReconciler:!1};function Vn(t,e){if(t&&t.defaultProps){e=Ke({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function wp(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ke({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Od={isMounted:function(t){return(t=t._reactInternals)?Di(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ht(),s=xs(t),i=Sr(r,s);i.payload=e,n!=null&&(i.callback=n),e=vs(t,i,s),e!==null&&(zn(e,t,s,r),lu(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ht(),s=xs(t),i=Sr(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=vs(t,i,s),e!==null&&(zn(e,t,s,r),lu(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ht(),r=xs(t),s=Sr(n,r);s.tag=2,e!=null&&(s.callback=e),e=vs(t,s,r),e!==null&&(zn(e,t,r,n),lu(e,t,r))}};function P0(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!fl(n,r)||!fl(s,i):!0}function eT(t,e,n){var r=!1,s=Rs,i=e.contextType;return typeof i=="object"&&i!==null?i=In(i):(s=nn(e)?wi:Lt.current,r=e.contextTypes,i=(r=r!=null)?Co(t,s):Rs),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Od,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function N0(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Od.enqueueReplaceState(e,e.state,null)}function xp(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},tg(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=In(i):(i=nn(e)?wi:Lt.current,s.context=Co(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(wp(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Od.enqueueReplaceState(s,s.state,null),Gu(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Po(t,e){try{var n="",r=e;do n+=XA(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function tf(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function _p(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var bk=typeof WeakMap=="function"?WeakMap:Map;function tT(t,e,n){n=Sr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ju||(Ju=!0,Pp=r),_p(t,e)},n}function nT(t,e,n){n=Sr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){_p(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){_p(t,e),typeof r!="function"&&(ws===null?ws=new Set([this]):ws.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function D0(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new bk;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=Lk.bind(null,t,e,n),e.then(t,t))}function M0(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function j0(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Sr(-1,1),e.tag=2,vs(n,e,1))),n.lanes|=1),t)}var Ik=Br.ReactCurrentOwner,en=!1;function $t(t,e,n,r){e.child=t===null?P1(e,null,n,r):Ro(e,t.child,n,r)}function V0(t,e,n,r,s){n=n.render;var i=e.ref;return xo(e,s),r=og(t,e,n,r,i,s),n=ag(),t!==null&&!en?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Mr(t,e,s)):(Be&&n&&Km(e),e.flags|=1,$t(t,e,r,s),e.child)}function O0(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!yg(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,rT(t,e,i,r,s)):(t=pu(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:fl,n(o,r)&&t.ref===e.ref)return Mr(t,e,s)}return e.flags|=1,t=_s(i,r),t.ref=e.ref,t.return=e,e.child=t}function rT(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(fl(i,r)&&t.ref===e.ref)if(en=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(en=!0);else return e.lanes=t.lanes,Mr(t,e,s)}return Ep(t,e,n,r,s)}function sT(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Me(ao,an),an|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Me(ao,an),an|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Me(ao,an),an|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Me(ao,an),an|=r;return $t(t,e,s,n),e.child}function iT(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Ep(t,e,n,r,s){var i=nn(n)?wi:Lt.current;return i=Co(e,i),xo(e,s),n=og(t,e,n,r,i,s),r=ag(),t!==null&&!en?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Mr(t,e,s)):(Be&&r&&Km(e),e.flags|=1,$t(t,e,n,s),e.child)}function L0(t,e,n,r,s){if(nn(n)){var i=!0;zu(e)}else i=!1;if(xo(e,s),e.stateNode===null)du(t,e),eT(e,n,r),xp(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=In(u):(u=nn(n)?wi:Lt.current,u=Co(e,u));var f=n.getDerivedStateFromProps,h=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&N0(e,o,r,u),ss=!1;var m=e.memoizedState;o.state=m,Gu(e,r,o,s),l=e.memoizedState,a!==r||m!==l||tn.current||ss?(typeof f=="function"&&(wp(e,n,f,r),l=e.memoizedState),(a=ss||P0(e,n,a,r,m,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,D1(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Vn(e.type,a),o.props=u,h=e.pendingProps,m=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=In(l):(l=nn(n)?wi:Lt.current,l=Co(e,l));var y=n.getDerivedStateFromProps;(f=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||m!==l)&&N0(e,o,r,l),ss=!1,m=e.memoizedState,o.state=m,Gu(e,r,o,s);var E=e.memoizedState;a!==h||m!==E||tn.current||ss?(typeof y=="function"&&(wp(e,n,y,r),E=e.memoizedState),(u=ss||P0(e,n,u,r,m,E,l)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,E,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,E,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=E),o.props=r,o.state=E,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return Tp(t,e,n,r,i,s)}function Tp(t,e,n,r,s,i){iT(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&T0(e,n,!1),Mr(t,e,i);r=e.stateNode,Ik.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Ro(e,t.child,null,i),e.child=Ro(e,null,a,i)):$t(t,e,a,i),e.memoizedState=r.state,s&&T0(e,n,!0),e.child}function oT(t){var e=t.stateNode;e.pendingContext?E0(t,e.pendingContext,e.pendingContext!==e.context):e.context&&E0(t,e.context,!1),ng(t,e.containerInfo)}function F0(t,e,n,r,s){return Ao(),Ym(s),e.flags|=256,$t(t,e,n,r),e.child}var bp={dehydrated:null,treeContext:null,retryLane:0};function Ip(t){return{baseLanes:t,cachePool:null,transitions:null}}function aT(t,e,n){var r=e.pendingProps,s=He.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Me(He,s&1),t===null)return yp(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Ud(o,r,0,null),t=mi(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Ip(n),e.memoizedState=bp,t):ug(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return Sk(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=_s(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=_s(a,i):(i=mi(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Ip(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=bp,r}return i=t.child,t=i.sibling,r=_s(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function ug(t,e){return e=Ud({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Uc(t,e,n,r){return r!==null&&Ym(r),Ro(e,t.child,null,n),t=ug(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Sk(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=tf(Error(W(422))),Uc(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Ud({mode:"visible",children:r.children},s,0,null),i=mi(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Ro(e,t.child,null,o),e.child.memoizedState=Ip(o),e.memoizedState=bp,i);if(!(e.mode&1))return Uc(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(W(419)),r=tf(i,r,void 0),Uc(t,e,o,r)}if(a=(o&t.childLanes)!==0,en||a){if(r=wt,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Dr(t,s),zn(r,t,s,-1))}return gg(),r=tf(Error(W(421))),Uc(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=Fk.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,cn=ys(s.nextSibling),dn=e,Be=!0,Ln=null,t!==null&&(xn[_n++]=Er,xn[_n++]=Tr,xn[_n++]=xi,Er=t.id,Tr=t.overflow,xi=e),e=ug(e,r.children),e.flags|=4096,e)}function U0(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),vp(t.return,e,n)}function nf(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function lT(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if($t(t,e,r.children,n),r=He.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&U0(t,n,e);else if(t.tag===19)U0(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Me(He,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Ku(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),nf(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Ku(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}nf(e,!0,n,null,i);break;case"together":nf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function du(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Mr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ei|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(W(153));if(e.child!==null){for(t=e.child,n=_s(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=_s(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Ck(t,e,n){switch(e.tag){case 3:oT(e),Ao();break;case 5:M1(e);break;case 1:nn(e.type)&&zu(e);break;case 4:ng(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Me(Wu,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Me(He,He.current&1),e.flags|=128,null):n&e.child.childLanes?aT(t,e,n):(Me(He,He.current&1),t=Mr(t,e,n),t!==null?t.sibling:null);Me(He,He.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return lT(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Me(He,He.current),r)break;return null;case 22:case 23:return e.lanes=0,sT(t,e,n)}return Mr(t,e,n)}var cT,Sp,uT,dT;cT=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Sp=function(){};uT=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,ui(nr.current);var i=null;switch(n){case"input":s=Kf(t,s),r=Kf(t,r),i=[];break;case"select":s=Ke({},s,{value:void 0}),r=Ke({},r,{value:void 0}),i=[];break;case"textarea":s=Xf(t,s),r=Xf(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Uu)}Zf(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ol.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ol.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Ve("scroll",t),i||a===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};dT=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ea(t,e){if(!Be)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function kt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Ak(t,e,n){var r=e.pendingProps;switch(Qm(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return kt(e),null;case 1:return nn(e.type)&&Bu(),kt(e),null;case 3:return r=e.stateNode,ko(),Le(tn),Le(Lt),sg(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Lc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ln!==null&&(Mp(Ln),Ln=null))),Sp(t,e),kt(e),null;case 5:rg(e);var s=ui(vl.current);if(n=e.type,t!==null&&e.stateNode!=null)uT(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(W(166));return kt(e),null}if(t=ui(nr.current),Lc(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Zn]=e,r[gl]=i,t=(e.mode&1)!==0,n){case"dialog":Ve("cancel",r),Ve("close",r);break;case"iframe":case"object":case"embed":Ve("load",r);break;case"video":case"audio":for(s=0;s<Ra.length;s++)Ve(Ra[s],r);break;case"source":Ve("error",r);break;case"img":case"image":case"link":Ve("error",r),Ve("load",r);break;case"details":Ve("toggle",r);break;case"input":Qv(r,i),Ve("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Ve("invalid",r);break;case"textarea":Xv(r,i),Ve("invalid",r)}Zf(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Oc(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Oc(r.textContent,a,t),s=["children",""+a]):ol.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ve("scroll",r)}switch(n){case"input":Rc(r),Yv(r,i,!0);break;case"textarea":Rc(r),Jv(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Uu)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=FE(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Zn]=e,t[gl]=r,cT(t,e,!1,!1),e.stateNode=t;e:{switch(o=ep(n,r),n){case"dialog":Ve("cancel",t),Ve("close",t),s=r;break;case"iframe":case"object":case"embed":Ve("load",t),s=r;break;case"video":case"audio":for(s=0;s<Ra.length;s++)Ve(Ra[s],t);s=r;break;case"source":Ve("error",t),s=r;break;case"img":case"image":case"link":Ve("error",t),Ve("load",t),s=r;break;case"details":Ve("toggle",t),s=r;break;case"input":Qv(t,r),s=Kf(t,r),Ve("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Ke({},r,{value:void 0}),Ve("invalid",t);break;case"textarea":Xv(t,r),s=Xf(t,r),Ve("invalid",t);break;default:s=r}Zf(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?zE(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&UE(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&al(t,l):typeof l=="number"&&al(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ol.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Ve("scroll",t):l!=null&&Mm(t,i,l,o))}switch(n){case"input":Rc(t),Yv(t,r,!1);break;case"textarea":Rc(t),Jv(t);break;case"option":r.value!=null&&t.setAttribute("value",""+As(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?go(t,!!r.multiple,i,!1):r.defaultValue!=null&&go(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Uu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return kt(e),null;case 6:if(t&&e.stateNode!=null)dT(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(W(166));if(n=ui(vl.current),ui(nr.current),Lc(e)){if(r=e.stateNode,n=e.memoizedProps,r[Zn]=e,(i=r.nodeValue!==n)&&(t=dn,t!==null))switch(t.tag){case 3:Oc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Oc(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Zn]=e,e.stateNode=r}return kt(e),null;case 13:if(Le(He),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Be&&cn!==null&&e.mode&1&&!(e.flags&128))R1(),Ao(),e.flags|=98560,i=!1;else if(i=Lc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(W(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(W(317));i[Zn]=e}else Ao(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;kt(e),i=!1}else Ln!==null&&(Mp(Ln),Ln=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||He.current&1?ut===0&&(ut=3):gg())),e.updateQueue!==null&&(e.flags|=4),kt(e),null);case 4:return ko(),Sp(t,e),t===null&&pl(e.stateNode.containerInfo),kt(e),null;case 10:return Zm(e.type._context),kt(e),null;case 17:return nn(e.type)&&Bu(),kt(e),null;case 19:if(Le(He),i=e.memoizedState,i===null)return kt(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Ea(i,!1);else{if(ut!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Ku(t),o!==null){for(e.flags|=128,Ea(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Me(He,He.current&1|2),e.child}t=t.sibling}i.tail!==null&&nt()>No&&(e.flags|=128,r=!0,Ea(i,!1),e.lanes=4194304)}else{if(!r)if(t=Ku(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ea(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Be)return kt(e),null}else 2*nt()-i.renderingStartTime>No&&n!==1073741824&&(e.flags|=128,r=!0,Ea(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=nt(),e.sibling=null,n=He.current,Me(He,r?n&1|2:n&1),e):(kt(e),null);case 22:case 23:return mg(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?an&1073741824&&(kt(e),e.subtreeFlags&6&&(e.flags|=8192)):kt(e),null;case 24:return null;case 25:return null}throw Error(W(156,e.tag))}function Rk(t,e){switch(Qm(e),e.tag){case 1:return nn(e.type)&&Bu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ko(),Le(tn),Le(Lt),sg(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return rg(e),null;case 13:if(Le(He),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(W(340));Ao()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Le(He),null;case 4:return ko(),null;case 10:return Zm(e.type._context),null;case 22:case 23:return mg(),null;case 24:return null;default:return null}}var Bc=!1,Mt=!1,kk=typeof WeakSet=="function"?WeakSet:Set,te=null;function oo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Je(t,e,r)}else n.current=null}function Cp(t,e,n){try{n()}catch(r){Je(t,e,r)}}var B0=!1;function Pk(t,e){if(up=Ou,t=g1(),Gm(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,f=0,h=t,m=null;t:for(;;){for(var y;h!==n||s!==0&&h.nodeType!==3||(a=o+s),h!==i||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(y=h.firstChild)!==null;)m=h,h=y;for(;;){if(h===t)break t;if(m===n&&++u===s&&(a=o),m===i&&++f===r&&(l=o),(y=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=y}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(dp={focusedElem:t,selectionRange:n},Ou=!1,te=e;te!==null;)if(e=te,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,te=t;else for(;te!==null;){e=te;try{var E=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(E!==null){var A=E.memoizedProps,S=E.memoizedState,v=e.stateNode,w=v.getSnapshotBeforeUpdate(e.elementType===e.type?A:Vn(e.type,A),S);v.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(W(163))}}catch(D){Je(e,e.return,D)}if(t=e.sibling,t!==null){t.return=e.return,te=t;break}te=e.return}return E=B0,B0=!1,E}function Wa(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Cp(e,n,i)}s=s.next}while(s!==r)}}function Ld(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Ap(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function hT(t){var e=t.alternate;e!==null&&(t.alternate=null,hT(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Zn],delete e[gl],delete e[pp],delete e[fk],delete e[pk])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function fT(t){return t.tag===5||t.tag===3||t.tag===4}function z0(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||fT(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Rp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Uu));else if(r!==4&&(t=t.child,t!==null))for(Rp(t,e,n),t=t.sibling;t!==null;)Rp(t,e,n),t=t.sibling}function kp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(kp(t,e,n),t=t.sibling;t!==null;)kp(t,e,n),t=t.sibling}var Et=null,On=!1;function es(t,e,n){for(n=n.child;n!==null;)pT(t,e,n),n=n.sibling}function pT(t,e,n){if(tr&&typeof tr.onCommitFiberUnmount=="function")try{tr.onCommitFiberUnmount(kd,n)}catch{}switch(n.tag){case 5:Mt||oo(n,e);case 6:var r=Et,s=On;Et=null,es(t,e,n),Et=r,On=s,Et!==null&&(On?(t=Et,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Et.removeChild(n.stateNode));break;case 18:Et!==null&&(On?(t=Et,n=n.stateNode,t.nodeType===8?Qh(t.parentNode,n):t.nodeType===1&&Qh(t,n),dl(t)):Qh(Et,n.stateNode));break;case 4:r=Et,s=On,Et=n.stateNode.containerInfo,On=!0,es(t,e,n),Et=r,On=s;break;case 0:case 11:case 14:case 15:if(!Mt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Cp(n,e,o),s=s.next}while(s!==r)}es(t,e,n);break;case 1:if(!Mt&&(oo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Je(n,e,a)}es(t,e,n);break;case 21:es(t,e,n);break;case 22:n.mode&1?(Mt=(r=Mt)||n.memoizedState!==null,es(t,e,n),Mt=r):es(t,e,n);break;default:es(t,e,n)}}function $0(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new kk),e.forEach(function(r){var s=Uk.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Mn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Et=a.stateNode,On=!1;break e;case 3:Et=a.stateNode.containerInfo,On=!0;break e;case 4:Et=a.stateNode.containerInfo,On=!0;break e}a=a.return}if(Et===null)throw Error(W(160));pT(i,o,s),Et=null,On=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){Je(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)mT(e,t),e=e.sibling}function mT(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Mn(e,t),Qn(t),r&4){try{Wa(3,t,t.return),Ld(3,t)}catch(A){Je(t,t.return,A)}try{Wa(5,t,t.return)}catch(A){Je(t,t.return,A)}}break;case 1:Mn(e,t),Qn(t),r&512&&n!==null&&oo(n,n.return);break;case 5:if(Mn(e,t),Qn(t),r&512&&n!==null&&oo(n,n.return),t.flags&32){var s=t.stateNode;try{al(s,"")}catch(A){Je(t,t.return,A)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&OE(s,i),ep(a,o);var u=ep(a,i);for(o=0;o<l.length;o+=2){var f=l[o],h=l[o+1];f==="style"?zE(s,h):f==="dangerouslySetInnerHTML"?UE(s,h):f==="children"?al(s,h):Mm(s,f,h,u)}switch(a){case"input":Qf(s,i);break;case"textarea":LE(s,i);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?go(s,!!i.multiple,y,!1):m!==!!i.multiple&&(i.defaultValue!=null?go(s,!!i.multiple,i.defaultValue,!0):go(s,!!i.multiple,i.multiple?[]:"",!1))}s[gl]=i}catch(A){Je(t,t.return,A)}}break;case 6:if(Mn(e,t),Qn(t),r&4){if(t.stateNode===null)throw Error(W(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(A){Je(t,t.return,A)}}break;case 3:if(Mn(e,t),Qn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{dl(e.containerInfo)}catch(A){Je(t,t.return,A)}break;case 4:Mn(e,t),Qn(t);break;case 13:Mn(e,t),Qn(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(fg=nt())),r&4&&$0(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(Mt=(u=Mt)||f,Mn(e,t),Mt=u):Mn(e,t),Qn(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!f&&t.mode&1)for(te=t,f=t.child;f!==null;){for(h=te=f;te!==null;){switch(m=te,y=m.child,m.tag){case 0:case 11:case 14:case 15:Wa(4,m,m.return);break;case 1:oo(m,m.return);var E=m.stateNode;if(typeof E.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,E.props=e.memoizedProps,E.state=e.memoizedState,E.componentWillUnmount()}catch(A){Je(r,n,A)}}break;case 5:oo(m,m.return);break;case 22:if(m.memoizedState!==null){W0(h);continue}}y!==null?(y.return=m,te=y):W0(h)}f=f.sibling}e:for(f=null,h=t;;){if(h.tag===5){if(f===null){f=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=BE("display",o))}catch(A){Je(t,t.return,A)}}}else if(h.tag===6){if(f===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(A){Je(t,t.return,A)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Mn(e,t),Qn(t),r&4&&$0(t);break;case 21:break;default:Mn(e,t),Qn(t)}}function Qn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(fT(n)){var r=n;break e}n=n.return}throw Error(W(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(al(s,""),r.flags&=-33);var i=z0(t);kp(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=z0(t);Rp(t,a,o);break;default:throw Error(W(161))}}catch(l){Je(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Nk(t,e,n){te=t,gT(t)}function gT(t,e,n){for(var r=(t.mode&1)!==0;te!==null;){var s=te,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Bc;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Mt;a=Bc;var u=Mt;if(Bc=o,(Mt=l)&&!u)for(te=s;te!==null;)o=te,l=o.child,o.tag===22&&o.memoizedState!==null?q0(s):l!==null?(l.return=o,te=l):q0(s);for(;i!==null;)te=i,gT(i),i=i.sibling;te=s,Bc=a,Mt=u}H0(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,te=i):H0(t)}}function H0(t){for(;te!==null;){var e=te;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Mt||Ld(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Mt)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Vn(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&A0(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}A0(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var h=f.dehydrated;h!==null&&dl(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(W(163))}Mt||e.flags&512&&Ap(e)}catch(m){Je(e,e.return,m)}}if(e===t){te=null;break}if(n=e.sibling,n!==null){n.return=e.return,te=n;break}te=e.return}}function W0(t){for(;te!==null;){var e=te;if(e===t){te=null;break}var n=e.sibling;if(n!==null){n.return=e.return,te=n;break}te=e.return}}function q0(t){for(;te!==null;){var e=te;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Ld(4,e)}catch(l){Je(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){Je(e,s,l)}}var i=e.return;try{Ap(e)}catch(l){Je(e,i,l)}break;case 5:var o=e.return;try{Ap(e)}catch(l){Je(e,o,l)}}}catch(l){Je(e,e.return,l)}if(e===t){te=null;break}var a=e.sibling;if(a!==null){a.return=e.return,te=a;break}te=e.return}}var Dk=Math.ceil,Xu=Br.ReactCurrentDispatcher,dg=Br.ReactCurrentOwner,bn=Br.ReactCurrentBatchConfig,Se=0,wt=null,st=null,St=0,an=0,ao=Fs(0),ut=0,El=null,Ei=0,Fd=0,hg=0,qa=null,Jt=null,fg=0,No=1/0,wr=null,Ju=!1,Pp=null,ws=null,zc=!1,hs=null,Zu=0,Ga=0,Np=null,hu=-1,fu=0;function Ht(){return Se&6?nt():hu!==-1?hu:hu=nt()}function xs(t){return t.mode&1?Se&2&&St!==0?St&-St:gk.transition!==null?(fu===0&&(fu=e1()),fu):(t=ke,t!==0||(t=window.event,t=t===void 0?16:a1(t.type)),t):1}function zn(t,e,n,r){if(50<Ga)throw Ga=0,Np=null,Error(W(185));ql(t,n,r),(!(Se&2)||t!==wt)&&(t===wt&&(!(Se&2)&&(Fd|=n),ut===4&&as(t,St)),rn(t,r),n===1&&Se===0&&!(e.mode&1)&&(No=nt()+500,jd&&Us()))}function rn(t,e){var n=t.callbackNode;gR(t,e);var r=Vu(t,t===wt?St:0);if(r===0)n!==null&&t0(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&t0(n),e===1)t.tag===0?mk(G0.bind(null,t)):S1(G0.bind(null,t)),dk(function(){!(Se&6)&&Us()}),n=null;else{switch(t1(r)){case 1:n=Fm;break;case 4:n=JE;break;case 16:n=ju;break;case 536870912:n=ZE;break;default:n=ju}n=bT(n,yT.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function yT(t,e){if(hu=-1,fu=0,Se&6)throw Error(W(327));var n=t.callbackNode;if(_o()&&t.callbackNode!==n)return null;var r=Vu(t,t===wt?St:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=ed(t,r);else{e=r;var s=Se;Se|=2;var i=wT();(wt!==t||St!==e)&&(wr=null,No=nt()+500,pi(t,e));do try{Vk();break}catch(a){vT(t,a)}while(!0);Jm(),Xu.current=i,Se=s,st!==null?e=0:(wt=null,St=0,e=ut)}if(e!==0){if(e===2&&(s=ip(t),s!==0&&(r=s,e=Dp(t,s))),e===1)throw n=El,pi(t,0),as(t,r),rn(t,nt()),n;if(e===6)as(t,r);else{if(s=t.current.alternate,!(r&30)&&!Mk(s)&&(e=ed(t,r),e===2&&(i=ip(t),i!==0&&(r=i,e=Dp(t,i))),e===1))throw n=El,pi(t,0),as(t,r),rn(t,nt()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(W(345));case 2:ni(t,Jt,wr);break;case 3:if(as(t,r),(r&130023424)===r&&(e=fg+500-nt(),10<e)){if(Vu(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Ht(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=fp(ni.bind(null,t,Jt,wr),e);break}ni(t,Jt,wr);break;case 4:if(as(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-Bn(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=nt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Dk(r/1960))-r,10<r){t.timeoutHandle=fp(ni.bind(null,t,Jt,wr),r);break}ni(t,Jt,wr);break;case 5:ni(t,Jt,wr);break;default:throw Error(W(329))}}}return rn(t,nt()),t.callbackNode===n?yT.bind(null,t):null}function Dp(t,e){var n=qa;return t.current.memoizedState.isDehydrated&&(pi(t,e).flags|=256),t=ed(t,e),t!==2&&(e=Jt,Jt=n,e!==null&&Mp(e)),t}function Mp(t){Jt===null?Jt=t:Jt.push.apply(Jt,t)}function Mk(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Hn(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function as(t,e){for(e&=~hg,e&=~Fd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Bn(e),r=1<<n;t[n]=-1,e&=~r}}function G0(t){if(Se&6)throw Error(W(327));_o();var e=Vu(t,0);if(!(e&1))return rn(t,nt()),null;var n=ed(t,e);if(t.tag!==0&&n===2){var r=ip(t);r!==0&&(e=r,n=Dp(t,r))}if(n===1)throw n=El,pi(t,0),as(t,e),rn(t,nt()),n;if(n===6)throw Error(W(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ni(t,Jt,wr),rn(t,nt()),null}function pg(t,e){var n=Se;Se|=1;try{return t(e)}finally{Se=n,Se===0&&(No=nt()+500,jd&&Us())}}function Ti(t){hs!==null&&hs.tag===0&&!(Se&6)&&_o();var e=Se;Se|=1;var n=bn.transition,r=ke;try{if(bn.transition=null,ke=1,t)return t()}finally{ke=r,bn.transition=n,Se=e,!(Se&6)&&Us()}}function mg(){an=ao.current,Le(ao)}function pi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,uk(n)),st!==null)for(n=st.return;n!==null;){var r=n;switch(Qm(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Bu();break;case 3:ko(),Le(tn),Le(Lt),sg();break;case 5:rg(r);break;case 4:ko();break;case 13:Le(He);break;case 19:Le(He);break;case 10:Zm(r.type._context);break;case 22:case 23:mg()}n=n.return}if(wt=t,st=t=_s(t.current,null),St=an=e,ut=0,El=null,hg=Fd=Ei=0,Jt=qa=null,ci!==null){for(e=0;e<ci.length;e++)if(n=ci[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}ci=null}return t}function vT(t,e){do{var n=st;try{if(Jm(),cu.current=Yu,Qu){for(var r=Ge.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Qu=!1}if(_i=0,vt=lt=Ge=null,Ha=!1,wl=0,dg.current=null,n===null||n.return===null){ut=1,El=e,st=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=St,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,f=a,h=f.tag;if(!(f.mode&1)&&(h===0||h===11||h===15)){var m=f.alternate;m?(f.updateQueue=m.updateQueue,f.memoizedState=m.memoizedState,f.lanes=m.lanes):(f.updateQueue=null,f.memoizedState=null)}var y=M0(o);if(y!==null){y.flags&=-257,j0(y,o,a,i,e),y.mode&1&&D0(i,u,e),e=y,l=u;var E=e.updateQueue;if(E===null){var A=new Set;A.add(l),e.updateQueue=A}else E.add(l);break e}else{if(!(e&1)){D0(i,u,e),gg();break e}l=Error(W(426))}}else if(Be&&a.mode&1){var S=M0(o);if(S!==null){!(S.flags&65536)&&(S.flags|=256),j0(S,o,a,i,e),Ym(Po(l,a));break e}}i=l=Po(l,a),ut!==4&&(ut=2),qa===null?qa=[i]:qa.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var v=tT(i,l,e);C0(i,v);break e;case 1:a=l;var w=i.type,_=i.stateNode;if(!(i.flags&128)&&(typeof w.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(ws===null||!ws.has(_)))){i.flags|=65536,e&=-e,i.lanes|=e;var D=nT(i,a,e);C0(i,D);break e}}i=i.return}while(i!==null)}_T(n)}catch(V){e=V,st===n&&n!==null&&(st=n=n.return);continue}break}while(!0)}function wT(){var t=Xu.current;return Xu.current=Yu,t===null?Yu:t}function gg(){(ut===0||ut===3||ut===2)&&(ut=4),wt===null||!(Ei&268435455)&&!(Fd&268435455)||as(wt,St)}function ed(t,e){var n=Se;Se|=2;var r=wT();(wt!==t||St!==e)&&(wr=null,pi(t,e));do try{jk();break}catch(s){vT(t,s)}while(!0);if(Jm(),Se=n,Xu.current=r,st!==null)throw Error(W(261));return wt=null,St=0,ut}function jk(){for(;st!==null;)xT(st)}function Vk(){for(;st!==null&&!aR();)xT(st)}function xT(t){var e=TT(t.alternate,t,an);t.memoizedProps=t.pendingProps,e===null?_T(t):st=e,dg.current=null}function _T(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Rk(n,e),n!==null){n.flags&=32767,st=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ut=6,st=null;return}}else if(n=Ak(n,e,an),n!==null){st=n;return}if(e=e.sibling,e!==null){st=e;return}st=e=t}while(e!==null);ut===0&&(ut=5)}function ni(t,e,n){var r=ke,s=bn.transition;try{bn.transition=null,ke=1,Ok(t,e,n,r)}finally{bn.transition=s,ke=r}return null}function Ok(t,e,n,r){do _o();while(hs!==null);if(Se&6)throw Error(W(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(W(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(yR(t,i),t===wt&&(st=wt=null,St=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||zc||(zc=!0,bT(ju,function(){return _o(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=bn.transition,bn.transition=null;var o=ke;ke=1;var a=Se;Se|=4,dg.current=null,Pk(t,n),mT(n,t),rk(dp),Ou=!!up,dp=up=null,t.current=n,Nk(n),lR(),Se=a,ke=o,bn.transition=i}else t.current=n;if(zc&&(zc=!1,hs=t,Zu=s),i=t.pendingLanes,i===0&&(ws=null),dR(n.stateNode),rn(t,nt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Ju)throw Ju=!1,t=Pp,Pp=null,t;return Zu&1&&t.tag!==0&&_o(),i=t.pendingLanes,i&1?t===Np?Ga++:(Ga=0,Np=t):Ga=0,Us(),null}function _o(){if(hs!==null){var t=t1(Zu),e=bn.transition,n=ke;try{if(bn.transition=null,ke=16>t?16:t,hs===null)var r=!1;else{if(t=hs,hs=null,Zu=0,Se&6)throw Error(W(331));var s=Se;for(Se|=4,te=t.current;te!==null;){var i=te,o=i.child;if(te.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(te=u;te!==null;){var f=te;switch(f.tag){case 0:case 11:case 15:Wa(8,f,i)}var h=f.child;if(h!==null)h.return=f,te=h;else for(;te!==null;){f=te;var m=f.sibling,y=f.return;if(hT(f),f===u){te=null;break}if(m!==null){m.return=y,te=m;break}te=y}}}var E=i.alternate;if(E!==null){var A=E.child;if(A!==null){E.child=null;do{var S=A.sibling;A.sibling=null,A=S}while(A!==null)}}te=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,te=o;else e:for(;te!==null;){if(i=te,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Wa(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,te=v;break e}te=i.return}}var w=t.current;for(te=w;te!==null;){o=te;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,te=_;else e:for(o=w;te!==null;){if(a=te,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Ld(9,a)}}catch(V){Je(a,a.return,V)}if(a===o){te=null;break e}var D=a.sibling;if(D!==null){D.return=a.return,te=D;break e}te=a.return}}if(Se=s,Us(),tr&&typeof tr.onPostCommitFiberRoot=="function")try{tr.onPostCommitFiberRoot(kd,t)}catch{}r=!0}return r}finally{ke=n,bn.transition=e}}return!1}function K0(t,e,n){e=Po(n,e),e=tT(t,e,1),t=vs(t,e,1),e=Ht(),t!==null&&(ql(t,1,e),rn(t,e))}function Je(t,e,n){if(t.tag===3)K0(t,t,n);else for(;e!==null;){if(e.tag===3){K0(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ws===null||!ws.has(r))){t=Po(n,t),t=nT(e,t,1),e=vs(e,t,1),t=Ht(),e!==null&&(ql(e,1,t),rn(e,t));break}}e=e.return}}function Lk(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Ht(),t.pingedLanes|=t.suspendedLanes&n,wt===t&&(St&n)===n&&(ut===4||ut===3&&(St&130023424)===St&&500>nt()-fg?pi(t,0):hg|=n),rn(t,e)}function ET(t,e){e===0&&(t.mode&1?(e=Nc,Nc<<=1,!(Nc&130023424)&&(Nc=4194304)):e=1);var n=Ht();t=Dr(t,e),t!==null&&(ql(t,e,n),rn(t,n))}function Fk(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),ET(t,n)}function Uk(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(W(314))}r!==null&&r.delete(e),ET(t,n)}var TT;TT=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||tn.current)en=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return en=!1,Ck(t,e,n);en=!!(t.flags&131072)}else en=!1,Be&&e.flags&1048576&&C1(e,Hu,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;du(t,e),t=e.pendingProps;var s=Co(e,Lt.current);xo(e,n),s=og(null,e,r,t,s,n);var i=ag();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,nn(r)?(i=!0,zu(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,tg(e),s.updater=Od,e.stateNode=s,s._reactInternals=e,xp(e,r,t,n),e=Tp(null,e,r,!0,i,n)):(e.tag=0,Be&&i&&Km(e),$t(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(du(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=zk(r),t=Vn(r,t),s){case 0:e=Ep(null,e,r,t,n);break e;case 1:e=L0(null,e,r,t,n);break e;case 11:e=V0(null,e,r,t,n);break e;case 14:e=O0(null,e,r,Vn(r.type,t),n);break e}throw Error(W(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Vn(r,s),Ep(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Vn(r,s),L0(t,e,r,s,n);case 3:e:{if(oT(e),t===null)throw Error(W(387));r=e.pendingProps,i=e.memoizedState,s=i.element,D1(t,e),Gu(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Po(Error(W(423)),e),e=F0(t,e,r,n,s);break e}else if(r!==s){s=Po(Error(W(424)),e),e=F0(t,e,r,n,s);break e}else for(cn=ys(e.stateNode.containerInfo.firstChild),dn=e,Be=!0,Ln=null,n=P1(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ao(),r===s){e=Mr(t,e,n);break e}$t(t,e,r,n)}e=e.child}return e;case 5:return M1(e),t===null&&yp(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,hp(r,s)?o=null:i!==null&&hp(r,i)&&(e.flags|=32),iT(t,e),$t(t,e,o,n),e.child;case 6:return t===null&&yp(e),null;case 13:return aT(t,e,n);case 4:return ng(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ro(e,null,r,n):$t(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Vn(r,s),V0(t,e,r,s,n);case 7:return $t(t,e,e.pendingProps,n),e.child;case 8:return $t(t,e,e.pendingProps.children,n),e.child;case 12:return $t(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Me(Wu,r._currentValue),r._currentValue=o,i!==null)if(Hn(i.value,o)){if(i.children===s.children&&!tn.current){e=Mr(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Sr(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?l.next=l:(l.next=f.next,f.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),vp(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(W(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),vp(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}$t(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,xo(e,n),s=In(s),r=r(s),e.flags|=1,$t(t,e,r,n),e.child;case 14:return r=e.type,s=Vn(r,e.pendingProps),s=Vn(r.type,s),O0(t,e,r,s,n);case 15:return rT(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Vn(r,s),du(t,e),e.tag=1,nn(r)?(t=!0,zu(e)):t=!1,xo(e,n),eT(e,r,s),xp(e,r,s,n),Tp(null,e,r,!0,t,n);case 19:return lT(t,e,n);case 22:return sT(t,e,n)}throw Error(W(156,e.tag))};function bT(t,e){return XE(t,e)}function Bk(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tn(t,e,n,r){return new Bk(t,e,n,r)}function yg(t){return t=t.prototype,!(!t||!t.isReactComponent)}function zk(t){if(typeof t=="function")return yg(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Vm)return 11;if(t===Om)return 14}return 2}function _s(t,e){var n=t.alternate;return n===null?(n=Tn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function pu(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")yg(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Xi:return mi(n.children,s,i,e);case jm:o=8,s|=8;break;case Hf:return t=Tn(12,n,e,s|2),t.elementType=Hf,t.lanes=i,t;case Wf:return t=Tn(13,n,e,s),t.elementType=Wf,t.lanes=i,t;case qf:return t=Tn(19,n,e,s),t.elementType=qf,t.lanes=i,t;case ME:return Ud(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case NE:o=10;break e;case DE:o=9;break e;case Vm:o=11;break e;case Om:o=14;break e;case rs:o=16,r=null;break e}throw Error(W(130,t==null?t:typeof t,""))}return e=Tn(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function mi(t,e,n,r){return t=Tn(7,t,r,e),t.lanes=n,t}function Ud(t,e,n,r){return t=Tn(22,t,r,e),t.elementType=ME,t.lanes=n,t.stateNode={isHidden:!1},t}function rf(t,e,n){return t=Tn(6,t,null,e),t.lanes=n,t}function sf(t,e,n){return e=Tn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function $k(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Lh(0),this.expirationTimes=Lh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Lh(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function vg(t,e,n,r,s,i,o,a,l){return t=new $k(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Tn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},tg(i),t}function Hk(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Yi,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function IT(t){if(!t)return Rs;t=t._reactInternals;e:{if(Di(t)!==t||t.tag!==1)throw Error(W(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(nn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(W(171))}if(t.tag===1){var n=t.type;if(nn(n))return I1(t,n,e)}return e}function ST(t,e,n,r,s,i,o,a,l){return t=vg(n,r,!0,t,s,i,o,a,l),t.context=IT(null),n=t.current,r=Ht(),s=xs(n),i=Sr(r,s),i.callback=e??null,vs(n,i,s),t.current.lanes=s,ql(t,s,r),rn(t,r),t}function Bd(t,e,n,r){var s=e.current,i=Ht(),o=xs(s);return n=IT(n),e.context===null?e.context=n:e.pendingContext=n,e=Sr(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=vs(s,e,o),t!==null&&(zn(t,s,o,i),lu(t,s,o)),o}function td(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Q0(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function wg(t,e){Q0(t,e),(t=t.alternate)&&Q0(t,e)}function Wk(){return null}var CT=typeof reportError=="function"?reportError:function(t){console.error(t)};function xg(t){this._internalRoot=t}zd.prototype.render=xg.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(W(409));Bd(t,e,null,null)};zd.prototype.unmount=xg.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ti(function(){Bd(null,t,null,null)}),e[Nr]=null}};function zd(t){this._internalRoot=t}zd.prototype.unstable_scheduleHydration=function(t){if(t){var e=s1();t={blockedOn:null,target:t,priority:e};for(var n=0;n<os.length&&e!==0&&e<os[n].priority;n++);os.splice(n,0,t),n===0&&o1(t)}};function _g(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function $d(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Y0(){}function qk(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=td(o);i.call(u)}}var o=ST(e,r,t,0,null,!1,!1,"",Y0);return t._reactRootContainer=o,t[Nr]=o.current,pl(t.nodeType===8?t.parentNode:t),Ti(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=td(l);a.call(u)}}var l=vg(t,0,!1,null,null,!1,!1,"",Y0);return t._reactRootContainer=l,t[Nr]=l.current,pl(t.nodeType===8?t.parentNode:t),Ti(function(){Bd(e,l,n,r)}),l}function Hd(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=td(o);a.call(l)}}Bd(e,o,t,s)}else o=qk(n,e,t,s,r);return td(o)}n1=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Aa(e.pendingLanes);n!==0&&(Um(e,n|1),rn(e,nt()),!(Se&6)&&(No=nt()+500,Us()))}break;case 13:Ti(function(){var r=Dr(t,1);if(r!==null){var s=Ht();zn(r,t,1,s)}}),wg(t,1)}};Bm=function(t){if(t.tag===13){var e=Dr(t,134217728);if(e!==null){var n=Ht();zn(e,t,134217728,n)}wg(t,134217728)}};r1=function(t){if(t.tag===13){var e=xs(t),n=Dr(t,e);if(n!==null){var r=Ht();zn(n,t,e,r)}wg(t,e)}};s1=function(){return ke};i1=function(t,e){var n=ke;try{return ke=t,e()}finally{ke=n}};np=function(t,e,n){switch(e){case"input":if(Qf(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Md(r);if(!s)throw Error(W(90));VE(r),Qf(r,s)}}}break;case"textarea":LE(t,n);break;case"select":e=n.value,e!=null&&go(t,!!n.multiple,e,!1)}};WE=pg;qE=Ti;var Gk={usingClientEntryPoint:!1,Events:[Kl,to,Md,$E,HE,pg]},Ta={findFiberByHostInstance:li,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Kk={bundleType:Ta.bundleType,version:Ta.version,rendererPackageName:Ta.rendererPackageName,rendererConfig:Ta.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Br.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=QE(t),t===null?null:t.stateNode},findFiberByHostInstance:Ta.findFiberByHostInstance||Wk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $c=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$c.isDisabled&&$c.supportsFiber)try{kd=$c.inject(Kk),tr=$c}catch{}}mn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Gk;mn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_g(e))throw Error(W(200));return Hk(t,e,null,n)};mn.createRoot=function(t,e){if(!_g(t))throw Error(W(299));var n=!1,r="",s=CT;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=vg(t,1,!1,null,null,n,!1,r,s),t[Nr]=e.current,pl(t.nodeType===8?t.parentNode:t),new xg(e)};mn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(W(188)):(t=Object.keys(t).join(","),Error(W(268,t)));return t=QE(e),t=t===null?null:t.stateNode,t};mn.flushSync=function(t){return Ti(t)};mn.hydrate=function(t,e,n){if(!$d(e))throw Error(W(200));return Hd(null,t,e,!0,n)};mn.hydrateRoot=function(t,e,n){if(!_g(t))throw Error(W(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=CT;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=ST(e,null,t,1,n??null,s,!1,i,o),t[Nr]=e.current,pl(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new zd(e)};mn.render=function(t,e,n){if(!$d(e))throw Error(W(200));return Hd(null,t,e,!1,n)};mn.unmountComponentAtNode=function(t){if(!$d(t))throw Error(W(40));return t._reactRootContainer?(Ti(function(){Hd(null,null,t,!1,function(){t._reactRootContainer=null,t[Nr]=null})}),!0):!1};mn.unstable_batchedUpdates=pg;mn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!$d(n))throw Error(W(200));if(t==null||t._reactInternals===void 0)throw Error(W(38));return Hd(t,e,n,!1,r)};mn.version="18.3.1-next-f1338f8080-20240426";function AT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(AT)}catch(t){console.error(t)}}AT(),AE.exports=mn;var RT=AE.exports;const Qk=gE(RT);var X0=RT;zf.createRoot=X0.createRoot,zf.hydrateRoot=X0.hydrateRoot;/**
 * react-router v7.11.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var J0="popstate";function Yk(t={}){function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return jp("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Tl(s)}return Jk(e,n,null,t)}function ze(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Cn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Xk(){return Math.random().toString(36).substring(2,10)}function Z0(t,e){return{usr:t.state,key:t.key,idx:e}}function jp(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?qo(e):e,state:n,key:e&&e.key||r||Xk()}}function Tl({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function qo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function Jk(t,e,n,r={}){let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a="POP",l=null,u=f();u==null&&(u=0,o.replaceState({...o.state,idx:u},""));function f(){return(o.state||{idx:null}).idx}function h(){a="POP";let S=f(),v=S==null?null:S-u;u=S,l&&l({action:a,location:A.location,delta:v})}function m(S,v){a="PUSH";let w=jp(A.location,S,v);u=f()+1;let _=Z0(w,u),D=A.createHref(w);try{o.pushState(_,"",D)}catch(V){if(V instanceof DOMException&&V.name==="DataCloneError")throw V;s.location.assign(D)}i&&l&&l({action:a,location:A.location,delta:1})}function y(S,v){a="REPLACE";let w=jp(A.location,S,v);u=f();let _=Z0(w,u),D=A.createHref(w);o.replaceState(_,"",D),i&&l&&l({action:a,location:A.location,delta:0})}function E(S){return Zk(S)}let A={get action(){return a},get location(){return t(s,o)},listen(S){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(J0,h),l=S,()=>{s.removeEventListener(J0,h),l=null}},createHref(S){return e(s,S)},createURL:E,encodeLocation(S){let v=E(S);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:m,replace:y,go(S){return o.go(S)}};return A}function Zk(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ze(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Tl(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function kT(t,e,n="/"){return eP(t,e,n,!1)}function eP(t,e,n,r){let s=typeof e=="string"?qo(e):e,i=jr(s.pathname||"/",n);if(i==null)return null;let o=PT(t);tP(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=hP(i);a=uP(o[l],u,r)}return a}function PT(t,e=[],n=[],r="",s=!1){let i=(o,a,l=s,u)=>{let f={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};if(f.relativePath.startsWith("/")){if(!f.relativePath.startsWith(r)&&l)return;ze(f.relativePath.startsWith(r),`Absolute route path "${f.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(r.length)}let h=Cr([r,f.relativePath]),m=n.concat(f);o.children&&o.children.length>0&&(ze(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),PT(o.children,e,m,h,l)),!(o.path==null&&!o.index)&&e.push({path:h,score:lP(h,o.index),routesMeta:m})};return t.forEach((o,a)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))i(o,a);else for(let u of NT(o.path))i(o,a,!0,u)}),e}function NT(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=NT(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function tP(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:cP(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var nP=/^:[\w-]+$/,rP=3,sP=2,iP=1,oP=10,aP=-2,ew=t=>t==="*";function lP(t,e){let n=t.split("/"),r=n.length;return n.some(ew)&&(r+=aP),e&&(r+=sP),n.filter(s=>!ew(s)).reduce((s,i)=>s+(nP.test(i)?rP:i===""?iP:oP),r)}function cP(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function uP(t,e,n=!1){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,f=i==="/"?e:e.slice(i.length)||"/",h=nd({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},f),m=l.route;if(!h&&u&&n&&!r[r.length-1].route.index&&(h=nd({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},f)),!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:Cr([i,h.pathname]),pathnameBase:gP(Cr([i,h.pathnameBase])),route:m}),h.pathnameBase!=="/"&&(i=Cr([i,h.pathnameBase]))}return o}function nd(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=dP(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((u,{paramName:f,isOptional:h},m)=>{if(f==="*"){let E=a[m]||"";o=i.slice(0,i.length-E.length).replace(/(.)\/+$/,"$1")}const y=a[m];return h&&!y?u[f]=void 0:u[f]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:t}}function dP(t,e=!1,n=!0){Cn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function hP(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Cn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function jr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}var DT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,fP=t=>DT.test(t);function pP(t,e="/"){let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?qo(t):t,i;if(n)if(fP(n))i=n;else{if(n.includes("//")){let o=n;n=n.replace(/\/\/+/g,"/"),Cn(!1,`Pathnames cannot have embedded double slashes - normalizing ${o} -> ${n}`)}n.startsWith("/")?i=tw(n.substring(1),"/"):i=tw(n,e)}else i=e;return{pathname:i,search:yP(r),hash:vP(s)}}function tw(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function of(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function mP(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Eg(t){let e=mP(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function Tg(t,e,n,r=!1){let s;typeof t=="string"?s=qo(t):(s={...t},ze(!s.pathname||!s.pathname.includes("?"),of("?","pathname","search",s)),ze(!s.pathname||!s.pathname.includes("#"),of("#","pathname","hash",s)),ze(!s.search||!s.search.includes("#"),of("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),h-=1;s.pathname=m.join("/")}a=h>=0?e[h]:"/"}let l=pP(s,a),u=o&&o!=="/"&&o.endsWith("/"),f=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||f)&&(l.pathname+="/"),l}var Cr=t=>t.join("/").replace(/\/\/+/g,"/"),gP=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),yP=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,vP=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,wP=class{constructor(t,e,n,r=!1){this.status=t,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function xP(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function _P(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var MT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function jT(t,e){let n=t;if(typeof n!="string"||!DT.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,s=!1;if(MT)try{let i=new URL(window.location.href),o=n.startsWith("//")?new URL(i.protocol+n):new URL(n),a=jr(o.pathname,e);o.origin===i.origin&&a!=null?n=a+o.search+o.hash:s=!0}catch{Cn(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:s,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var VT=["POST","PUT","PATCH","DELETE"];new Set(VT);var EP=["GET",...VT];new Set(EP);var Go=k.createContext(null);Go.displayName="DataRouter";var Wd=k.createContext(null);Wd.displayName="DataRouterState";var TP=k.createContext(!1),OT=k.createContext({isTransitioning:!1});OT.displayName="ViewTransition";var bP=k.createContext(new Map);bP.displayName="Fetchers";var IP=k.createContext(null);IP.displayName="Await";var yn=k.createContext(null);yn.displayName="Navigation";var Yl=k.createContext(null);Yl.displayName="Location";var fr=k.createContext({outlet:null,matches:[],isDataRoute:!1});fr.displayName="Route";var bg=k.createContext(null);bg.displayName="RouteError";var LT="REACT_ROUTER_ERROR",SP="REDIRECT",CP="ROUTE_ERROR_RESPONSE";function AP(t){if(t.startsWith(`${LT}:${SP}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function RP(t){if(t.startsWith(`${LT}:${CP}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new wP(e.status,e.statusText,e.data)}catch{}}function kP(t,{relative:e}={}){ze(Ko(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=k.useContext(yn),{hash:s,pathname:i,search:o}=Xl(t,{relative:e}),a=i;return n!=="/"&&(a=i==="/"?n:Cr([n,i])),r.createHref({pathname:a,search:o,hash:s})}function Ko(){return k.useContext(Yl)!=null}function Bs(){return ze(Ko(),"useLocation() may be used only in the context of a <Router> component."),k.useContext(Yl).location}var FT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function UT(t){k.useContext(yn).static||k.useLayoutEffect(t)}function zs(){let{isDataRoute:t}=k.useContext(fr);return t?$P():PP()}function PP(){ze(Ko(),"useNavigate() may be used only in the context of a <Router> component.");let t=k.useContext(Go),{basename:e,navigator:n}=k.useContext(yn),{matches:r}=k.useContext(fr),{pathname:s}=Bs(),i=JSON.stringify(Eg(r)),o=k.useRef(!1);return UT(()=>{o.current=!0}),k.useCallback((l,u={})=>{if(Cn(o.current,FT),!o.current)return;if(typeof l=="number"){n.go(l);return}let f=Tg(l,JSON.parse(i),s,u.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Cr([e,f.pathname])),(u.replace?n.replace:n.push)(f,u.state,u)},[e,n,i,s,t])}k.createContext(null);function Xl(t,{relative:e}={}){let{matches:n}=k.useContext(fr),{pathname:r}=Bs(),s=JSON.stringify(Eg(n));return k.useMemo(()=>Tg(t,JSON.parse(s),r,e==="path"),[t,s,r,e])}function NP(t,e){return BT(t,e)}function BT(t,e,n,r,s){var w;ze(Ko(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=k.useContext(yn),{matches:o}=k.useContext(fr),a=o[o.length-1],l=a?a.params:{},u=a?a.pathname:"/",f=a?a.pathnameBase:"/",h=a&&a.route;{let _=h&&h.path||"";$T(u,!h||_.endsWith("*")||_.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${_}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${_}"> to <Route path="${_==="/"?"*":`${_}/*`}">.`)}let m=Bs(),y;if(e){let _=typeof e=="string"?qo(e):e;ze(f==="/"||((w=_.pathname)==null?void 0:w.startsWith(f)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${_.pathname}" was given in the \`location\` prop.`),y=_}else y=m;let E=y.pathname||"/",A=E;if(f!=="/"){let _=f.replace(/^\//,"").split("/");A="/"+E.replace(/^\//,"").split("/").slice(_.length).join("/")}let S=kT(t,{pathname:A});Cn(h||S!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),Cn(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let v=OP(S&&S.map(_=>Object.assign({},_,{params:Object.assign({},l,_.params),pathname:Cr([f,i.encodeLocation?i.encodeLocation(_.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?f:Cr([f,i.encodeLocation?i.encodeLocation(_.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:_.pathnameBase])})),o,n,r,s);return e&&v?k.createElement(Yl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},v):v}function DP(){let t=zP(),e=xP(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},i={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=k.createElement(k.Fragment,null,k.createElement("p",null," Hey developer "),k.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",k.createElement("code",{style:i},"ErrorBoundary")," or"," ",k.createElement("code",{style:i},"errorElement")," prop on your route.")),k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},e),n?k.createElement("pre",{style:s},n):null,o)}var MP=k.createElement(DP,null),zT=class extends k.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=RP(t.digest);n&&(t=n)}let e=t!==void 0?k.createElement(fr.Provider,{value:this.props.routeContext},k.createElement(bg.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?k.createElement(jP,{error:t},e):e}};zT.contextType=TP;var af=new WeakMap;function jP({children:t,error:e}){let{basename:n}=k.useContext(yn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=AP(e.digest);if(r){let s=af.get(e);if(s)throw s;let i=jT(r.location,n);if(MT&&!af.get(e))if(i.isExternal||r.reloadDocument)window.location.href=i.absoluteURL||i.to;else{const o=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(i.to,{replace:r.replace}));throw af.set(e,o),o}return k.createElement("meta",{httpEquiv:"refresh",content:`0;url=${i.absoluteURL||i.to}`})}}return t}function VP({routeContext:t,match:e,children:n}){let r=k.useContext(Go);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),k.createElement(fr.Provider,{value:t},n)}function OP(t,e=[],n=null,r=null,s=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,o=n==null?void 0:n.errors;if(o!=null){let f=i.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);ze(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,f+1))}let a=!1,l=-1;if(n)for(let f=0;f<i.length;f++){let h=i[f];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(l=f),h.route.id){let{loaderData:m,errors:y}=n,E=h.route.loader&&!m.hasOwnProperty(h.route.id)&&(!y||y[h.route.id]===void 0);if(h.route.lazy||E){a=!0,l>=0?i=i.slice(0,l+1):i=[i[0]];break}}}let u=n&&r?(f,h)=>{var m,y;r(f,{location:n.location,params:((y=(m=n.matches)==null?void 0:m[0])==null?void 0:y.params)??{},unstable_pattern:_P(n.matches),errorInfo:h})}:void 0;return i.reduceRight((f,h,m)=>{let y,E=!1,A=null,S=null;n&&(y=o&&h.route.id?o[h.route.id]:void 0,A=h.route.errorElement||MP,a&&(l<0&&m===0?($T("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,S=null):l===m&&(E=!0,S=h.route.hydrateFallbackElement||null)));let v=e.concat(i.slice(0,m+1)),w=()=>{let _;return y?_=A:E?_=S:h.route.Component?_=k.createElement(h.route.Component,null):h.route.element?_=h.route.element:_=f,k.createElement(VP,{match:h,routeContext:{outlet:f,matches:v,isDataRoute:n!=null},children:_})};return n&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?k.createElement(zT,{location:n.location,revalidation:n.revalidation,component:A,error:y,children:w(),routeContext:{outlet:null,matches:v,isDataRoute:!0},onError:u}):w()},null)}function Ig(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function LP(t){let e=k.useContext(Go);return ze(e,Ig(t)),e}function FP(t){let e=k.useContext(Wd);return ze(e,Ig(t)),e}function UP(t){let e=k.useContext(fr);return ze(e,Ig(t)),e}function Sg(t){let e=UP(t),n=e.matches[e.matches.length-1];return ze(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function BP(){return Sg("useRouteId")}function zP(){var r;let t=k.useContext(bg),e=FP("useRouteError"),n=Sg("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function $P(){let{router:t}=LP("useNavigate"),e=Sg("useNavigate"),n=k.useRef(!1);return UT(()=>{n.current=!0}),k.useCallback(async(s,i={})=>{Cn(n.current,FT),n.current&&(typeof s=="number"?await t.navigate(s):await t.navigate(s,{fromRouteId:e,...i}))},[t,e])}var nw={};function $T(t,e,n){!e&&!nw[t]&&(nw[t]=!0,Cn(!1,n))}k.memo(HP);function HP({routes:t,future:e,state:n,onError:r}){return BT(t,void 0,n,r,e)}function HT({to:t,replace:e,state:n,relative:r}){ze(Ko(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=k.useContext(yn);Cn(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=k.useContext(fr),{pathname:o}=Bs(),a=zs(),l=Tg(t,Eg(i),o,r==="path"),u=JSON.stringify(l);return k.useEffect(()=>{a(JSON.parse(u),{replace:e,state:n,relative:r})},[a,u,r,e,n]),null}function vr(t){ze(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function WP({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:s,static:i=!1,unstable_useTransitions:o}){ze(!Ko(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=t.replace(/^\/*/,"/"),l=k.useMemo(()=>({basename:a,navigator:s,static:i,unstable_useTransitions:o,future:{}}),[a,s,i,o]);typeof n=="string"&&(n=qo(n));let{pathname:u="/",search:f="",hash:h="",state:m=null,key:y="default"}=n,E=k.useMemo(()=>{let A=jr(u,a);return A==null?null:{location:{pathname:A,search:f,hash:h,state:m,key:y},navigationType:r}},[a,u,f,h,m,y,r]);return Cn(E!=null,`<Router basename="${a}"> is not able to match the URL "${u}${f}${h}" because it does not start with the basename, so the <Router> won't render anything.`),E==null?null:k.createElement(yn.Provider,{value:l},k.createElement(Yl.Provider,{children:e,value:E}))}function qP({children:t,location:e}){return NP(Vp(t),e)}function Vp(t,e=[]){let n=[];return k.Children.forEach(t,(r,s)=>{if(!k.isValidElement(r))return;let i=[...e,s];if(r.type===k.Fragment){n.push.apply(n,Vp(r.props.children,i));return}ze(r.type===vr,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ze(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Vp(r.props.children,i)),n.push(o)}),n}var mu="get",gu="application/x-www-form-urlencoded";function qd(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function GP(t){return qd(t)&&t.tagName.toLowerCase()==="button"}function KP(t){return qd(t)&&t.tagName.toLowerCase()==="form"}function QP(t){return qd(t)&&t.tagName.toLowerCase()==="input"}function YP(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function XP(t,e){return t.button===0&&(!e||e==="_self")&&!YP(t)}var Hc=null;function JP(){if(Hc===null)try{new FormData(document.createElement("form"),0),Hc=!1}catch{Hc=!0}return Hc}var ZP=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function lf(t){return t!=null&&!ZP.has(t)?(Cn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${gu}"`),null):t}function e2(t,e){let n,r,s,i,o;if(KP(t)){let a=t.getAttribute("action");r=a?jr(a,e):null,n=t.getAttribute("method")||mu,s=lf(t.getAttribute("enctype"))||gu,i=new FormData(t)}else if(GP(t)||QP(t)&&(t.type==="submit"||t.type==="image")){let a=t.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=t.getAttribute("formaction")||a.getAttribute("action");if(r=l?jr(l,e):null,n=t.getAttribute("formmethod")||a.getAttribute("method")||mu,s=lf(t.getAttribute("formenctype"))||lf(a.getAttribute("enctype"))||gu,i=new FormData(a,t),!JP()){let{name:u,type:f,value:h}=t;if(f==="image"){let m=u?`${u}.`:"";i.append(`${m}x`,"0"),i.append(`${m}y`,"0")}else u&&i.append(u,h)}}else{if(qd(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=mu,r=null,s=gu,o=t}return i&&s==="text/plain"&&(o=i,i=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:i,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Cg(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function t2(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&jr(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function n2(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function r2(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function s2(t,e,n){let r=await Promise.all(t.map(async s=>{let i=e.routes[s.route.id];if(i){let o=await n2(i,n);return o.links?o.links():[]}return[]}));return l2(r.flat(1).filter(r2).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function rw(t,e,n,r,s,i){let o=(l,u)=>n[u]?l.route.id!==n[u].route.id:!0,a=(l,u)=>{var f;return n[u].pathname!==l.pathname||((f=n[u].route.path)==null?void 0:f.endsWith("*"))&&n[u].params["*"]!==l.params["*"]};return i==="assets"?e.filter((l,u)=>o(l,u)||a(l,u)):i==="data"?e.filter((l,u)=>{var h;let f=r.routes[l.route.id];if(!f||!f.hasLoader)return!1;if(o(l,u)||a(l,u))return!0;if(l.route.shouldRevalidate){let m=l.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((h=n[0])==null?void 0:h.params)||{},nextUrl:new URL(t,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function i2(t,e,{includeHydrateFallback:n}={}){return o2(t.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let i=[s.module];return s.clientActionModule&&(i=i.concat(s.clientActionModule)),s.clientLoaderModule&&(i=i.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(i=i.concat(s.hydrateFallbackModule)),s.imports&&(i=i.concat(s.imports)),i}).flat(1))}function o2(t){return[...new Set(t)]}function a2(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function l2(t,e){let n=new Set;return new Set(e),t.reduce((r,s)=>{let i=JSON.stringify(a2(s));return n.has(i)||(n.add(i),r.push({key:i,link:s})),r},[])}function WT(){let t=k.useContext(Go);return Cg(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function c2(){let t=k.useContext(Wd);return Cg(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Ag=k.createContext(void 0);Ag.displayName="FrameworkContext";function qT(){let t=k.useContext(Ag);return Cg(t,"You must render this element inside a <HydratedRouter> element"),t}function u2(t,e){let n=k.useContext(Ag),[r,s]=k.useState(!1),[i,o]=k.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:u,onMouseLeave:f,onTouchStart:h}=e,m=k.useRef(null);k.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let A=v=>{v.forEach(w=>{o(w.isIntersecting)})},S=new IntersectionObserver(A,{threshold:.5});return m.current&&S.observe(m.current),()=>{S.disconnect()}}},[t]),k.useEffect(()=>{if(r){let A=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(A)}}},[r]);let y=()=>{s(!0)},E=()=>{s(!1),o(!1)};return n?t!=="intent"?[i,m,{}]:[i,m,{onFocus:ba(a,y),onBlur:ba(l,E),onMouseEnter:ba(u,y),onMouseLeave:ba(f,E),onTouchStart:ba(h,y)}]:[!1,m,{}]}function ba(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function d2({page:t,...e}){let{router:n}=WT(),r=k.useMemo(()=>kT(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?k.createElement(f2,{page:t,matches:r,...e}):null}function h2(t){let{manifest:e,routeModules:n}=qT(),[r,s]=k.useState([]);return k.useEffect(()=>{let i=!1;return s2(t,e,n).then(o=>{i||s(o)}),()=>{i=!0}},[t,e,n]),r}function f2({page:t,matches:e,...n}){let r=Bs(),{manifest:s,routeModules:i}=qT(),{basename:o}=WT(),{loaderData:a,matches:l}=c2(),u=k.useMemo(()=>rw(t,e,l,s,r,"data"),[t,e,l,s,r]),f=k.useMemo(()=>rw(t,e,l,s,r,"assets"),[t,e,l,s,r]),h=k.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let E=new Set,A=!1;if(e.forEach(v=>{var _;let w=s.routes[v.route.id];!w||!w.hasLoader||(!u.some(D=>D.route.id===v.route.id)&&v.route.id in a&&((_=i[v.route.id])!=null&&_.shouldRevalidate)||w.hasClientLoader?A=!0:E.add(v.route.id))}),E.size===0)return[];let S=t2(t,o,"data");return A&&E.size>0&&S.searchParams.set("_routes",e.filter(v=>E.has(v.route.id)).map(v=>v.route.id).join(",")),[S.pathname+S.search]},[o,a,r,s,u,e,t,i]),m=k.useMemo(()=>i2(f,s),[f,s]),y=h2(f);return k.createElement(k.Fragment,null,h.map(E=>k.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...n})),m.map(E=>k.createElement("link",{key:E,rel:"modulepreload",href:E,...n})),y.map(({key:E,link:A})=>k.createElement("link",{key:E,nonce:n.nonce,...A})))}function p2(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var m2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{m2&&(window.__reactRouterVersion="7.11.0")}catch{}function g2({basename:t,children:e,unstable_useTransitions:n,window:r}){let s=k.useRef();s.current==null&&(s.current=Yk({window:r,v5Compat:!0}));let i=s.current,[o,a]=k.useState({action:i.action,location:i.location}),l=k.useCallback(u=>{n===!1?a(u):k.startTransition(()=>a(u))},[n]);return k.useLayoutEffect(()=>i.listen(l),[i,l]),k.createElement(WP,{basename:t,children:e,location:o.location,navigationType:o.action,navigator:i,unstable_useTransitions:n})}var GT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Fn=k.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:s,reloadDocument:i,replace:o,state:a,target:l,to:u,preventScrollReset:f,viewTransition:h,unstable_defaultShouldRevalidate:m,...y},E){let{basename:A,unstable_useTransitions:S}=k.useContext(yn),v=typeof u=="string"&&GT.test(u),w=jT(u,A);u=w.to;let _=kP(u,{relative:s}),[D,V,O]=u2(r,y),T=x2(u,{replace:o,state:a,target:l,preventScrollReset:f,relative:s,viewTransition:h,unstable_defaultShouldRevalidate:m,unstable_useTransitions:S});function x(I){e&&e(I),I.defaultPrevented||T(I)}let C=k.createElement("a",{...y,...O,href:w.absoluteURL||_,onClick:w.isExternal||i?e:x,ref:p2(E,V),target:l,"data-discover":!v&&n==="render"?"true":void 0});return D&&!v?k.createElement(k.Fragment,null,C,k.createElement(d2,{page:_})):C});Fn.displayName="Link";var y2=k.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:s=!1,style:i,to:o,viewTransition:a,children:l,...u},f){let h=Xl(o,{relative:u.relative}),m=Bs(),y=k.useContext(Wd),{navigator:E,basename:A}=k.useContext(yn),S=y!=null&&I2(h)&&a===!0,v=E.encodeLocation?E.encodeLocation(h).pathname:h.pathname,w=m.pathname,_=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;n||(w=w.toLowerCase(),_=_?_.toLowerCase():null,v=v.toLowerCase()),_&&A&&(_=jr(_,A)||_);const D=v!=="/"&&v.endsWith("/")?v.length-1:v.length;let V=w===v||!s&&w.startsWith(v)&&w.charAt(D)==="/",O=_!=null&&(_===v||!s&&_.startsWith(v)&&_.charAt(v.length)==="/"),T={isActive:V,isPending:O,isTransitioning:S},x=V?e:void 0,C;typeof r=="function"?C=r(T):C=[r,V?"active":null,O?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let I=typeof i=="function"?i(T):i;return k.createElement(Fn,{...u,"aria-current":x,className:C,ref:f,style:I,to:o,viewTransition:a},typeof l=="function"?l(T):l)});y2.displayName="NavLink";var v2=k.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:s,state:i,method:o=mu,action:a,onSubmit:l,relative:u,preventScrollReset:f,viewTransition:h,unstable_defaultShouldRevalidate:m,...y},E)=>{let{unstable_useTransitions:A}=k.useContext(yn),S=T2(),v=b2(a,{relative:u}),w=o.toLowerCase()==="get"?"get":"post",_=typeof a=="string"&&GT.test(a),D=V=>{if(l&&l(V),V.defaultPrevented)return;V.preventDefault();let O=V.nativeEvent.submitter,T=(O==null?void 0:O.getAttribute("formmethod"))||o,x=()=>S(O||V.currentTarget,{fetcherKey:e,method:T,navigate:n,replace:s,state:i,relative:u,preventScrollReset:f,viewTransition:h,unstable_defaultShouldRevalidate:m});A&&n!==!1?k.startTransition(()=>x()):x()};return k.createElement("form",{ref:E,method:w,action:v,onSubmit:r?l:D,...y,"data-discover":!_&&t==="render"?"true":void 0})});v2.displayName="Form";function w2(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function KT(t){let e=k.useContext(Go);return ze(e,w2(t)),e}function x2(t,{target:e,replace:n,state:r,preventScrollReset:s,relative:i,viewTransition:o,unstable_defaultShouldRevalidate:a,unstable_useTransitions:l}={}){let u=zs(),f=Bs(),h=Xl(t,{relative:i});return k.useCallback(m=>{if(XP(m,e)){m.preventDefault();let y=n!==void 0?n:Tl(f)===Tl(h),E=()=>u(t,{replace:y,state:r,preventScrollReset:s,relative:i,viewTransition:o,unstable_defaultShouldRevalidate:a});l?k.startTransition(()=>E()):E()}},[f,u,h,n,r,e,t,s,i,o,a,l])}var _2=0,E2=()=>`__${String(++_2)}__`;function T2(){let{router:t}=KT("useSubmit"),{basename:e}=k.useContext(yn),n=BP(),r=t.fetch,s=t.navigate;return k.useCallback(async(i,o={})=>{let{action:a,method:l,encType:u,formData:f,body:h}=e2(i,e);if(o.navigate===!1){let m=o.fetcherKey||E2();await r(m,n,o.action||a,{unstable_defaultShouldRevalidate:o.unstable_defaultShouldRevalidate,preventScrollReset:o.preventScrollReset,formData:f,body:h,formMethod:o.method||l,formEncType:o.encType||u,flushSync:o.flushSync})}else await s(o.action||a,{unstable_defaultShouldRevalidate:o.unstable_defaultShouldRevalidate,preventScrollReset:o.preventScrollReset,formData:f,body:h,formMethod:o.method||l,formEncType:o.encType||u,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,s,e,n])}function b2(t,{relative:e}={}){let{basename:n}=k.useContext(yn),r=k.useContext(fr);ze(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),i={...Xl(t||".",{relative:e})},o=Bs();if(t==null){i.search=o.search;let a=new URLSearchParams(i.search),l=a.getAll("index");if(l.some(f=>f==="")){a.delete("index"),l.filter(h=>h).forEach(h=>a.append("index",h));let f=a.toString();i.search=f?`?${f}`:""}}return(!t||t===".")&&s.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(i.pathname=i.pathname==="/"?n:Cr([n,i.pathname])),Tl(i)}function I2(t,{relative:e}={}){let n=k.useContext(OT);ze(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=KT("useViewTransitionState"),s=Xl(t,{relative:e});if(!n.isTransitioning)return!1;let i=jr(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=jr(n.nextLocation.pathname,r)||n.nextLocation.pathname;return nd(s.pathname,o)!=null||nd(s.pathname,i)!=null}function S2(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}const C2=t=>{switch(t){case"success":return k2;case"info":return N2;case"warning":return P2;case"error":return D2;default:return null}},A2=Array(12).fill(0),R2=({visible:t,className:e})=>q.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},q.createElement("div",{className:"sonner-spinner"},A2.map((n,r)=>q.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),k2=q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},q.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),P2=q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},q.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),N2=q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},q.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),D2=q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},q.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),M2=q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},q.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),q.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),j2=()=>{const[t,e]=q.useState(document.hidden);return q.useEffect(()=>{const n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t};let Op=1;class V2{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;const{message:r,...s}=e,i=typeof(e==null?void 0:e.id)=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:Op++,o=this.toasts.find(l=>l.id===i),a=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),o?this.toasts=this.toasts.map(l=>l.id===i?(this.publish({...l,...e,id:i,title:r}),{...l,...e,id:i,dismissible:a,title:r}):l):this.addToast({title:r,...s,dismissible:a,id:i}),i},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:e,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const s=Promise.resolve(e instanceof Function?e():e);let i=r!==void 0,o;const a=s.then(async u=>{if(o=["resolve",u],q.isValidElement(u))i=!1,this.create({id:r,type:"default",message:u});else if(L2(u)&&!u.ok){i=!1;const h=typeof n.error=="function"?await n.error(`HTTP error! status: ${u.status}`):n.error,m=typeof n.description=="function"?await n.description(`HTTP error! status: ${u.status}`):n.description,E=typeof h=="object"&&!q.isValidElement(h)?h:{message:h};this.create({id:r,type:"error",description:m,...E})}else if(u instanceof Error){i=!1;const h=typeof n.error=="function"?await n.error(u):n.error,m=typeof n.description=="function"?await n.description(u):n.description,E=typeof h=="object"&&!q.isValidElement(h)?h:{message:h};this.create({id:r,type:"error",description:m,...E})}else if(n.success!==void 0){i=!1;const h=typeof n.success=="function"?await n.success(u):n.success,m=typeof n.description=="function"?await n.description(u):n.description,E=typeof h=="object"&&!q.isValidElement(h)?h:{message:h};this.create({id:r,type:"success",description:m,...E})}}).catch(async u=>{if(o=["reject",u],n.error!==void 0){i=!1;const f=typeof n.error=="function"?await n.error(u):n.error,h=typeof n.description=="function"?await n.description(u):n.description,y=typeof f=="object"&&!q.isValidElement(f)?f:{message:f};this.create({id:r,type:"error",description:h,...y})}}).finally(()=>{i&&(this.dismiss(r),r=void 0),n.finally==null||n.finally.call(n)}),l=()=>new Promise((u,f)=>a.then(()=>o[0]==="reject"?f(o[1]):u(o[1])).catch(f));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,n)=>{const r=(n==null?void 0:n.id)||Op++;return this.create({jsx:e(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Yt=new V2,O2=(t,e)=>{const n=(e==null?void 0:e.id)||Op++;return Yt.addToast({title:t,...e,id:n}),n},L2=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",F2=O2,U2=()=>Yt.toasts,B2=()=>Yt.getActiveToasts();Object.assign(F2,{success:Yt.success,info:Yt.info,warning:Yt.warning,error:Yt.error,custom:Yt.custom,message:Yt.message,promise:Yt.promise,dismiss:Yt.dismiss,loading:Yt.loading},{getHistory:U2,getToasts:B2});S2("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Wc(t){return t.label!==void 0}const z2=3,$2="24px",H2="16px",sw=4e3,W2=356,q2=14,G2=45,K2=200;function Yn(...t){return t.filter(Boolean).join(" ")}function Q2(t){const[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}const Y2=t=>{var e,n,r,s,i,o,a,l,u;const{invert:f,toast:h,unstyled:m,interacting:y,setHeights:E,visibleToasts:A,heights:S,index:v,toasts:w,expanded:_,removeToast:D,defaultRichColors:V,closeButton:O,style:T,cancelButtonStyle:x,actionButtonStyle:C,className:I="",descriptionClassName:N="",duration:j,position:R,gap:pe,expandByDefault:Re,classNames:he,icons:ce,closeButtonAriaLabel:$="Close toast"}=t,[Z,M]=q.useState(null),[P,H]=q.useState(null),[z,G]=q.useState(!1),[Q,ee]=q.useState(!1),[X,Y]=q.useState(!1),[ge,Ce]=q.useState(!1),[Te,Ee]=q.useState(!1),[Ne,fe]=q.useState(0),[$e,ft]=q.useState(0),Ze=q.useRef(h.duration||j||sw),Bt=q.useRef(null),be=q.useRef(null),Pe=v===0,Hr=v+1<=A,xt=h.type,Rn=h.dismissible!==!1,Oi=h.className||"",pr=h.descriptionClassName||"",Wn=q.useMemo(()=>S.findIndex(le=>le.toastId===h.id)||0,[S,h.id]),Li=q.useMemo(()=>{var le;return(le=h.closeButton)!=null?le:O},[h.closeButton,O]),Wr=q.useMemo(()=>h.duration||j||sw,[h.duration,j]),qr=q.useRef(0),kn=q.useRef(0),mr=q.useRef(0),Pn=q.useRef(null),[gr,sa]=R.split("-"),Fi=q.useMemo(()=>S.reduce((le,Ue,mt)=>mt>=Wn?le:le+Ue.height,0),[S,Wn]),qn=j2(),gc=h.invert||f,Gr=xt==="loading";kn.current=q.useMemo(()=>Wn*pe+Fi,[Wn,Fi]),q.useEffect(()=>{Ze.current=Wr},[Wr]),q.useEffect(()=>{G(!0)},[]),q.useEffect(()=>{const le=be.current;if(le){const Ue=le.getBoundingClientRect().height;return ft(Ue),E(mt=>[{toastId:h.id,height:Ue,position:h.position},...mt]),()=>E(mt=>mt.filter(zt=>zt.toastId!==h.id))}},[E,h.id]),q.useLayoutEffect(()=>{if(!z)return;const le=be.current,Ue=le.style.height;le.style.height="auto";const mt=le.getBoundingClientRect().height;le.style.height=Ue,ft(mt),E(zt=>zt.find(ot=>ot.toastId===h.id)?zt.map(ot=>ot.toastId===h.id?{...ot,height:mt}:ot):[{toastId:h.id,height:mt,position:h.position},...zt])},[z,h.title,h.description,E,h.id,h.jsx,h.action,h.cancel]);const Nn=q.useCallback(()=>{ee(!0),fe(kn.current),E(le=>le.filter(Ue=>Ue.toastId!==h.id)),setTimeout(()=>{D(h)},K2)},[h,D,E,kn]);q.useEffect(()=>{if(h.promise&&xt==="loading"||h.duration===1/0||h.type==="loading")return;let le;return _||y||qn?(()=>{if(mr.current<qr.current){const zt=new Date().getTime()-qr.current;Ze.current=Ze.current-zt}mr.current=new Date().getTime()})():(()=>{Ze.current!==1/0&&(qr.current=new Date().getTime(),le=setTimeout(()=>{h.onAutoClose==null||h.onAutoClose.call(h,h),Nn()},Ze.current))})(),()=>clearTimeout(le)},[_,y,h,xt,qn,Nn]),q.useEffect(()=>{h.delete&&(Nn(),h.onDismiss==null||h.onDismiss.call(h,h))},[Nn,h.delete]);function Qs(){var le;if(ce!=null&&ce.loading){var Ue;return q.createElement("div",{className:Yn(he==null?void 0:he.loader,h==null||(Ue=h.classNames)==null?void 0:Ue.loader,"sonner-loader"),"data-visible":xt==="loading"},ce.loading)}return q.createElement(R2,{className:Yn(he==null?void 0:he.loader,h==null||(le=h.classNames)==null?void 0:le.loader),visible:xt==="loading"})}const yc=h.icon||(ce==null?void 0:ce[xt])||C2(xt);var pt,ia;return q.createElement("li",{tabIndex:0,ref:be,className:Yn(I,Oi,he==null?void 0:he.toast,h==null||(e=h.classNames)==null?void 0:e.toast,he==null?void 0:he.default,he==null?void 0:he[xt],h==null||(n=h.classNames)==null?void 0:n[xt]),"data-sonner-toast":"","data-rich-colors":(pt=h.richColors)!=null?pt:V,"data-styled":!(h.jsx||h.unstyled||m),"data-mounted":z,"data-promise":!!h.promise,"data-swiped":Te,"data-removed":Q,"data-visible":Hr,"data-y-position":gr,"data-x-position":sa,"data-index":v,"data-front":Pe,"data-swiping":X,"data-dismissible":Rn,"data-type":xt,"data-invert":gc,"data-swipe-out":ge,"data-swipe-direction":P,"data-expanded":!!(_||Re&&z),"data-testid":h.testId,style:{"--index":v,"--toasts-before":v,"--z-index":w.length-v,"--offset":`${Q?Ne:kn.current}px`,"--initial-height":Re?"auto":`${$e}px`,...T,...h.style},onDragEnd:()=>{Y(!1),M(null),Pn.current=null},onPointerDown:le=>{le.button!==2&&(Gr||!Rn||(Bt.current=new Date,fe(kn.current),le.target.setPointerCapture(le.pointerId),le.target.tagName!=="BUTTON"&&(Y(!0),Pn.current={x:le.clientX,y:le.clientY})))},onPointerUp:()=>{var le,Ue,mt;if(ge||!Rn)return;Pn.current=null;const zt=Number(((le=be.current)==null?void 0:le.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Dn=Number(((Ue=be.current)==null?void 0:Ue.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),ot=new Date().getTime()-((mt=Bt.current)==null?void 0:mt.getTime()),Gt=Z==="x"?zt:Dn,yr=Math.abs(Gt)/ot;if(Math.abs(Gt)>=G2||yr>.11){fe(kn.current),h.onDismiss==null||h.onDismiss.call(h,h),H(Z==="x"?zt>0?"right":"left":Dn>0?"down":"up"),Nn(),Ce(!0);return}else{var Kt,Qt;(Kt=be.current)==null||Kt.style.setProperty("--swipe-amount-x","0px"),(Qt=be.current)==null||Qt.style.setProperty("--swipe-amount-y","0px")}Ee(!1),Y(!1),M(null)},onPointerMove:le=>{var Ue,mt,zt;if(!Pn.current||!Rn||((Ue=window.getSelection())==null?void 0:Ue.toString().length)>0)return;const ot=le.clientY-Pn.current.y,Gt=le.clientX-Pn.current.x;var yr;const Kt=(yr=t.swipeDirections)!=null?yr:Q2(R);!Z&&(Math.abs(Gt)>1||Math.abs(ot)>1)&&M(Math.abs(Gt)>Math.abs(ot)?"x":"y");let Qt={x:0,y:0};const Ui=sn=>1/(1.5+Math.abs(sn)/20);if(Z==="y"){if(Kt.includes("top")||Kt.includes("bottom"))if(Kt.includes("top")&&ot<0||Kt.includes("bottom")&&ot>0)Qt.y=ot;else{const sn=ot*Ui(ot);Qt.y=Math.abs(sn)<Math.abs(ot)?sn:ot}}else if(Z==="x"&&(Kt.includes("left")||Kt.includes("right")))if(Kt.includes("left")&&Gt<0||Kt.includes("right")&&Gt>0)Qt.x=Gt;else{const sn=Gt*Ui(Gt);Qt.x=Math.abs(sn)<Math.abs(Gt)?sn:Gt}(Math.abs(Qt.x)>0||Math.abs(Qt.y)>0)&&Ee(!0),(mt=be.current)==null||mt.style.setProperty("--swipe-amount-x",`${Qt.x}px`),(zt=be.current)==null||zt.style.setProperty("--swipe-amount-y",`${Qt.y}px`)}},Li&&!h.jsx&&xt!=="loading"?q.createElement("button",{"aria-label":$,"data-disabled":Gr,"data-close-button":!0,onClick:Gr||!Rn?()=>{}:()=>{Nn(),h.onDismiss==null||h.onDismiss.call(h,h)},className:Yn(he==null?void 0:he.closeButton,h==null||(r=h.classNames)==null?void 0:r.closeButton)},(ia=ce==null?void 0:ce.close)!=null?ia:M2):null,(xt||h.icon||h.promise)&&h.icon!==null&&((ce==null?void 0:ce[xt])!==null||h.icon)?q.createElement("div",{"data-icon":"",className:Yn(he==null?void 0:he.icon,h==null||(s=h.classNames)==null?void 0:s.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||Qs():null,h.type!=="loading"?yc:null):null,q.createElement("div",{"data-content":"",className:Yn(he==null?void 0:he.content,h==null||(i=h.classNames)==null?void 0:i.content)},q.createElement("div",{"data-title":"",className:Yn(he==null?void 0:he.title,h==null||(o=h.classNames)==null?void 0:o.title)},h.jsx?h.jsx:typeof h.title=="function"?h.title():h.title),h.description?q.createElement("div",{"data-description":"",className:Yn(N,pr,he==null?void 0:he.description,h==null||(a=h.classNames)==null?void 0:a.description)},typeof h.description=="function"?h.description():h.description):null),q.isValidElement(h.cancel)?h.cancel:h.cancel&&Wc(h.cancel)?q.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||x,onClick:le=>{Wc(h.cancel)&&Rn&&(h.cancel.onClick==null||h.cancel.onClick.call(h.cancel,le),Nn())},className:Yn(he==null?void 0:he.cancelButton,h==null||(l=h.classNames)==null?void 0:l.cancelButton)},h.cancel.label):null,q.isValidElement(h.action)?h.action:h.action&&Wc(h.action)?q.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||C,onClick:le=>{Wc(h.action)&&(h.action.onClick==null||h.action.onClick.call(h.action,le),!le.defaultPrevented&&Nn())},className:Yn(he==null?void 0:he.actionButton,h==null||(u=h.classNames)==null?void 0:u.actionButton)},h.action.label):null)};function iw(){if(typeof window>"u"||typeof document>"u")return"ltr";const t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function X2(t,e){const n={};return[t,e].forEach((r,s)=>{const i=s===1,o=i?"--mobile-offset":"--offset",a=i?H2:$2;function l(u){["top","right","bottom","left"].forEach(f=>{n[`${o}-${f}`]=typeof u=="number"?`${u}px`:u})}typeof r=="number"||typeof r=="string"?l(r):typeof r=="object"?["top","right","bottom","left"].forEach(u=>{r[u]===void 0?n[`${o}-${u}`]=a:n[`${o}-${u}`]=typeof r[u]=="number"?`${r[u]}px`:r[u]}):l(a)}),n}const J2=q.forwardRef(function(e,n){const{id:r,invert:s,position:i="bottom-right",hotkey:o=["altKey","KeyT"],expand:a,closeButton:l,className:u,offset:f,mobileOffset:h,theme:m="light",richColors:y,duration:E,style:A,visibleToasts:S=z2,toastOptions:v,dir:w=iw(),gap:_=q2,icons:D,containerAriaLabel:V="Notifications"}=e,[O,T]=q.useState([]),x=q.useMemo(()=>r?O.filter(z=>z.toasterId===r):O.filter(z=>!z.toasterId),[O,r]),C=q.useMemo(()=>Array.from(new Set([i].concat(x.filter(z=>z.position).map(z=>z.position)))),[x,i]),[I,N]=q.useState([]),[j,R]=q.useState(!1),[pe,Re]=q.useState(!1),[he,ce]=q.useState(m!=="system"?m:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),$=q.useRef(null),Z=o.join("+").replace(/Key/g,"").replace(/Digit/g,""),M=q.useRef(null),P=q.useRef(!1),H=q.useCallback(z=>{T(G=>{var Q;return(Q=G.find(ee=>ee.id===z.id))!=null&&Q.delete||Yt.dismiss(z.id),G.filter(({id:ee})=>ee!==z.id)})},[]);return q.useEffect(()=>Yt.subscribe(z=>{if(z.dismiss){requestAnimationFrame(()=>{T(G=>G.map(Q=>Q.id===z.id?{...Q,delete:!0}:Q))});return}setTimeout(()=>{Qk.flushSync(()=>{T(G=>{const Q=G.findIndex(ee=>ee.id===z.id);return Q!==-1?[...G.slice(0,Q),{...G[Q],...z},...G.slice(Q+1)]:[z,...G]})})})}),[O]),q.useEffect(()=>{if(m!=="system"){ce(m);return}if(m==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?ce("dark"):ce("light")),typeof window>"u")return;const z=window.matchMedia("(prefers-color-scheme: dark)");try{z.addEventListener("change",({matches:G})=>{ce(G?"dark":"light")})}catch{z.addListener(({matches:Q})=>{try{ce(Q?"dark":"light")}catch(ee){console.error(ee)}})}},[m]),q.useEffect(()=>{O.length<=1&&R(!1)},[O]),q.useEffect(()=>{const z=G=>{var Q;if(o.every(Y=>G[Y]||G.code===Y)){var X;R(!0),(X=$.current)==null||X.focus()}G.code==="Escape"&&(document.activeElement===$.current||(Q=$.current)!=null&&Q.contains(document.activeElement))&&R(!1)};return document.addEventListener("keydown",z),()=>document.removeEventListener("keydown",z)},[o]),q.useEffect(()=>{if($.current)return()=>{M.current&&(M.current.focus({preventScroll:!0}),M.current=null,P.current=!1)}},[$.current]),q.createElement("section",{ref:n,"aria-label":`${V} ${Z}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},C.map((z,G)=>{var Q;const[ee,X]=z.split("-");return x.length?q.createElement("ol",{key:z,dir:w==="auto"?iw():w,tabIndex:-1,ref:$,className:u,"data-sonner-toaster":!0,"data-sonner-theme":he,"data-y-position":ee,"data-x-position":X,style:{"--front-toast-height":`${((Q=I[0])==null?void 0:Q.height)||0}px`,"--width":`${W2}px`,"--gap":`${_}px`,...A,...X2(f,h)},onBlur:Y=>{P.current&&!Y.currentTarget.contains(Y.relatedTarget)&&(P.current=!1,M.current&&(M.current.focus({preventScroll:!0}),M.current=null))},onFocus:Y=>{Y.target instanceof HTMLElement&&Y.target.dataset.dismissible==="false"||P.current||(P.current=!0,M.current=Y.relatedTarget)},onMouseEnter:()=>R(!0),onMouseMove:()=>R(!0),onMouseLeave:()=>{pe||R(!1)},onDragEnd:()=>R(!1),onPointerDown:Y=>{Y.target instanceof HTMLElement&&Y.target.dataset.dismissible==="false"||Re(!0)},onPointerUp:()=>Re(!1)},x.filter(Y=>!Y.position&&G===0||Y.position===z).map((Y,ge)=>{var Ce,Te;return q.createElement(Y2,{key:Y.id,icons:D,index:ge,toast:Y,defaultRichColors:y,duration:(Ce=v==null?void 0:v.duration)!=null?Ce:E,className:v==null?void 0:v.className,descriptionClassName:v==null?void 0:v.descriptionClassName,invert:s,visibleToasts:S,closeButton:(Te=v==null?void 0:v.closeButton)!=null?Te:l,interacting:pe,position:z,style:v==null?void 0:v.style,unstyled:v==null?void 0:v.unstyled,classNames:v==null?void 0:v.classNames,cancelButtonStyle:v==null?void 0:v.cancelButtonStyle,actionButtonStyle:v==null?void 0:v.actionButtonStyle,closeButtonAriaLabel:v==null?void 0:v.closeButtonAriaLabel,removeToast:H,toasts:x.filter(Ee=>Ee.position==Y.position),heights:I.filter(Ee=>Ee.position==Y.position),setHeights:N,expandByDefault:a,gap:_,expanded:j,swipeDirections:e.swipeDirections})})):null}))}),Rg=k.createContext({});function kg(t){const e=k.useRef(null);return e.current===null&&(e.current=t()),e.current}const Gd=k.createContext(null),Pg=k.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class Z2 extends k.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function eN({children:t,isPresent:e}){const n=k.useId(),r=k.useRef(null),s=k.useRef({width:0,height:0,top:0,left:0}),{nonce:i}=k.useContext(Pg);return k.useInsertionEffect(()=>{const{width:o,height:a,top:l,left:u}=s.current;if(e||!r.current||!o||!a)return;r.current.dataset.motionPopId=n;const f=document.createElement("style");return i&&(f.nonce=i),document.head.appendChild(f),f.sheet&&f.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${a}px !important;
            top: ${l}px !important;
            left: ${u}px !important;
          }
        `),()=>{document.head.removeChild(f)}},[e]),d.jsx(Z2,{isPresent:e,childRef:r,sizeRef:s,children:k.cloneElement(t,{ref:r})})}const tN=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:o})=>{const a=kg(nN),l=k.useId(),u=k.useCallback(h=>{a.set(h,!0);for(const m of a.values())if(!m)return;r&&r()},[a,r]),f=k.useMemo(()=>({id:l,initial:e,isPresent:n,custom:s,onExitComplete:u,register:h=>(a.set(h,!1),()=>a.delete(h))}),i?[Math.random(),u]:[n,u]);return k.useMemo(()=>{a.forEach((h,m)=>a.set(m,!1))},[n]),k.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),o==="popLayout"&&(t=d.jsx(eN,{isPresent:n,children:t})),d.jsx(Gd.Provider,{value:f,children:t})};function nN(){return new Map}function QT(t=!0){const e=k.useContext(Gd);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,i=k.useId();k.useEffect(()=>{t&&s(i)},[t]);const o=k.useCallback(()=>t&&r&&r(i),[i,r,t]);return!n&&r?[!1,o]:[!0]}const qc=t=>t.key||"";function ow(t){const e=[];return k.Children.forEach(t,n=>{k.isValidElement(n)&&e.push(n)}),e}const Ng=typeof window<"u",YT=Ng?k.useLayoutEffect:k.useEffect,bl=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:i="sync",propagate:o=!1})=>{const[a,l]=QT(o),u=k.useMemo(()=>ow(t),[t]),f=o&&!a?[]:u.map(qc),h=k.useRef(!0),m=k.useRef(u),y=kg(()=>new Map),[E,A]=k.useState(u),[S,v]=k.useState(u);YT(()=>{h.current=!1,m.current=u;for(let D=0;D<S.length;D++){const V=qc(S[D]);f.includes(V)?y.delete(V):y.get(V)!==!0&&y.set(V,!1)}},[S,f.length,f.join("-")]);const w=[];if(u!==E){let D=[...u];for(let V=0;V<S.length;V++){const O=S[V],T=qc(O);f.includes(T)||(D.splice(V,0,O),w.push(O))}i==="wait"&&w.length&&(D=w),v(ow(D)),A(u);return}const{forceRender:_}=k.useContext(Rg);return d.jsx(d.Fragment,{children:S.map(D=>{const V=qc(D),O=o&&!a?!1:u===S||f.includes(V),T=()=>{if(y.has(V))y.set(V,!0);else return;let x=!0;y.forEach(C=>{C||(x=!1)}),x&&(_==null||_(),v(m.current),o&&(l==null||l()),r&&r())};return d.jsx(tN,{isPresent:O,initial:!h.current||n?void 0:!1,custom:O?void 0:e,presenceAffectsLayout:s,mode:i,onExitComplete:O?void 0:T,children:D},V)})})},hn=t=>t;let XT=hn;function Dg(t){let e;return()=>(e===void 0&&(e=t()),e)}const Do=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},Ar=t=>t*1e3,Rr=t=>t/1e3,rN={useManualTiming:!1};function sN(t){let e=new Set,n=new Set,r=!1,s=!1;const i=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function a(u){i.has(u)&&(l.schedule(u),t()),u(o)}const l={schedule:(u,f=!1,h=!1)=>{const y=h&&r?e:n;return f&&i.add(u),y.has(u)||y.add(u),u},cancel:u=>{n.delete(u),i.delete(u)},process:u=>{if(o=u,r){s=!0;return}r=!0,[e,n]=[n,e],e.forEach(a),e.clear(),r=!1,s&&(s=!1,l.process(u))}};return l}const Gc=["read","resolveKeyframes","update","preRender","render","postRender"],iN=40;function JT(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=Gc.reduce((v,w)=>(v[w]=sN(i),v),{}),{read:a,resolveKeyframes:l,update:u,preRender:f,render:h,postRender:m}=o,y=()=>{const v=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(v-s.timestamp,iN),1),s.timestamp=v,s.isProcessing=!0,a.process(s),l.process(s),u.process(s),f.process(s),h.process(s),m.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(y))},E=()=>{n=!0,r=!0,s.isProcessing||t(y)};return{schedule:Gc.reduce((v,w)=>{const _=o[w];return v[w]=(D,V=!1,O=!1)=>(n||E(),_.schedule(D,V,O)),v},{}),cancel:v=>{for(let w=0;w<Gc.length;w++)o[Gc[w]].cancel(v)},state:s,steps:o}}const{schedule:Fe,cancel:ks,state:Tt,steps:cf}=JT(typeof requestAnimationFrame<"u"?requestAnimationFrame:hn,!0),ZT=k.createContext({strict:!1}),aw={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Mo={};for(const t in aw)Mo[t]={isEnabled:e=>aw[t].some(n=>!!e[n])};function oN(t){for(const e in t)Mo[e]={...Mo[e],...t[e]}}const aN=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function rd(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||aN.has(t)}let eb=t=>!rd(t);function lN(t){t&&(eb=e=>e.startsWith("on")?!rd(e):t(e))}try{lN(require("@emotion/is-prop-valid").default)}catch{}function cN(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(eb(s)||n===!0&&rd(s)||!e&&!rd(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}function uN(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,s)=>s==="create"?t:(e.has(s)||e.set(s,t(s)),e.get(s))})}const Kd=k.createContext({});function Il(t){return typeof t=="string"||Array.isArray(t)}function Qd(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const Mg=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],jg=["initial",...Mg];function Yd(t){return Qd(t.animate)||jg.some(e=>Il(t[e]))}function tb(t){return!!(Yd(t)||t.variants)}function dN(t,e){if(Yd(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Il(n)?n:void 0,animate:Il(r)?r:void 0}}return t.inherit!==!1?e:{}}function hN(t){const{initial:e,animate:n}=dN(t,k.useContext(Kd));return k.useMemo(()=>({initial:e,animate:n}),[lw(e),lw(n)])}function lw(t){return Array.isArray(t)?t.join(" "):t}const fN=Symbol.for("motionComponentSymbol");function lo(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function pN(t,e,n){return k.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):lo(n)&&(n.current=r))},[e])}const Vg=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),mN="framerAppearId",nb="data-"+Vg(mN),{schedule:Og}=JT(queueMicrotask,!1),rb=k.createContext({});function gN(t,e,n,r,s){var i,o;const{visualElement:a}=k.useContext(Kd),l=k.useContext(ZT),u=k.useContext(Gd),f=k.useContext(Pg).reducedMotion,h=k.useRef(null);r=r||l.renderer,!h.current&&r&&(h.current=r(t,{visualState:e,parent:a,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:f}));const m=h.current,y=k.useContext(rb);m&&!m.projection&&s&&(m.type==="html"||m.type==="svg")&&yN(h.current,n,s,y);const E=k.useRef(!1);k.useInsertionEffect(()=>{m&&E.current&&m.update(n,u)});const A=n[nb],S=k.useRef(!!A&&!(!((i=window.MotionHandoffIsComplete)===null||i===void 0)&&i.call(window,A))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,A)));return YT(()=>{m&&(E.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),Og.render(m.render),S.current&&m.animationState&&m.animationState.animateChanges())}),k.useEffect(()=>{m&&(!S.current&&m.animationState&&m.animationState.animateChanges(),S.current&&(queueMicrotask(()=>{var v;(v=window.MotionHandoffMarkAsComplete)===null||v===void 0||v.call(window,A)}),S.current=!1))}),m}function yN(t,e,n,r){const{layoutId:s,layout:i,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:u}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:sb(t.parent)),t.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||a&&lo(a),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:u})}function sb(t){if(t)return t.options.allowProjection!==!1?t.projection:sb(t.parent)}function vN({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:s}){var i,o;t&&oN(t);function a(u,f){let h;const m={...k.useContext(Pg),...u,layoutId:wN(u)},{isStatic:y}=m,E=hN(u),A=r(u,y);if(!y&&Ng){xN();const S=_N(m);h=S.MeasureLayout,E.visualElement=gN(s,A,m,e,S.ProjectionNode)}return d.jsxs(Kd.Provider,{value:E,children:[h&&E.visualElement?d.jsx(h,{visualElement:E.visualElement,...m}):null,n(s,u,pN(A,E.visualElement,f),A,y,E.visualElement)]})}a.displayName=`motion.${typeof s=="string"?s:`create(${(o=(i=s.displayName)!==null&&i!==void 0?i:s.name)!==null&&o!==void 0?o:""})`}`;const l=k.forwardRef(a);return l[fN]=s,l}function wN({layoutId:t}){const e=k.useContext(Rg).id;return e&&t!==void 0?e+"-"+t:t}function xN(t,e){k.useContext(ZT).strict}function _N(t){const{drag:e,layout:n}=Mo;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const EN=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Lg(t){return typeof t!="string"||t.includes("-")?!1:!!(EN.indexOf(t)>-1||/[A-Z]/u.test(t))}function cw(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function Fg(t,e,n,r){if(typeof e=="function"){const[s,i]=cw(r);e=e(n!==void 0?n:t.custom,s,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,i]=cw(r);e=e(n!==void 0?n:t.custom,s,i)}return e}const Lp=t=>Array.isArray(t),TN=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),bN=t=>Lp(t)?t[t.length-1]||0:t,Ot=t=>!!(t&&t.getVelocity);function yu(t){const e=Ot(t)?t.get():t;return TN(e)?e.toValue():e}function IN({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},r,s,i){const o={latestValues:SN(r,s,i,t),renderState:e()};return n&&(o.onMount=a=>n({props:r,current:a,...o}),o.onUpdate=a=>n(a)),o}const ib=t=>(e,n)=>{const r=k.useContext(Kd),s=k.useContext(Gd),i=()=>IN(t,e,r,s);return n?i():kg(i)};function SN(t,e,n,r){const s={},i=r(t,{});for(const m in i)s[m]=yu(i[m]);let{initial:o,animate:a}=t;const l=Yd(t),u=tb(t);e&&u&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let f=n?n.initial===!1:!1;f=f||o===!1;const h=f?a:o;if(h&&typeof h!="boolean"&&!Qd(h)){const m=Array.isArray(h)?h:[h];for(let y=0;y<m.length;y++){const E=Fg(t,m[y]);if(E){const{transitionEnd:A,transition:S,...v}=E;for(const w in v){let _=v[w];if(Array.isArray(_)){const D=f?_.length-1:0;_=_[D]}_!==null&&(s[w]=_)}for(const w in A)s[w]=A[w]}}}return s}const Qo=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Mi=new Set(Qo),ob=t=>e=>typeof e=="string"&&e.startsWith(t),ab=ob("--"),CN=ob("var(--"),Ug=t=>CN(t)?AN.test(t.split("/*")[0].trim()):!1,AN=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,lb=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Vr=(t,e,n)=>n>e?e:n<t?t:n,Yo={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Sl={...Yo,transform:t=>Vr(0,1,t)},Kc={...Yo,default:1},Jl=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),ns=Jl("deg"),rr=Jl("%"),se=Jl("px"),RN=Jl("vh"),kN=Jl("vw"),uw={...rr,parse:t=>rr.parse(t)/100,transform:t=>rr.transform(t*100)},PN={borderWidth:se,borderTopWidth:se,borderRightWidth:se,borderBottomWidth:se,borderLeftWidth:se,borderRadius:se,radius:se,borderTopLeftRadius:se,borderTopRightRadius:se,borderBottomRightRadius:se,borderBottomLeftRadius:se,width:se,maxWidth:se,height:se,maxHeight:se,top:se,right:se,bottom:se,left:se,padding:se,paddingTop:se,paddingRight:se,paddingBottom:se,paddingLeft:se,margin:se,marginTop:se,marginRight:se,marginBottom:se,marginLeft:se,backgroundPositionX:se,backgroundPositionY:se},NN={rotate:ns,rotateX:ns,rotateY:ns,rotateZ:ns,scale:Kc,scaleX:Kc,scaleY:Kc,scaleZ:Kc,skew:ns,skewX:ns,skewY:ns,distance:se,translateX:se,translateY:se,translateZ:se,x:se,y:se,z:se,perspective:se,transformPerspective:se,opacity:Sl,originX:uw,originY:uw,originZ:se},dw={...Yo,transform:Math.round},Bg={...PN,...NN,zIndex:dw,size:se,fillOpacity:Sl,strokeOpacity:Sl,numOctaves:dw},DN={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},MN=Qo.length;function jN(t,e,n){let r="",s=!0;for(let i=0;i<MN;i++){const o=Qo[i],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const u=lb(a,Bg[o]);if(!l){s=!1;const f=DN[o]||o;r+=`${f}(${u}) `}n&&(e[o]=u)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function zg(t,e,n){const{style:r,vars:s,transformOrigin:i}=t;let o=!1,a=!1;for(const l in e){const u=e[l];if(Mi.has(l)){o=!0;continue}else if(ab(l)){s[l]=u;continue}else{const f=lb(u,Bg[l]);l.startsWith("origin")?(a=!0,i[l]=f):r[l]=f}}if(e.transform||(o||n?r.transform=jN(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:u="50%",originZ:f=0}=i;r.transformOrigin=`${l} ${u} ${f}`}}const VN={offset:"stroke-dashoffset",array:"stroke-dasharray"},ON={offset:"strokeDashoffset",array:"strokeDasharray"};function LN(t,e,n=1,r=0,s=!0){t.pathLength=1;const i=s?VN:ON;t[i.offset]=se.transform(-r);const o=se.transform(e),a=se.transform(n);t[i.array]=`${o} ${a}`}function hw(t,e,n){return typeof t=="string"?t:se.transform(e+n*t)}function FN(t,e,n){const r=hw(e,t.x,t.width),s=hw(n,t.y,t.height);return`${r} ${s}`}function $g(t,{attrX:e,attrY:n,attrScale:r,originX:s,originY:i,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...u},f,h){if(zg(t,u,h),f){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:m,style:y,dimensions:E}=t;m.transform&&(E&&(y.transform=m.transform),delete m.transform),E&&(s!==void 0||i!==void 0||y.transform)&&(y.transformOrigin=FN(E,s!==void 0?s:.5,i!==void 0?i:.5)),e!==void 0&&(m.x=e),n!==void 0&&(m.y=n),r!==void 0&&(m.scale=r),o!==void 0&&LN(m,o,a,l,!1)}const Hg=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),cb=()=>({...Hg(),attrs:{}}),Wg=t=>typeof t=="string"&&t.toLowerCase()==="svg";function ub(t,{style:e,vars:n},r,s){Object.assign(t.style,e,s&&s.getProjectionStyles(r));for(const i in n)t.style.setProperty(i,n[i])}const db=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function hb(t,e,n,r){ub(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(db.has(s)?s:Vg(s),e.attrs[s])}const sd={};function UN(t){Object.assign(sd,t)}function fb(t,{layout:e,layoutId:n}){return Mi.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!sd[t]||t==="opacity")}function qg(t,e,n){var r;const{style:s}=t,i={};for(const o in s)(Ot(s[o])||e.style&&Ot(e.style[o])||fb(o,t)||((r=n==null?void 0:n.getValue(o))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(i[o]=s[o]);return i}function pb(t,e,n){const r=qg(t,e,n);for(const s in t)if(Ot(t[s])||Ot(e[s])){const i=Qo.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=t[s]}return r}function BN(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const fw=["x","y","width","height","cx","cy","r"],zN={useVisualState:ib({scrapeMotionValuesFromProps:pb,createRenderState:cb,onUpdate:({props:t,prevProps:e,current:n,renderState:r,latestValues:s})=>{if(!n)return;let i=!!t.drag;if(!i){for(const a in s)if(Mi.has(a)){i=!0;break}}if(!i)return;let o=!e;if(e)for(let a=0;a<fw.length;a++){const l=fw[a];t[l]!==e[l]&&(o=!0)}o&&Fe.read(()=>{BN(n,r),Fe.render(()=>{$g(r,s,Wg(n.tagName),t.transformTemplate),hb(n,r)})})}})},$N={useVisualState:ib({scrapeMotionValuesFromProps:qg,createRenderState:Hg})};function mb(t,e,n){for(const r in e)!Ot(e[r])&&!fb(r,n)&&(t[r]=e[r])}function HN({transformTemplate:t},e){return k.useMemo(()=>{const n=Hg();return zg(n,e,t),Object.assign({},n.vars,n.style)},[e])}function WN(t,e){const n=t.style||{},r={};return mb(r,n,t),Object.assign(r,HN(t,e)),r}function qN(t,e){const n={},r=WN(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}function GN(t,e,n,r){const s=k.useMemo(()=>{const i=cb();return $g(i,e,Wg(r),t.transformTemplate),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};mb(i,t.style,t),s.style={...i,...s.style}}return s}function KN(t=!1){return(n,r,s,{latestValues:i},o)=>{const l=(Lg(n)?GN:qN)(r,i,o,n),u=cN(r,typeof n=="string",t),f=n!==k.Fragment?{...u,...l,ref:s}:{},{children:h}=r,m=k.useMemo(()=>Ot(h)?h.get():h,[h]);return k.createElement(n,{...f,children:m})}}function QN(t,e){return function(r,{forwardMotionProps:s}={forwardMotionProps:!1}){const o={...Lg(r)?zN:$N,preloadedFeatures:t,useRender:KN(s),createVisualElement:e,Component:r};return vN(o)}}function gb(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function Xd(t,e,n){const r=t.getProps();return Fg(r,e,n!==void 0?n:r.custom,t)}const YN=Dg(()=>window.ScrollTimeline!==void 0);class XN{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(s=>{if(YN()&&s.attachTimeline)return s.attachTimeline(e);if(typeof n=="function")return n(s)});return()=>{r.forEach((s,i)=>{s&&s(),this.animations[i].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class JN extends XN{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function Gg(t,e){return t?t[e]||t.default||t:void 0}const Fp=2e4;function yb(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Fp;)e+=n,r=t.next(e);return e>=Fp?1/0:e}function Kg(t){return typeof t=="function"}function pw(t,e){t.timeline=e,t.onfinish=null}const Qg=t=>Array.isArray(t)&&typeof t[0]=="number",ZN={linearEasing:void 0};function eD(t,e){const n=Dg(t);return()=>{var r;return(r=ZN[e])!==null&&r!==void 0?r:n()}}const id=eD(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),vb=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let i=0;i<s;i++)r+=t(Do(0,s-1,i))+", ";return`linear(${r.substring(0,r.length-2)})`};function wb(t){return!!(typeof t=="function"&&id()||!t||typeof t=="string"&&(t in Up||id())||Qg(t)||Array.isArray(t)&&t.every(wb))}const ka=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,Up={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ka([0,.65,.55,1]),circOut:ka([.55,0,1,.45]),backIn:ka([.31,.01,.66,-.59]),backOut:ka([.33,1.53,.69,.99])};function xb(t,e){if(t)return typeof t=="function"&&id()?vb(t,e):Qg(t)?ka(t):Array.isArray(t)?t.map(n=>xb(n,e)||Up.easeOut):Up[t]}const jn={x:!1,y:!1};function _b(){return jn.x||jn.y}function tD(t,e,n){var r;if(t instanceof Element)return[t];if(typeof t=="string"){let s=document;const i=(r=void 0)!==null&&r!==void 0?r:s.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}function Eb(t,e){const n=tD(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function mw(t){return e=>{e.pointerType==="touch"||_b()||t(e)}}function nD(t,e,n={}){const[r,s,i]=Eb(t,n),o=mw(a=>{const{target:l}=a,u=e(a);if(typeof u!="function"||!l)return;const f=mw(h=>{u(h),l.removeEventListener("pointerleave",f)});l.addEventListener("pointerleave",f,s)});return r.forEach(a=>{a.addEventListener("pointerenter",o,s)}),i}const Tb=(t,e)=>e?t===e?!0:Tb(t,e.parentElement):!1,Yg=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,rD=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function sD(t){return rD.has(t.tagName)||t.tabIndex!==-1}const Pa=new WeakSet;function gw(t){return e=>{e.key==="Enter"&&t(e)}}function uf(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const iD=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=gw(()=>{if(Pa.has(n))return;uf(n,"down");const s=gw(()=>{uf(n,"up")}),i=()=>uf(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",i,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function yw(t){return Yg(t)&&!_b()}function oD(t,e,n={}){const[r,s,i]=Eb(t,n),o=a=>{const l=a.currentTarget;if(!yw(a)||Pa.has(l))return;Pa.add(l);const u=e(a),f=(y,E)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",m),!(!yw(y)||!Pa.has(l))&&(Pa.delete(l),typeof u=="function"&&u(y,{success:E}))},h=y=>{f(y,n.useGlobalTarget||Tb(l,y.target))},m=y=>{f(y,!1)};window.addEventListener("pointerup",h,s),window.addEventListener("pointercancel",m,s)};return r.forEach(a=>{!sD(a)&&a.getAttribute("tabindex")===null&&(a.tabIndex=0),(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,s),a.addEventListener("focus",u=>iD(u,s),s)}),i}function aD(t){return t==="x"||t==="y"?jn[t]?null:(jn[t]=!0,()=>{jn[t]=!1}):jn.x||jn.y?null:(jn.x=jn.y=!0,()=>{jn.x=jn.y=!1})}const bb=new Set(["width","height","top","left","right","bottom",...Qo]);let vu;function lD(){vu=void 0}const sr={now:()=>(vu===void 0&&sr.set(Tt.isProcessing||rN.useManualTiming?Tt.timestamp:performance.now()),vu),set:t=>{vu=t,queueMicrotask(lD)}};function Xg(t,e){t.indexOf(e)===-1&&t.push(e)}function Jg(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Zg{constructor(){this.subscriptions=[]}add(e){return Xg(this.subscriptions,e),()=>Jg(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function Ib(t,e){return e?t*(1e3/e):0}const vw=30,cD=t=>!isNaN(parseFloat(t));class uD{constructor(e,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,s=!0)=>{const i=sr.now();this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=sr.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=cD(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Zg);const r=this.events[e].add(n);return e==="change"?()=>{r(),Fe.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=sr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>vw)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,vw);return Ib(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Cl(t,e){return new uD(t,e)}function dD(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Cl(n))}function hD(t,e){const n=Xd(t,e);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const o in i){const a=bN(i[o]);dD(t,o,a)}}function fD(t){return!!(Ot(t)&&t.add)}function Bp(t,e){const n=t.getValue("willChange");if(fD(n))return n.add(e)}function Sb(t){return t.props[nb]}const Cb=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,pD=1e-7,mD=12;function gD(t,e,n,r,s){let i,o,a=0;do o=e+(n-e)/2,i=Cb(o,r,s)-t,i>0?n=o:e=o;while(Math.abs(i)>pD&&++a<mD);return o}function Zl(t,e,n,r){if(t===e&&n===r)return hn;const s=i=>gD(i,0,1,t,n);return i=>i===0||i===1?i:Cb(s(i),e,r)}const Ab=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,Rb=t=>e=>1-t(1-e),kb=Zl(.33,1.53,.69,.99),ey=Rb(kb),Pb=Ab(ey),Nb=t=>(t*=2)<1?.5*ey(t):.5*(2-Math.pow(2,-10*(t-1))),ty=t=>1-Math.sin(Math.acos(t)),Db=Rb(ty),Mb=Ab(ty),jb=t=>/^0[^.\s]+$/u.test(t);function yD(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||jb(t):!0}const Ka=t=>Math.round(t*1e5)/1e5,ny=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function vD(t){return t==null}const wD=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,ry=(t,e)=>n=>!!(typeof n=="string"&&wD.test(n)&&n.startsWith(t)||e&&!vD(n)&&Object.prototype.hasOwnProperty.call(n,e)),Vb=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,i,o,a]=r.match(ny);return{[t]:parseFloat(s),[e]:parseFloat(i),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},xD=t=>Vr(0,255,t),df={...Yo,transform:t=>Math.round(xD(t))},di={test:ry("rgb","red"),parse:Vb("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+df.transform(t)+", "+df.transform(e)+", "+df.transform(n)+", "+Ka(Sl.transform(r))+")"};function _D(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const zp={test:ry("#"),parse:_D,transform:di.transform},co={test:ry("hsl","hue"),parse:Vb("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+rr.transform(Ka(e))+", "+rr.transform(Ka(n))+", "+Ka(Sl.transform(r))+")"},Nt={test:t=>di.test(t)||zp.test(t)||co.test(t),parse:t=>di.test(t)?di.parse(t):co.test(t)?co.parse(t):zp.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?di.transform(t):co.transform(t)},ED=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function TD(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(ny))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(ED))===null||n===void 0?void 0:n.length)||0)>0}const Ob="number",Lb="color",bD="var",ID="var(",ww="${}",SD=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Al(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const a=e.replace(SD,l=>(Nt.test(l)?(r.color.push(i),s.push(Lb),n.push(Nt.parse(l))):l.startsWith(ID)?(r.var.push(i),s.push(bD),n.push(l)):(r.number.push(i),s.push(Ob),n.push(parseFloat(l))),++i,ww)).split(ww);return{values:n,split:a,indexes:r,types:s}}function Fb(t){return Al(t).values}function Ub(t){const{split:e,types:n}=Al(t),r=e.length;return s=>{let i="";for(let o=0;o<r;o++)if(i+=e[o],s[o]!==void 0){const a=n[o];a===Ob?i+=Ka(s[o]):a===Lb?i+=Nt.transform(s[o]):i+=s[o]}return i}}const CD=t=>typeof t=="number"?0:t;function AD(t){const e=Fb(t);return Ub(t)(e.map(CD))}const Ps={test:TD,parse:Fb,createTransformer:Ub,getAnimatableNone:AD},RD=new Set(["brightness","contrast","saturate","opacity"]);function kD(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(ny)||[];if(!r)return t;const s=n.replace(r,"");let i=RD.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+s+")"}const PD=/\b([a-z-]*)\(.*?\)/gu,$p={...Ps,getAnimatableNone:t=>{const e=t.match(PD);return e?e.map(kD).join(" "):t}},ND={...Bg,color:Nt,backgroundColor:Nt,outlineColor:Nt,fill:Nt,stroke:Nt,borderColor:Nt,borderTopColor:Nt,borderRightColor:Nt,borderBottomColor:Nt,borderLeftColor:Nt,filter:$p,WebkitFilter:$p},sy=t=>ND[t];function Bb(t,e){let n=sy(t);return n!==$p&&(n=Ps),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const DD=new Set(["auto","none","0"]);function MD(t,e,n){let r=0,s;for(;r<t.length&&!s;){const i=t[r];typeof i=="string"&&!DD.has(i)&&Al(i).values.length&&(s=t[r]),r++}if(s&&n)for(const i of e)t[i]=Bb(n,s)}const xw=t=>t===Yo||t===se,_w=(t,e)=>parseFloat(t.split(", ")[e]),Ew=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/u);if(s)return _w(s[1],e);{const i=r.match(/^matrix\((.+)\)$/u);return i?_w(i[1],t):0}},jD=new Set(["x","y","z"]),VD=Qo.filter(t=>!jD.has(t));function OD(t){const e=[];return VD.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const jo={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:Ew(4,13),y:Ew(5,14)};jo.translateX=jo.x;jo.translateY=jo.y;const gi=new Set;let Hp=!1,Wp=!1;function zb(){if(Wp){const t=Array.from(gi).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=OD(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,o])=>{var a;(a=r.getValue(i))===null||a===void 0||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Wp=!1,Hp=!1,gi.forEach(t=>t.complete()),gi.clear()}function $b(){gi.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Wp=!0)})}function LD(){$b(),zb()}class iy{constructor(e,n,r,s,i,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(gi.add(this),Hp||(Hp=!0,Fe.read($b),Fe.resolveKeyframes(zb))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;for(let i=0;i<e.length;i++)if(e[i]===null)if(i===0){const o=s==null?void 0:s.get(),a=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&n){const l=r.readValue(n,a);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=a),s&&o===void 0&&s.set(e[0])}else e[i]=e[i-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),gi.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,gi.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const Hb=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),FD=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function UD(t){const e=FD.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function Wb(t,e,n=1){const[r,s]=UD(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const o=i.trim();return Hb(o)?parseFloat(o):o}return Ug(s)?Wb(s,e,n+1):s}const qb=t=>e=>e.test(t),BD={test:t=>t==="auto",parse:t=>t},Gb=[Yo,se,rr,ns,kN,RN,BD],Tw=t=>Gb.find(qb(t));class Kb extends iy{constructor(e,n,r,s,i){super(e,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let u=e[l];if(typeof u=="string"&&(u=u.trim(),Ug(u))){const f=Wb(u,n.current);f!==void 0&&(e[l]=f),l===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!bb.has(r)||e.length!==2)return;const[s,i]=e,o=Tw(s),a=Tw(i);if(o!==a)if(xw(o)&&xw(a))for(let l=0;l<e.length;l++){const u=e[l];typeof u=="string"&&(e[l]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)yD(e[s])&&r.push(s);r.length&&MD(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=jo[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:s}=this;if(!n||!n.current)return;const i=n.getValue(r);i&&i.jump(this.measuredOrigin,!1);const o=s.length-1,a=s[o];s[o]=jo[r](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,u])=>{n.getValue(l).set(u)}),this.resolveNoneKeyframes()}}const bw=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Ps.test(t)||t==="0")&&!t.startsWith("url("));function zD(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function $D(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],o=bw(s,e),a=bw(i,e);return!o||!a?!1:zD(t)||(n==="spring"||Kg(n))&&r}const HD=t=>t!==null;function Jd(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(HD),i=e&&n!=="loop"&&e%2===1?0:s.length-1;return!i||r===void 0?s[i]:r}const WD=40;class Qb{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=sr.now(),this.options={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:o,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>WD?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&LD(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=sr.now(),this.hasAttemptedResolve=!0;const{name:r,type:s,velocity:i,delay:o,onComplete:a,onUpdate:l,isGenerator:u}=this.options;if(!u&&!$D(e,r,s,i))if(o)this.options.duration=0;else{l&&l(Jd(e,this.options,n)),a&&a(),this.resolveFinishedPromise();return}const f=this.initPlayback(e,n);f!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...f},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const qe=(t,e,n)=>t+(e-t)*n;function hf(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function qD({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,i=0,o=0;if(!e)s=i=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;s=hf(l,a,t+1/3),i=hf(l,a,t),o=hf(l,a,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}function od(t,e){return n=>n>0?e:t}const ff=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},GD=[zp,di,co],KD=t=>GD.find(e=>e.test(t));function Iw(t){const e=KD(t);if(!e)return!1;let n=e.parse(t);return e===co&&(n=qD(n)),n}const Sw=(t,e)=>{const n=Iw(t),r=Iw(e);if(!n||!r)return od(t,e);const s={...n};return i=>(s.red=ff(n.red,r.red,i),s.green=ff(n.green,r.green,i),s.blue=ff(n.blue,r.blue,i),s.alpha=qe(n.alpha,r.alpha,i),di.transform(s))},QD=(t,e)=>n=>e(t(n)),ec=(...t)=>t.reduce(QD),qp=new Set(["none","hidden"]);function YD(t,e){return qp.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function XD(t,e){return n=>qe(t,e,n)}function oy(t){return typeof t=="number"?XD:typeof t=="string"?Ug(t)?od:Nt.test(t)?Sw:eM:Array.isArray(t)?Yb:typeof t=="object"?Nt.test(t)?Sw:JD:od}function Yb(t,e){const n=[...t],r=n.length,s=t.map((i,o)=>oy(i)(i,e[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}}function JD(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=oy(t[s])(t[s],e[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function ZD(t,e){var n;const r=[],s={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const o=e.types[i],a=t.indexes[o][s[o]],l=(n=t.values[a])!==null&&n!==void 0?n:0;r[i]=l,s[o]++}return r}const eM=(t,e)=>{const n=Ps.createTransformer(e),r=Al(t),s=Al(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?qp.has(t)&&!s.values.length||qp.has(e)&&!r.values.length?YD(t,e):ec(Yb(ZD(r,s),s.values),n):od(t,e)};function Xb(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?qe(t,e,n):oy(t)(t,e)}const tM=5;function Jb(t,e,n){const r=Math.max(e-tM,0);return Ib(n-t(r),e-r)}const Xe={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},pf=.001;function nM({duration:t=Xe.duration,bounce:e=Xe.bounce,velocity:n=Xe.velocity,mass:r=Xe.mass}){let s,i,o=1-e;o=Vr(Xe.minDamping,Xe.maxDamping,o),t=Vr(Xe.minDuration,Xe.maxDuration,Rr(t)),o<1?(s=u=>{const f=u*o,h=f*t,m=f-n,y=Gp(u,o),E=Math.exp(-h);return pf-m/y*E},i=u=>{const h=u*o*t,m=h*n+n,y=Math.pow(o,2)*Math.pow(u,2)*t,E=Math.exp(-h),A=Gp(Math.pow(u,2),o);return(-s(u)+pf>0?-1:1)*((m-y)*E)/A}):(s=u=>{const f=Math.exp(-u*t),h=(u-n)*t+1;return-pf+f*h},i=u=>{const f=Math.exp(-u*t),h=(n-u)*(t*t);return f*h});const a=5/t,l=sM(s,i,a);if(t=Ar(t),isNaN(l))return{stiffness:Xe.stiffness,damping:Xe.damping,duration:t};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:t}}}const rM=12;function sM(t,e,n){let r=n;for(let s=1;s<rM;s++)r=r-t(r)/e(r);return r}function Gp(t,e){return t*Math.sqrt(1-e*e)}const iM=["duration","bounce"],oM=["stiffness","damping","mass"];function Cw(t,e){return e.some(n=>t[n]!==void 0)}function aM(t){let e={velocity:Xe.velocity,stiffness:Xe.stiffness,damping:Xe.damping,mass:Xe.mass,isResolvedFromDuration:!1,...t};if(!Cw(t,oM)&&Cw(t,iM))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*Vr(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:Xe.mass,stiffness:s,damping:i}}else{const n=nM(t);e={...e,...n,mass:Xe.mass},e.isResolvedFromDuration=!0}return e}function Zb(t=Xe.visualDuration,e=Xe.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:i},{stiffness:l,damping:u,mass:f,duration:h,velocity:m,isResolvedFromDuration:y}=aM({...n,velocity:-Rr(n.velocity||0)}),E=m||0,A=u/(2*Math.sqrt(l*f)),S=o-i,v=Rr(Math.sqrt(l/f)),w=Math.abs(S)<5;r||(r=w?Xe.restSpeed.granular:Xe.restSpeed.default),s||(s=w?Xe.restDelta.granular:Xe.restDelta.default);let _;if(A<1){const V=Gp(v,A);_=O=>{const T=Math.exp(-A*v*O);return o-T*((E+A*v*S)/V*Math.sin(V*O)+S*Math.cos(V*O))}}else if(A===1)_=V=>o-Math.exp(-v*V)*(S+(E+v*S)*V);else{const V=v*Math.sqrt(A*A-1);_=O=>{const T=Math.exp(-A*v*O),x=Math.min(V*O,300);return o-T*((E+A*v*S)*Math.sinh(x)+V*S*Math.cosh(x))/V}}const D={calculatedDuration:y&&h||null,next:V=>{const O=_(V);if(y)a.done=V>=h;else{let T=0;A<1&&(T=V===0?Ar(E):Jb(_,V,O));const x=Math.abs(T)<=r,C=Math.abs(o-O)<=s;a.done=x&&C}return a.value=a.done?o:O,a},toString:()=>{const V=Math.min(yb(D),Fp),O=vb(T=>D.next(V*T).value,V,30);return V+"ms "+O}};return D}function Aw({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:a,max:l,restDelta:u=.5,restSpeed:f}){const h=t[0],m={done:!1,value:h},y=x=>a!==void 0&&x<a||l!==void 0&&x>l,E=x=>a===void 0?l:l===void 0||Math.abs(a-x)<Math.abs(l-x)?a:l;let A=n*e;const S=h+A,v=o===void 0?S:o(S);v!==S&&(A=v-h);const w=x=>-A*Math.exp(-x/r),_=x=>v+w(x),D=x=>{const C=w(x),I=_(x);m.done=Math.abs(C)<=u,m.value=m.done?v:I};let V,O;const T=x=>{y(m.value)&&(V=x,O=Zb({keyframes:[m.value,E(m.value)],velocity:Jb(_,x,m.value),damping:s,stiffness:i,restDelta:u,restSpeed:f}))};return T(0),{calculatedDuration:null,next:x=>{let C=!1;return!O&&V===void 0&&(C=!0,D(x),T(x)),V!==void 0&&x>=V?O.next(x-V):(!C&&D(x),m)}}}const lM=Zl(.42,0,1,1),cM=Zl(0,0,.58,1),eI=Zl(.42,0,.58,1),uM=t=>Array.isArray(t)&&typeof t[0]!="number",dM={linear:hn,easeIn:lM,easeInOut:eI,easeOut:cM,circIn:ty,circInOut:Mb,circOut:Db,backIn:ey,backInOut:Pb,backOut:kb,anticipate:Nb},Rw=t=>{if(Qg(t)){XT(t.length===4);const[e,n,r,s]=t;return Zl(e,n,r,s)}else if(typeof t=="string")return dM[t];return t};function hM(t,e,n){const r=[],s=n||Xb,i=t.length-1;for(let o=0;o<i;o++){let a=s(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||hn:e;a=ec(l,a)}r.push(a)}return r}function fM(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const i=t.length;if(XT(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=hM(e,r,s),l=a.length,u=f=>{if(o&&f<t[0])return e[0];let h=0;if(l>1)for(;h<t.length-2&&!(f<t[h+1]);h++);const m=Do(t[h],t[h+1],f);return a[h](m)};return n?f=>u(Vr(t[0],t[i-1],f)):u}function pM(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=Do(0,e,r);t.push(qe(n,1,s))}}function mM(t){const e=[0];return pM(e,t.length-1),e}function gM(t,e){return t.map(n=>n*e)}function yM(t,e){return t.map(()=>e||eI).splice(0,t.length-1)}function ad({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=uM(r)?r.map(Rw):Rw(r),i={done:!1,value:e[0]},o=gM(n&&n.length===e.length?n:mM(e),t),a=fM(o,e,{ease:Array.isArray(s)?s:yM(e,s)});return{calculatedDuration:t,next:l=>(i.value=a(l),i.done=l>=t,i)}}const vM=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Fe.update(e,!0),stop:()=>ks(e),now:()=>Tt.isProcessing?Tt.timestamp:sr.now()}},wM={decay:Aw,inertia:Aw,tween:ad,keyframes:ad,spring:Zb},xM=t=>t/100;class ay extends Qb{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:r,element:s,keyframes:i}=this.options,o=(s==null?void 0:s.KeyframeResolver)||iy,a=(l,u)=>this.onKeyframesResolved(l,u);this.resolver=new o(i,a,n,r,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=this.options,a=Kg(n)?n:wM[n]||ad;let l,u;a!==ad&&typeof e[0]!="number"&&(l=ec(xM,Xb(e[0],e[1])),e=[0,100]);const f=a({...this.options,keyframes:e});i==="mirror"&&(u=a({...this.options,keyframes:[...e].reverse(),velocity:-o})),f.calculatedDuration===null&&(f.calculatedDuration=yb(f));const{calculatedDuration:h}=f,m=h+s,y=m*(r+1)-s;return{generator:f,mirroredGenerator:u,mapPercentToKeyframes:l,calculatedDuration:h,resolvedDuration:m,totalDuration:y}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:x}=this.options;return{done:!0,value:x[x.length-1]}}const{finalKeyframe:s,generator:i,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:u,totalDuration:f,resolvedDuration:h}=r;if(this.startTime===null)return i.next(0);const{delay:m,repeat:y,repeatType:E,repeatDelay:A,onUpdate:S}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-f/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const v=this.currentTime-m*(this.speed>=0?1:-1),w=this.speed>=0?v<0:v>f;this.currentTime=Math.max(v,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=f);let _=this.currentTime,D=i;if(y){const x=Math.min(this.currentTime,f)/h;let C=Math.floor(x),I=x%1;!I&&x>=1&&(I=1),I===1&&C--,C=Math.min(C,y+1),!!(C%2)&&(E==="reverse"?(I=1-I,A&&(I-=A/h)):E==="mirror"&&(D=o)),_=Vr(0,1,I)*h}const V=w?{done:!1,value:l[0]}:D.next(_);a&&(V.value=a(V.value));let{done:O}=V;!w&&u!==null&&(O=this.speed>=0?this.currentTime>=f:this.currentTime<=0);const T=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&O);return T&&s!==void 0&&(V.value=Jd(l,this.options,s)),S&&S(V.value),T&&this.finish(),V}get duration(){const{resolved:e}=this;return e?Rr(e.calculatedDuration):0}get time(){return Rr(this.currentTime)}set time(e){e=Ar(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Rr(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=vM,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),n&&n();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const _M=new Set(["opacity","clipPath","filter","transform"]);function EM(t,e,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:a="easeInOut",times:l}={}){const u={[e]:n};l&&(u.offset=l);const f=xb(a,s);return Array.isArray(f)&&(u.easing=f),t.animate(u,{delay:r,duration:s,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}const TM=Dg(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),ld=10,bM=2e4;function IM(t){return Kg(t.type)||t.type==="spring"||!wb(t.ease)}function SM(t,e){const n=new ay({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const s=[];let i=0;for(;!r.done&&i<bM;)r=n.sample(i),s.push(r.value),i+=ld;return{times:void 0,keyframes:s,duration:i-ld,ease:"linear"}}const tI={anticipate:Nb,backInOut:Pb,circInOut:Mb};function CM(t){return t in tI}class kw extends Qb{constructor(e){super(e);const{name:n,motionValue:r,element:s,keyframes:i}=this.options;this.resolver=new Kb(i,(o,a)=>this.onKeyframesResolved(o,a),n,r,s),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:r=300,times:s,ease:i,type:o,motionValue:a,name:l,startTime:u}=this.options;if(!a.owner||!a.owner.current)return!1;if(typeof i=="string"&&id()&&CM(i)&&(i=tI[i]),IM(this.options)){const{onComplete:h,onUpdate:m,motionValue:y,element:E,...A}=this.options,S=SM(e,A);e=S.keyframes,e.length===1&&(e[1]=e[0]),r=S.duration,s=S.times,i=S.ease,o="keyframes"}const f=EM(a.owner.current,l,e,{...this.options,duration:r,times:s,ease:i});return f.startTime=u??this.calcStartTime(),this.pendingTimeline?(pw(f,this.pendingTimeline),this.pendingTimeline=void 0):f.onfinish=()=>{const{onComplete:h}=this.options;a.set(Jd(e,this.options,n)),h&&h(),this.cancel(),this.resolveFinishedPromise()},{animation:f,duration:r,times:s,type:o,ease:i,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return Rr(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return Rr(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=Ar(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return hn;const{animation:r}=n;pw(r,e)}return hn}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:s,type:i,ease:o,times:a}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:f,onComplete:h,element:m,...y}=this.options,E=new ay({...y,keyframes:r,duration:s,type:i,ease:o,times:a,isGenerator:!0}),A=Ar(this.time);u.setWithVelocity(E.sample(A-ld).value,E.sample(A).value,ld)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:s,repeatType:i,damping:o,type:a}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:u}=n.owner.getProps();return TM()&&r&&_M.has(r)&&!l&&!u&&!s&&i!=="mirror"&&o!==0&&a!=="inertia"}}const AM={type:"spring",stiffness:500,damping:25,restSpeed:10},RM=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),kM={type:"keyframes",duration:.8},PM={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},NM=(t,{keyframes:e})=>e.length>2?kM:Mi.has(t)?t.startsWith("scale")?RM(e[1]):AM:PM;function DM({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:a,from:l,elapsed:u,...f}){return!!Object.keys(f).length}const ly=(t,e,n,r={},s,i)=>o=>{const a=Gg(r,t)||{},l=a.delay||r.delay||0;let{elapsed:u=0}=r;u=u-Ar(l);let f={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-u,onUpdate:m=>{e.set(m),a.onUpdate&&a.onUpdate(m)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:i?void 0:s};DM(a)||(f={...f,...NM(t,f)}),f.duration&&(f.duration=Ar(f.duration)),f.repeatDelay&&(f.repeatDelay=Ar(f.repeatDelay)),f.from!==void 0&&(f.keyframes[0]=f.from);let h=!1;if((f.type===!1||f.duration===0&&!f.repeatDelay)&&(f.duration=0,f.delay===0&&(h=!0)),h&&!i&&e.get()!==void 0){const m=Jd(f.keyframes,a);if(m!==void 0)return Fe.update(()=>{f.onUpdate(m),f.onComplete()}),new JN([])}return!i&&kw.supports(f)?new kw(f):new ay(f)};function MM({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function nI(t,e,{delay:n=0,transitionOverride:r,type:s}={}){var i;let{transition:o=t.getDefaultTransition(),transitionEnd:a,...l}=e;r&&(o=r);const u=[],f=s&&t.animationState&&t.animationState.getState()[s];for(const h in l){const m=t.getValue(h,(i=t.latestValues[h])!==null&&i!==void 0?i:null),y=l[h];if(y===void 0||f&&MM(f,h))continue;const E={delay:n,...Gg(o||{},h)};let A=!1;if(window.MotionHandoffAnimation){const v=Sb(t);if(v){const w=window.MotionHandoffAnimation(v,h,Fe);w!==null&&(E.startTime=w,A=!0)}}Bp(t,h),m.start(ly(h,m,y,t.shouldReduceMotion&&bb.has(h)?{type:!1}:E,t,A));const S=m.animation;S&&u.push(S)}return a&&Promise.all(u).then(()=>{Fe.update(()=>{a&&hD(t,a)})}),u}function Kp(t,e,n={}){var r;const s=Xd(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(i=n.transitionOverride);const o=s?()=>Promise.all(nI(t,s,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:f=0,staggerChildren:h,staggerDirection:m}=i;return jM(t,e,f+u,h,m,n)}:()=>Promise.resolve(),{when:l}=i;if(l){const[u,f]=l==="beforeChildren"?[o,a]:[a,o];return u().then(()=>f())}else return Promise.all([o(),a(n.delay)])}function jM(t,e,n=0,r=0,s=1,i){const o=[],a=(t.variantChildren.size-1)*r,l=s===1?(u=0)=>u*r:(u=0)=>a-u*r;return Array.from(t.variantChildren).sort(VM).forEach((u,f)=>{u.notify("AnimationStart",e),o.push(Kp(u,e,{...i,delay:n+l(f)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(o)}function VM(t,e){return t.sortNodePosition(e)}function OM(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(i=>Kp(t,i,n));r=Promise.all(s)}else if(typeof e=="string")r=Kp(t,e,n);else{const s=typeof e=="function"?Xd(t,e,n.custom):e;r=Promise.all(nI(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const LM=jg.length;function rI(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?rI(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<LM;n++){const r=jg[n],s=t.props[r];(Il(s)||s===!1)&&(e[r]=s)}return e}const FM=[...Mg].reverse(),UM=Mg.length;function BM(t){return e=>Promise.all(e.map(({animation:n,options:r})=>OM(t,n,r)))}function zM(t){let e=BM(t),n=Pw(),r=!0;const s=l=>(u,f)=>{var h;const m=Xd(t,f,l==="exit"?(h=t.presenceContext)===null||h===void 0?void 0:h.custom:void 0);if(m){const{transition:y,transitionEnd:E,...A}=m;u={...u,...A,...E}}return u};function i(l){e=l(t)}function o(l){const{props:u}=t,f=rI(t.parent)||{},h=[],m=new Set;let y={},E=1/0;for(let S=0;S<UM;S++){const v=FM[S],w=n[v],_=u[v]!==void 0?u[v]:f[v],D=Il(_),V=v===l?w.isActive:null;V===!1&&(E=S);let O=_===f[v]&&_!==u[v]&&D;if(O&&r&&t.manuallyAnimateOnMount&&(O=!1),w.protectedKeys={...y},!w.isActive&&V===null||!_&&!w.prevProp||Qd(_)||typeof _=="boolean")continue;const T=$M(w.prevProp,_);let x=T||v===l&&w.isActive&&!O&&D||S>E&&D,C=!1;const I=Array.isArray(_)?_:[_];let N=I.reduce(s(v),{});V===!1&&(N={});const{prevResolvedValues:j={}}=w,R={...j,...N},pe=ce=>{x=!0,m.has(ce)&&(C=!0,m.delete(ce)),w.needsAnimating[ce]=!0;const $=t.getValue(ce);$&&($.liveStyle=!1)};for(const ce in R){const $=N[ce],Z=j[ce];if(y.hasOwnProperty(ce))continue;let M=!1;Lp($)&&Lp(Z)?M=!gb($,Z):M=$!==Z,M?$!=null?pe(ce):m.add(ce):$!==void 0&&m.has(ce)?pe(ce):w.protectedKeys[ce]=!0}w.prevProp=_,w.prevResolvedValues=N,w.isActive&&(y={...y,...N}),r&&t.blockInitialAnimation&&(x=!1),x&&(!(O&&T)||C)&&h.push(...I.map(ce=>({animation:ce,options:{type:v}})))}if(m.size){const S={};m.forEach(v=>{const w=t.getBaseTarget(v),_=t.getValue(v);_&&(_.liveStyle=!0),S[v]=w??null}),h.push({animation:S})}let A=!!h.length;return r&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(A=!1),r=!1,A?e(h):Promise.resolve()}function a(l,u){var f;if(n[l].isActive===u)return Promise.resolve();(f=t.variantChildren)===null||f===void 0||f.forEach(m=>{var y;return(y=m.animationState)===null||y===void 0?void 0:y.setActive(l,u)}),n[l].isActive=u;const h=o(l);for(const m in n)n[m].protectedKeys={};return h}return{animateChanges:o,setActive:a,setAnimateFunction:i,getState:()=>n,reset:()=>{n=Pw(),r=!0}}}function $M(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!gb(e,t):!1}function ei(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Pw(){return{animate:ei(!0),whileInView:ei(),whileHover:ei(),whileTap:ei(),whileDrag:ei(),whileFocus:ei(),exit:ei()}}class $s{constructor(e){this.isMounted=!1,this.node=e}update(){}}class HM extends $s{constructor(e){super(e),e.animationState||(e.animationState=zM(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Qd(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let WM=0;class qM extends $s{constructor(){super(...arguments),this.id=WM++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const GM={animation:{Feature:HM},exit:{Feature:qM}};function Rl(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function tc(t){return{point:{x:t.pageX,y:t.pageY}}}const KM=t=>e=>Yg(e)&&t(e,tc(e));function Qa(t,e,n,r){return Rl(t,e,KM(n),r)}const Nw=(t,e)=>Math.abs(t-e);function QM(t,e){const n=Nw(t.x,e.x),r=Nw(t.y,e.y);return Math.sqrt(n**2+r**2)}class sI{constructor(e,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=gf(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,y=QM(h.offset,{x:0,y:0})>=3;if(!m&&!y)return;const{point:E}=h,{timestamp:A}=Tt;this.history.push({...E,timestamp:A});const{onStart:S,onMove:v}=this.handlers;m||(S&&S(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,h)},this.handlePointerMove=(h,m)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=mf(m,this.transformPagePoint),Fe.update(this.updatePoint,!0)},this.handlePointerUp=(h,m)=>{this.end();const{onEnd:y,onSessionEnd:E,resumeAnimation:A}=this.handlers;if(this.dragSnapToOrigin&&A&&A(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=gf(h.type==="pointercancel"?this.lastMoveEventInfo:mf(m,this.transformPagePoint),this.history);this.startEvent&&y&&y(h,S),E&&E(h,S)},!Yg(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const o=tc(e),a=mf(o,this.transformPagePoint),{point:l}=a,{timestamp:u}=Tt;this.history=[{...l,timestamp:u}];const{onSessionStart:f}=n;f&&f(e,gf(a,this.history)),this.removeListeners=ec(Qa(this.contextWindow,"pointermove",this.handlePointerMove),Qa(this.contextWindow,"pointerup",this.handlePointerUp),Qa(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ks(this.updatePoint)}}function mf(t,e){return e?{point:e(t.point)}:t}function Dw(t,e){return{x:t.x-e.x,y:t.y-e.y}}function gf({point:t},e){return{point:t,delta:Dw(t,iI(e)),offset:Dw(t,YM(e)),velocity:XM(e,.1)}}function YM(t){return t[0]}function iI(t){return t[t.length-1]}function XM(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=iI(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>Ar(e)));)n--;if(!r)return{x:0,y:0};const i=Rr(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}const oI=1e-4,JM=1-oI,ZM=1+oI,aI=.01,ej=0-aI,tj=0+aI;function pn(t){return t.max-t.min}function nj(t,e,n){return Math.abs(t-e)<=n}function Mw(t,e,n,r=.5){t.origin=r,t.originPoint=qe(e.min,e.max,t.origin),t.scale=pn(n)/pn(e),t.translate=qe(n.min,n.max,t.origin)-t.originPoint,(t.scale>=JM&&t.scale<=ZM||isNaN(t.scale))&&(t.scale=1),(t.translate>=ej&&t.translate<=tj||isNaN(t.translate))&&(t.translate=0)}function Ya(t,e,n,r){Mw(t.x,e.x,n.x,r?r.originX:void 0),Mw(t.y,e.y,n.y,r?r.originY:void 0)}function jw(t,e,n){t.min=n.min+e.min,t.max=t.min+pn(e)}function rj(t,e,n){jw(t.x,e.x,n.x),jw(t.y,e.y,n.y)}function Vw(t,e,n){t.min=e.min-n.min,t.max=t.min+pn(e)}function Xa(t,e,n){Vw(t.x,e.x,n.x),Vw(t.y,e.y,n.y)}function sj(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?qe(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?qe(n,t,r.max):Math.min(t,n)),t}function Ow(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function ij(t,{top:e,left:n,bottom:r,right:s}){return{x:Ow(t.x,n,s),y:Ow(t.y,e,r)}}function Lw(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function oj(t,e){return{x:Lw(t.x,e.x),y:Lw(t.y,e.y)}}function aj(t,e){let n=.5;const r=pn(t),s=pn(e);return s>r?n=Do(e.min,e.max-r,t.min):r>s&&(n=Do(t.min,t.max-s,e.min)),Vr(0,1,n)}function lj(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Qp=.35;function cj(t=Qp){return t===!1?t=0:t===!0&&(t=Qp),{x:Fw(t,"left","right"),y:Fw(t,"top","bottom")}}function Fw(t,e,n){return{min:Uw(t,e),max:Uw(t,n)}}function Uw(t,e){return typeof t=="number"?t:t[e]||0}const Bw=()=>({translate:0,scale:1,origin:0,originPoint:0}),uo=()=>({x:Bw(),y:Bw()}),zw=()=>({min:0,max:0}),et=()=>({x:zw(),y:zw()});function wn(t){return[t("x"),t("y")]}function lI({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function uj({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function dj(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function yf(t){return t===void 0||t===1}function Yp({scale:t,scaleX:e,scaleY:n}){return!yf(t)||!yf(e)||!yf(n)}function ri(t){return Yp(t)||cI(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function cI(t){return $w(t.x)||$w(t.y)}function $w(t){return t&&t!=="0%"}function cd(t,e,n){const r=t-n,s=e*r;return n+s}function Hw(t,e,n,r,s){return s!==void 0&&(t=cd(t,s,r)),cd(t,n,r)+e}function Xp(t,e=0,n=1,r,s){t.min=Hw(t.min,e,n,r,s),t.max=Hw(t.max,e,n,r,s)}function uI(t,{x:e,y:n}){Xp(t.x,e.translate,e.scale,e.originPoint),Xp(t.y,n.translate,n.scale,n.originPoint)}const Ww=.999999999999,qw=1.0000000000001;function hj(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let i,o;for(let a=0;a<s;a++){i=n[a],o=i.projectionDelta;const{visualElement:l}=i.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&fo(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,uI(t,o)),r&&ri(i.latestValues)&&fo(t,i.latestValues))}e.x<qw&&e.x>Ww&&(e.x=1),e.y<qw&&e.y>Ww&&(e.y=1)}function ho(t,e){t.min=t.min+e,t.max=t.max+e}function Gw(t,e,n,r,s=.5){const i=qe(t.min,t.max,s);Xp(t,e,n,i,r)}function fo(t,e){Gw(t.x,e.x,e.scaleX,e.scale,e.originX),Gw(t.y,e.y,e.scaleY,e.scale,e.originY)}function dI(t,e){return lI(dj(t.getBoundingClientRect(),e))}function fj(t,e,n){const r=dI(t,n),{scroll:s}=e;return s&&(ho(r.x,s.offset.x),ho(r.y,s.offset.y)),r}const hI=({current:t})=>t?t.ownerDocument.defaultView:null,pj=new WeakMap;class mj{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=et(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=f=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(tc(f).point)},i=(f,h)=>{const{drag:m,dragPropagation:y,onDragStart:E}=this.getProps();if(m&&!y&&(this.openDragLock&&this.openDragLock(),this.openDragLock=aD(m),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),wn(S=>{let v=this.getAxisMotionValue(S).get()||0;if(rr.test(v)){const{projection:w}=this.visualElement;if(w&&w.layout){const _=w.layout.layoutBox[S];_&&(v=pn(_)*(parseFloat(v)/100))}}this.originPoint[S]=v}),E&&Fe.postRender(()=>E(f,h)),Bp(this.visualElement,"transform");const{animationState:A}=this.visualElement;A&&A.setActive("whileDrag",!0)},o=(f,h)=>{const{dragPropagation:m,dragDirectionLock:y,onDirectionLock:E,onDrag:A}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:S}=h;if(y&&this.currentDirection===null){this.currentDirection=gj(S),this.currentDirection!==null&&E&&E(this.currentDirection);return}this.updateAxis("x",h.point,S),this.updateAxis("y",h.point,S),this.visualElement.render(),A&&A(f,h)},a=(f,h)=>this.stop(f,h),l=()=>wn(f=>{var h;return this.getAnimationState(f)==="paused"&&((h=this.getAxisMotionValue(f).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new sI(e,{onSessionStart:s,onStart:i,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:hI(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&Fe.postRender(()=>i(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!Qc(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=sj(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,i=this.constraints;n&&lo(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=ij(s.layoutBox,n):this.constraints=!1,this.elastic=cj(r),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&wn(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=lj(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!lo(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=fj(r,s.root,this.visualElement.getTransformPagePoint());let o=oj(s.layout.layoutBox,i);if(n){const a=n(uj(o));this.hasMutatedConstraints=!!a,a&&(o=lI(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=wn(f=>{if(!Qc(f,n,this.currentDirection))return;let h=l&&l[f]||{};o&&(h={min:0,max:0});const m=s?200:1e6,y=s?40:1e7,E={type:"inertia",velocity:r?e[f]:0,bounceStiffness:m,bounceDamping:y,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(f,E)});return Promise.all(u).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return Bp(this.visualElement,e),r.start(ly(e,r,0,n,this.visualElement,!1))}stopAnimation(){wn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){wn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){wn(n=>{const{drag:r}=this.getProps();if(!Qc(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:a}=s.layout.layoutBox[n];i.set(e[n]-qe(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!lo(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};wn(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();s[o]=aj({min:l,max:l},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),wn(o=>{if(!Qc(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];a.set(qe(l,u,s[o]))})}addListeners(){if(!this.visualElement.current)return;pj.set(this.visualElement,this);const e=this.visualElement.current,n=Qa(e,"pointerdown",l=>{const{drag:u,dragListener:f=!0}=this.getProps();u&&f&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();lo(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Fe.read(r);const o=Rl(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(wn(f=>{const h=this.getAxisMotionValue(f);h&&(this.originPoint[f]+=l[f].translate,h.set(h.get()+l[f].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=Qp,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:a}}}function Qc(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function gj(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class yj extends $s{constructor(e){super(e),this.removeGroupControls=hn,this.removeListeners=hn,this.controls=new mj(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||hn}unmount(){this.removeGroupControls(),this.removeListeners()}}const Kw=t=>(e,n)=>{t&&Fe.postRender(()=>t(e,n))};class vj extends $s{constructor(){super(...arguments),this.removePointerDownListener=hn}onPointerDown(e){this.session=new sI(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:hI(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:Kw(e),onStart:Kw(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&Fe.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=Qa(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const wu={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Qw(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Ia={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(se.test(t))t=parseFloat(t);else return t;const n=Qw(t,e.target.x),r=Qw(t,e.target.y);return`${n}% ${r}%`}},wj={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=Ps.parse(t);if(s.length>5)return r;const i=Ps.createTransformer(t),o=typeof s[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;s[0+o]/=a,s[1+o]/=l;const u=qe(a,l,.5);return typeof s[2+o]=="number"&&(s[2+o]/=u),typeof s[3+o]=="number"&&(s[3+o]/=u),i(s)}};class xj extends k.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=e;UN(_j),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),wu.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,o=r.projection;return o&&(o.isPresent=i,s||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||Fe.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Og.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function fI(t){const[e,n]=QT(),r=k.useContext(Rg);return d.jsx(xj,{...t,layoutGroup:r,switchLayoutGroup:k.useContext(rb),isPresent:e,safeToRemove:n})}const _j={borderRadius:{...Ia,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ia,borderTopRightRadius:Ia,borderBottomLeftRadius:Ia,borderBottomRightRadius:Ia,boxShadow:wj};function Ej(t,e,n){const r=Ot(t)?t:Cl(t);return r.start(ly("",r,e,n)),r.animation}function Tj(t){return t instanceof SVGElement&&t.tagName!=="svg"}const bj=(t,e)=>t.depth-e.depth;class Ij{constructor(){this.children=[],this.isDirty=!1}add(e){Xg(this.children,e),this.isDirty=!0}remove(e){Jg(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(bj),this.isDirty=!1,this.children.forEach(e)}}function Sj(t,e){const n=sr.now(),r=({timestamp:s})=>{const i=s-n;i>=e&&(ks(r),t(i-e))};return Fe.read(r,!0),()=>ks(r)}const pI=["TopLeft","TopRight","BottomLeft","BottomRight"],Cj=pI.length,Yw=t=>typeof t=="string"?parseFloat(t):t,Xw=t=>typeof t=="number"||se.test(t);function Aj(t,e,n,r,s,i){s?(t.opacity=qe(0,n.opacity!==void 0?n.opacity:1,Rj(r)),t.opacityExit=qe(e.opacity!==void 0?e.opacity:1,0,kj(r))):i&&(t.opacity=qe(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<Cj;o++){const a=`border${pI[o]}Radius`;let l=Jw(e,a),u=Jw(n,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||Xw(l)===Xw(u)?(t[a]=Math.max(qe(Yw(l),Yw(u),r),0),(rr.test(u)||rr.test(l))&&(t[a]+="%")):t[a]=u}(e.rotate||n.rotate)&&(t.rotate=qe(e.rotate||0,n.rotate||0,r))}function Jw(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Rj=mI(0,.5,Db),kj=mI(.5,.95,hn);function mI(t,e,n){return r=>r<t?0:r>e?1:n(Do(t,e,r))}function Zw(t,e){t.min=e.min,t.max=e.max}function vn(t,e){Zw(t.x,e.x),Zw(t.y,e.y)}function ex(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function tx(t,e,n,r,s){return t-=e,t=cd(t,1/n,r),s!==void 0&&(t=cd(t,1/s,r)),t}function Pj(t,e=0,n=1,r=.5,s,i=t,o=t){if(rr.test(e)&&(e=parseFloat(e),e=qe(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=qe(i.min,i.max,r);t===i&&(a-=e),t.min=tx(t.min,e,n,a,s),t.max=tx(t.max,e,n,a,s)}function nx(t,e,[n,r,s],i,o){Pj(t,e[n],e[r],e[s],e.scale,i,o)}const Nj=["x","scaleX","originX"],Dj=["y","scaleY","originY"];function rx(t,e,n,r){nx(t.x,e,Nj,n?n.x:void 0,r?r.x:void 0),nx(t.y,e,Dj,n?n.y:void 0,r?r.y:void 0)}function sx(t){return t.translate===0&&t.scale===1}function gI(t){return sx(t.x)&&sx(t.y)}function ix(t,e){return t.min===e.min&&t.max===e.max}function Mj(t,e){return ix(t.x,e.x)&&ix(t.y,e.y)}function ox(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function yI(t,e){return ox(t.x,e.x)&&ox(t.y,e.y)}function ax(t){return pn(t.x)/pn(t.y)}function lx(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class jj{constructor(){this.members=[]}add(e){Xg(this.members,e),e.scheduleRender()}remove(e){if(Jg(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Vj(t,e,n){let r="";const s=t.x.translate/e.x,i=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((s||i||o)&&(r=`translate3d(${s}px, ${i}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:u,rotate:f,rotateX:h,rotateY:m,skewX:y,skewY:E}=n;u&&(r=`perspective(${u}px) ${r}`),f&&(r+=`rotate(${f}deg) `),h&&(r+=`rotateX(${h}deg) `),m&&(r+=`rotateY(${m}deg) `),y&&(r+=`skewX(${y}deg) `),E&&(r+=`skewY(${E}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const si={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Na=typeof window<"u"&&window.MotionDebug!==void 0,vf=["","X","Y","Z"],Oj={visibility:"hidden"},cx=1e3;let Lj=0;function wf(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function vI(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=Sb(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Fe,!(s||i))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&vI(r)}function wI({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},a=e==null?void 0:e()){this.id=Lj++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Na&&(si.totalNodes=si.resolvedTargetDeltas=si.recalculatedProjection=0),this.nodes.forEach(Bj),this.nodes.forEach(qj),this.nodes.forEach(Gj),this.nodes.forEach(zj),Na&&window.MotionDebug.record(si)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new Ij)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Zg),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=Tj(o),this.instance=o;const{layoutId:l,layout:u,visualElement:f}=this.options;if(f&&!f.current&&f.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(u||l)&&(this.isLayoutDirty=!0),t){let h;const m=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=Sj(m,250),wu.hasAnimatedSinceResize&&(wu.hasAnimatedSinceResize=!1,this.nodes.forEach(dx))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&f&&(l||u)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:m,hasRelativeTargetChanged:y,layout:E})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const A=this.options.transition||f.getDefaultTransition()||Jj,{onLayoutAnimationStart:S,onLayoutAnimationComplete:v}=f.getProps(),w=!this.targetLayout||!yI(this.targetLayout,E)||y,_=!m&&y;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||_||m&&(w||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,_);const D={...Gg(A,"layout"),onPlay:S,onComplete:v};(f.shouldReduceMotion||this.options.layoutRoot)&&(D.delay=0,D.type=!1),this.startAnimation(D)}else m||dx(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=E})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,ks(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Kj),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&vI(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const h=this.path[f];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(ux);return}this.isUpdating||this.nodes.forEach(Hj),this.isUpdating=!1,this.nodes.forEach(Wj),this.nodes.forEach(Fj),this.nodes.forEach(Uj),this.clearAllSnapshots();const a=sr.now();Tt.delta=Vr(0,1e3/60,a-Tt.timestamp),Tt.timestamp=a,Tt.isProcessing=!0,cf.update.process(Tt),cf.preRender.process(Tt),cf.render.process(Tt),Tt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Og.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach($j),this.sharedNodes.forEach(Qj)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Fe.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Fe.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=et(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!gI(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,f=u!==this.prevTransformTemplateValue;o&&(a||ri(this.latestValues)||f)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),Zj(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:a}=this.options;if(!a)return et();const l=a.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(e4))){const{scroll:f}=this.root;f&&(ho(l.x,f.offset.x),ho(l.y,f.offset.y))}return l}removeElementScroll(o){var a;const l=et();if(vn(l,o),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return l;for(let u=0;u<this.path.length;u++){const f=this.path[u],{scroll:h,options:m}=f;f!==this.root&&h&&m.layoutScroll&&(h.wasRoot&&vn(l,o),ho(l.x,h.offset.x),ho(l.y,h.offset.y))}return l}applyTransform(o,a=!1){const l=et();vn(l,o);for(let u=0;u<this.path.length;u++){const f=this.path[u];!a&&f.options.layoutScroll&&f.scroll&&f!==f.root&&fo(l,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),ri(f.latestValues)&&fo(l,f.latestValues)}return ri(this.latestValues)&&fo(l,this.latestValues),l}removeTransform(o){const a=et();vn(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!ri(u.latestValues))continue;Yp(u.latestValues)&&u.updateSnapshot();const f=et(),h=u.measurePageBox();vn(f,h),rx(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,f)}return ri(this.latestValues)&&rx(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Tt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:m}=this.options;if(!(!this.layout||!(h||m))){if(this.resolvedRelativeTargetAt=Tt.timestamp,!this.targetDelta&&!this.relativeTarget){const y=this.getClosestProjectingParent();y&&y.layout&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=et(),this.relativeTargetOrigin=et(),Xa(this.relativeTargetOrigin,this.layout.layoutBox,y.layout.layoutBox),vn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=et(),this.targetWithTransforms=et()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),rj(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):vn(this.target,this.layout.layoutBox),uI(this.target,this.targetDelta)):vn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const y=this.getClosestProjectingParent();y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=et(),this.relativeTargetOrigin=et(),Xa(this.relativeTargetOrigin,this.target,y.target),vn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Na&&si.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Yp(this.parent.latestValues)||cI(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Tt.timestamp&&(u=!1),u)return;const{layout:f,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||h))return;vn(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,y=this.treeScale.y;hj(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=et());const{target:E}=a;if(!E){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(ex(this.prevProjectionDelta.x,this.projectionDelta.x),ex(this.prevProjectionDelta.y,this.projectionDelta.y)),Ya(this.projectionDelta,this.layoutCorrected,E,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==y||!lx(this.projectionDelta.x,this.prevProjectionDelta.x)||!lx(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",E)),Na&&si.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=uo(),this.projectionDelta=uo(),this.projectionDeltaWithTransform=uo()}setAnimationOrigin(o,a=!1){const l=this.snapshot,u=l?l.latestValues:{},f={...this.latestValues},h=uo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const m=et(),y=l?l.source:void 0,E=this.layout?this.layout.source:void 0,A=y!==E,S=this.getStack(),v=!S||S.members.length<=1,w=!!(A&&!v&&this.options.crossfade===!0&&!this.path.some(Xj));this.animationProgress=0;let _;this.mixTargetDelta=D=>{const V=D/1e3;hx(h.x,o.x,V),hx(h.y,o.y,V),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Xa(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Yj(this.relativeTarget,this.relativeTargetOrigin,m,V),_&&Mj(this.relativeTarget,_)&&(this.isProjectionDirty=!1),_||(_=et()),vn(_,this.relativeTarget)),A&&(this.animationValues=f,Aj(f,u,this.latestValues,V,w,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=V},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(ks(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Fe.update(()=>{wu.hasAnimatedSinceResize=!0,this.currentAnimation=Ej(0,cx,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(cx),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:f}=o;if(!(!a||!l||!u)){if(this!==o&&this.layout&&u&&xI(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||et();const h=pn(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const m=pn(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+m}vn(a,l),fo(a,f),Ya(this.projectionDeltaWithTransform,this.layoutCorrected,a,f)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new jj),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const u={};l.z&&wf("z",o,u,this.animationValues);for(let f=0;f<vf.length;f++)wf(`rotate${vf[f]}`,o,u,this.animationValues),wf(`skew${vf[f]}`,o,u,this.animationValues);o.render();for(const f in u)o.setStaticValue(f,u[f]),this.animationValues&&(this.animationValues[f]=u[f]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return Oj;const u={visibility:""},f=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=yu(o==null?void 0:o.pointerEvents)||"",u.transform=f?f(this.latestValues,""):"none",u;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const A={};return this.options.layoutId&&(A.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,A.pointerEvents=yu(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!ri(this.latestValues)&&(A.transform=f?f({},""):"none",this.hasProjected=!1),A}const m=h.animationValues||h.latestValues;this.applyTransformsToTarget(),u.transform=Vj(this.projectionDeltaWithTransform,this.treeScale,m),f&&(u.transform=f(m,u.transform));const{x:y,y:E}=this.projectionDelta;u.transformOrigin=`${y.origin*100}% ${E.origin*100}% 0`,h.animationValues?u.opacity=h===this?(l=(a=m.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:u.opacity=h===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const A in sd){if(m[A]===void 0)continue;const{correct:S,applyTo:v}=sd[A],w=u.transform==="none"?m[A]:S(m[A],h);if(v){const _=v.length;for(let D=0;D<_;D++)u[v[D]]=w}else u[A]=w}return this.options.layoutId&&(u.pointerEvents=h===this?yu(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(ux),this.root.sharedNodes.clear()}}}function Fj(t){t.updateLayout()}function Uj(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:i}=t.options,o=n.source!==t.layout.source;i==="size"?wn(h=>{const m=o?n.measuredBox[h]:n.layoutBox[h],y=pn(m);m.min=r[h].min,m.max=m.min+y}):xI(i,n.layoutBox,r)&&wn(h=>{const m=o?n.measuredBox[h]:n.layoutBox[h],y=pn(r[h]);m.max=m.min+y,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+y)});const a=uo();Ya(a,r,n.layoutBox);const l=uo();o?Ya(l,t.applyTransform(s,!0),n.measuredBox):Ya(l,r,n.layoutBox);const u=!gI(a);let f=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:m,layout:y}=h;if(m&&y){const E=et();Xa(E,n.layoutBox,m.layoutBox);const A=et();Xa(A,r,y.layoutBox),yI(E,A)||(f=!0),h.options.layoutRoot&&(t.relativeTarget=A,t.relativeTargetOrigin=E,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeTargetChanged:f})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function Bj(t){Na&&si.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function zj(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function $j(t){t.clearSnapshot()}function ux(t){t.clearMeasurements()}function Hj(t){t.isLayoutDirty=!1}function Wj(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function dx(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function qj(t){t.resolveTargetDelta()}function Gj(t){t.calcProjection()}function Kj(t){t.resetSkewAndRotation()}function Qj(t){t.removeLeadSnapshot()}function hx(t,e,n){t.translate=qe(e.translate,0,n),t.scale=qe(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function fx(t,e,n,r){t.min=qe(e.min,n.min,r),t.max=qe(e.max,n.max,r)}function Yj(t,e,n,r){fx(t.x,e.x,n.x,r),fx(t.y,e.y,n.y,r)}function Xj(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Jj={duration:.45,ease:[.4,0,.1,1]},px=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),mx=px("applewebkit/")&&!px("chrome/")?Math.round:hn;function gx(t){t.min=mx(t.min),t.max=mx(t.max)}function Zj(t){gx(t.x),gx(t.y)}function xI(t,e,n){return t==="position"||t==="preserve-aspect"&&!nj(ax(e),ax(n),.2)}function e4(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const t4=wI({attachResizeListener:(t,e)=>Rl(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),xf={current:void 0},_I=wI({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!xf.current){const t=new t4({});t.mount(window),t.setOptions({layoutScroll:!0}),xf.current=t}return xf.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),n4={pan:{Feature:vj},drag:{Feature:yj,ProjectionNode:_I,MeasureLayout:fI}};function yx(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&Fe.postRender(()=>i(e,tc(e)))}class r4 extends $s{mount(){const{current:e}=this.node;e&&(this.unmount=nD(e,n=>(yx(this.node,n,"Start"),r=>yx(this.node,r,"End"))))}unmount(){}}class s4 extends $s{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ec(Rl(this.node.current,"focus",()=>this.onFocus()),Rl(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function vx(t,e,n){const{props:r}=t;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&Fe.postRender(()=>i(e,tc(e)))}class i4 extends $s{mount(){const{current:e}=this.node;e&&(this.unmount=oD(e,n=>(vx(this.node,n,"Start"),(r,{success:s})=>vx(this.node,r,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Jp=new WeakMap,_f=new WeakMap,o4=t=>{const e=Jp.get(t.target);e&&e(t)},a4=t=>{t.forEach(o4)};function l4({root:t,...e}){const n=t||document;_f.has(n)||_f.set(n,{});const r=_f.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(a4,{root:t,...e})),r[s]}function c4(t,e,n){const r=l4(e);return Jp.set(t,n),r.observe(t),()=>{Jp.delete(t),r.unobserve(t)}}const u4={some:0,all:1};class d4 extends $s{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:u4[s]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:f,onViewportLeave:h}=this.node.getProps(),m=u?f:h;m&&m(l)};return c4(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(h4(e,n))&&this.startObserver()}unmount(){}}function h4({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const f4={inView:{Feature:d4},tap:{Feature:i4},focus:{Feature:s4},hover:{Feature:r4}},p4={layout:{ProjectionNode:_I,MeasureLayout:fI}},Zp={current:null},EI={current:!1};function m4(){if(EI.current=!0,!!Ng)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Zp.current=t.matches;t.addListener(e),e()}else Zp.current=!1}const g4=[...Gb,Nt,Ps],y4=t=>g4.find(qb(t)),wx=new WeakMap;function v4(t,e,n){for(const r in e){const s=e[r],i=n[r];if(Ot(s))t.addValue(r,s);else if(Ot(i))t.addValue(r,Cl(s,{owner:t}));else if(i!==s)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=t.getStaticValue(r);t.addValue(r,Cl(o!==void 0?o:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const xx=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class w4{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=iy,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const y=sr.now();this.renderScheduledAt<y&&(this.renderScheduledAt=y,Fe.render(this.render,!1,!0))};const{latestValues:l,renderState:u,onUpdate:f}=o;this.onUpdate=f,this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=u,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=a,this.blockInitialAnimation=!!i,this.isControllingVariants=Yd(n),this.isVariantNode=tb(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:h,...m}=this.scrapeMotionValuesFromProps(n,{},this);for(const y in m){const E=m[y];l[y]!==void 0&&Ot(E)&&E.set(l[y],!1)}}mount(e){this.current=e,wx.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),EI.current||m4(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Zp.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){wx.delete(this.current),this.projection&&this.projection.unmount(),ks(this.notifyUpdate),ks(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Mi.has(e),s=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&Fe.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),i(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Mo){const n=Mo[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):et()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<xx.length;r++){const s=xx[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=e[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=v4(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Cl(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(Hb(s)||jb(s))?s=parseFloat(s):!y4(s)&&Ps.test(n)&&(s=Bb(e,n)),this.setBaseTarget(e,Ot(s)?s.get():s)),Ot(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let s;if(typeof r=="string"||typeof r=="object"){const o=Fg(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(s=o[e])}if(r&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Ot(i)?i:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Zg),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class TI extends w4{constructor(){super(...arguments),this.KeyframeResolver=Kb}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Ot(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function x4(t){return window.getComputedStyle(t)}class _4 extends TI{constructor(){super(...arguments),this.type="html",this.renderInstance=ub}readValueFromInstance(e,n){if(Mi.has(n)){const r=sy(n);return r&&r.default||0}else{const r=x4(e),s=(ab(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return dI(e,n)}build(e,n,r){zg(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return qg(e,n,r)}}class E4 extends TI{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=et}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Mi.has(n)){const r=sy(n);return r&&r.default||0}return n=db.has(n)?n:Vg(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return pb(e,n,r)}build(e,n,r){$g(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,s){hb(e,n,r,s)}mount(e){this.isSVGTag=Wg(e.tagName),super.mount(e)}}const T4=(t,e)=>Lg(t)?new E4(e):new _4(e,{allowProjection:t!==k.Fragment}),b4=QN({...GM,...f4,...n4,...p4},T4),ie=uN(b4);var bI=k.forwardRef(({transition:t,...e},n)=>{let r={position:"absolute",top:0,left:0,width:"100%",height:"100%",transition:t?`clip-path ${t}`:void 0,userSelect:"none",willChange:"clip-path, transition",KhtmlUserSelect:"none",MozUserSelect:"none",WebkitUserSelect:"none"};return d.jsx("div",{...e,style:r,"data-rcs":"clip-item",ref:n})});bI.displayName="ContainerClip";var II=k.forwardRef(({children:t,disabled:e,portrait:n,position:r,transition:s},i)=>{let o={position:"absolute",top:0,width:n?"100%":void 0,height:n?void 0:"100%",background:"none",border:0,padding:0,pointerEvents:"all",appearance:"none",WebkitAppearance:"none",MozAppearance:"none",outline:0,transform:n?"translate3d(0, -50% ,0)":"translate3d(-50%, 0, 0)",transition:s?`${n?"top":"left"} ${s}`:void 0};return d.jsx("button",{ref:i,"aria-label":"Drag to move or focus and use arrow keys","aria-orientation":n?"vertical":"horizontal","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":r,"data-rcs":"handle-container",disabled:e,role:"slider",style:o,children:t})});II.displayName="ThisHandleContainer";var _x=({flip:t})=>d.jsx("div",{className:"__rcs-handle-arrow",style:{width:0,height:0,borderTop:"8px solid transparent",borderRight:"10px solid",borderBottom:"8px solid transparent",transform:t?"rotate(180deg)":void 0}}),I4=({className:t="__rcs-handle-root",disabled:e,buttonStyle:n,linesStyle:r,portrait:s,style:i,...o})=>{let a={display:"flex",flexDirection:s?"row":"column",placeItems:"center",height:"100%",cursor:e?"not-allowed":s?"ns-resize":"ew-resize",pointerEvents:"none",color:"#fff",...i},l={flexGrow:1,height:s?2:"100%",width:s?"100%":2,backgroundColor:"currentColor",pointerEvents:"auto",boxShadow:"0 0 4px rgba(0,0,0,.5)",...r},u={display:"grid",gridAutoFlow:"column",gap:8,placeContent:"center",flexShrink:0,width:56,height:56,borderRadius:"50%",borderStyle:"solid",borderWidth:2,pointerEvents:"auto",backdropFilter:"blur(7px)",WebkitBackdropFilter:"blur(7px)",backgroundColor:"rgba(0, 0, 0, 0.125)",boxShadow:"0 0 4px rgba(0,0,0,.35)",transform:s?"rotate(90deg)":void 0,...n};return d.jsxs("div",{...o,className:t,style:a,children:[d.jsx("div",{className:"__rcs-handle-line",style:l}),d.jsxs("div",{className:"__rcs-handle-button",style:u,children:[d.jsx(_x,{}),d.jsx(_x,{flip:!0})]}),d.jsx("div",{className:"__rcs-handle-line",style:l})]})},SI=(t=>(t.ARROW_LEFT="ArrowLeft",t.ARROW_RIGHT="ArrowRight",t.ARROW_UP="ArrowUp",t.ARROW_DOWN="ArrowDown",t))(SI||{}),S4=({boxSizing:t="border-box",objectFit:e="cover",objectPosition:n="center center",...r}={})=>({display:"block",width:"100%",height:"100%",maxWidth:"100%",boxSizing:t,objectFit:e,objectPosition:n,...r}),C4=t=>{let e=k.useRef(t);return k.useEffect(()=>{e.current=t}),e.current},Ef=(t,e,n,r)=>{let s=k.useRef();k.useEffect(()=>{s.current=e},[e]),k.useEffect(()=>{if(!(n&&n.addEventListener))return;let i=o=>s.current&&s.current(o);return n.addEventListener(t,i,r),()=>{n.removeEventListener(t,i,r)}},[t,n,r])},A4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?k.useLayoutEffect:k.useEffect,R4=(t,e)=>{let n=k.useRef(),r=k.useCallback(()=>{t.current&&n.current&&n.current.observe(t.current)},[t]);A4(()=>(n.current=new ResizeObserver(([s])=>e(s.contentRect)),r(),()=>{n.current&&n.current.disconnect()}),[e,r])},Yc={capture:!1,passive:!0},Tf={capture:!0,passive:!1},k4=t=>{t.preventDefault(),t.currentTarget.focus()},cy=k.forwardRef(({boundsPadding:t=0,browsingContext:e=globalThis,changePositionOnHover:n=!1,disabled:r=!1,handle:s,itemOne:i,itemTwo:o,keyboardIncrement:a="5%",onlyHandleDraggable:l=!1,onPositionChange:u,portrait:f=!1,position:h=50,style:m,transition:y,...E},A)=>{let S=k.useRef(null),v=k.useRef(null),w=k.useRef(null),_=k.useRef(h),[D,V]=k.useState(!1),[O,T]=k.useState(!0),x=k.useRef(!1),[C,I]=k.useState(),N=C4(h),j=k.useCallback(function({x:P,y:H,isOffset:z}){let G=S.current,Q=w.current,ee=v.current,{width:X,height:Y,left:ge,top:Ce}=G.getBoundingClientRect();if(X===0||Y===0)return;let Te=f?z?H-Ce-e.scrollY:H:z?P-ge-e.scrollX:P,Ee=Math.min(Math.max(Te/(f?Y:X)*100,0),100),Ne=f?Y/(G.offsetHeight||1):X/(G.offsetWidth||1),fe=t*Ne/(f?Y:X)*100,$e=Math.min(Math.max(Ee,fe*Ne),100-fe*Ne);_.current=Ee,Q.setAttribute("aria-valuenow",`${Math.round(_.current)}`),Q.style.top=f?`${$e}%`:"0",Q.style.left=f?"0":`${$e}%`,ee.style.clipPath=f?`inset(${$e}% 0 0 0)`:`inset(0 0 0 ${$e}%)`,u&&u(_.current)},[t,u,f,e]);k.useEffect(()=>{let{width:P,height:H}=S.current.getBoundingClientRect(),z=h===N?_.current:h;j({x:P/100*z,y:H/100*z})},[t,h,f,N,j]);let R=k.useCallback(P=>{P.preventDefault(),!(r||P.button!==0)&&(j({isOffset:!0,x:P.pageX,y:P.pageY}),V(!0),T(!0))},[r,j]),pe=k.useCallback(function(P){j({isOffset:!0,x:P.pageX,y:P.pageY}),T(!1)},[j]),Re=k.useCallback(()=>{V(!1),T(!0)},[]),he=k.useCallback(({width:P,height:H})=>{let{width:z,height:G}=S.current.getBoundingClientRect();j({x:P/100*_.current*z/P,y:H/100*_.current*G/H})},[j]),ce=k.useCallback(P=>{if(!Object.values(SI).includes(P.key))return;P.preventDefault(),T(!0);let{top:H,left:z}=w.current.getBoundingClientRect(),{width:G,height:Q}=S.current.getBoundingClientRect(),ee=typeof a=="string"?parseFloat(a):a/G*100,X=f?P.key==="ArrowLeft"||P.key==="ArrowDown":P.key==="ArrowRight"||P.key==="ArrowUp",Y=Math.min(Math.max(X?_.current+ee:_.current-ee,0),100);j({x:f?z:G*Y/100,y:f?Q*Y/100:H})},[a,f,j]);k.useEffect(()=>{I(l?w.current:S.current)},[l]),k.useEffect(()=>{let P=S.current,H=()=>{D||Re()};return n&&(P.addEventListener("pointermove",pe,Yc),P.addEventListener("pointerleave",H,Yc)),()=>{P.removeEventListener("pointermove",pe),P.removeEventListener("pointerleave",H)}},[n,pe,Re,D]),k.useEffect(()=>(D&&!x.current&&(e.addEventListener("pointermove",pe,Yc),e.addEventListener("pointerup",Re,Yc),x.current=!0),()=>{x.current&&(e.removeEventListener("pointermove",pe),e.removeEventListener("pointerup",Re),x.current=!1)}),[pe,Re,D,e]),k.useImperativeHandle(A,()=>({rootContainer:S.current,handleContainer:w.current,setPosition(P){let{width:H,height:z}=S.current.getBoundingClientRect();j({x:H/100*P,y:z/100*P})}}),[j]),R4(S,he),Ef("keydown",ce,w.current,Tf),Ef("click",k4,w.current,Tf),Ef("pointerdown",R,C,Tf);let $=s||d.jsx(I4,{disabled:r,portrait:f}),Z=O?y:void 0,M={position:"relative",display:"flex",overflow:"hidden",cursor:D?f?"ns-resize":"ew-resize":void 0,touchAction:"none",userSelect:"none",KhtmlUserSelect:"none",msUserSelect:"none",MozUserSelect:"none",WebkitUserSelect:"none",...m};return d.jsxs("div",{...E,ref:S,style:M,"data-rcs":"root",children:[i,d.jsx(bI,{ref:v,transition:Z,children:o}),d.jsx(II,{disabled:r,portrait:f,position:Math.round(_.current),ref:w,transition:Z,children:$})]})});cy.displayName="ReactCompareSlider";var kl=k.forwardRef(({style:t,...e},n)=>{let r=S4(t);return d.jsx("img",{ref:n,...e,style:r,"data-rcs":"image"})});kl.displayName="ReactCompareSliderImage";/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P4=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),CI=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var N4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D4=k.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},l)=>k.createElement("svg",{ref:l,...N4,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:CI("lucide",s),...a},[...o.map(([u,f])=>k.createElement(u,f)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _e=(t,e)=>{const n=k.forwardRef(({className:r,...s},i)=>k.createElement(D4,{ref:i,iconNode:e,className:CI(`lucide-${P4(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M4=_e("Aperture",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m14.31 8 5.74 9.94",key:"1y6ab4"}],["path",{d:"M9.69 8h11.48",key:"1wxppr"}],["path",{d:"m7.38 12 5.74-9.94",key:"1grp0k"}],["path",{d:"M9.69 16 3.95 6.06",key:"libnyf"}],["path",{d:"M14.31 16H2.83",key:"x5fava"}],["path",{d:"m16.62 12-5.74 9.94",key:"1vwawt"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zd=_e("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j4=_e("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V4=_e("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O4=_e("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AI=_e("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L4=_e("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ex=_e("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RI=_e("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F4=_e("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const er=_e("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U4=_e("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B4=_e("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ii=_e("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z4=_e("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $4=_e("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H4=_e("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W4=_e("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q4=_e("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G4=_e("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yi=_e("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ud=_e("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kI=_e("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xu=_e("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K4=_e("MousePointer2",[["path",{d:"m4 4 7.07 17 2.51-7.39L21 11.07z",key:"1vqm48"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q4=_e("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y4=_e("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X4=_e("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J4=_e("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ai=_e("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z4=_e("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eV=_e("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PI=_e("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tV=_e("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uy=_e("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _t=_e("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),nV=()=>{};var Tx={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NI=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},rV=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},DI={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,u=l?t[s+2]:0,f=i>>2,h=(i&3)<<4|a>>4;let m=(a&15)<<2|u>>6,y=u&63;l||(y=64,o||(m=64)),r.push(n[f],n[h],n[m],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(NI(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):rV(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const h=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||u==null||h==null)throw new sV;const m=i<<2|a>>4;if(r.push(m),u!==64){const y=a<<4&240|u>>2;if(r.push(y),h!==64){const E=u<<6&192|h;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class sV extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const iV=function(t){const e=NI(t);return DI.encodeByteArray(e,!0)},dd=function(t){return iV(t).replace(/\./g,"")},MI=function(t){try{return DI.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oV(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aV=()=>oV().__FIREBASE_DEFAULTS__,lV=()=>{if(typeof process>"u"||typeof Tx>"u")return;const t=Tx.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},cV=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&MI(t[1]);return e&&JSON.parse(e)},eh=()=>{try{return nV()||aV()||lV()||cV()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},jI=t=>{var e,n;return(n=(e=eh())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},uV=t=>{const e=jI(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},VI=()=>{var t;return(t=eh())==null?void 0:t.config},OI=t=>{var e;return(e=eh())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dV{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xo(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function LI(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hV(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[dd(JSON.stringify(n)),dd(JSON.stringify(o)),""].join(".")}const Ja={};function fV(){const t={prod:[],emulator:[]};for(const e of Object.keys(Ja))Ja[e]?t.emulator.push(e):t.prod.push(e);return t}function pV(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let bx=!1;function FI(t,e){if(typeof window>"u"||typeof document>"u"||!Xo(window.location.host)||Ja[t]===e||Ja[t]||bx)return;Ja[t]=e;function n(m){return`__firebase__banner__${m}`}const r="__firebase__banner",i=fV().prod.length>0;function o(){const m=document.getElementById(r);m&&m.remove()}function a(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function l(m,y){m.setAttribute("width","24"),m.setAttribute("id",y),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function u(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{bx=!0,o()},m}function f(m,y){m.setAttribute("id",y),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function h(){const m=pV(r),y=n("text"),E=document.getElementById(y)||document.createElement("span"),A=n("learnmore"),S=document.getElementById(A)||document.createElement("a"),v=n("preprendIcon"),w=document.getElementById(v)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const _=m.element;a(_),f(S,A);const D=u();l(w,v),_.append(w,E,S,D),document.body.appendChild(_)}i?(E.innerText="Preview backend disconnected.",w.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(w.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,E.innerText="Preview backend running in this workspace."),E.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",h):h()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ft(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function mV(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ft())}function gV(){var e;const t=(e=eh())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function yV(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function vV(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function wV(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function xV(){const t=Ft();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function _V(){return!gV()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function EV(){try{return typeof indexedDB=="object"}catch{return!1}}function TV(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bV="FirebaseError";class zr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=bV,Object.setPrototypeOf(this,zr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,nc.prototype.create)}}class nc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?IV(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new zr(s,a,r)}}function IV(t,e){return t.replace(SV,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const SV=/\{\$([^}]+)}/g;function CV(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function bi(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(Ix(i)&&Ix(o)){if(!bi(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Ix(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Da(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function Ma(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function AV(t,e){const n=new RV(t,e);return n.subscribe.bind(n)}class RV{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");kV(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=bf),s.error===void 0&&(s.error=bf),s.complete===void 0&&(s.complete=bf);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function kV(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function bf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ut(t){return t&&t._delegate?t._delegate:t}class Ii{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PV{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new dV;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(DV(e))try{this.getOrInitializeService({instanceIdentifier:oi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=oi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=oi){return this.instances.has(e)}getOptions(e=oi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:NV(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=oi){return this.component?this.component.multipleInstances?e:oi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function NV(t){return t===oi?void 0:t}function DV(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MV{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new PV(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ve;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ve||(ve={}));const jV={debug:ve.DEBUG,verbose:ve.VERBOSE,info:ve.INFO,warn:ve.WARN,error:ve.ERROR,silent:ve.SILENT},VV=ve.INFO,OV={[ve.DEBUG]:"log",[ve.VERBOSE]:"log",[ve.INFO]:"info",[ve.WARN]:"warn",[ve.ERROR]:"error"},LV=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=OV[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class dy{constructor(e){this.name=e,this._logLevel=VV,this._logHandler=LV,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?jV[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ve.DEBUG,...e),this._logHandler(this,ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ve.VERBOSE,...e),this._logHandler(this,ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ve.INFO,...e),this._logHandler(this,ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ve.WARN,...e),this._logHandler(this,ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ve.ERROR,...e),this._logHandler(this,ve.ERROR,...e)}}const FV=(t,e)=>e.some(n=>t instanceof n);let Sx,Cx;function UV(){return Sx||(Sx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function BV(){return Cx||(Cx=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const UI=new WeakMap,em=new WeakMap,BI=new WeakMap,If=new WeakMap,hy=new WeakMap;function zV(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Es(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&UI.set(n,t)}).catch(()=>{}),hy.set(e,t),e}function $V(t){if(em.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});em.set(t,e)}let tm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return em.get(t);if(e==="objectStoreNames")return t.objectStoreNames||BI.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Es(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function HV(t){tm=t(tm)}function WV(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Sf(this),e,...n);return BI.set(r,e.sort?e.sort():[e]),Es(r)}:BV().includes(t)?function(...e){return t.apply(Sf(this),e),Es(UI.get(this))}:function(...e){return Es(t.apply(Sf(this),e))}}function qV(t){return typeof t=="function"?WV(t):(t instanceof IDBTransaction&&$V(t),FV(t,UV())?new Proxy(t,tm):t)}function Es(t){if(t instanceof IDBRequest)return zV(t);if(If.has(t))return If.get(t);const e=qV(t);return e!==t&&(If.set(t,e),hy.set(e,t)),e}const Sf=t=>hy.get(t);function GV(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=Es(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Es(o.result),l.oldVersion,l.newVersion,Es(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const KV=["get","getKey","getAll","getAllKeys","count"],QV=["put","add","delete","clear"],Cf=new Map;function Ax(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Cf.get(e))return Cf.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=QV.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||KV.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),s&&l.done]))[0]};return Cf.set(e,i),i}HV(t=>({...t,get:(e,n,r)=>Ax(e,n)||t.get(e,n,r),has:(e,n)=>!!Ax(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YV{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(XV(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function XV(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const nm="@firebase/app",Rx="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Or=new dy("@firebase/app"),JV="@firebase/app-compat",ZV="@firebase/analytics-compat",eO="@firebase/analytics",tO="@firebase/app-check-compat",nO="@firebase/app-check",rO="@firebase/auth",sO="@firebase/auth-compat",iO="@firebase/database",oO="@firebase/data-connect",aO="@firebase/database-compat",lO="@firebase/functions",cO="@firebase/functions-compat",uO="@firebase/installations",dO="@firebase/installations-compat",hO="@firebase/messaging",fO="@firebase/messaging-compat",pO="@firebase/performance",mO="@firebase/performance-compat",gO="@firebase/remote-config",yO="@firebase/remote-config-compat",vO="@firebase/storage",wO="@firebase/storage-compat",xO="@firebase/firestore",_O="@firebase/ai",EO="@firebase/firestore-compat",TO="firebase",bO="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rm="[DEFAULT]",IO={[nm]:"fire-core",[JV]:"fire-core-compat",[eO]:"fire-analytics",[ZV]:"fire-analytics-compat",[nO]:"fire-app-check",[tO]:"fire-app-check-compat",[rO]:"fire-auth",[sO]:"fire-auth-compat",[iO]:"fire-rtdb",[oO]:"fire-data-connect",[aO]:"fire-rtdb-compat",[lO]:"fire-fn",[cO]:"fire-fn-compat",[uO]:"fire-iid",[dO]:"fire-iid-compat",[hO]:"fire-fcm",[fO]:"fire-fcm-compat",[pO]:"fire-perf",[mO]:"fire-perf-compat",[gO]:"fire-rc",[yO]:"fire-rc-compat",[vO]:"fire-gcs",[wO]:"fire-gcs-compat",[xO]:"fire-fst",[EO]:"fire-fst-compat",[_O]:"fire-vertex","fire-js":"fire-js",[TO]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hd=new Map,SO=new Map,sm=new Map;function kx(t,e){try{t.container.addComponent(e)}catch(n){Or.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Vo(t){const e=t.name;if(sm.has(e))return Or.debug(`There were multiple attempts to register component ${e}.`),!1;sm.set(e,t);for(const n of hd.values())kx(n,t);for(const n of SO.values())kx(n,t);return!0}function fy(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ln(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ts=new nc("app","Firebase",CO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AO{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ii("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ts.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jo=bO;function zI(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:rm,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw Ts.create("bad-app-name",{appName:String(s)});if(n||(n=VI()),!n)throw Ts.create("no-options");const i=hd.get(s);if(i){if(bi(n,i.options)&&bi(r,i.config))return i;throw Ts.create("duplicate-app",{appName:s})}const o=new MV(s);for(const l of sm.values())o.addComponent(l);const a=new AO(n,r,o);return hd.set(s,a),a}function $I(t=rm){const e=hd.get(t);if(!e&&t===rm&&VI())return zI();if(!e)throw Ts.create("no-app",{appName:t});return e}function bs(t,e,n){let r=IO[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const o=[`Unable to register library "${r}" with version "${e}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Or.warn(o.join(" "));return}Vo(new Ii(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RO="firebase-heartbeat-database",kO=1,Pl="firebase-heartbeat-store";let Af=null;function HI(){return Af||(Af=GV(RO,kO,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Pl)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ts.create("idb-open",{originalErrorMessage:t.message})})),Af}async function PO(t){try{const n=(await HI()).transaction(Pl),r=await n.objectStore(Pl).get(WI(t));return await n.done,r}catch(e){if(e instanceof zr)Or.warn(e.message);else{const n=Ts.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Or.warn(n.message)}}}async function Px(t,e){try{const r=(await HI()).transaction(Pl,"readwrite");await r.objectStore(Pl).put(e,WI(t)),await r.done}catch(n){if(n instanceof zr)Or.warn(n.message);else{const r=Ts.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Or.warn(r.message)}}}function WI(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NO=1024,DO=30;class MO{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new VO(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Nx();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>DO){const o=OO(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Or.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Nx(),{heartbeatsToSend:r,unsentEntries:s}=jO(this._heartbeatsCache.heartbeats),i=dd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Or.warn(n),""}}}function Nx(){return new Date().toISOString().substring(0,10)}function jO(t,e=NO){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),Dx(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Dx(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class VO{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return EV()?TV().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await PO(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Px(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Px(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Dx(t){return dd(JSON.stringify({version:2,heartbeats:t})).length}function OO(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LO(t){Vo(new Ii("platform-logger",e=>new YV(e),"PRIVATE")),Vo(new Ii("heartbeat",e=>new MO(e),"PRIVATE")),bs(nm,Rx,t),bs(nm,Rx,"esm2020"),bs("fire-js","")}LO("");function qI(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const FO=qI,GI=new nc("auth","Firebase",qI());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fd=new dy("@firebase/auth");function UO(t,...e){fd.logLevel<=ve.WARN&&fd.warn(`Auth (${Jo}): ${t}`,...e)}function _u(t,...e){fd.logLevel<=ve.ERROR&&fd.error(`Auth (${Jo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function An(t,...e){throw my(t,...e)}function $n(t,...e){return my(t,...e)}function py(t,e,n){const r={...FO(),[e]:n};return new nc("auth","Firebase",r).create(e,{appName:t.name})}function kr(t){return py(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function BO(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&An(t,"argument-error"),py(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function my(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return GI.create(t,...e)}function oe(t,e,...n){if(!t)throw my(e,...n)}function br(t){const e="INTERNAL ASSERTION FAILED: "+t;throw _u(e),new Error(e)}function Lr(t,e){t||br(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function im(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function zO(){return Mx()==="http:"||Mx()==="https:"}function Mx(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $O(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(zO()||vV()||"connection"in navigator)?navigator.onLine:!0}function HO(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Lr(n>e,"Short delay should be less than long delay!"),this.isMobile=mV()||wV()}get(){return $O()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gy(t,e){Lr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KI{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;br("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;br("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;br("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qO=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],GO=new sc(3e4,6e4);function Hs(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Ws(t,e,n,r,s={}){return QI(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=rc({key:t.config.apiKey,...o}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u={method:e,headers:l,...i};return yV()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&Xo(t.emulatorConfig.host)&&(u.credentials="include"),KI.fetch()(await YI(t,t.config.apiHost,n,a),u)})}async function QI(t,e,n){t._canInitEmulator=!1;const r={...WO,...e};try{const s=new QO(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Xc(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Xc(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Xc(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Xc(t,"user-disabled",o);const f=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw py(t,f,u);An(t,f)}}catch(s){if(s instanceof zr)throw s;An(t,"network-request-failed",{message:String(s)})}}async function ic(t,e,n,r,s={}){const i=await Ws(t,e,n,r,s);return"mfaPendingCredential"in i&&An(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function YI(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?gy(t.config,s):`${t.config.apiScheme}://${s}`;return qO.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}function KO(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class QO{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r($n(this.auth,"network-request-failed")),GO.get())})}}function Xc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=$n(t,e,r);return s.customData._tokenResponse=n,s}function jx(t){return t!==void 0&&t.enterprise!==void 0}class YO{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return KO(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function XO(t,e){return Ws(t,"GET","/v2/recaptchaConfig",Hs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JO(t,e){return Ws(t,"POST","/v1/accounts:delete",e)}async function pd(t,e){return Ws(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Za(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function ZO(t,e=!1){const n=Ut(t),r=await n.getIdToken(e),s=yy(r);oe(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Za(Rf(s.auth_time)),issuedAtTime:Za(Rf(s.iat)),expirationTime:Za(Rf(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Rf(t){return Number(t)*1e3}function yy(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return _u("JWT malformed, contained fewer than 3 sections"),null;try{const s=MI(n);return s?JSON.parse(s):(_u("Failed to decode base64 JWT payload"),null)}catch(s){return _u("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function Vx(t){const e=yy(t);return oe(e,"internal-error"),oe(typeof e.exp<"u","internal-error"),oe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nl(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof zr&&eL(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function eL({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tL{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Za(this.lastLoginAt),this.creationTime=Za(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function md(t){var h;const e=t.auth,n=await t.getIdToken(),r=await Nl(t,pd(e,{idToken:n}));oe(r==null?void 0:r.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const i=(h=s.providerUserInfo)!=null&&h.length?XI(s.providerUserInfo):[],o=rL(t.providerData,i),a=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!(o!=null&&o.length),u=a?l:!1,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new om(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,f)}async function nL(t){const e=Ut(t);await md(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function rL(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function XI(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sL(t,e){const n=await QI(t,{},async()=>{const r=rc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await YI(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return t.emulatorConfig&&Xo(t.emulatorConfig.host)&&(l.credentials="include"),KI.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function iL(t,e){return Ws(t,"POST","/v2/accounts:revokeToken",Hs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){oe(e.idToken,"internal-error"),oe(typeof e.idToken<"u","internal-error"),oe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Vx(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){oe(e.length!==0,"internal-error");const n=Vx(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(oe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await sL(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new Eo;return r&&(oe(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(oe(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(oe(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Eo,this.toJSON())}_performRefresh(){return br("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ts(t,e){oe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Un{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new tL(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new om(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Nl(this,this.stsTokenManager.getToken(this.auth,e));return oe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return ZO(this,e)}reload(){return nL(this)}_assign(e){this!==e&&(oe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Un({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await md(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ln(this.auth.app))return Promise.reject(kr(this.auth));const e=await this.getIdToken();return await Nl(this,JO(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,i=n.phoneNumber??void 0,o=n.photoURL??void 0,a=n.tenantId??void 0,l=n._redirectEventId??void 0,u=n.createdAt??void 0,f=n.lastLoginAt??void 0,{uid:h,emailVerified:m,isAnonymous:y,providerData:E,stsTokenManager:A}=n;oe(h&&A,e,"internal-error");const S=Eo.fromJSON(this.name,A);oe(typeof h=="string",e,"internal-error"),ts(r,e.name),ts(s,e.name),oe(typeof m=="boolean",e,"internal-error"),oe(typeof y=="boolean",e,"internal-error"),ts(i,e.name),ts(o,e.name),ts(a,e.name),ts(l,e.name),ts(u,e.name),ts(f,e.name);const v=new Un({uid:h,auth:e,email:s,emailVerified:m,displayName:r,isAnonymous:y,photoURL:o,phoneNumber:i,tenantId:a,stsTokenManager:S,createdAt:u,lastLoginAt:f});return E&&Array.isArray(E)&&(v.providerData=E.map(w=>({...w}))),l&&(v._redirectEventId=l),v}static async _fromIdTokenResponse(e,n,r=!1){const s=new Eo;s.updateFromServerResponse(n);const i=new Un({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await md(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];oe(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?XI(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new Eo;a.updateFromIdToken(r);const l=new Un({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new om(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ox=new Map;function Ir(t){Lr(t instanceof Function,"Expected a class definition");let e=Ox.get(t);return e?(Lr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Ox.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JI{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}JI.type="NONE";const Lx=JI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eu(t,e,n){return`firebase:${t}:${e}:${n}`}class To{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Eu(this.userKey,s.apiKey,i),this.fullPersistenceKey=Eu("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await pd(this.auth,{idToken:e}).catch(()=>{});return n?Un._fromGetAccountInfoResponse(this.auth,n,e):null}return Un._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new To(Ir(Lx),e,r);const s=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let i=s[0]||Ir(Lx);const o=Eu(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const f=await u._get(o);if(f){let h;if(typeof f=="string"){const m=await pd(e,{idToken:f}).catch(()=>{});if(!m)break;h=await Un._fromGetAccountInfoResponse(e,m,f)}else h=Un._fromJSON(e,f);u!==i&&(a=h),i=u;break}}catch{}const l=s.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new To(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==i)try{await u._remove(o)}catch{}})),new To(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fx(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(nS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ZI(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(sS(e))return"Blackberry";if(iS(e))return"Webos";if(eS(e))return"Safari";if((e.includes("chrome/")||tS(e))&&!e.includes("edge/"))return"Chrome";if(rS(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function ZI(t=Ft()){return/firefox\//i.test(t)}function eS(t=Ft()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function tS(t=Ft()){return/crios\//i.test(t)}function nS(t=Ft()){return/iemobile/i.test(t)}function rS(t=Ft()){return/android/i.test(t)}function sS(t=Ft()){return/blackberry/i.test(t)}function iS(t=Ft()){return/webos/i.test(t)}function vy(t=Ft()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function oL(t=Ft()){var e;return vy(t)&&!!((e=window.navigator)!=null&&e.standalone)}function aL(){return xV()&&document.documentMode===10}function oS(t=Ft()){return vy(t)||rS(t)||iS(t)||sS(t)||/windows phone/i.test(t)||nS(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aS(t,e=[]){let n;switch(t){case"Browser":n=Fx(Ft());break;case"Worker":n=`${Fx(Ft())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Jo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lL{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cL(t,e={}){return Ws(t,"GET","/v2/passwordPolicy",Hs(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uL=6;class dL{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??uL,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hL{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ux(this),this.idTokenSubscription=new Ux(this),this.beforeStateQueue=new lL(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=GI,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ir(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await To.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await pd(this,{idToken:e}),r=await Un._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(ln(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(i=this.redirectUser)==null?void 0:i._redirectEventId,a=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(r=l.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return oe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await md(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=HO()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ln(this.app))return Promise.reject(kr(this));const n=e?Ut(e):null;return n&&oe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&oe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ln(this.app)?Promise.reject(kr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ln(this.app)?Promise.reject(kr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ir(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await cL(this),n=new dL(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new nc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await iL(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ir(e)||this._popupRedirectResolver;oe(n,this,"argument-error"),this.redirectPersistenceManager=await To.create(this,[Ir(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(oe(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=aS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(ln(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&UO(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function qs(t){return Ut(t)}class Ux{constructor(e){this.auth=e,this.observer=null,this.addObserver=AV(n=>this.observer=n)}get next(){return oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let th={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function fL(t){th=t}function lS(t){return th.loadJS(t)}function pL(){return th.recaptchaEnterpriseScript}function mL(){return th.gapiScript}function gL(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class yL{constructor(){this.enterprise=new vL}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class vL{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const wL="recaptcha-enterprise",cS="NO_RECAPTCHA";class xL{constructor(e){this.type=wL,this.auth=qs(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{XO(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new YO(l);return i.tenantId==null?i._agentRecaptchaConfig=u:i._tenantRecaptchaConfigs[i.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function s(i,o,a){const l=window.grecaptcha;jx(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(u=>{o(u)}).catch(()=>{o(cS)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new yL().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&jx(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=pL();l.length!==0&&(l+=a),lS(l).then(()=>{s(a,i,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function Bx(t,e,n,r=!1,s=!1){const i=new xL(t);let o;if(s)o=cS;else try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const a={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,u=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function am(t,e,n,r,s){var i;if((i=t._getRecaptchaConfig())!=null&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await Bx(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await Bx(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _L(t,e){const n=fy(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(bi(i,e??{}))return s;An(s,"already-initialized")}return n.initialize({options:e})}function EL(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ir);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function TL(t,e,n){const r=qs(t);oe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=uS(e),{host:o,port:a}=bL(e),l=a===null?"":`:${a}`,u={url:`${i}//${o}${l}/`},f=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){oe(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),oe(bi(u,r.config.emulator)&&bi(f,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=f,r.settings.appVerificationDisabledForTesting=!0,Xo(o)?(LI(`${i}//${o}${l}`),FI("Auth",!0)):IL()}function uS(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function bL(t){const e=uS(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:zx(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:zx(o)}}}function zx(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function IL(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wy{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return br("not implemented")}_getIdTokenResponse(e){return br("not implemented")}_linkToIdToken(e,n){return br("not implemented")}_getReauthenticationResolver(e){return br("not implemented")}}async function SL(t,e){return Ws(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CL(t,e){return ic(t,"POST","/v1/accounts:signInWithPassword",Hs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AL(t,e){return ic(t,"POST","/v1/accounts:signInWithEmailLink",Hs(t,e))}async function RL(t,e){return ic(t,"POST","/v1/accounts:signInWithEmailLink",Hs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl extends wy{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Dl(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Dl(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return am(e,n,"signInWithPassword",CL);case"emailLink":return AL(e,{email:this._email,oobCode:this._password});default:An(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return am(e,r,"signUpPassword",SL);case"emailLink":return RL(e,{idToken:n,email:this._email,oobCode:this._password});default:An(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bo(t,e){return ic(t,"POST","/v1/accounts:signInWithIdp",Hs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kL="http://localhost";class Si extends wy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Si(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):An("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...i}=n;if(!r||!s)return null;const o=new Si(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return bo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,bo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,bo(e,n)}buildRequest(){const e={requestUri:kL,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=rc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PL(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function NL(t){const e=Da(Ma(t)).link,n=e?Da(Ma(e)).deep_link_id:null,r=Da(Ma(t)).deep_link_id;return(r?Da(Ma(r)).link:null)||r||n||e||t}class xy{constructor(e){const n=Da(Ma(e)),r=n.apiKey??null,s=n.oobCode??null,i=PL(n.mode??null);oe(r&&s&&i,"argument-error"),this.apiKey=r,this.operation=i,this.code=s,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=NL(e);try{return new xy(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(){this.providerId=Zo.PROVIDER_ID}static credential(e,n){return Dl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=xy.parseLink(n);return oe(r,"argument-error"),Dl._fromEmailAndCode(e,r.code,r.tenantId)}}Zo.PROVIDER_ID="password";Zo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Zo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _y{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc extends _y{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls extends oc{constructor(){super("facebook.com")}static credential(e){return Si._fromParams({providerId:ls.PROVIDER_ID,signInMethod:ls.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ls.credentialFromTaggedObject(e)}static credentialFromError(e){return ls.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ls.credential(e.oauthAccessToken)}catch{return null}}}ls.FACEBOOK_SIGN_IN_METHOD="facebook.com";ls.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r extends oc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Si._fromParams({providerId:_r.PROVIDER_ID,signInMethod:_r.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return _r.credentialFromTaggedObject(e)}static credentialFromError(e){return _r.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return _r.credential(n,r)}catch{return null}}}_r.GOOGLE_SIGN_IN_METHOD="google.com";_r.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs extends oc{constructor(){super("github.com")}static credential(e){return Si._fromParams({providerId:cs.PROVIDER_ID,signInMethod:cs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return cs.credentialFromTaggedObject(e)}static credentialFromError(e){return cs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return cs.credential(e.oauthAccessToken)}catch{return null}}}cs.GITHUB_SIGN_IN_METHOD="github.com";cs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us extends oc{constructor(){super("twitter.com")}static credential(e,n){return Si._fromParams({providerId:us.PROVIDER_ID,signInMethod:us.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return us.credentialFromTaggedObject(e)}static credentialFromError(e){return us.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return us.credential(n,r)}catch{return null}}}us.TWITTER_SIGN_IN_METHOD="twitter.com";us.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DL(t,e){return ic(t,"POST","/v1/accounts:signUp",Hs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await Un._fromIdTokenResponse(e,r,s),o=$x(r);return new Ci({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=$x(r);return new Ci({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function $x(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd extends zr{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,gd.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new gd(e,n,r,s)}}function dS(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?gd._fromErrorAndOperation(t,i,e,r):i})}async function ML(t,e,n=!1){const r=await Nl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ci._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jL(t,e,n=!1){const{auth:r}=t;if(ln(r.app))return Promise.reject(kr(r));const s="reauthenticate";try{const i=await Nl(t,dS(r,s,e,t),n);oe(i.idToken,r,"internal-error");const o=yy(i.idToken);oe(o,r,"internal-error");const{sub:a}=o;return oe(t.uid===a,r,"user-mismatch"),Ci._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&An(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hS(t,e,n=!1){if(ln(t.app))return Promise.reject(kr(t));const r="signIn",s=await dS(t,r,e),i=await Ci._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function VL(t,e){return hS(qs(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fS(t){const e=qs(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function OL(t,e,n){if(ln(t.app))return Promise.reject(kr(t));const r=qs(t),o=await am(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",DL).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&fS(t),l}),a=await Ci._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function LL(t,e,n){return ln(t.app)?Promise.reject(kr(t)):VL(Ut(t),Zo.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&fS(t),r})}function FL(t,e,n,r){return Ut(t).onIdTokenChanged(e,n,r)}function UL(t,e,n){return Ut(t).beforeAuthStateChanged(e,n)}function BL(t,e,n,r){return Ut(t).onAuthStateChanged(e,n,r)}function zL(t){return Ut(t).signOut()}const yd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(yd,"1"),this.storage.removeItem(yd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $L=1e3,HL=10;class mS extends pS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=oS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);aL()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,HL):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},$L)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}mS.type="LOCAL";const WL=mS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS extends pS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}gS.type="SESSION";const yS=gS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qL(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new nh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async u=>u(n.origin,i)),l=await qL(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}nh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ey(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GL{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const u=Ey("",20);s.port1.start();const f=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(h){const m=h;if(m.data.eventId===u)switch(m.data.status){case"ack":clearTimeout(f),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(m.data.response);break;default:clearTimeout(f),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ir(){return window}function KL(t){ir().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vS(){return typeof ir().WorkerGlobalScope<"u"&&typeof ir().importScripts=="function"}async function QL(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function YL(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function XL(){return vS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wS="firebaseLocalStorageDb",JL=1,vd="firebaseLocalStorage",xS="fbase_key";class ac{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function rh(t,e){return t.transaction([vd],e?"readwrite":"readonly").objectStore(vd)}function ZL(){const t=indexedDB.deleteDatabase(wS);return new ac(t).toPromise()}function lm(){const t=indexedDB.open(wS,JL);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(vd,{keyPath:xS})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(vd)?e(r):(r.close(),await ZL(),e(await lm()))})})}async function Hx(t,e,n){const r=rh(t,!0).put({[xS]:e,value:n});return new ac(r).toPromise()}async function e5(t,e){const n=rh(t,!1).get(e),r=await new ac(n).toPromise();return r===void 0?null:r.value}function Wx(t,e){const n=rh(t,!0).delete(e);return new ac(n).toPromise()}const t5=800,n5=3;class _S{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await lm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>n5)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return vS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=nh._getInstance(XL()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await QL(),!this.activeServiceWorker)return;this.sender=new GL(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||YL()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await lm();return await Hx(e,yd,"1"),await Wx(e,yd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Hx(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>e5(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Wx(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=rh(s,!1).getAll();return new ac(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),t5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}_S.type="LOCAL";const r5=_S;new sc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ES(t,e){return e?Ir(e):(oe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ty extends wy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return bo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return bo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return bo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function s5(t){return hS(t.auth,new Ty(t),t.bypassAuthState)}function i5(t){const{auth:e,user:n}=t;return oe(n,e,"internal-error"),jL(n,new Ty(t),t.bypassAuthState)}async function o5(t){const{auth:e,user:n}=t;return oe(n,e,"internal-error"),ML(n,new Ty(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return s5;case"linkViaPopup":case"linkViaRedirect":return o5;case"reauthViaPopup":case"reauthViaRedirect":return i5;default:An(this.auth,"internal-error")}}resolve(e){Lr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Lr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a5=new sc(2e3,1e4);async function l5(t,e,n){if(ln(t.app))return Promise.reject($n(t,"operation-not-supported-in-this-environment"));const r=qs(t);BO(t,e,_y);const s=ES(r,n);return new hi(r,"signInViaPopup",e,s).executeNotNull()}class hi extends TS{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,hi.currentPopupAction&&hi.currentPopupAction.cancel(),hi.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return oe(e,this.auth,"internal-error"),e}async onExecution(){Lr(this.filter.length===1,"Popup operations only handle one event");const e=Ey();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject($n(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject($n(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,hi.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject($n(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,a5.get())};e()}}hi.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c5="pendingRedirect",Tu=new Map;class u5 extends TS{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Tu.get(this.auth._key());if(!e){try{const r=await d5(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Tu.set(this.auth._key(),e)}return this.bypassAuthState||Tu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function d5(t,e){const n=p5(e),r=f5(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function h5(t,e){Tu.set(t._key(),e)}function f5(t){return Ir(t._redirectPersistence)}function p5(t){return Eu(c5,t.config.apiKey,t.name)}async function m5(t,e,n=!1){if(ln(t.app))return Promise.reject(kr(t));const r=qs(t),s=ES(r,e),o=await new u5(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g5=10*60*1e3;class y5{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!v5(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!bS(e)){const s=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError($n(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=g5&&this.cachedEventUids.clear(),this.cachedEventUids.has(qx(e))}saveEventToCache(e){this.cachedEventUids.add(qx(e)),this.lastProcessedEventTime=Date.now()}}function qx(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function bS({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function v5(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return bS(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w5(t,e={}){return Ws(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x5=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,_5=/^https?/;async function E5(t){if(t.config.emulator)return;const{authorizedDomains:e}=await w5(t);for(const n of e)try{if(T5(n))return}catch{}An(t,"unauthorized-domain")}function T5(t){const e=im(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!_5.test(n))return!1;if(x5.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b5=new sc(3e4,6e4);function Gx(){const t=ir().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function I5(t){return new Promise((e,n)=>{var s,i,o;function r(){Gx(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Gx(),n($n(t,"network-request-failed"))},timeout:b5.get()})}if((i=(s=ir().gapi)==null?void 0:s.iframes)!=null&&i.Iframe)e(gapi.iframes.getContext());else if((o=ir().gapi)!=null&&o.load)r();else{const a=gL("iframefcb");return ir()[a]=()=>{gapi.load?r():n($n(t,"network-request-failed"))},lS(`${mL()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw bu=null,e})}let bu=null;function S5(t){return bu=bu||I5(t),bu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C5=new sc(5e3,15e3),A5="__/auth/iframe",R5="emulator/auth/iframe",k5={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},P5=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function N5(t){const e=t.config;oe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?gy(e,R5):`https://${t.config.authDomain}/${A5}`,r={apiKey:e.apiKey,appName:t.name,v:Jo},s=P5.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${rc(r).slice(1)}`}async function D5(t){const e=await S5(t),n=ir().gapi;return oe(n,t,"internal-error"),e.open({where:document.body,url:N5(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:k5,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=$n(t,"network-request-failed"),a=ir().setTimeout(()=>{i(o)},C5.get());function l(){ir().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M5={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},j5=500,V5=600,O5="_blank",L5="http://localhost";class Kx{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function F5(t,e,n,r=j5,s=V5){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l={...M5,width:r.toString(),height:s.toString(),top:i,left:o},u=Ft().toLowerCase();n&&(a=tS(u)?O5:n),ZI(u)&&(e=e||L5,l.scrollbars="yes");const f=Object.entries(l).reduce((m,[y,E])=>`${m}${y}=${E},`,"");if(oL(u)&&a!=="_self")return U5(e||"",a),new Kx(null);const h=window.open(e||"",a,f);oe(h,t,"popup-blocked");try{h.focus()}catch{}return new Kx(h)}function U5(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B5="__/auth/handler",z5="emulator/auth/handler",$5=encodeURIComponent("fac");async function Qx(t,e,n,r,s,i){oe(t.config.authDomain,t,"auth-domain-config-required"),oe(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Jo,eventId:s};if(e instanceof _y){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",CV(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,h]of Object.entries({}))o[f]=h}if(e instanceof oc){const f=e.getScopes().filter(h=>h!=="");f.length>0&&(o.scopes=f.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const f of Object.keys(a))a[f]===void 0&&delete a[f];const l=await t._getAppCheckToken(),u=l?`#${$5}=${encodeURIComponent(l)}`:"";return`${H5(t)}?${rc(a).slice(1)}${u}`}function H5({config:t}){return t.emulator?gy(t,z5):`https://${t.authDomain}/${B5}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kf="webStorageSupport";class W5{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=yS,this._completeRedirectFn=m5,this._overrideRedirectResult=h5}async _openPopup(e,n,r,s){var o;Lr((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const i=await Qx(e,n,r,im(),s);return F5(e,i,Ey())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await Qx(e,n,r,im(),s);return KL(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(Lr(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await D5(e),r=new y5(e);return n.register("authEvent",s=>(oe(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(kf,{type:kf},s=>{var o;const i=(o=s==null?void 0:s[0])==null?void 0:o[kf];i!==void 0&&n(!!i),An(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=E5(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return oS()||eS()||vy()}}const q5=W5;var Yx="@firebase/auth",Xx="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G5{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K5(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Q5(t){Vo(new Ii("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;oe(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:aS(t)},u=new hL(r,s,i,l);return EL(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Vo(new Ii("auth-internal",e=>{const n=qs(e.getProvider("auth").getImmediate());return(r=>new G5(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),bs(Yx,Xx,K5(t)),bs(Yx,Xx,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y5=5*60,X5=OI("authIdTokenMaxAge")||Y5;let Jx=null;const J5=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>X5)return;const s=n==null?void 0:n.token;Jx!==s&&(Jx=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function Z5(t=$I()){const e=fy(t,"auth");if(e.isInitialized())return e.getImmediate();const n=_L(t,{popupRedirectResolver:q5,persistence:[r5,WL,yS]}),r=OI("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=J5(i.toString());UL(n,o,()=>o(n.currentUser)),FL(n,a=>o(a))}}const s=jI("auth");return s&&TL(n,`http://${s}`),n}function e3(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}fL({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=$n("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",e3().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Q5("Browser");var Zx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Is,IS;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(T,x){function C(){}C.prototype=x.prototype,T.F=x.prototype,T.prototype=new C,T.prototype.constructor=T,T.D=function(I,N,j){for(var R=Array(arguments.length-2),pe=2;pe<arguments.length;pe++)R[pe-2]=arguments[pe];return x.prototype[N].apply(I,R)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(T,x,C){C||(C=0);const I=Array(16);if(typeof x=="string")for(var N=0;N<16;++N)I[N]=x.charCodeAt(C++)|x.charCodeAt(C++)<<8|x.charCodeAt(C++)<<16|x.charCodeAt(C++)<<24;else for(N=0;N<16;++N)I[N]=x[C++]|x[C++]<<8|x[C++]<<16|x[C++]<<24;x=T.g[0],C=T.g[1],N=T.g[2];let j=T.g[3],R;R=x+(j^C&(N^j))+I[0]+3614090360&4294967295,x=C+(R<<7&4294967295|R>>>25),R=j+(N^x&(C^N))+I[1]+3905402710&4294967295,j=x+(R<<12&4294967295|R>>>20),R=N+(C^j&(x^C))+I[2]+606105819&4294967295,N=j+(R<<17&4294967295|R>>>15),R=C+(x^N&(j^x))+I[3]+3250441966&4294967295,C=N+(R<<22&4294967295|R>>>10),R=x+(j^C&(N^j))+I[4]+4118548399&4294967295,x=C+(R<<7&4294967295|R>>>25),R=j+(N^x&(C^N))+I[5]+1200080426&4294967295,j=x+(R<<12&4294967295|R>>>20),R=N+(C^j&(x^C))+I[6]+2821735955&4294967295,N=j+(R<<17&4294967295|R>>>15),R=C+(x^N&(j^x))+I[7]+4249261313&4294967295,C=N+(R<<22&4294967295|R>>>10),R=x+(j^C&(N^j))+I[8]+1770035416&4294967295,x=C+(R<<7&4294967295|R>>>25),R=j+(N^x&(C^N))+I[9]+2336552879&4294967295,j=x+(R<<12&4294967295|R>>>20),R=N+(C^j&(x^C))+I[10]+4294925233&4294967295,N=j+(R<<17&4294967295|R>>>15),R=C+(x^N&(j^x))+I[11]+2304563134&4294967295,C=N+(R<<22&4294967295|R>>>10),R=x+(j^C&(N^j))+I[12]+1804603682&4294967295,x=C+(R<<7&4294967295|R>>>25),R=j+(N^x&(C^N))+I[13]+4254626195&4294967295,j=x+(R<<12&4294967295|R>>>20),R=N+(C^j&(x^C))+I[14]+2792965006&4294967295,N=j+(R<<17&4294967295|R>>>15),R=C+(x^N&(j^x))+I[15]+1236535329&4294967295,C=N+(R<<22&4294967295|R>>>10),R=x+(N^j&(C^N))+I[1]+4129170786&4294967295,x=C+(R<<5&4294967295|R>>>27),R=j+(C^N&(x^C))+I[6]+3225465664&4294967295,j=x+(R<<9&4294967295|R>>>23),R=N+(x^C&(j^x))+I[11]+643717713&4294967295,N=j+(R<<14&4294967295|R>>>18),R=C+(j^x&(N^j))+I[0]+3921069994&4294967295,C=N+(R<<20&4294967295|R>>>12),R=x+(N^j&(C^N))+I[5]+3593408605&4294967295,x=C+(R<<5&4294967295|R>>>27),R=j+(C^N&(x^C))+I[10]+38016083&4294967295,j=x+(R<<9&4294967295|R>>>23),R=N+(x^C&(j^x))+I[15]+3634488961&4294967295,N=j+(R<<14&4294967295|R>>>18),R=C+(j^x&(N^j))+I[4]+3889429448&4294967295,C=N+(R<<20&4294967295|R>>>12),R=x+(N^j&(C^N))+I[9]+568446438&4294967295,x=C+(R<<5&4294967295|R>>>27),R=j+(C^N&(x^C))+I[14]+3275163606&4294967295,j=x+(R<<9&4294967295|R>>>23),R=N+(x^C&(j^x))+I[3]+4107603335&4294967295,N=j+(R<<14&4294967295|R>>>18),R=C+(j^x&(N^j))+I[8]+1163531501&4294967295,C=N+(R<<20&4294967295|R>>>12),R=x+(N^j&(C^N))+I[13]+2850285829&4294967295,x=C+(R<<5&4294967295|R>>>27),R=j+(C^N&(x^C))+I[2]+4243563512&4294967295,j=x+(R<<9&4294967295|R>>>23),R=N+(x^C&(j^x))+I[7]+1735328473&4294967295,N=j+(R<<14&4294967295|R>>>18),R=C+(j^x&(N^j))+I[12]+2368359562&4294967295,C=N+(R<<20&4294967295|R>>>12),R=x+(C^N^j)+I[5]+4294588738&4294967295,x=C+(R<<4&4294967295|R>>>28),R=j+(x^C^N)+I[8]+2272392833&4294967295,j=x+(R<<11&4294967295|R>>>21),R=N+(j^x^C)+I[11]+1839030562&4294967295,N=j+(R<<16&4294967295|R>>>16),R=C+(N^j^x)+I[14]+4259657740&4294967295,C=N+(R<<23&4294967295|R>>>9),R=x+(C^N^j)+I[1]+2763975236&4294967295,x=C+(R<<4&4294967295|R>>>28),R=j+(x^C^N)+I[4]+1272893353&4294967295,j=x+(R<<11&4294967295|R>>>21),R=N+(j^x^C)+I[7]+4139469664&4294967295,N=j+(R<<16&4294967295|R>>>16),R=C+(N^j^x)+I[10]+3200236656&4294967295,C=N+(R<<23&4294967295|R>>>9),R=x+(C^N^j)+I[13]+681279174&4294967295,x=C+(R<<4&4294967295|R>>>28),R=j+(x^C^N)+I[0]+3936430074&4294967295,j=x+(R<<11&4294967295|R>>>21),R=N+(j^x^C)+I[3]+3572445317&4294967295,N=j+(R<<16&4294967295|R>>>16),R=C+(N^j^x)+I[6]+76029189&4294967295,C=N+(R<<23&4294967295|R>>>9),R=x+(C^N^j)+I[9]+3654602809&4294967295,x=C+(R<<4&4294967295|R>>>28),R=j+(x^C^N)+I[12]+3873151461&4294967295,j=x+(R<<11&4294967295|R>>>21),R=N+(j^x^C)+I[15]+530742520&4294967295,N=j+(R<<16&4294967295|R>>>16),R=C+(N^j^x)+I[2]+3299628645&4294967295,C=N+(R<<23&4294967295|R>>>9),R=x+(N^(C|~j))+I[0]+4096336452&4294967295,x=C+(R<<6&4294967295|R>>>26),R=j+(C^(x|~N))+I[7]+1126891415&4294967295,j=x+(R<<10&4294967295|R>>>22),R=N+(x^(j|~C))+I[14]+2878612391&4294967295,N=j+(R<<15&4294967295|R>>>17),R=C+(j^(N|~x))+I[5]+4237533241&4294967295,C=N+(R<<21&4294967295|R>>>11),R=x+(N^(C|~j))+I[12]+1700485571&4294967295,x=C+(R<<6&4294967295|R>>>26),R=j+(C^(x|~N))+I[3]+2399980690&4294967295,j=x+(R<<10&4294967295|R>>>22),R=N+(x^(j|~C))+I[10]+4293915773&4294967295,N=j+(R<<15&4294967295|R>>>17),R=C+(j^(N|~x))+I[1]+2240044497&4294967295,C=N+(R<<21&4294967295|R>>>11),R=x+(N^(C|~j))+I[8]+1873313359&4294967295,x=C+(R<<6&4294967295|R>>>26),R=j+(C^(x|~N))+I[15]+4264355552&4294967295,j=x+(R<<10&4294967295|R>>>22),R=N+(x^(j|~C))+I[6]+2734768916&4294967295,N=j+(R<<15&4294967295|R>>>17),R=C+(j^(N|~x))+I[13]+1309151649&4294967295,C=N+(R<<21&4294967295|R>>>11),R=x+(N^(C|~j))+I[4]+4149444226&4294967295,x=C+(R<<6&4294967295|R>>>26),R=j+(C^(x|~N))+I[11]+3174756917&4294967295,j=x+(R<<10&4294967295|R>>>22),R=N+(x^(j|~C))+I[2]+718787259&4294967295,N=j+(R<<15&4294967295|R>>>17),R=C+(j^(N|~x))+I[9]+3951481745&4294967295,T.g[0]=T.g[0]+x&4294967295,T.g[1]=T.g[1]+(N+(R<<21&4294967295|R>>>11))&4294967295,T.g[2]=T.g[2]+N&4294967295,T.g[3]=T.g[3]+j&4294967295}r.prototype.v=function(T,x){x===void 0&&(x=T.length);const C=x-this.blockSize,I=this.C;let N=this.h,j=0;for(;j<x;){if(N==0)for(;j<=C;)s(this,T,j),j+=this.blockSize;if(typeof T=="string"){for(;j<x;)if(I[N++]=T.charCodeAt(j++),N==this.blockSize){s(this,I),N=0;break}}else for(;j<x;)if(I[N++]=T[j++],N==this.blockSize){s(this,I),N=0;break}}this.h=N,this.o+=x},r.prototype.A=function(){var T=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);T[0]=128;for(var x=1;x<T.length-8;++x)T[x]=0;x=this.o*8;for(var C=T.length-8;C<T.length;++C)T[C]=x&255,x/=256;for(this.v(T),T=Array(16),x=0,C=0;C<4;++C)for(let I=0;I<32;I+=8)T[x++]=this.g[C]>>>I&255;return T};function i(T,x){var C=a;return Object.prototype.hasOwnProperty.call(C,T)?C[T]:C[T]=x(T)}function o(T,x){this.h=x;const C=[];let I=!0;for(let N=T.length-1;N>=0;N--){const j=T[N]|0;I&&j==x||(C[N]=j,I=!1)}this.g=C}var a={};function l(T){return-128<=T&&T<128?i(T,function(x){return new o([x|0],x<0?-1:0)}):new o([T|0],T<0?-1:0)}function u(T){if(isNaN(T)||!isFinite(T))return h;if(T<0)return S(u(-T));const x=[];let C=1;for(let I=0;T>=C;I++)x[I]=T/C|0,C*=4294967296;return new o(x,0)}function f(T,x){if(T.length==0)throw Error("number format error: empty string");if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(T.charAt(0)=="-")return S(f(T.substring(1),x));if(T.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=u(Math.pow(x,8));let I=h;for(let j=0;j<T.length;j+=8){var N=Math.min(8,T.length-j);const R=parseInt(T.substring(j,j+N),x);N<8?(N=u(Math.pow(x,N)),I=I.j(N).add(u(R))):(I=I.j(C),I=I.add(u(R)))}return I}var h=l(0),m=l(1),y=l(16777216);t=o.prototype,t.m=function(){if(A(this))return-S(this).m();let T=0,x=1;for(let C=0;C<this.g.length;C++){const I=this.i(C);T+=(I>=0?I:4294967296+I)*x,x*=4294967296}return T},t.toString=function(T){if(T=T||10,T<2||36<T)throw Error("radix out of range: "+T);if(E(this))return"0";if(A(this))return"-"+S(this).toString(T);const x=u(Math.pow(T,6));var C=this;let I="";for(;;){const N=D(C,x).g;C=v(C,N.j(x));let j=((C.g.length>0?C.g[0]:C.h)>>>0).toString(T);if(C=N,E(C))return j+I;for(;j.length<6;)j="0"+j;I=j+I}},t.i=function(T){return T<0?0:T<this.g.length?this.g[T]:this.h};function E(T){if(T.h!=0)return!1;for(let x=0;x<T.g.length;x++)if(T.g[x]!=0)return!1;return!0}function A(T){return T.h==-1}t.l=function(T){return T=v(this,T),A(T)?-1:E(T)?0:1};function S(T){const x=T.g.length,C=[];for(let I=0;I<x;I++)C[I]=~T.g[I];return new o(C,~T.h).add(m)}t.abs=function(){return A(this)?S(this):this},t.add=function(T){const x=Math.max(this.g.length,T.g.length),C=[];let I=0;for(let N=0;N<=x;N++){let j=I+(this.i(N)&65535)+(T.i(N)&65535),R=(j>>>16)+(this.i(N)>>>16)+(T.i(N)>>>16);I=R>>>16,j&=65535,R&=65535,C[N]=R<<16|j}return new o(C,C[C.length-1]&-2147483648?-1:0)};function v(T,x){return T.add(S(x))}t.j=function(T){if(E(this)||E(T))return h;if(A(this))return A(T)?S(this).j(S(T)):S(S(this).j(T));if(A(T))return S(this.j(S(T)));if(this.l(y)<0&&T.l(y)<0)return u(this.m()*T.m());const x=this.g.length+T.g.length,C=[];for(var I=0;I<2*x;I++)C[I]=0;for(I=0;I<this.g.length;I++)for(let N=0;N<T.g.length;N++){const j=this.i(I)>>>16,R=this.i(I)&65535,pe=T.i(N)>>>16,Re=T.i(N)&65535;C[2*I+2*N]+=R*Re,w(C,2*I+2*N),C[2*I+2*N+1]+=j*Re,w(C,2*I+2*N+1),C[2*I+2*N+1]+=R*pe,w(C,2*I+2*N+1),C[2*I+2*N+2]+=j*pe,w(C,2*I+2*N+2)}for(T=0;T<x;T++)C[T]=C[2*T+1]<<16|C[2*T];for(T=x;T<2*x;T++)C[T]=0;return new o(C,0)};function w(T,x){for(;(T[x]&65535)!=T[x];)T[x+1]+=T[x]>>>16,T[x]&=65535,x++}function _(T,x){this.g=T,this.h=x}function D(T,x){if(E(x))throw Error("division by zero");if(E(T))return new _(h,h);if(A(T))return x=D(S(T),x),new _(S(x.g),S(x.h));if(A(x))return x=D(T,S(x)),new _(S(x.g),x.h);if(T.g.length>30){if(A(T)||A(x))throw Error("slowDivide_ only works with positive integers.");for(var C=m,I=x;I.l(T)<=0;)C=V(C),I=V(I);var N=O(C,1),j=O(I,1);for(I=O(I,2),C=O(C,2);!E(I);){var R=j.add(I);R.l(T)<=0&&(N=N.add(C),j=R),I=O(I,1),C=O(C,1)}return x=v(T,N.j(x)),new _(N,x)}for(N=h;T.l(x)>=0;){for(C=Math.max(1,Math.floor(T.m()/x.m())),I=Math.ceil(Math.log(C)/Math.LN2),I=I<=48?1:Math.pow(2,I-48),j=u(C),R=j.j(x);A(R)||R.l(T)>0;)C-=I,j=u(C),R=j.j(x);E(j)&&(j=m),N=N.add(j),T=v(T,R)}return new _(N,T)}t.B=function(T){return D(this,T).h},t.and=function(T){const x=Math.max(this.g.length,T.g.length),C=[];for(let I=0;I<x;I++)C[I]=this.i(I)&T.i(I);return new o(C,this.h&T.h)},t.or=function(T){const x=Math.max(this.g.length,T.g.length),C=[];for(let I=0;I<x;I++)C[I]=this.i(I)|T.i(I);return new o(C,this.h|T.h)},t.xor=function(T){const x=Math.max(this.g.length,T.g.length),C=[];for(let I=0;I<x;I++)C[I]=this.i(I)^T.i(I);return new o(C,this.h^T.h)};function V(T){const x=T.g.length+1,C=[];for(let I=0;I<x;I++)C[I]=T.i(I)<<1|T.i(I-1)>>>31;return new o(C,T.h)}function O(T,x){const C=x>>5;x%=32;const I=T.g.length-C,N=[];for(let j=0;j<I;j++)N[j]=x>0?T.i(j+C)>>>x|T.i(j+C+1)<<32-x:T.i(j+C);return new o(N,T.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,IS=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=f,Is=o}).apply(typeof Zx<"u"?Zx:typeof self<"u"?self:typeof window<"u"?window:{});var Jc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var SS,ja,CS,Iu,cm,AS,RS,kS;(function(){var t,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Jc=="object"&&Jc];for(var p=0;p<c.length;++p){var g=c[p];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var r=n(this);function s(c,p){if(p)e:{var g=r;c=c.split(".");for(var b=0;b<c.length-1;b++){var L=c[b];if(!(L in g))break e;g=g[L]}c=c[c.length-1],b=g[c],p=p(b),p!=b&&p!=null&&e(g,c,{configurable:!0,writable:!0,value:p})}}s("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(c){return c||function(p){var g=[],b;for(b in p)Object.prototype.hasOwnProperty.call(p,b)&&g.push([b,p[b]]);return g}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var i=i||{},o=this||self;function a(c){var p=typeof c;return p=="object"&&c!=null||p=="function"}function l(c,p,g){return c.call.apply(c.bind,arguments)}function u(c,p,g){return u=l,u.apply(null,arguments)}function f(c,p){var g=Array.prototype.slice.call(arguments,1);return function(){var b=g.slice();return b.push.apply(b,arguments),c.apply(this,b)}}function h(c,p){function g(){}g.prototype=p.prototype,c.Z=p.prototype,c.prototype=new g,c.prototype.constructor=c,c.Ob=function(b,L,F){for(var K=Array(arguments.length-2),me=2;me<arguments.length;me++)K[me-2]=arguments[me];return p.prototype[L].apply(b,K)}}var m=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function y(c){const p=c.length;if(p>0){const g=Array(p);for(let b=0;b<p;b++)g[b]=c[b];return g}return[]}function E(c,p){for(let b=1;b<arguments.length;b++){const L=arguments[b];var g=typeof L;if(g=g!="object"?g:L?Array.isArray(L)?"array":g:"null",g=="array"||g=="object"&&typeof L.length=="number"){g=c.length||0;const F=L.length||0;c.length=g+F;for(let K=0;K<F;K++)c[g+K]=L[K]}else c.push(L)}}class A{constructor(p,g){this.i=p,this.j=g,this.h=0,this.g=null}get(){let p;return this.h>0?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function S(c){o.setTimeout(()=>{throw c},0)}function v(){var c=T;let p=null;return c.g&&(p=c.g,c.g=c.g.next,c.g||(c.h=null),p.next=null),p}class w{constructor(){this.h=this.g=null}add(p,g){const b=_.get();b.set(p,g),this.h?this.h.next=b:this.g=b,this.h=b}}var _=new A(()=>new D,c=>c.reset());class D{constructor(){this.next=this.g=this.h=null}set(p,g){this.h=p,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let V,O=!1,T=new w,x=()=>{const c=Promise.resolve(void 0);V=()=>{c.then(C)}};function C(){for(var c;c=v();){try{c.h.call(c.g)}catch(g){S(g)}var p=_;p.j(c),p.h<100&&(p.h++,c.next=p.g,p.g=c)}O=!1}function I(){this.u=this.u,this.C=this.C}I.prototype.u=!1,I.prototype.dispose=function(){this.u||(this.u=!0,this.N())},I.prototype[Symbol.dispose]=function(){this.dispose()},I.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(c,p){this.type=c,this.g=this.target=p,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var j=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var c=!1,p=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const g=()=>{};o.addEventListener("test",g,p),o.removeEventListener("test",g,p)}catch{}return c}();function R(c){return/^[\s\xa0]*$/.test(c)}function pe(c,p){N.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,p)}h(pe,N),pe.prototype.init=function(c,p){const g=this.type=c.type,b=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=p,p=c.relatedTarget,p||(g=="mouseover"?p=c.fromElement:g=="mouseout"&&(p=c.toElement)),this.relatedTarget=p,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&pe.Z.h.call(this)},pe.prototype.h=function(){pe.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Re="closure_listenable_"+(Math.random()*1e6|0),he=0;function ce(c,p,g,b,L){this.listener=c,this.proxy=null,this.src=p,this.type=g,this.capture=!!b,this.ha=L,this.key=++he,this.da=this.fa=!1}function $(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Z(c,p,g){for(const b in c)p.call(g,c[b],b,c)}function M(c,p){for(const g in c)p.call(void 0,c[g],g,c)}function P(c){const p={};for(const g in c)p[g]=c[g];return p}const H="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function z(c,p){let g,b;for(let L=1;L<arguments.length;L++){b=arguments[L];for(g in b)c[g]=b[g];for(let F=0;F<H.length;F++)g=H[F],Object.prototype.hasOwnProperty.call(b,g)&&(c[g]=b[g])}}function G(c){this.src=c,this.g={},this.h=0}G.prototype.add=function(c,p,g,b,L){const F=c.toString();c=this.g[F],c||(c=this.g[F]=[],this.h++);const K=ee(c,p,b,L);return K>-1?(p=c[K],g||(p.fa=!1)):(p=new ce(p,this.src,F,!!b,L),p.fa=g,c.push(p)),p};function Q(c,p){const g=p.type;if(g in c.g){var b=c.g[g],L=Array.prototype.indexOf.call(b,p,void 0),F;(F=L>=0)&&Array.prototype.splice.call(b,L,1),F&&($(p),c.g[g].length==0&&(delete c.g[g],c.h--))}}function ee(c,p,g,b){for(let L=0;L<c.length;++L){const F=c[L];if(!F.da&&F.listener==p&&F.capture==!!g&&F.ha==b)return L}return-1}var X="closure_lm_"+(Math.random()*1e6|0),Y={};function ge(c,p,g,b,L){if(Array.isArray(p)){for(let F=0;F<p.length;F++)ge(c,p[F],g,b,L);return null}return g=Bt(g),c&&c[Re]?c.J(p,g,a(b)?!!b.capture:!1,L):Ce(c,p,g,!1,b,L)}function Ce(c,p,g,b,L,F){if(!p)throw Error("Invalid event type");const K=a(L)?!!L.capture:!!L;let me=ft(c);if(me||(c[X]=me=new G(c)),g=me.add(p,g,b,K,F),g.proxy)return g;if(b=Te(),g.proxy=b,b.src=c,b.listener=g,c.addEventListener)j||(L=K),L===void 0&&(L=!1),c.addEventListener(p.toString(),b,L);else if(c.attachEvent)c.attachEvent(fe(p.toString()),b);else if(c.addListener&&c.removeListener)c.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return g}function Te(){function c(g){return p.call(c.src,c.listener,g)}const p=$e;return c}function Ee(c,p,g,b,L){if(Array.isArray(p))for(var F=0;F<p.length;F++)Ee(c,p[F],g,b,L);else b=a(b)?!!b.capture:!!b,g=Bt(g),c&&c[Re]?(c=c.i,F=String(p).toString(),F in c.g&&(p=c.g[F],g=ee(p,g,b,L),g>-1&&($(p[g]),Array.prototype.splice.call(p,g,1),p.length==0&&(delete c.g[F],c.h--)))):c&&(c=ft(c))&&(p=c.g[p.toString()],c=-1,p&&(c=ee(p,g,b,L)),(g=c>-1?p[c]:null)&&Ne(g))}function Ne(c){if(typeof c!="number"&&c&&!c.da){var p=c.src;if(p&&p[Re])Q(p.i,c);else{var g=c.type,b=c.proxy;p.removeEventListener?p.removeEventListener(g,b,c.capture):p.detachEvent?p.detachEvent(fe(g),b):p.addListener&&p.removeListener&&p.removeListener(b),(g=ft(p))?(Q(g,c),g.h==0&&(g.src=null,p[X]=null)):$(c)}}}function fe(c){return c in Y?Y[c]:Y[c]="on"+c}function $e(c,p){if(c.da)c=!0;else{p=new pe(p,this);const g=c.listener,b=c.ha||c.src;c.fa&&Ne(c),c=g.call(b,p)}return c}function ft(c){return c=c[X],c instanceof G?c:null}var Ze="__closure_events_fn_"+(Math.random()*1e9>>>0);function Bt(c){return typeof c=="function"?c:(c[Ze]||(c[Ze]=function(p){return c.handleEvent(p)}),c[Ze])}function be(){I.call(this),this.i=new G(this),this.M=this,this.G=null}h(be,I),be.prototype[Re]=!0,be.prototype.removeEventListener=function(c,p,g,b){Ee(this,c,p,g,b)};function Pe(c,p){var g,b=c.G;if(b)for(g=[];b;b=b.G)g.push(b);if(c=c.M,b=p.type||p,typeof p=="string")p=new N(p,c);else if(p instanceof N)p.target=p.target||c;else{var L=p;p=new N(b,c),z(p,L)}L=!0;let F,K;if(g)for(K=g.length-1;K>=0;K--)F=p.g=g[K],L=Hr(F,b,!0,p)&&L;if(F=p.g=c,L=Hr(F,b,!0,p)&&L,L=Hr(F,b,!1,p)&&L,g)for(K=0;K<g.length;K++)F=p.g=g[K],L=Hr(F,b,!1,p)&&L}be.prototype.N=function(){if(be.Z.N.call(this),this.i){var c=this.i;for(const p in c.g){const g=c.g[p];for(let b=0;b<g.length;b++)$(g[b]);delete c.g[p],c.h--}}this.G=null},be.prototype.J=function(c,p,g,b){return this.i.add(String(c),p,!1,g,b)},be.prototype.K=function(c,p,g,b){return this.i.add(String(c),p,!0,g,b)};function Hr(c,p,g,b){if(p=c.i.g[String(p)],!p)return!0;p=p.concat();let L=!0;for(let F=0;F<p.length;++F){const K=p[F];if(K&&!K.da&&K.capture==g){const me=K.listener,at=K.ha||K.src;K.fa&&Q(c.i,K),L=me.call(at,b)!==!1&&L}}return L&&!b.defaultPrevented}function xt(c,p){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=u(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(p)>2147483647?-1:o.setTimeout(c,p||0)}function Rn(c){c.g=xt(()=>{c.g=null,c.i&&(c.i=!1,Rn(c))},c.l);const p=c.h;c.h=null,c.m.apply(null,p)}class Oi extends I{constructor(p,g){super(),this.m=p,this.l=g,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:Rn(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function pr(c){I.call(this),this.h=c,this.g={}}h(pr,I);var Wn=[];function Li(c){Z(c.g,function(p,g){this.g.hasOwnProperty(g)&&Ne(p)},c),c.g={}}pr.prototype.N=function(){pr.Z.N.call(this),Li(this)},pr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Wr=o.JSON.stringify,qr=o.JSON.parse,kn=class{stringify(c){return o.JSON.stringify(c,void 0)}parse(c){return o.JSON.parse(c,void 0)}};function mr(){}function Pn(){}var gr={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function sa(){N.call(this,"d")}h(sa,N);function Fi(){N.call(this,"c")}h(Fi,N);var qn={},gc=null;function Gr(){return gc=gc||new be}qn.Ia="serverreachability";function Nn(c){N.call(this,qn.Ia,c)}h(Nn,N);function Qs(c){const p=Gr();Pe(p,new Nn(p))}qn.STAT_EVENT="statevent";function yc(c,p){N.call(this,qn.STAT_EVENT,c),this.stat=p}h(yc,N);function pt(c){const p=Gr();Pe(p,new yc(p,c))}qn.Ja="timingevent";function ia(c,p){N.call(this,qn.Ja,c),this.size=p}h(ia,N);function le(c,p){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){c()},p)}function Ue(){this.g=!0}Ue.prototype.ua=function(){this.g=!1};function mt(c,p,g,b,L,F){c.info(function(){if(c.g)if(F){var K="",me=F.split("&");for(let De=0;De<me.length;De++){var at=me[De].split("=");if(at.length>1){const gt=at[0];at=at[1];const Kn=gt.split("_");K=Kn.length>=2&&Kn[1]=="type"?K+(gt+"="+at+"&"):K+(gt+"=redacted&")}}}else K=null;else K=F;return"XMLHTTP REQ ("+b+") [attempt "+L+"]: "+p+`
`+g+`
`+K})}function zt(c,p,g,b,L,F,K){c.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+L+"]: "+p+`
`+g+`
`+F+" "+K})}function Dn(c,p,g,b){c.info(function(){return"XMLHTTP TEXT ("+p+"): "+Gt(c,g)+(b?" "+b:"")})}function ot(c,p){c.info(function(){return"TIMEOUT: "+p})}Ue.prototype.info=function(){};function Gt(c,p){if(!c.g)return p;if(!p)return null;try{const F=JSON.parse(p);if(F){for(c=0;c<F.length;c++)if(Array.isArray(F[c])){var g=F[c];if(!(g.length<2)){var b=g[1];if(Array.isArray(b)&&!(b.length<1)){var L=b[0];if(L!="noop"&&L!="stop"&&L!="close")for(let K=1;K<b.length;K++)b[K]=""}}}}return Wr(F)}catch{return p}}var yr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Kt={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Qt;function Ui(){}h(Ui,mr),Ui.prototype.g=function(){return new XMLHttpRequest},Qt=new Ui;function sn(c){return encodeURIComponent(String(c))}function iv(c){var p=1;c=c.split(":");const g=[];for(;p>0&&c.length;)g.push(c.shift()),p--;return c.length&&g.push(c.join(":")),g}function Kr(c,p,g,b){this.j=c,this.i=p,this.l=g,this.S=b||1,this.V=new pr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ov}function ov(){this.i=null,this.g="",this.h=!1}var av={},xh={};function _h(c,p,g){c.M=1,c.A=wc(Gn(p)),c.u=g,c.R=!0,lv(c,null)}function lv(c,p){c.F=Date.now(),vc(c),c.B=Gn(c.A);var g=c.B,b=c.S;Array.isArray(b)||(b=[String(b)]),_v(g.i,"t",b),c.C=0,g=c.j.L,c.h=new ov,c.g=Fv(c.j,g?p:null,!c.u),c.P>0&&(c.O=new Oi(u(c.Y,c,c.g),c.P)),p=c.V,g=c.g,b=c.ba;var L="readystatechange";Array.isArray(L)||(L&&(Wn[0]=L.toString()),L=Wn);for(let F=0;F<L.length;F++){const K=ge(g,L[F],b||p.handleEvent,!1,p.h||p);if(!K)break;p.g[K.key]=K}p=c.J?P(c.J):{},c.u?(c.v||(c.v="POST"),p["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,p)):(c.v="GET",c.g.ea(c.B,c.v,null,p)),Qs(),mt(c.i,c.v,c.B,c.l,c.S,c.u)}Kr.prototype.ba=function(c){c=c.target;const p=this.O;p&&Xr(c)==3?p.j():this.Y(c)},Kr.prototype.Y=function(c){try{if(c==this.g)e:{const me=Xr(this.g),at=this.g.ya(),De=this.g.ca();if(!(me<3)&&(me!=3||this.g&&(this.h.h||this.g.la()||Av(this.g)))){this.K||me!=4||at==7||(at==8||De<=0?Qs(3):Qs(2)),Eh(this);var p=this.g.ca();this.X=p;var g=aA(this);if(this.o=p==200,zt(this.i,this.v,this.B,this.l,this.S,me,p),this.o){if(this.U&&!this.L){t:{if(this.g){var b,L=this.g;if((b=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(b)){var F=b;break t}}F=null}if(c=F)Dn(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Th(this,c);else{this.o=!1,this.m=3,pt(12),Ys(this),oa(this);break e}}if(this.R){c=!0;let gt;for(;!this.K&&this.C<g.length;)if(gt=lA(this,g),gt==xh){me==4&&(this.m=4,pt(14),c=!1),Dn(this.i,this.l,null,"[Incomplete Response]");break}else if(gt==av){this.m=4,pt(15),Dn(this.i,this.l,g,"[Invalid Chunk]"),c=!1;break}else Dn(this.i,this.l,gt,null),Th(this,gt);if(cv(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),me!=4||g.length!=0||this.h.h||(this.m=1,pt(16),c=!1),this.o=this.o&&c,!c)Dn(this.i,this.l,g,"[Invalid Chunked Response]"),Ys(this),oa(this);else if(g.length>0&&!this.W){this.W=!0;var K=this.j;K.g==this&&K.aa&&!K.P&&(K.j.info("Great, no buffering proxy detected. Bytes received: "+g.length),Ph(K),K.P=!0,pt(11))}}else Dn(this.i,this.l,g,null),Th(this,g);me==4&&Ys(this),this.o&&!this.K&&(me==4?jv(this.j,this):(this.o=!1,vc(this)))}else EA(this.g),p==400&&g.indexOf("Unknown SID")>0?(this.m=3,pt(12)):(this.m=0,pt(13)),Ys(this),oa(this)}}}catch{}finally{}};function aA(c){if(!cv(c))return c.g.la();const p=Av(c.g);if(p==="")return"";let g="";const b=p.length,L=Xr(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return Ys(c),oa(c),"";c.h.i=new o.TextDecoder}for(let F=0;F<b;F++)c.h.h=!0,g+=c.h.i.decode(p[F],{stream:!(L&&F==b-1)});return p.length=0,c.h.g+=g,c.C=0,c.h.g}function cv(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function lA(c,p){var g=c.C,b=p.indexOf(`
`,g);return b==-1?xh:(g=Number(p.substring(g,b)),isNaN(g)?av:(b+=1,b+g>p.length?xh:(p=p.slice(b,b+g),c.C=b+g,p)))}Kr.prototype.cancel=function(){this.K=!0,Ys(this)};function vc(c){c.T=Date.now()+c.H,uv(c,c.H)}function uv(c,p){if(c.D!=null)throw Error("WatchDog timer not null");c.D=le(u(c.aa,c),p)}function Eh(c){c.D&&(o.clearTimeout(c.D),c.D=null)}Kr.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(ot(this.i,this.B),this.M!=2&&(Qs(),pt(17)),Ys(this),this.m=2,oa(this)):uv(this,this.T-c)};function oa(c){c.j.I==0||c.K||jv(c.j,c)}function Ys(c){Eh(c);var p=c.O;p&&typeof p.dispose=="function"&&p.dispose(),c.O=null,Li(c.V),c.g&&(p=c.g,c.g=null,p.abort(),p.dispose())}function Th(c,p){try{var g=c.j;if(g.I!=0&&(g.g==c||bh(g.h,c))){if(!c.L&&bh(g.h,c)&&g.I==3){try{var b=g.Ba.g.parse(p)}catch{b=null}if(Array.isArray(b)&&b.length==3){var L=b;if(L[0]==0){e:if(!g.v){if(g.g)if(g.g.F+3e3<c.F)bc(g),Ec(g);else break e;kh(g),pt(18)}}else g.xa=L[1],0<g.xa-g.K&&L[2]<37500&&g.F&&g.A==0&&!g.C&&(g.C=le(u(g.Va,g),6e3));fv(g.h)<=1&&g.ta&&(g.ta=void 0)}else Js(g,11)}else if((c.L||g.g==c)&&bc(g),!R(p))for(L=g.Ba.g.parse(p),p=0;p<L.length;p++){let De=L[p];const gt=De[0];if(!(gt<=g.K))if(g.K=gt,De=De[1],g.I==2)if(De[0]=="c"){g.M=De[1],g.ba=De[2];const Kn=De[3];Kn!=null&&(g.ka=Kn,g.j.info("VER="+g.ka));const Zs=De[4];Zs!=null&&(g.za=Zs,g.j.info("SVER="+g.za));const Jr=De[5];Jr!=null&&typeof Jr=="number"&&Jr>0&&(b=1.5*Jr,g.O=b,g.j.info("backChannelRequestTimeoutMs_="+b)),b=g;const Zr=c.g;if(Zr){const Sc=Zr.g?Zr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Sc){var F=b.h;F.g||Sc.indexOf("spdy")==-1&&Sc.indexOf("quic")==-1&&Sc.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(Ih(F,F.h),F.h=null))}if(b.G){const Nh=Zr.g?Zr.g.getResponseHeader("X-HTTP-Session-Id"):null;Nh&&(b.wa=Nh,je(b.J,b.G,Nh))}}g.I=3,g.l&&g.l.ra(),g.aa&&(g.T=Date.now()-c.F,g.j.info("Handshake RTT: "+g.T+"ms")),b=g;var K=c;if(b.na=Lv(b,b.L?b.ba:null,b.W),K.L){pv(b.h,K);var me=K,at=b.O;at&&(me.H=at),me.D&&(Eh(me),vc(me)),b.g=K}else Dv(b);g.i.length>0&&Tc(g)}else De[0]!="stop"&&De[0]!="close"||Js(g,7);else g.I==3&&(De[0]=="stop"||De[0]=="close"?De[0]=="stop"?Js(g,7):Rh(g):De[0]!="noop"&&g.l&&g.l.qa(De),g.A=0)}}Qs(4)}catch{}}var cA=class{constructor(c,p){this.g=c,this.map=p}};function dv(c){this.l=c||10,o.PerformanceNavigationTiming?(c=o.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function hv(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function fv(c){return c.h?1:c.g?c.g.size:0}function bh(c,p){return c.h?c.h==p:c.g?c.g.has(p):!1}function Ih(c,p){c.g?c.g.add(p):c.h=p}function pv(c,p){c.h&&c.h==p?c.h=null:c.g&&c.g.has(p)&&c.g.delete(p)}dv.prototype.cancel=function(){if(this.i=mv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function mv(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let p=c.i;for(const g of c.g.values())p=p.concat(g.G);return p}return y(c.i)}var gv=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function uA(c,p){if(c){c=c.split("&");for(let g=0;g<c.length;g++){const b=c[g].indexOf("=");let L,F=null;b>=0?(L=c[g].substring(0,b),F=c[g].substring(b+1)):L=c[g],p(L,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function Qr(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let p;c instanceof Qr?(this.l=c.l,aa(this,c.j),this.o=c.o,this.g=c.g,la(this,c.u),this.h=c.h,Sh(this,Ev(c.i)),this.m=c.m):c&&(p=String(c).match(gv))?(this.l=!1,aa(this,p[1]||"",!0),this.o=ca(p[2]||""),this.g=ca(p[3]||"",!0),la(this,p[4]),this.h=ca(p[5]||"",!0),Sh(this,p[6]||"",!0),this.m=ca(p[7]||"")):(this.l=!1,this.i=new da(null,this.l))}Qr.prototype.toString=function(){const c=[];var p=this.j;p&&c.push(ua(p,yv,!0),":");var g=this.g;return(g||p=="file")&&(c.push("//"),(p=this.o)&&c.push(ua(p,yv,!0),"@"),c.push(sn(g).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.u,g!=null&&c.push(":",String(g))),(g=this.h)&&(this.g&&g.charAt(0)!="/"&&c.push("/"),c.push(ua(g,g.charAt(0)=="/"?fA:hA,!0))),(g=this.i.toString())&&c.push("?",g),(g=this.m)&&c.push("#",ua(g,mA)),c.join("")},Qr.prototype.resolve=function(c){const p=Gn(this);let g=!!c.j;g?aa(p,c.j):g=!!c.o,g?p.o=c.o:g=!!c.g,g?p.g=c.g:g=c.u!=null;var b=c.h;if(g)la(p,c.u);else if(g=!!c.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var L=p.h.lastIndexOf("/");L!=-1&&(b=p.h.slice(0,L+1)+b)}if(L=b,L==".."||L==".")b="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){b=L.lastIndexOf("/",0)==0,L=L.split("/");const F=[];for(let K=0;K<L.length;){const me=L[K++];me=="."?b&&K==L.length&&F.push(""):me==".."?((F.length>1||F.length==1&&F[0]!="")&&F.pop(),b&&K==L.length&&F.push("")):(F.push(me),b=!0)}b=F.join("/")}else b=L}return g?p.h=b:g=c.i.toString()!=="",g?Sh(p,Ev(c.i)):g=!!c.m,g&&(p.m=c.m),p};function Gn(c){return new Qr(c)}function aa(c,p,g){c.j=g?ca(p,!0):p,c.j&&(c.j=c.j.replace(/:$/,""))}function la(c,p){if(p){if(p=Number(p),isNaN(p)||p<0)throw Error("Bad port number "+p);c.u=p}else c.u=null}function Sh(c,p,g){p instanceof da?(c.i=p,gA(c.i,c.l)):(g||(p=ua(p,pA)),c.i=new da(p,c.l))}function je(c,p,g){c.i.set(p,g)}function wc(c){return je(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function ca(c,p){return c?p?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ua(c,p,g){return typeof c=="string"?(c=encodeURI(c).replace(p,dA),g&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function dA(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var yv=/[#\/\?@]/g,hA=/[#\?:]/g,fA=/[#\?]/g,pA=/[#\?@]/g,mA=/#/g;function da(c,p){this.h=this.g=null,this.i=c||null,this.j=!!p}function Xs(c){c.g||(c.g=new Map,c.h=0,c.i&&uA(c.i,function(p,g){c.add(decodeURIComponent(p.replace(/\+/g," ")),g)}))}t=da.prototype,t.add=function(c,p){Xs(this),this.i=null,c=Bi(this,c);let g=this.g.get(c);return g||this.g.set(c,g=[]),g.push(p),this.h+=1,this};function vv(c,p){Xs(c),p=Bi(c,p),c.g.has(p)&&(c.i=null,c.h-=c.g.get(p).length,c.g.delete(p))}function wv(c,p){return Xs(c),p=Bi(c,p),c.g.has(p)}t.forEach=function(c,p){Xs(this),this.g.forEach(function(g,b){g.forEach(function(L){c.call(p,L,b,this)},this)},this)};function xv(c,p){Xs(c);let g=[];if(typeof p=="string")wv(c,p)&&(g=g.concat(c.g.get(Bi(c,p))));else for(c=Array.from(c.g.values()),p=0;p<c.length;p++)g=g.concat(c[p]);return g}t.set=function(c,p){return Xs(this),this.i=null,c=Bi(this,c),wv(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[p]),this.h+=1,this},t.get=function(c,p){return c?(c=xv(this,c),c.length>0?String(c[0]):p):p};function _v(c,p,g){vv(c,p),g.length>0&&(c.i=null,c.g.set(Bi(c,p),y(g)),c.h+=g.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],p=Array.from(this.g.keys());for(let b=0;b<p.length;b++){var g=p[b];const L=sn(g);g=xv(this,g);for(let F=0;F<g.length;F++){let K=L;g[F]!==""&&(K+="="+sn(g[F])),c.push(K)}}return this.i=c.join("&")};function Ev(c){const p=new da;return p.i=c.i,c.g&&(p.g=new Map(c.g),p.h=c.h),p}function Bi(c,p){return p=String(p),c.j&&(p=p.toLowerCase()),p}function gA(c,p){p&&!c.j&&(Xs(c),c.i=null,c.g.forEach(function(g,b){const L=b.toLowerCase();b!=L&&(vv(this,b),_v(this,L,g))},c)),c.j=p}function yA(c,p){const g=new Ue;if(o.Image){const b=new Image;b.onload=f(Yr,g,"TestLoadImage: loaded",!0,p,b),b.onerror=f(Yr,g,"TestLoadImage: error",!1,p,b),b.onabort=f(Yr,g,"TestLoadImage: abort",!1,p,b),b.ontimeout=f(Yr,g,"TestLoadImage: timeout",!1,p,b),o.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=c}else p(!1)}function vA(c,p){const g=new Ue,b=new AbortController,L=setTimeout(()=>{b.abort(),Yr(g,"TestPingServer: timeout",!1,p)},1e4);fetch(c,{signal:b.signal}).then(F=>{clearTimeout(L),F.ok?Yr(g,"TestPingServer: ok",!0,p):Yr(g,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(L),Yr(g,"TestPingServer: error",!1,p)})}function Yr(c,p,g,b,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),b(g)}catch{}}function wA(){this.g=new kn}function Ch(c){this.i=c.Sb||null,this.h=c.ab||!1}h(Ch,mr),Ch.prototype.g=function(){return new xc(this.i,this.h)};function xc(c,p){be.call(this),this.H=c,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}h(xc,be),t=xc.prototype,t.open=function(c,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=p,this.readyState=1,fa(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const p={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(p.body=c),(this.H||o).fetch(new Request(this.D,p)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ha(this)),this.readyState=0},t.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,fa(this)),this.g&&(this.readyState=3,fa(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Tv(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Tv(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}t.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var p=c.value?c.value:new Uint8Array(0);(p=this.B.decode(p,{stream:!c.done}))&&(this.response=this.responseText+=p)}c.done?ha(this):fa(this),this.readyState==3&&Tv(this)}},t.Oa=function(c){this.g&&(this.response=this.responseText=c,ha(this))},t.Na=function(c){this.g&&(this.response=c,ha(this))},t.ga=function(){this.g&&ha(this)};function ha(c){c.readyState=4,c.l=null,c.j=null,c.B=null,fa(c)}t.setRequestHeader=function(c,p){this.A.append(c,p)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],p=this.h.entries();for(var g=p.next();!g.done;)g=g.value,c.push(g[0]+": "+g[1]),g=p.next();return c.join(`\r
`)};function fa(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(xc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function bv(c){let p="";return Z(c,function(g,b){p+=b,p+=":",p+=g,p+=`\r
`}),p}function Ah(c,p,g){e:{for(b in g){var b=!1;break e}b=!0}b||(g=bv(g),typeof c=="string"?g!=null&&sn(g):je(c,p,g))}function Ye(c){be.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}h(Ye,be);var xA=/^https?$/i,_A=["POST","PUT"];t=Ye.prototype,t.Fa=function(c){this.H=c},t.ea=function(c,p,g,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);p=p?p.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Qt.g(),this.g.onreadystatechange=m(u(this.Ca,this));try{this.B=!0,this.g.open(p,String(c),!0),this.B=!1}catch(F){Iv(this,F);return}if(c=g||"",g=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var L in b)g.set(L,b[L]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const F of b.keys())g.set(F,b.get(F));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(g.keys()).find(F=>F.toLowerCase()=="content-type"),L=o.FormData&&c instanceof o.FormData,!(Array.prototype.indexOf.call(_A,p,void 0)>=0)||b||L||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,K]of g)this.g.setRequestHeader(F,K);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(F){Iv(this,F)}};function Iv(c,p){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=p,c.o=5,Sv(c),_c(c)}function Sv(c){c.A||(c.A=!0,Pe(c,"complete"),Pe(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Pe(this,"complete"),Pe(this,"abort"),_c(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),_c(this,!0)),Ye.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Cv(this):this.Xa())},t.Xa=function(){Cv(this)};function Cv(c){if(c.h&&typeof i<"u"){if(c.v&&Xr(c)==4)setTimeout(c.Ca.bind(c),0);else if(Pe(c,"readystatechange"),Xr(c)==4){c.h=!1;try{const F=c.ca();e:switch(F){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var g;if(!(g=p)){var b;if(b=F===0){let K=String(c.D).match(gv)[1]||null;!K&&o.self&&o.self.location&&(K=o.self.location.protocol.slice(0,-1)),b=!xA.test(K?K.toLowerCase():"")}g=b}if(g)Pe(c,"complete"),Pe(c,"success");else{c.o=6;try{var L=Xr(c)>2?c.g.statusText:""}catch{L=""}c.l=L+" ["+c.ca()+"]",Sv(c)}}finally{_c(c)}}}}function _c(c,p){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const g=c.g;c.g=null,p||Pe(c,"ready");try{g.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Xr(c){return c.g?c.g.readyState:0}t.ca=function(){try{return Xr(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(c){if(this.g){var p=this.g.responseText;return c&&p.indexOf(c)==0&&(p=p.substring(c.length)),qr(p)}};function Av(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function EA(c){const p={};c=(c.g&&Xr(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<c.length;b++){if(R(c[b]))continue;var g=iv(c[b]);const L=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const F=p[L]||[];p[L]=F,F.push(g)}M(p,function(b){return b.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function pa(c,p,g){return g&&g.internalChannelParams&&g.internalChannelParams[c]||p}function Rv(c){this.za=0,this.i=[],this.j=new Ue,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=pa("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=pa("baseRetryDelayMs",5e3,c),this.Za=pa("retryDelaySeedMs",1e4,c),this.Ta=pa("forwardChannelMaxRetries",2,c),this.va=pa("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new dv(c&&c.concurrentRequestLimit),this.Ba=new wA,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Rv.prototype,t.ka=8,t.I=1,t.connect=function(c,p,g,b){pt(0),this.W=c,this.H=p||{},g&&b!==void 0&&(this.H.OSID=g,this.H.OAID=b),this.F=this.X,this.J=Lv(this,null,this.W),Tc(this)};function Rh(c){if(kv(c),c.I==3){var p=c.V++,g=Gn(c.J);if(je(g,"SID",c.M),je(g,"RID",p),je(g,"TYPE","terminate"),ma(c,g),p=new Kr(c,c.j,p),p.M=2,p.A=wc(Gn(g)),g=!1,o.navigator&&o.navigator.sendBeacon)try{g=o.navigator.sendBeacon(p.A.toString(),"")}catch{}!g&&o.Image&&(new Image().src=p.A,g=!0),g||(p.g=Fv(p.j,null),p.g.ea(p.A)),p.F=Date.now(),vc(p)}Ov(c)}function Ec(c){c.g&&(Ph(c),c.g.cancel(),c.g=null)}function kv(c){Ec(c),c.v&&(o.clearTimeout(c.v),c.v=null),bc(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&o.clearTimeout(c.m),c.m=null)}function Tc(c){if(!hv(c.h)&&!c.m){c.m=!0;var p=c.Ea;V||x(),O||(V(),O=!0),T.add(p,c),c.D=0}}function TA(c,p){return fv(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=p.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=le(u(c.Ea,c,p),Vv(c,c.D)),c.D++,!0)}t.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const L=new Kr(this,this.j,c);let F=this.o;if(this.U&&(F?(F=P(F),z(F,this.U)):F=this.U),this.u!==null||this.R||(L.J=F,F=null),this.S)e:{for(var p=0,g=0;g<this.i.length;g++){t:{var b=this.i[g];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(p+=b,p>4096){p=g;break e}if(p===4096||g===this.i.length-1){p=g+1;break e}}p=1e3}else p=1e3;p=Nv(this,L,p),g=Gn(this.J),je(g,"RID",c),je(g,"CVER",22),this.G&&je(g,"X-HTTP-Session-Id",this.G),ma(this,g),F&&(this.R?p="headers="+sn(bv(F))+"&"+p:this.u&&Ah(g,this.u,F)),Ih(this.h,L),this.Ra&&je(g,"TYPE","init"),this.S?(je(g,"$req",p),je(g,"SID","null"),L.U=!0,_h(L,g,null)):_h(L,g,p),this.I=2}}else this.I==3&&(c?Pv(this,c):this.i.length==0||hv(this.h)||Pv(this))};function Pv(c,p){var g;p?g=p.l:g=c.V++;const b=Gn(c.J);je(b,"SID",c.M),je(b,"RID",g),je(b,"AID",c.K),ma(c,b),c.u&&c.o&&Ah(b,c.u,c.o),g=new Kr(c,c.j,g,c.D+1),c.u===null&&(g.J=c.o),p&&(c.i=p.G.concat(c.i)),p=Nv(c,g,1e3),g.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Ih(c.h,g),_h(g,b,p)}function ma(c,p){c.H&&Z(c.H,function(g,b){je(p,b,g)}),c.l&&Z({},function(g,b){je(p,b,g)})}function Nv(c,p,g){g=Math.min(c.i.length,g);const b=c.l?u(c.l.Ka,c.l,c):null;e:{var L=c.i;let me=-1;for(;;){const at=["count="+g];me==-1?g>0?(me=L[0].g,at.push("ofs="+me)):me=0:at.push("ofs="+me);let De=!0;for(let gt=0;gt<g;gt++){var F=L[gt].g;const Kn=L[gt].map;if(F-=me,F<0)me=Math.max(0,L[gt].g-100),De=!1;else try{F="req"+F+"_"||"";try{var K=Kn instanceof Map?Kn:Object.entries(Kn);for(const[Zs,Jr]of K){let Zr=Jr;a(Jr)&&(Zr=Wr(Jr)),at.push(F+Zs+"="+encodeURIComponent(Zr))}}catch(Zs){throw at.push(F+"type="+encodeURIComponent("_badmap")),Zs}}catch{b&&b(Kn)}}if(De){K=at.join("&");break e}}K=void 0}return c=c.i.splice(0,g),p.G=c,K}function Dv(c){if(!c.g&&!c.v){c.Y=1;var p=c.Da;V||x(),O||(V(),O=!0),T.add(p,c),c.A=0}}function kh(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=le(u(c.Da,c),Vv(c,c.A)),c.A++,!0)}t.Da=function(){if(this.v=null,Mv(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=le(u(this.Wa,this),c)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,pt(10),Ec(this),Mv(this))};function Ph(c){c.B!=null&&(o.clearTimeout(c.B),c.B=null)}function Mv(c){c.g=new Kr(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var p=Gn(c.na);je(p,"RID","rpc"),je(p,"SID",c.M),je(p,"AID",c.K),je(p,"CI",c.F?"0":"1"),!c.F&&c.ia&&je(p,"TO",c.ia),je(p,"TYPE","xmlhttp"),ma(c,p),c.u&&c.o&&Ah(p,c.u,c.o),c.O&&(c.g.H=c.O);var g=c.g;c=c.ba,g.M=1,g.A=wc(Gn(p)),g.u=null,g.R=!0,lv(g,c)}t.Va=function(){this.C!=null&&(this.C=null,Ec(this),kh(this),pt(19))};function bc(c){c.C!=null&&(o.clearTimeout(c.C),c.C=null)}function jv(c,p){var g=null;if(c.g==p){bc(c),Ph(c),c.g=null;var b=2}else if(bh(c.h,p))g=p.G,pv(c.h,p),b=1;else return;if(c.I!=0){if(p.o)if(b==1){g=p.u?p.u.length:0,p=Date.now()-p.F;var L=c.D;b=Gr(),Pe(b,new ia(b,g)),Tc(c)}else Dv(c);else if(L=p.m,L==3||L==0&&p.X>0||!(b==1&&TA(c,p)||b==2&&kh(c)))switch(g&&g.length>0&&(p=c.h,p.i=p.i.concat(g)),L){case 1:Js(c,5);break;case 4:Js(c,10);break;case 3:Js(c,6);break;default:Js(c,2)}}}function Vv(c,p){let g=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(g*=2),g*p}function Js(c,p){if(c.j.info("Error code "+p),p==2){var g=u(c.bb,c),b=c.Ua;const L=!b;b=new Qr(b||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||aa(b,"https"),wc(b),L?yA(b.toString(),g):vA(b.toString(),g)}else pt(2);c.I=0,c.l&&c.l.pa(p),Ov(c),kv(c)}t.bb=function(c){c?(this.j.info("Successfully pinged google.com"),pt(2)):(this.j.info("Failed to ping google.com"),pt(1))};function Ov(c){if(c.I=0,c.ja=[],c.l){const p=mv(c.h);(p.length!=0||c.i.length!=0)&&(E(c.ja,p),E(c.ja,c.i),c.h.i.length=0,y(c.i),c.i.length=0),c.l.oa()}}function Lv(c,p,g){var b=g instanceof Qr?Gn(g):new Qr(g);if(b.g!="")p&&(b.g=p+"."+b.g),la(b,b.u);else{var L=o.location;b=L.protocol,p=p?p+"."+L.hostname:L.hostname,L=+L.port;const F=new Qr(null);b&&aa(F,b),p&&(F.g=p),L&&la(F,L),g&&(F.h=g),b=F}return g=c.G,p=c.wa,g&&p&&je(b,g,p),je(b,"VER",c.ka),ma(c,b),b}function Fv(c,p,g){if(p&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return p=c.Aa&&!c.ma?new Ye(new Ch({ab:g})):new Ye(c.ma),p.Fa(c.L),p}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Uv(){}t=Uv.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Ic(){}Ic.prototype.g=function(c,p){return new on(c,p)};function on(c,p){be.call(this),this.g=new Rv(p),this.l=c,this.h=p&&p.messageUrlParams||null,c=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(c?c["X-WebChannel-Content-Type"]=p.messageContentType:c={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.sa&&(c?c["X-WebChannel-Client-Profile"]=p.sa:c={"X-WebChannel-Client-Profile":p.sa}),this.g.U=c,(c=p&&p.Qb)&&!R(c)&&(this.g.u=c),this.A=p&&p.supportsCrossDomainXhr||!1,this.v=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!R(p)&&(this.g.G=p,c=this.h,c!==null&&p in c&&(c=this.h,p in c&&delete c[p])),this.j=new zi(this)}h(on,be),on.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},on.prototype.close=function(){Rh(this.g)},on.prototype.o=function(c){var p=this.g;if(typeof c=="string"){var g={};g.__data__=c,c=g}else this.v&&(g={},g.__data__=Wr(c),c=g);p.i.push(new cA(p.Ya++,c)),p.I==3&&Tc(p)},on.prototype.N=function(){this.g.l=null,delete this.j,Rh(this.g),delete this.g,on.Z.N.call(this)};function Bv(c){sa.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var p=c.__sm__;if(p){e:{for(const g in p){c=g;break e}c=void 0}(this.i=c)&&(c=this.i,p=p!==null&&c in p?p[c]:void 0),this.data=p}else this.data=c}h(Bv,sa);function zv(){Fi.call(this),this.status=1}h(zv,Fi);function zi(c){this.g=c}h(zi,Uv),zi.prototype.ra=function(){Pe(this.g,"a")},zi.prototype.qa=function(c){Pe(this.g,new Bv(c))},zi.prototype.pa=function(c){Pe(this.g,new zv)},zi.prototype.oa=function(){Pe(this.g,"b")},Ic.prototype.createWebChannel=Ic.prototype.g,on.prototype.send=on.prototype.o,on.prototype.open=on.prototype.m,on.prototype.close=on.prototype.close,kS=function(){return new Ic},RS=function(){return Gr()},AS=qn,cm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},yr.NO_ERROR=0,yr.TIMEOUT=8,yr.HTTP_ERROR=6,Iu=yr,Kt.COMPLETE="complete",CS=Kt,Pn.EventType=gr,gr.OPEN="a",gr.CLOSE="b",gr.ERROR="c",gr.MESSAGE="d",be.prototype.listen=be.prototype.J,ja=Pn,Ye.prototype.listenOnce=Ye.prototype.K,Ye.prototype.getLastError=Ye.prototype.Ha,Ye.prototype.getLastErrorCode=Ye.prototype.ya,Ye.prototype.getStatus=Ye.prototype.ca,Ye.prototype.getResponseJson=Ye.prototype.La,Ye.prototype.getResponseText=Ye.prototype.la,Ye.prototype.send=Ye.prototype.ea,Ye.prototype.setWithCredentials=Ye.prototype.Fa,SS=Ye}).apply(typeof Jc<"u"?Jc:typeof self<"u"?self:typeof window<"u"?window:{});const e_="@firebase/firestore",t_="4.9.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Dt.UNAUTHENTICATED=new Dt(null),Dt.GOOGLE_CREDENTIALS=new Dt("google-credentials-uid"),Dt.FIRST_PARTY=new Dt("first-party-uid"),Dt.MOCK_USER=new Dt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ea="12.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ai=new dy("@firebase/firestore");function Wi(){return Ai.logLevel}function J(t,...e){if(Ai.logLevel<=ve.DEBUG){const n=e.map(by);Ai.debug(`Firestore (${ea}): ${t}`,...n)}}function Fr(t,...e){if(Ai.logLevel<=ve.ERROR){const n=e.map(by);Ai.error(`Firestore (${ea}): ${t}`,...n)}}function Oo(t,...e){if(Ai.logLevel<=ve.WARN){const n=e.map(by);Ai.warn(`Firestore (${ea}): ${t}`,...n)}}function by(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ae(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,PS(t,r,n)}function PS(t,e,n){let r=`FIRESTORE (${ea}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Fr(r),new Error(r)}function Ae(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||PS(e,s,r)}function de(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ne extends zr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class t3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Dt.UNAUTHENTICATED))}shutdown(){}}class n3{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class r3{constructor(e){this.t=e,this.currentUser=Dt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ae(this.o===void 0,42304);let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new Ss;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Ss,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{J("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(J("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Ss)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(J("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ae(typeof r.accessToken=="string",31837,{l:r}),new NS(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ae(e===null||typeof e=="string",2055,{h:e}),new Dt(e)}}class s3{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Dt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class i3{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new s3(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Dt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class n_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class o3{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ln(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ae(this.o===void 0,3512);const r=i=>{i.error!=null&&J("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,J("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{J("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):J("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new n_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ae(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new n_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a3(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iy{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=a3(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function we(t,e){return t<e?-1:t>e?1:0}function um(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),i=e.charAt(r);if(s!==i)return Pf(s)===Pf(i)?we(s,i):Pf(s)?1:-1}return we(t.length,e.length)}const l3=55296,c3=57343;function Pf(t){const e=t.charCodeAt(0);return e>=l3&&e<=c3}function Lo(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r_="__name__";class Jn{constructor(e,n,r){n===void 0?n=0:n>e.length&&ae(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&ae(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Jn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Jn?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=Jn.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return we(e.length,n.length)}static compareSegments(e,n){const r=Jn.isNumericId(e),s=Jn.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?Jn.extractNumericId(e).compare(Jn.extractNumericId(n)):um(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Is.fromString(e.substring(4,e.length-2))}}class We extends Jn{construct(e,n,r){return new We(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ne(B.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new We(n)}static emptyPath(){return new We([])}}const u3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class It extends Jn{construct(e,n,r){return new It(e,n,r)}static isValidIdentifier(e){return u3.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),It.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===r_}static keyField(){return new It([r_])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new ne(B.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new ne(B.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ne(B.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new ne(B.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new It(n)}static emptyPath(){return new It([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e){this.path=e}static fromPath(e){return new re(We.fromString(e))}static fromName(e){return new re(We.fromString(e).popFirst(5))}static empty(){return new re(We.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&We.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return We.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new re(new We(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d3(t,e,n){if(!n)throw new ne(B.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function h3(t,e,n,r){if(e===!0&&r===!0)throw new ne(B.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function s_(t){if(!re.isDocumentKey(t))throw new ne(B.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function DS(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Sy(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ae(12329,{type:typeof t})}function Ri(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ne(B.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Sy(t);throw new ne(B.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function it(t,e){const n={typeString:t};return e&&(n.value=e),n}function lc(t,e){if(!DS(t))throw new ne(B.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(s&&typeof o!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new ne(B.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i_=-62135596800,o_=1e6;class Oe{static now(){return Oe.fromMillis(Date.now())}static fromDate(e){return Oe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*o_);return new Oe(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ne(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ne(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<i_)throw new ne(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ne(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/o_}_compareTo(e){return this.seconds===e.seconds?we(this.nanoseconds,e.nanoseconds):we(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Oe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(lc(e,Oe._jsonSchema))return new Oe(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-i_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Oe._jsonSchemaVersion="firestore/timestamp/1.0",Oe._jsonSchema={type:it("string",Oe._jsonSchemaVersion),seconds:it("number"),nanoseconds:it("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{static fromTimestamp(e){return new ue(e)}static min(){return new ue(new Oe(0,0))}static max(){return new ue(new Oe(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ml=-1;function f3(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=ue.fromTimestamp(r===1e9?new Oe(n+1,0):new Oe(n,r));return new Ns(s,re.empty(),e)}function p3(t){return new Ns(t.readTime,t.key,Ml)}class Ns{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ns(ue.min(),re.empty(),Ml)}static max(){return new Ns(ue.max(),re.empty(),Ml)}}function m3(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=re.comparator(t.documentKey,e.documentKey),n!==0?n:we(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class y3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ta(t){if(t.code!==B.FAILED_PRECONDITION||t.message!==g3)throw t;J("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ae(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new U((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof U?n:U.resolve(n)}catch(n){return U.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):U.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):U.reject(n)}static resolve(e){return new U((n,r)=>{n(e)})}static reject(e){return new U((n,r)=>{r(e)})}static waitFor(e){return new U((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=U.resolve(!1);for(const r of e)n=n.next(s=>s?U.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new U((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const u=l;n(e[u]).next(f=>{o[u]=f,++a,a===i&&r(o)},f=>s(f))}})}static doWhile(e,n){return new U((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function v3(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function na(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}sh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cy=-1;function ih(t){return t==null}function wd(t){return t===0&&1/t==-1/0}function w3(t){return typeof t=="number"&&Number.isInteger(t)&&!wd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MS="";function x3(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=a_(e)),e=_3(t.get(n),e);return a_(e)}function _3(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case MS:n+="";break;default:n+=i}}return n}function a_(t){return t+MS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Gs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function jS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e,n){this.comparator=e,this.root=n||bt.EMPTY}insert(e,n){return new Qe(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,bt.BLACK,null,null))}remove(e){return new Qe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,bt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Zc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Zc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Zc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Zc(this.root,e,this.comparator,!0)}}class Zc{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class bt{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??bt.RED,this.left=s??bt.EMPTY,this.right=i??bt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new bt(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return bt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return bt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,bt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,bt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ae(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ae(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ae(27949);return e+(this.isRed()?0:1)}}bt.EMPTY=null,bt.RED=!0,bt.BLACK=!1;bt.EMPTY=new class{constructor(){this.size=0}get key(){throw ae(57766)}get value(){throw ae(16141)}get color(){throw ae(16727)}get left(){throw ae(29726)}get right(){throw ae(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new bt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e){this.comparator=e,this.data=new Qe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new c_(this.data.getIterator())}getIteratorFrom(e){return new c_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof ht)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new ht(this.comparator);return n.data=e,n}}class c_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.fields=e,e.sort(It.comparator)}static empty(){return new un([])}unionWith(e){let n=new ht(It.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new un(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Lo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new VS("Invalid base64 string: "+i):i}}(e);return new At(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new At(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return we(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}At.EMPTY_BYTE_STRING=new At("");const E3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ds(t){if(Ae(!!t,39018),typeof t=="string"){let e=0;const n=E3.exec(t);if(Ae(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:tt(t.seconds),nanos:tt(t.nanos)}}function tt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ms(t){return typeof t=="string"?At.fromBase64String(t):At.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OS="server_timestamp",LS="__type__",FS="__previous_value__",US="__local_write_time__";function Ay(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[LS])==null?void 0:r.stringValue)===OS}function oh(t){const e=t.mapValue.fields[FS];return Ay(e)?oh(e):e}function jl(t){const e=Ds(t.mapValue.fields[US].timestampValue);return new Oe(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T3{constructor(e,n,r,s,i,o,a,l,u,f){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=f}}const xd="(default)";class Vl{constructor(e,n){this.projectId=e,this.database=n||xd}static empty(){return new Vl("","")}get isDefaultDatabase(){return this.database===xd}isEqual(e){return e instanceof Vl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BS="__type__",b3="__max__",eu={mapValue:{}},zS="__vector__",_d="value";function js(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ay(t)?4:S3(t)?9007199254740991:I3(t)?10:11:ae(28295,{value:t})}function dr(t,e){if(t===e)return!0;const n=js(t);if(n!==js(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return jl(t).isEqual(jl(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Ds(s.timestampValue),a=Ds(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Ms(s.bytesValue).isEqual(Ms(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return tt(s.geoPointValue.latitude)===tt(i.geoPointValue.latitude)&&tt(s.geoPointValue.longitude)===tt(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return tt(s.integerValue)===tt(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=tt(s.doubleValue),a=tt(i.doubleValue);return o===a?wd(o)===wd(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Lo(t.arrayValue.values||[],e.arrayValue.values||[],dr);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(l_(o)!==l_(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!dr(o[l],a[l])))return!1;return!0}(t,e);default:return ae(52216,{left:t})}}function Ol(t,e){return(t.values||[]).find(n=>dr(n,e))!==void 0}function Fo(t,e){if(t===e)return 0;const n=js(t),r=js(e);if(n!==r)return we(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return we(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=tt(i.integerValue||i.doubleValue),l=tt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return u_(t.timestampValue,e.timestampValue);case 4:return u_(jl(t),jl(e));case 5:return um(t.stringValue,e.stringValue);case 6:return function(i,o){const a=Ms(i),l=Ms(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const f=we(a[u],l[u]);if(f!==0)return f}return we(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=we(tt(i.latitude),tt(o.latitude));return a!==0?a:we(tt(i.longitude),tt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return d_(t.arrayValue,e.arrayValue);case 10:return function(i,o){var m,y,E,A;const a=i.fields||{},l=o.fields||{},u=(m=a[_d])==null?void 0:m.arrayValue,f=(y=l[_d])==null?void 0:y.arrayValue,h=we(((E=u==null?void 0:u.values)==null?void 0:E.length)||0,((A=f==null?void 0:f.values)==null?void 0:A.length)||0);return h!==0?h:d_(u,f)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===eu.mapValue&&o===eu.mapValue)return 0;if(i===eu.mapValue)return 1;if(o===eu.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),u=o.fields||{},f=Object.keys(u);l.sort(),f.sort();for(let h=0;h<l.length&&h<f.length;++h){const m=um(l[h],f[h]);if(m!==0)return m;const y=Fo(a[l[h]],u[f[h]]);if(y!==0)return y}return we(l.length,f.length)}(t.mapValue,e.mapValue);default:throw ae(23264,{he:n})}}function u_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return we(t,e);const n=Ds(t),r=Ds(e),s=we(n.seconds,r.seconds);return s!==0?s:we(n.nanos,r.nanos)}function d_(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Fo(n[s],r[s]);if(i)return i}return we(n.length,r.length)}function Uo(t){return dm(t)}function dm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ds(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ms(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return re.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=dm(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${dm(n.fields[o])}`;return s+"}"}(t.mapValue):ae(61005,{value:t})}function Su(t){switch(js(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=oh(t);return e?16+Su(e):16;case 5:return 2*t.stringValue.length;case 6:return Ms(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+Su(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return Gs(r.fields,(i,o)=>{s+=i.length+Su(o)}),s}(t.mapValue);default:throw ae(13486,{value:t})}}function hm(t){return!!t&&"integerValue"in t}function Ry(t){return!!t&&"arrayValue"in t}function h_(t){return!!t&&"nullValue"in t}function f_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Cu(t){return!!t&&"mapValue"in t}function I3(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[BS])==null?void 0:r.stringValue)===zS}function el(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Gs(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=el(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=el(t.arrayValue.values[n]);return e}return{...t}}function S3(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===b3}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e){this.value=e}static empty(){return new Zt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Cu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=el(n)}setAll(e){let n=It.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=el(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Cu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return dr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Cu(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Gs(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new Zt(el(this.value))}}function $S(t){const e=[];return Gs(t.fields,(n,r)=>{const s=new It([n]);if(Cu(r)){const i=$S(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new un(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new jt(e,0,ue.min(),ue.min(),ue.min(),Zt.empty(),0)}static newFoundDocument(e,n,r,s){return new jt(e,1,n,ue.min(),r,s,0)}static newNoDocument(e,n){return new jt(e,2,n,ue.min(),ue.min(),Zt.empty(),0)}static newUnknownDocument(e,n){return new jt(e,3,n,ue.min(),ue.min(),Zt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ue.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Zt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Zt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ue.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof jt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new jt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{constructor(e,n){this.position=e,this.inclusive=n}}function p_(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=re.comparator(re.fromName(o.referenceValue),n.key):r=Fo(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function m_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!dr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(e,n="asc"){this.field=e,this.dir=n}}function C3(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{}class ct extends HS{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new R3(e,n,r):n==="array-contains"?new N3(e,r):n==="in"?new D3(e,r):n==="not-in"?new M3(e,r):n==="array-contains-any"?new j3(e,r):new ct(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new k3(e,r):new P3(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Fo(n,this.value)):n!==null&&js(this.value)===js(n)&&this.matchesComparison(Fo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ae(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class hr extends HS{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new hr(e,n)}matches(e){return WS(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function WS(t){return t.op==="and"}function qS(t){return A3(t)&&WS(t)}function A3(t){for(const e of t.filters)if(e instanceof hr)return!1;return!0}function fm(t){if(t instanceof ct)return t.field.canonicalString()+t.op.toString()+Uo(t.value);if(qS(t))return t.filters.map(e=>fm(e)).join(",");{const e=t.filters.map(n=>fm(n)).join(",");return`${t.op}(${e})`}}function GS(t,e){return t instanceof ct?function(r,s){return s instanceof ct&&r.op===s.op&&r.field.isEqual(s.field)&&dr(r.value,s.value)}(t,e):t instanceof hr?function(r,s){return s instanceof hr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&GS(o,s.filters[a]),!0):!1}(t,e):void ae(19439)}function KS(t){return t instanceof ct?function(n){return`${n.field.canonicalString()} ${n.op} ${Uo(n.value)}`}(t):t instanceof hr?function(n){return n.op.toString()+" {"+n.getFilters().map(KS).join(" ,")+"}"}(t):"Filter"}class R3 extends ct{constructor(e,n,r){super(e,n,r),this.key=re.fromName(r.referenceValue)}matches(e){const n=re.comparator(e.key,this.key);return this.matchesComparison(n)}}class k3 extends ct{constructor(e,n){super(e,"in",n),this.keys=QS("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class P3 extends ct{constructor(e,n){super(e,"not-in",n),this.keys=QS("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function QS(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>re.fromName(r.referenceValue))}class N3 extends ct{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ry(n)&&Ol(n.arrayValue,this.value)}}class D3 extends ct{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ol(this.value.arrayValue,n)}}class M3 extends ct{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ol(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Ol(this.value.arrayValue,n)}}class j3 extends ct{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ry(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ol(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V3{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.Te=null}}function g_(t,e=null,n=[],r=[],s=null,i=null,o=null){return new V3(t,e,n,r,s,i,o)}function ky(t){const e=de(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>fm(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),ih(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Uo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Uo(r)).join(",")),e.Te=n}return e.Te}function Py(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!C3(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!GS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!m_(t.startAt,e.startAt)&&m_(t.endAt,e.endAt)}function pm(t){return re.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function O3(t,e,n,r,s,i,o,a){return new ah(t,e,n,r,s,i,o,a)}function Ny(t){return new ah(t)}function y_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function L3(t){return t.collectionGroup!==null}function tl(t){const e=de(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new ht(It.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new Td(i,r))}),n.has(It.keyField().canonicalString())||e.Ie.push(new Td(It.keyField(),r))}return e.Ie}function or(t){const e=de(t);return e.Ee||(e.Ee=F3(e,tl(t))),e.Ee}function F3(t,e){if(t.limitType==="F")return g_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Td(s.field,i)});const n=t.endAt?new Ed(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ed(t.startAt.position,t.startAt.inclusive):null;return g_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function mm(t,e,n){return new ah(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function lh(t,e){return Py(or(t),or(e))&&t.limitType===e.limitType}function YS(t){return`${ky(or(t))}|lt:${t.limitType}`}function qi(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>KS(s)).join(", ")}]`),ih(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Uo(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Uo(s)).join(",")),`Target(${r})`}(or(t))}; limitType=${t.limitType})`}function ch(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):re.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of tl(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const u=p_(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,tl(r),s)||r.endAt&&!function(o,a,l){const u=p_(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,tl(r),s))}(t,e)}function U3(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function XS(t){return(e,n)=>{let r=!1;for(const s of tl(t)){const i=B3(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function B3(t,e,n){const r=t.field.isKeyField()?re.comparator(e.key,n.key):function(i,o,a){const l=o.data.field(i),u=a.data.field(i);return l!==null&&u!==null?Fo(l,u):ae(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ae(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Gs(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return jS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z3=new Qe(re.comparator);function Ur(){return z3}const JS=new Qe(re.comparator);function Va(...t){let e=JS;for(const n of t)e=e.insert(n.key,n);return e}function ZS(t){let e=JS;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function fi(){return nl()}function eC(){return nl()}function nl(){return new ji(t=>t.toString(),(t,e)=>t.isEqual(e))}const $3=new Qe(re.comparator),H3=new ht(re.comparator);function xe(...t){let e=H3;for(const n of t)e=e.add(n);return e}const W3=new ht(we);function q3(){return W3}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dy(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wd(e)?"-0":e}}function tC(t){return{integerValue:""+t}}function nC(t,e){return w3(e)?tC(e):Dy(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(){this._=void 0}}function G3(t,e,n){return t instanceof Ll?function(s,i){const o={fields:{[LS]:{stringValue:OS},[US]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Ay(i)&&(i=oh(i)),i&&(o.fields[FS]=i),{mapValue:o}}(n,e):t instanceof Fl?sC(t,e):t instanceof Ul?iC(t,e):function(s,i){const o=rC(s,i),a=v_(o)+v_(s.Ae);return hm(o)&&hm(s.Ae)?tC(a):Dy(s.serializer,a)}(t,e)}function K3(t,e,n){return t instanceof Fl?sC(t,e):t instanceof Ul?iC(t,e):n}function rC(t,e){return t instanceof Bl?function(r){return hm(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Ll extends uh{}class Fl extends uh{constructor(e){super(),this.elements=e}}function sC(t,e){const n=oC(e);for(const r of t.elements)n.some(s=>dr(s,r))||n.push(r);return{arrayValue:{values:n}}}class Ul extends uh{constructor(e){super(),this.elements=e}}function iC(t,e){let n=oC(e);for(const r of t.elements)n=n.filter(s=>!dr(s,r));return{arrayValue:{values:n}}}class Bl extends uh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function v_(t){return tt(t.integerValue||t.doubleValue)}function oC(t){return Ry(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(e,n){this.field=e,this.transform=n}}function Q3(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Fl&&s instanceof Fl||r instanceof Ul&&s instanceof Ul?Lo(r.elements,s.elements,dr):r instanceof Bl&&s instanceof Bl?dr(r.Ae,s.Ae):r instanceof Ll&&s instanceof Ll}(t.transform,e.transform)}class Y3{constructor(e,n){this.version=e,this.transformResults=n}}class ar{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ar}static exists(e){return new ar(void 0,e)}static updateTime(e){return new ar(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Au(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class dh{}function lC(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new uC(t.key,ar.none()):new cc(t.key,t.data,ar.none());{const n=t.data,r=Zt.empty();let s=new ht(It.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new Ks(t.key,r,new un(s.toArray()),ar.none())}}function X3(t,e,n){t instanceof cc?function(s,i,o){const a=s.value.clone(),l=x_(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Ks?function(s,i,o){if(!Au(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=x_(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(cC(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function rl(t,e,n,r){return t instanceof cc?function(i,o,a,l){if(!Au(i.precondition,o))return a;const u=i.value.clone(),f=__(i.fieldTransforms,l,o);return u.setAll(f),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ks?function(i,o,a,l){if(!Au(i.precondition,o))return a;const u=__(i.fieldTransforms,l,o),f=o.data;return f.setAll(cC(i)),f.setAll(u),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(i,o,a){return Au(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function J3(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=rC(r.transform,s||null);i!=null&&(n===null&&(n=Zt.empty()),n.set(r.field,i))}return n||null}function w_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Lo(r,s,(i,o)=>Q3(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class cc extends dh{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Ks extends dh{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function cC(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function x_(t,e,n){const r=new Map;Ae(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,K3(o,a,n[s]))}return r}function __(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,G3(i,o,e))}return r}class uC extends dh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Z3 extends dh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e6{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&X3(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=rl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=rl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=eC();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=lC(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(ue.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),xe())}isEqual(e){return this.batchId===e.batchId&&Lo(this.mutations,e.mutations,(n,r)=>w_(n,r))&&Lo(this.baseMutations,e.baseMutations,(n,r)=>w_(n,r))}}class My{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Ae(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=function(){return $3}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new My(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t6{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n6{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rt,Ie;function r6(t){switch(t){case B.OK:return ae(64938);case B.CANCELLED:case B.UNKNOWN:case B.DEADLINE_EXCEEDED:case B.RESOURCE_EXHAUSTED:case B.INTERNAL:case B.UNAVAILABLE:case B.UNAUTHENTICATED:return!1;case B.INVALID_ARGUMENT:case B.NOT_FOUND:case B.ALREADY_EXISTS:case B.PERMISSION_DENIED:case B.FAILED_PRECONDITION:case B.ABORTED:case B.OUT_OF_RANGE:case B.UNIMPLEMENTED:case B.DATA_LOSS:return!0;default:return ae(15467,{code:t})}}function dC(t){if(t===void 0)return Fr("GRPC error has no .code"),B.UNKNOWN;switch(t){case rt.OK:return B.OK;case rt.CANCELLED:return B.CANCELLED;case rt.UNKNOWN:return B.UNKNOWN;case rt.DEADLINE_EXCEEDED:return B.DEADLINE_EXCEEDED;case rt.RESOURCE_EXHAUSTED:return B.RESOURCE_EXHAUSTED;case rt.INTERNAL:return B.INTERNAL;case rt.UNAVAILABLE:return B.UNAVAILABLE;case rt.UNAUTHENTICATED:return B.UNAUTHENTICATED;case rt.INVALID_ARGUMENT:return B.INVALID_ARGUMENT;case rt.NOT_FOUND:return B.NOT_FOUND;case rt.ALREADY_EXISTS:return B.ALREADY_EXISTS;case rt.PERMISSION_DENIED:return B.PERMISSION_DENIED;case rt.FAILED_PRECONDITION:return B.FAILED_PRECONDITION;case rt.ABORTED:return B.ABORTED;case rt.OUT_OF_RANGE:return B.OUT_OF_RANGE;case rt.UNIMPLEMENTED:return B.UNIMPLEMENTED;case rt.DATA_LOSS:return B.DATA_LOSS;default:return ae(39323,{code:t})}}(Ie=rt||(rt={}))[Ie.OK=0]="OK",Ie[Ie.CANCELLED=1]="CANCELLED",Ie[Ie.UNKNOWN=2]="UNKNOWN",Ie[Ie.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ie[Ie.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ie[Ie.NOT_FOUND=5]="NOT_FOUND",Ie[Ie.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ie[Ie.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ie[Ie.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ie[Ie.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ie[Ie.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ie[Ie.ABORTED=10]="ABORTED",Ie[Ie.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ie[Ie.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ie[Ie.INTERNAL=13]="INTERNAL",Ie[Ie.UNAVAILABLE=14]="UNAVAILABLE",Ie[Ie.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s6(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i6=new Is([4294967295,4294967295],0);function E_(t){const e=s6().encode(t),n=new IS;return n.update(e),new Uint8Array(n.digest())}function T_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Is([n,r],0),new Is([s,i],0)]}class jy{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Oa(`Invalid padding: ${n}`);if(r<0)throw new Oa(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Oa(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Oa(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Is.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(Is.fromNumber(r)));return s.compare(i6)===1&&(s=new Is([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=E_(e),[r,s]=T_(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);if(!this.we(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new jy(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.ge===0)return;const n=E_(e),[r,s]=T_(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Oa extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,uc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new hh(ue.min(),s,new Qe(we),Ur(),xe())}}class uc{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new uc(r,n,xe(),xe(),xe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class hC{constructor(e,n){this.targetId=e,this.Ce=n}}class fC{constructor(e,n,r=At.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class b_{constructor(){this.ve=0,this.Fe=I_(),this.Me=At.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=xe(),n=xe(),r=xe();return this.Fe.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:ae(38017,{changeType:i})}}),new uc(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=I_()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ae(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class o6{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ur(),this.Je=tu(),this.He=tu(),this.Ye=new Qe(we)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:ae(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,s)=>{this.rt(s)&&n(s)})}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const i=s.target;if(pm(i))if(r===0){const o=new re(i.path);this.et(n,o,jt.newNoDocument(o,ue.min()))}else Ae(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const a=this.ut(e),l=a?this.ct(a,e,o):1;if(l!==0){this.it(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,u)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=Ms(r).toUint8Array()}catch(l){if(l instanceof VS)return Oo("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new jy(o,s,i)}catch(l){return Oo(l instanceof Oa?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.et(n,i,null),s++)}),s}Tt(e){const n=new Map;this.ze.forEach((i,o)=>{const a=this.ot(o);if(a){if(i.current&&pm(a.target)){const l=new re(a.target.path);this.It(l).has(o)||this.Et(o,l)||this.et(o,l,jt.newNoDocument(l,e))}i.Be&&(n.set(o,i.ke()),i.qe())}});let r=xe();this.He.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.ot(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.je.forEach((i,o)=>o.setReadTime(e));const s=new hh(e,n,this.Ye,this.je,r);return this.je=Ur(),this.Je=tu(),this.He=tu(),this.Ye=new Qe(we),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new b_,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new ht(we),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new ht(we),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||J("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new b_),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function tu(){return new Qe(re.comparator)}function I_(){return new Qe(re.comparator)}const a6={asc:"ASCENDING",desc:"DESCENDING"},l6={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},c6={and:"AND",or:"OR"};class u6{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function gm(t,e){return t.useProto3Json||ih(e)?e:{value:e}}function bd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function pC(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function d6(t,e){return bd(t,e.toTimestamp())}function lr(t){return Ae(!!t,49232),ue.fromTimestamp(function(n){const r=Ds(n);return new Oe(r.seconds,r.nanos)}(t))}function Vy(t,e){return ym(t,e).canonicalString()}function ym(t,e){const n=function(s){return new We(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function mC(t){const e=We.fromString(t);return Ae(xC(e),10190,{key:e.toString()}),e}function vm(t,e){return Vy(t.databaseId,e.path)}function Nf(t,e){const n=mC(e);if(n.get(1)!==t.databaseId.projectId)throw new ne(B.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ne(B.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new re(yC(n))}function gC(t,e){return Vy(t.databaseId,e)}function h6(t){const e=mC(t);return e.length===4?We.emptyPath():yC(e)}function wm(t){return new We(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function yC(t){return Ae(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function S_(t,e,n){return{name:vm(t,e),fields:n.value.mapValue.fields}}function f6(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ae(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(u,f){return u.useProto3Json?(Ae(f===void 0||typeof f=="string",58123),At.fromBase64String(f||"")):(Ae(f===void 0||f instanceof Buffer||f instanceof Uint8Array,16193),At.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const f=u.code===void 0?B.UNKNOWN:dC(u.code);return new ne(f,u.message||"")}(o);n=new fC(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Nf(t,r.document.name),i=lr(r.document.updateTime),o=r.document.createTime?lr(r.document.createTime):ue.min(),a=new Zt({mapValue:{fields:r.document.fields}}),l=jt.newFoundDocument(s,i,o,a),u=r.targetIds||[],f=r.removedTargetIds||[];n=new Ru(u,f,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Nf(t,r.document),i=r.readTime?lr(r.readTime):ue.min(),o=jt.newNoDocument(s,i),a=r.removedTargetIds||[];n=new Ru([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Nf(t,r.document),i=r.removedTargetIds||[];n=new Ru([],i,s,null)}else{if(!("filter"in e))return ae(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new n6(s,i),a=r.targetId;n=new hC(a,o)}}return n}function p6(t,e){let n;if(e instanceof cc)n={update:S_(t,e.key,e.value)};else if(e instanceof uC)n={delete:vm(t,e.key)};else if(e instanceof Ks)n={update:S_(t,e.key,e.data),updateMask:T6(e.fieldMask)};else{if(!(e instanceof Z3))return ae(16599,{Vt:e.type});n={verify:vm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof Ll)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Fl)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ul)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Bl)return{fieldPath:o.field.canonicalString(),increment:a.Ae};throw ae(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:d6(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ae(27497)}(t,e.precondition)),n}function m6(t,e){return t&&t.length>0?(Ae(e!==void 0,14353),t.map(n=>function(s,i){let o=s.updateTime?lr(s.updateTime):lr(i);return o.isEqual(ue.min())&&(o=lr(i)),new Y3(o,s.transformResults||[])}(n,e))):[]}function g6(t,e){return{documents:[gC(t,e.path)]}}function y6(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=gC(t,s);const i=function(u){if(u.length!==0)return wC(hr.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(u){if(u.length!==0)return u.map(f=>function(m){return{field:Gi(m.field),direction:x6(m.dir)}}(f))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=gm(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ft:n,parent:s}}function v6(t){let e=h6(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Ae(r===1,65062);const f=n.from[0];f.allDescendants?s=f.collectionId:e=e.child(f.collectionId)}let i=[];n.where&&(i=function(h){const m=vC(h);return m instanceof hr&&qS(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(m=>function(E){return new Td(Ki(E.field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(h){let m;return m=typeof h=="object"?h.value:h,ih(m)?null:m}(n.limit));let l=null;n.startAt&&(l=function(h){const m=!!h.before,y=h.values||[];return new Ed(y,m)}(n.startAt));let u=null;return n.endAt&&(u=function(h){const m=!h.before,y=h.values||[];return new Ed(y,m)}(n.endAt)),O3(e,s,o,i,a,"F",l,u)}function w6(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ae(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function vC(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ki(n.unaryFilter.field);return ct.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Ki(n.unaryFilter.field);return ct.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Ki(n.unaryFilter.field);return ct.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Ki(n.unaryFilter.field);return ct.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ae(61313);default:return ae(60726)}}(t):t.fieldFilter!==void 0?function(n){return ct.create(Ki(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ae(58110);default:return ae(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return hr.create(n.compositeFilter.filters.map(r=>vC(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return ae(1026)}}(n.compositeFilter.op))}(t):ae(30097,{filter:t})}function x6(t){return a6[t]}function _6(t){return l6[t]}function E6(t){return c6[t]}function Gi(t){return{fieldPath:t.canonicalString()}}function Ki(t){return It.fromServerFormat(t.fieldPath)}function wC(t){return t instanceof ct?function(n){if(n.op==="=="){if(f_(n.value))return{unaryFilter:{field:Gi(n.field),op:"IS_NAN"}};if(h_(n.value))return{unaryFilter:{field:Gi(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(f_(n.value))return{unaryFilter:{field:Gi(n.field),op:"IS_NOT_NAN"}};if(h_(n.value))return{unaryFilter:{field:Gi(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Gi(n.field),op:_6(n.op),value:n.value}}}(t):t instanceof hr?function(n){const r=n.getFilters().map(s=>wC(s));return r.length===1?r[0]:{compositeFilter:{op:E6(n.op),filters:r}}}(t):ae(54877,{filter:t})}function T6(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function xC(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs{constructor(e,n,r,s,i=ue.min(),o=ue.min(),a=At.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new fs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new fs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new fs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new fs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b6{constructor(e){this.yt=e}}function I6(t){const e=v6({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?mm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S6{constructor(){this.Cn=new C6}addToCollectionParentIndex(e,n){return this.Cn.add(n),U.resolve()}getCollectionParents(e,n){return U.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return U.resolve()}deleteFieldIndex(e,n){return U.resolve()}deleteAllFieldIndexes(e){return U.resolve()}createTargetIndexes(e,n){return U.resolve()}getDocumentsMatchingTarget(e,n){return U.resolve(null)}getIndexType(e,n){return U.resolve(0)}getFieldIndexes(e,n){return U.resolve([])}getNextCollectionGroupToUpdate(e){return U.resolve(null)}getMinOffset(e,n){return U.resolve(Ns.min())}getMinOffsetFromCollectionGroup(e,n){return U.resolve(Ns.min())}updateCollectionGroup(e,n,r){return U.resolve()}updateIndexEntries(e,n){return U.resolve()}}class C6{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new ht(We.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new ht(We.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},_C=41943040;class Xt{static withCacheSize(e){return new Xt(e,Xt.DEFAULT_COLLECTION_PERCENTILE,Xt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xt.DEFAULT_COLLECTION_PERCENTILE=10,Xt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Xt.DEFAULT=new Xt(_C,Xt.DEFAULT_COLLECTION_PERCENTILE,Xt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Xt.DISABLED=new Xt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Bo(0)}static cr(){return new Bo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A_="LruGarbageCollector",A6=1048576;function R_([t,e],[n,r]){const s=we(t,n);return s===0?we(e,r):s}class R6{constructor(e){this.Ir=e,this.buffer=new ht(R_),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();R_(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class k6{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){J(A_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){na(n)?J(A_,"Ignoring IndexedDB error during garbage collection: ",n):await ta(n)}await this.Vr(3e5)})}}class P6{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return U.resolve(sh.ce);const r=new R6(n);return this.mr.forEachTarget(e,s=>r.Ar(s.sequenceNumber)).next(()=>this.mr.pr(e,s=>r.Ar(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(J("LruGarbageCollector","Garbage collection skipped; disabled"),U.resolve(C_)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(J("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),C_):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,i,o,a,l,u;const f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(J("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),s=this.params.maximumSequenceNumbersToCollect):s=h,o=Date.now(),this.nthSequenceNumber(e,s))).next(h=>(r=h,a=Date.now(),this.removeTargets(e,r,n))).next(h=>(i=h,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(h=>(u=Date.now(),Wi()<=ve.DEBUG&&J("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-f}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(l-a)+`ms
	Removed ${h} documents in `+(u-l)+`ms
Total Duration: ${u-f}ms`),U.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:h})))}}function N6(t,e){return new P6(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D6{constructor(){this.changes=new ji(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,jt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?U.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M6{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j6{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&rl(r.mutation,s,un.empty(),Oe.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,xe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=xe()){const s=fi();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=Va();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=fi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,xe()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=Ur();const o=nl(),a=function(){return nl()}();return n.forEach((l,u)=>{const f=r.get(u.key);s.has(u.key)&&(f===void 0||f.mutation instanceof Ks)?i=i.insert(u.key,u):f!==void 0?(o.set(u.key,f.mutation.getFieldMask()),rl(f.mutation,u,f.mutation.getFieldMask(),Oe.now())):o.set(u.key,un.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((u,f)=>o.set(u,f)),n.forEach((u,f)=>a.set(u,new M6(f,o.get(u)??null))),a))}recalculateAndSaveOverlays(e,n){const r=nl();let s=new Qe((o,a)=>o-a),i=xe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let f=r.get(l)||un.empty();f=a.applyToLocalView(u,f),r.set(l,f);const h=(s.get(a.batchId)||xe()).add(l);s=s.insert(a.batchId,h)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,f=l.value,h=eC();f.forEach(m=>{if(!i.has(m)){const y=lC(n.get(m),r.get(m));y!==null&&h.set(m,y),i=i.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,h))}return U.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return re.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):L3(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):U.resolve(fi());let a=Ml,l=i;return o.next(u=>U.forEach(u,(f,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),i.get(f)?U.resolve():this.remoteDocumentCache.getEntry(e,f).next(m=>{l=l.insert(f,m)}))).next(()=>this.populateOverlays(e,u,i)).next(()=>this.computeViews(e,l,u,xe())).next(f=>({batchId:a,changes:ZS(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new re(n)).next(r=>{let s=Va();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=Va();return this.indexManager.getCollectionParents(e,i).next(a=>U.forEach(a,l=>{const u=function(h,m){return new ah(m,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,u,r,s).next(f=>{f.forEach((h,m)=>{o=o.insert(h,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((l,u)=>{const f=u.getKey();o.get(f)===null&&(o=o.insert(f,jt.newInvalidDocument(f)))});let a=Va();return o.forEach((l,u)=>{const f=i.get(l);f!==void 0&&rl(f.mutation,u,un.empty(),Oe.now()),ch(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V6{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return U.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:lr(s.createTime)}}(n)),U.resolve()}getNamedQuery(e,n){return U.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(s){return{name:s.name,query:I6(s.bundledQuery),readTime:lr(s.readTime)}}(n)),U.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O6{constructor(){this.overlays=new Qe(re.comparator),this.qr=new Map}getOverlay(e,n){return U.resolve(this.overlays.get(n))}getOverlays(e,n){const r=fi();return U.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.St(e,n,i)}),U.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.qr.delete(r)),U.resolve()}getOverlaysForCollection(e,n,r){const s=fi(),i=n.length+1,o=new re(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return U.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Qe((u,f)=>u-f);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let f=i.get(u.largestBatchId);f===null&&(f=fi(),i=i.insert(u.largestBatchId,f)),f.set(u.getKey(),u)}}const a=fi(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,f)=>a.set(u,f)),!(a.size()>=s)););return U.resolve(a)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new t6(n,r));let i=this.qr.get(n);i===void 0&&(i=xe(),this.qr.set(n,i)),this.qr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L6{constructor(){this.sessionToken=At.EMPTY_BYTE_STRING}getSessionToken(e){return U.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,U.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oy{constructor(){this.Qr=new ht(yt.$r),this.Ur=new ht(yt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new yt(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new yt(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new re(new We([])),r=new yt(n,e),s=new yt(n,e+1),i=[];return this.Ur.forEachInRange([r,s],o=>{this.Gr(o),i.push(o.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new re(new We([])),r=new yt(n,e),s=new yt(n,e+1);let i=xe();return this.Ur.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new yt(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class yt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return re.comparator(e.key,n.key)||we(e.Yr,n.Yr)}static Kr(e,n){return we(e.Yr,n.Yr)||re.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F6{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new ht(yt.$r)}checkEmpty(e){return U.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new e6(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.Zr=this.Zr.add(new yt(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return U.resolve(o)}lookupMutationBatch(e,n){return U.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),i=s<0?0:s;return U.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return U.resolve(this.mutationQueue.length===0?Cy:this.tr-1)}getAllMutationBatches(e){return U.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new yt(n,0),s=new yt(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([r,s],o=>{const a=this.Xr(o.Yr);i.push(a)}),U.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ht(we);return n.forEach(s=>{const i=new yt(s,0),o=new yt(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,o],a=>{r=r.add(a.Yr)})}),U.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;re.isDocumentKey(i)||(i=i.child(""));const o=new yt(new re(i),0);let a=new ht(we);return this.Zr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===s&&(a=a.add(l.Yr)),!0)},o),U.resolve(this.ti(a))}ti(e){const n=[];return e.forEach(r=>{const s=this.Xr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Ae(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return U.forEach(n.mutations,s=>{const i=new yt(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new yt(n,0),s=this.Zr.firstAfterOrEqual(r);return U.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,U.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U6{constructor(e){this.ri=e,this.docs=function(){return new Qe(re.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return U.resolve(r?r.document.mutableCopy():jt.newInvalidDocument(n))}getEntries(e,n){let r=Ur();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():jt.newInvalidDocument(s))}),U.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Ur();const o=n.path,a=new re(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:f}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||m3(p3(f),r)<=0||(s.has(f.key)||ch(n,f))&&(i=i.insert(f.key,f.mutableCopy()))}return U.resolve(i)}getAllFromCollectionGroup(e,n,r,s){ae(9500)}ii(e,n){return U.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new B6(this)}getSize(e){return U.resolve(this.size)}}class B6 extends D6{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)}),U.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z6{constructor(e){this.persistence=e,this.si=new ji(n=>ky(n),Py),this.lastRemoteSnapshotVersion=ue.min(),this.highestTargetId=0,this.oi=0,this._i=new Oy,this.targetCount=0,this.ai=Bo.ur()}forEachTarget(e,n){return this.si.forEach((r,s)=>n(s)),U.resolve()}getLastRemoteSnapshotVersion(e){return U.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return U.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),U.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),U.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Bo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,U.resolve()}updateTargetData(e,n){return this.Pr(n),U.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,U.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.si.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),U.waitFor(i).next(()=>s)}getTargetCount(e){return U.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return U.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),U.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),U.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),U.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return U.resolve(r)}containsKey(e,n){return U.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC{constructor(e,n){this.ui={},this.overlays={},this.ci=new sh(0),this.li=!1,this.li=!0,this.hi=new L6,this.referenceDelegate=e(this),this.Pi=new z6(this),this.indexManager=new S6,this.remoteDocumentCache=function(s){return new U6(s)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new b6(n),this.Ii=new V6(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new O6,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new F6(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){J("MemoryPersistence","Starting transaction:",e);const s=new $6(this.ci.next());return this.referenceDelegate.Ei(),r(s).next(i=>this.referenceDelegate.di(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ai(e,n){return U.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class $6 extends y3{constructor(e){super(),this.currentSequenceNumber=e}}class Ly{constructor(e){this.persistence=e,this.Ri=new Oy,this.Vi=null}static mi(e){return new Ly(e)}get fi(){if(this.Vi)return this.Vi;throw ae(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),U.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),U.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),U.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(s=>this.fi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.fi.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return U.forEach(this.fi,r=>{const s=re.fromPath(r);return this.gi(e,s).next(i=>{i||n.removeEntry(s,ue.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return U.or([()=>U.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Id{constructor(e,n){this.persistence=e,this.pi=new ji(r=>x3(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=N6(this,n)}static mi(e,n){return new Id(e,n)}Ei(){}di(e){return U.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return U.forEach(this.pi,(r,s)=>this.br(e,r,s).next(i=>i?U.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ii(e,o=>this.br(e,o,n).next(a=>{a||(r++,i.removeEntry(o,ue.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),U.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),U.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),U.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),U.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Su(e.data.value)),n}br(e,n,r){return U.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return U.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fy{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=xe(),s=xe();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Fy(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H6{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W6{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return _V()?8:v3(Ft())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ys(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ws(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new H6;return this.Ss(e,n,o).next(a=>{if(i.result=a,this.Vs)return this.bs(e,n,o,a.size)})}).next(()=>i.result)}bs(e,n,r,s){return r.documentReadCount<this.fs?(Wi()<=ve.DEBUG&&J("QueryEngine","SDK will not create cache indexes for query:",qi(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),U.resolve()):(Wi()<=ve.DEBUG&&J("QueryEngine","Query:",qi(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(Wi()<=ve.DEBUG&&J("QueryEngine","The SDK decides to create cache indexes for query:",qi(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,or(n))):U.resolve())}ys(e,n){if(y_(n))return U.resolve(null);let r=or(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=mm(n,null,"F"),r=or(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=xe(...i);return this.ps.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Ds(n,a);return this.Cs(n,u,o,l.readTime)?this.ys(e,mm(n,null,"F")):this.vs(e,u,n,l)}))})))}ws(e,n,r,s){return y_(n)||s.isEqual(ue.min())?U.resolve(null):this.ps.getDocuments(e,r).next(i=>{const o=this.Ds(n,i);return this.Cs(n,o,r,s)?U.resolve(null):(Wi()<=ve.DEBUG&&J("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),qi(n)),this.vs(e,o,n,f3(s,Ml)).next(a=>a))})}Ds(e,n){let r=new ht(XS(e));return n.forEach((s,i)=>{ch(e,i)&&(r=r.add(i))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,n,r){return Wi()<=ve.DEBUG&&J("QueryEngine","Using full collection scan to execute query:",qi(n)),this.ps.getDocumentsMatchingQuery(e,n,Ns.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uy="LocalStore",q6=3e8;class G6{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new Qe(we),this.xs=new ji(i=>ky(i),Py),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new j6(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function K6(t,e,n,r){return new G6(t,e,n,r)}async function TC(t,e){const n=de(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=xe();for(const u of s){o.push(u.batchId);for(const f of u.mutations)l=l.add(f.key)}for(const u of i){a.push(u.batchId);for(const f of u.mutations)l=l.add(f.key)}return n.localDocuments.getDocuments(r,l).next(u=>({Ls:u,removedBatchIds:o,addedBatchIds:a}))})})}function Q6(t,e){const n=de(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return function(a,l,u,f){const h=u.batch,m=h.keys();let y=U.resolve();return m.forEach(E=>{y=y.next(()=>f.getEntry(l,E)).next(A=>{const S=u.docVersions.get(E);Ae(S!==null,48541),A.version.compareTo(S)<0&&(h.applyToRemoteDocument(A,u),A.isValidDocument()&&(A.setReadTime(u.commitVersion),f.addEntry(A)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=xe();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function bC(t){const e=de(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function Y6(t,e){const n=de(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const a=[];e.targetChanges.forEach((f,h)=>{const m=s.get(h);if(!m)return;a.push(n.Pi.removeMatchingKeys(i,f.removedDocuments,h).next(()=>n.Pi.addMatchingKeys(i,f.addedDocuments,h)));let y=m.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(h)!==null?y=y.withResumeToken(At.EMPTY_BYTE_STRING,ue.min()).withLastLimboFreeSnapshotVersion(ue.min()):f.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(f.resumeToken,r)),s=s.insert(h,y),function(A,S,v){return A.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=q6?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(m,y,f)&&a.push(n.Pi.updateTargetData(i,y))});let l=Ur(),u=xe();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,f))}),a.push(X6(i,o,e.documentUpdates).next(f=>{l=f.ks,u=f.qs})),!r.isEqual(ue.min())){const f=n.Pi.getLastRemoteSnapshotVersion(i).next(h=>n.Pi.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(f)}return U.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,u)).next(()=>l)}).then(i=>(n.Ms=s,i))}function X6(t,e,n){let r=xe(),s=xe();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=Ur();return n.forEach((a,l)=>{const u=i.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(ue.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):J(Uy,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{ks:o,qs:s}})}function J6(t,e){const n=de(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Cy),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Z6(t,e){const n=de(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Pi.getTargetData(r,e).next(i=>i?(s=i,U.resolve(s)):n.Pi.allocateTargetId(r).next(o=>(s=new fs(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function xm(t,e,n){const r=de(t),s=r.Ms.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!na(o))throw o;J(Uy,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function k_(t,e,n){const r=de(t);let s=ue.min(),i=xe();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,f){const h=de(l),m=h.xs.get(f);return m!==void 0?U.resolve(h.Ms.get(m)):h.Pi.getTargetData(u,f)}(r,o,or(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.Fs.getDocumentsMatchingQuery(o,e,n?s:ue.min(),n?i:xe())).next(a=>(eF(r,U3(e),a),{documents:a,Qs:i})))}function eF(t,e,n){let r=t.Os.get(e)||ue.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Os.set(e,r)}class P_{constructor(){this.activeTargetIds=q3()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class tF{constructor(){this.Mo=new P_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new P_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nF{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N_="ConnectivityMonitor";class D_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){J(N_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){J(N_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nu=null;function _m(){return nu===null?nu=function(){return 268435456+Math.round(2147483648*Math.random())}():nu++,"0x"+nu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Df="RestConnection",rF={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class sF{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===xd?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,i){const o=_m(),a=this.zo(e,n.toUriEncodedString());J(Df,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,s,i);const{host:u}=new URL(a),f=Xo(u);return this.Jo(e,a,l,r,f).then(h=>(J(Df,`Received RPC '${e}' ${o}: `,h),h),h=>{throw Oo(Df,`RPC '${e}' ${o} failed with error: `,h,"url: ",a,"request:",r),h})}Ho(e,n,r,s,i,o){return this.Go(e,n,r,s,i)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ea}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}zo(e,n){const r=rF[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iF{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pt="WebChannelConnection";class oF extends sF{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const o=_m();return new Promise((a,l)=>{const u=new SS;u.setWithCredentials(!0),u.listenOnce(CS.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Iu.NO_ERROR:const h=u.getResponseJson();J(Pt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),a(h);break;case Iu.TIMEOUT:J(Pt,`RPC '${e}' ${o} timed out`),l(new ne(B.DEADLINE_EXCEEDED,"Request time out"));break;case Iu.HTTP_ERROR:const m=u.getStatus();if(J(Pt,`RPC '${e}' ${o} failed with status:`,m,"response text:",u.getResponseText()),m>0){let y=u.getResponseJson();Array.isArray(y)&&(y=y[0]);const E=y==null?void 0:y.error;if(E&&E.status&&E.message){const A=function(v){const w=v.toLowerCase().replace(/_/g,"-");return Object.values(B).indexOf(w)>=0?w:B.UNKNOWN}(E.status);l(new ne(A,E.message))}else l(new ne(B.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new ne(B.UNAVAILABLE,"Connection failed."));break;default:ae(9055,{l_:e,streamId:o,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{J(Pt,`RPC '${e}' ${o} completed.`)}});const f=JSON.stringify(s);J(Pt,`RPC '${e}' ${o} sending request:`,s),u.send(n,"POST",f,r,15)})}T_(e,n,r){const s=_m(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=kS(),a=RS(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const f=i.join("");J(Pt,`Creating RPC '${e}' stream ${s}: ${f}`,l);const h=o.createWebChannel(f,l);this.I_(h);let m=!1,y=!1;const E=new iF({Yo:S=>{y?J(Pt,`Not sending because RPC '${e}' stream ${s} is closed:`,S):(m||(J(Pt,`Opening RPC '${e}' stream ${s} transport.`),h.open(),m=!0),J(Pt,`RPC '${e}' stream ${s} sending:`,S),h.send(S))},Zo:()=>h.close()}),A=(S,v,w)=>{S.listen(v,_=>{try{w(_)}catch(D){setTimeout(()=>{throw D},0)}})};return A(h,ja.EventType.OPEN,()=>{y||(J(Pt,`RPC '${e}' stream ${s} transport opened.`),E.o_())}),A(h,ja.EventType.CLOSE,()=>{y||(y=!0,J(Pt,`RPC '${e}' stream ${s} transport closed`),E.a_(),this.E_(h))}),A(h,ja.EventType.ERROR,S=>{y||(y=!0,Oo(Pt,`RPC '${e}' stream ${s} transport errored. Name:`,S.name,"Message:",S.message),E.a_(new ne(B.UNAVAILABLE,"The operation could not be completed")))}),A(h,ja.EventType.MESSAGE,S=>{var v;if(!y){const w=S.data[0];Ae(!!w,16349);const _=w,D=(_==null?void 0:_.error)||((v=_[0])==null?void 0:v.error);if(D){J(Pt,`RPC '${e}' stream ${s} received error:`,D);const V=D.status;let O=function(C){const I=rt[C];if(I!==void 0)return dC(I)}(V),T=D.message;O===void 0&&(O=B.INTERNAL,T="Unknown error status: "+V+" with message "+D.message),y=!0,E.a_(new ne(O,T)),h.close()}else J(Pt,`RPC '${e}' stream ${s} received:`,w),E.u_(w)}}),A(a,AS.STAT_EVENT,S=>{S.stat===cm.PROXY?J(Pt,`RPC '${e}' stream ${s} detected buffering proxy`):S.stat===cm.NOPROXY&&J(Pt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{E.__()},0),E}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function Mf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fh(t){return new u6(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&J("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M_="PersistentStream";class SC{constructor(e,n,r,s,i,o,a,l){this.Mi=e,this.S_=r,this.b_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new IC(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===B.RESOURCE_EXHAUSTED?(Fr(n.toString()),Fr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===B.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.D_===n&&this.G_(r,s)},r=>{e(()=>{const s=new ne(B.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(s=>{r(()=>this.z_(s))}),this.stream.onMessage(s=>{r(()=>++this.F_==1?this.J_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return J(M_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(J(M_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class aF extends SC{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=f6(this.serializer,e),r=function(i){if(!("targetChange"in i))return ue.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?ue.min():o.readTime?lr(o.readTime):ue.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=wm(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=pm(l)?{documents:g6(i,l)}:{query:y6(i,l).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=pC(i,o.resumeToken);const u=gm(i,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(ue.min())>0){a.readTime=bd(i,o.snapshotVersion.toTimestamp());const u=gm(i,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=w6(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=wm(this.serializer),n.removeTarget=e,this.q_(n)}}class lF extends SC{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ae(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ae(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ae(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=m6(e.writeResults,e.commitTime),r=lr(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=wm(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>p6(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cF{}class uF extends cF{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new ne(B.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Go(e,ym(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ne(B.UNKNOWN,i.toString())})}Ho(e,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Ho(e,ym(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ne(B.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class dF{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Fr(n),this.aa=!1):J("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ki="RemoteStore";class hF{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(o=>{r.enqueueAndForget(async()=>{Vi(this)&&(J(ki,"Restarting streams for network reachability change."),await async function(l){const u=de(l);u.Ea.add(4),await dc(u),u.Ra.set("Unknown"),u.Ea.delete(4),await ph(u)}(this))})}),this.Ra=new dF(r,s)}}async function ph(t){if(Vi(t))for(const e of t.da)await e(!0)}async function dc(t){for(const e of t.da)await e(!1)}function CC(t,e){const n=de(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Hy(n)?$y(n):ra(n).O_()&&zy(n,e))}function By(t,e){const n=de(t),r=ra(n);n.Ia.delete(e),r.O_()&&AC(n,e),n.Ia.size===0&&(r.O_()?r.L_():Vi(n)&&n.Ra.set("Unknown"))}function zy(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ue.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ra(t).Y_(e)}function AC(t,e){t.Va.Ue(e),ra(t).Z_(e)}function $y(t){t.Va=new o6({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),ra(t).start(),t.Ra.ua()}function Hy(t){return Vi(t)&&!ra(t).x_()&&t.Ia.size>0}function Vi(t){return de(t).Ea.size===0}function RC(t){t.Va=void 0}async function fF(t){t.Ra.set("Online")}async function pF(t){t.Ia.forEach((e,n)=>{zy(t,e)})}async function mF(t,e){RC(t),Hy(t)?(t.Ra.ha(e),$y(t)):t.Ra.set("Unknown")}async function gF(t,e,n){if(t.Ra.set("Online"),e instanceof fC&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.Ia.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.Ia.delete(a),s.Va.removeTarget(a))}(t,e)}catch(r){J(ki,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Sd(t,r)}else if(e instanceof Ru?t.Va.Ze(e):e instanceof hC?t.Va.st(e):t.Va.tt(e),!n.isEqual(ue.min()))try{const r=await bC(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.Va.Tt(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const f=i.Ia.get(u);f&&i.Ia.set(u,f.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const f=i.Ia.get(l);if(!f)return;i.Ia.set(l,f.withResumeToken(At.EMPTY_BYTE_STRING,f.snapshotVersion)),AC(i,l);const h=new fs(f.target,l,u,f.sequenceNumber);zy(i,h)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){J(ki,"Failed to raise snapshot:",r),await Sd(t,r)}}async function Sd(t,e,n){if(!na(e))throw e;t.Ea.add(1),await dc(t),t.Ra.set("Offline"),n||(n=()=>bC(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{J(ki,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await ph(t)})}function kC(t,e){return e().catch(n=>Sd(t,n,e))}async function mh(t){const e=de(t),n=Vs(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Cy;for(;yF(e);)try{const s=await J6(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,vF(e,s)}catch(s){await Sd(e,s)}PC(e)&&NC(e)}function yF(t){return Vi(t)&&t.Ta.length<10}function vF(t,e){t.Ta.push(e);const n=Vs(t);n.O_()&&n.X_&&n.ea(e.mutations)}function PC(t){return Vi(t)&&!Vs(t).x_()&&t.Ta.length>0}function NC(t){Vs(t).start()}async function wF(t){Vs(t).ra()}async function xF(t){const e=Vs(t);for(const n of t.Ta)e.ea(n.mutations)}async function _F(t,e,n){const r=t.Ta.shift(),s=My.from(r,e,n);await kC(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await mh(t)}async function EF(t,e){e&&Vs(t).X_&&await async function(r,s){if(function(o){return r6(o)&&o!==B.ABORTED}(s.code)){const i=r.Ta.shift();Vs(r).B_(),await kC(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await mh(r)}}(t,e),PC(t)&&NC(t)}async function j_(t,e){const n=de(t);n.asyncQueue.verifyOperationInProgress(),J(ki,"RemoteStore received new credentials");const r=Vi(n);n.Ea.add(3),await dc(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await ph(n)}async function TF(t,e){const n=de(t);e?(n.Ea.delete(2),await ph(n)):e||(n.Ea.add(2),await dc(n),n.Ra.set("Unknown"))}function ra(t){return t.ma||(t.ma=function(n,r,s){const i=de(n);return i.sa(),new aF(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:fF.bind(null,t),t_:pF.bind(null,t),r_:mF.bind(null,t),H_:gF.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),Hy(t)?$y(t):t.Ra.set("Unknown")):(await t.ma.stop(),RC(t))})),t.ma}function Vs(t){return t.fa||(t.fa=function(n,r,s){const i=de(n);return i.sa(),new lF(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:wF.bind(null,t),r_:EF.bind(null,t),ta:xF.bind(null,t),na:_F.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await mh(t)):(await t.fa.stop(),t.Ta.length>0&&(J(ki,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wy{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Ss,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new Wy(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ne(B.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function qy(t,e){if(Fr("AsyncQueue",`${e}: ${t}`),na(t))return new ne(B.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{static emptySet(e){return new Io(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||re.comparator(n.key,r.key):(n,r)=>re.comparator(n.key,r.key),this.keyedMap=Va(),this.sortedSet=new Qe(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Io)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Io;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V_{constructor(){this.ga=new Qe(re.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ae(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class zo{constructor(e,n,r,s,i,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new zo(e,n,Io.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&lh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bF{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class IF{constructor(){this.queries=O_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=de(n),i=s.queries;s.queries=O_(),i.forEach((o,a)=>{for(const l of a.Sa)l.onError(r)})})(this,new ne(B.ABORTED,"Firestore shutting down"))}}function O_(){return new ji(t=>YS(t),lh)}async function SF(t,e){const n=de(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.ba()&&e.Da()&&(r=2):(i=new bF,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=qy(o,`Initialization of query '${qi(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.Sa.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&Gy(n)}async function CF(t,e){const n=de(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.Sa.indexOf(e);o>=0&&(i.Sa.splice(o,1),i.Sa.length===0?s=e.Da()?0:1:!i.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function AF(t,e){const n=de(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.Sa)a.Fa(s)&&(r=!0);o.wa=s}}r&&Gy(n)}function RF(t,e,n){const r=de(t),s=r.queries.get(e);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(e)}function Gy(t){t.Ca.forEach(e=>{e.next()})}var Em,L_;(L_=Em||(Em={})).Ma="default",L_.Cache="cache";class kF{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new zo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=zo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Em.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{constructor(e){this.key=e}}class MC{constructor(e){this.key=e}}class PF{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=xe(),this.mutatedKeys=xe(),this.eu=XS(e),this.tu=new Io(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new V_,s=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((f,h)=>{const m=s.get(f),y=ch(this.query,h)?h:null,E=!!m&&this.mutatedKeys.has(m.key),A=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let S=!1;m&&y?m.data.isEqual(y.data)?E!==A&&(r.track({type:3,doc:y}),S=!0):this.su(m,y)||(r.track({type:2,doc:y}),S=!0,(l&&this.eu(y,l)>0||u&&this.eu(y,u)<0)&&(a=!0)):!m&&y?(r.track({type:0,doc:y}),S=!0):m&&!y&&(r.track({type:1,doc:m}),S=!0,(l||u)&&(a=!0)),S&&(y?(o=o.add(y),i=A?i.add(f):i.delete(f)):(o=o.delete(f),i=i.delete(f)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const f=this.query.limitType==="F"?o.last():o.first();o=o.delete(f.key),i=i.delete(f.key),r.track({type:1,doc:f})}return{tu:o,iu:r,Cs:a,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((f,h)=>function(y,E){const A=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ae(20277,{Rt:S})}};return A(y)-A(E)}(f.type,h.type)||this.eu(f.doc,h.doc)),this.ou(r),s=s??!1;const a=n&&!s?this._u():[],l=this.Xa.size===0&&this.current&&!s?1:0,u=l!==this.Za;return this.Za=l,o.length!==0||u?{snapshot:new zo(this.query,e.tu,i,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new V_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=xe(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new MC(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new DC(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=xe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return zo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Ky="SyncEngine";class NF{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class DF{constructor(e){this.key=e,this.hu=!1}}class MF{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new ji(a=>YS(a),lh),this.Iu=new Map,this.Eu=new Set,this.du=new Qe(re.comparator),this.Au=new Map,this.Ru=new Oy,this.Vu={},this.mu=new Map,this.fu=Bo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function jF(t,e,n=!0){const r=UC(t);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await jC(r,e,n,!0),s}async function VF(t,e){const n=UC(t);await jC(n,e,!0,!1)}async function jC(t,e,n,r){const s=await Z6(t.localStore,or(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await OF(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&CC(t.remoteStore,s),a}async function OF(t,e,n,r,s){t.pu=(h,m,y)=>async function(A,S,v,w){let _=S.view.ru(v);_.Cs&&(_=await k_(A.localStore,S.query,!1).then(({documents:T})=>S.view.ru(T,_)));const D=w&&w.targetChanges.get(S.targetId),V=w&&w.targetMismatches.get(S.targetId)!=null,O=S.view.applyChanges(_,A.isPrimaryClient,D,V);return U_(A,S.targetId,O.au),O.snapshot}(t,h,m,y);const i=await k_(t.localStore,e,!0),o=new PF(e,i.Qs),a=o.ru(i.documents),l=uc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),u=o.applyChanges(a,t.isPrimaryClient,l);U_(t,n,u.au);const f=new NF(e,n,o);return t.Tu.set(e,f),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),u.snapshot}async function LF(t,e,n){const r=de(t),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter(o=>!lh(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await xm(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&By(r.remoteStore,s.targetId),Tm(r,s.targetId)}).catch(ta)):(Tm(r,s.targetId),await xm(r.localStore,s.targetId,!0))}async function FF(t,e){const n=de(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),By(n.remoteStore,r.targetId))}async function UF(t,e,n){const r=GF(t);try{const s=await function(o,a){const l=de(o),u=Oe.now(),f=a.reduce((y,E)=>y.add(E.key),xe());let h,m;return l.persistence.runTransaction("Locally write mutations","readwrite",y=>{let E=Ur(),A=xe();return l.Ns.getEntries(y,f).next(S=>{E=S,E.forEach((v,w)=>{w.isValidDocument()||(A=A.add(v))})}).next(()=>l.localDocuments.getOverlayedDocuments(y,E)).next(S=>{h=S;const v=[];for(const w of a){const _=J3(w,h.get(w.key).overlayedDocument);_!=null&&v.push(new Ks(w.key,_,$S(_.value.mapValue),ar.exists(!0)))}return l.mutationQueue.addMutationBatch(y,u,v,a)}).next(S=>{m=S;const v=S.applyToLocalDocumentSet(h,A);return l.documentOverlayCache.saveOverlays(y,S.batchId,v)})}).then(()=>({batchId:m.batchId,changes:ZS(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let u=o.Vu[o.currentUser.toKey()];u||(u=new Qe(we)),u=u.insert(a,l),o.Vu[o.currentUser.toKey()]=u}(r,s.batchId,n),await hc(r,s.changes),await mh(r.remoteStore)}catch(s){const i=qy(s,"Failed to persist write");n.reject(i)}}async function VC(t,e){const n=de(t);try{const r=await Y6(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Au.get(i);o&&(Ae(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.hu=!0:s.modifiedDocuments.size>0?Ae(o.hu,14607):s.removedDocuments.size>0&&(Ae(o.hu,42227),o.hu=!1))}),await hc(n,r,e)}catch(r){await ta(r)}}function F_(t,e,n){const r=de(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach((i,o)=>{const a=o.view.va(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=de(o);l.onlineState=a;let u=!1;l.queries.forEach((f,h)=>{for(const m of h.Sa)m.va(a)&&(u=!0)}),u&&Gy(l)}(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function BF(t,e,n){const r=de(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),i=s&&s.key;if(i){let o=new Qe(re.comparator);o=o.insert(i,jt.newNoDocument(i,ue.min()));const a=xe().add(i),l=new hh(ue.min(),new Map,new Qe(we),o,a);await VC(r,l),r.du=r.du.remove(i),r.Au.delete(e),Qy(r)}else await xm(r.localStore,e,!1).then(()=>Tm(r,e,n)).catch(ta)}async function zF(t,e){const n=de(t),r=e.batch.batchId;try{const s=await Q6(n.localStore,e);LC(n,r,null),OC(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await hc(n,s)}catch(s){await ta(s)}}async function $F(t,e,n){const r=de(t);try{const s=await function(o,a){const l=de(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let f;return l.mutationQueue.lookupMutationBatch(u,a).next(h=>(Ae(h!==null,37113),f=h.keys(),l.mutationQueue.removeMutationBatch(u,h))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,f,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,f)).next(()=>l.localDocuments.getDocuments(u,f))})}(r.localStore,e);LC(r,e,n),OC(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await hc(r,s)}catch(s){await ta(s)}}function OC(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function LC(t,e,n){const r=de(t);let s=r.Vu[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function Tm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||FC(t,r)})}function FC(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(By(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Qy(t))}function U_(t,e,n){for(const r of n)r instanceof DC?(t.Ru.addReference(r.key,e),HF(t,r)):r instanceof MC?(J(Ky,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||FC(t,r.key)):ae(19791,{wu:r})}function HF(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(J(Ky,"New document in limbo: "+n),t.Eu.add(r),Qy(t))}function Qy(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new re(We.fromString(e)),r=t.fu.next();t.Au.set(r,new DF(n)),t.du=t.du.insert(n,r),CC(t.remoteStore,new fs(or(Ny(n.path)),r,"TargetPurposeLimboResolution",sh.ce))}}async function hc(t,e,n){const r=de(t),s=[],i=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((a,l)=>{o.push(r.pu(l,e,n).then(u=>{var f;if((u||n)&&r.isPrimaryClient){const h=u?!u.fromCache:(f=n==null?void 0:n.targetChanges.get(l.targetId))==null?void 0:f.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(u){s.push(u);const h=Fy.As(l.targetId,u);i.push(h)}}))}),await Promise.all(o),r.Pu.H_(s),await async function(l,u){const f=de(l);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>U.forEach(u,m=>U.forEach(m.Es,y=>f.persistence.referenceDelegate.addReference(h,m.targetId,y)).next(()=>U.forEach(m.ds,y=>f.persistence.referenceDelegate.removeReference(h,m.targetId,y)))))}catch(h){if(!na(h))throw h;J(Uy,"Failed to update sequence numbers: "+h)}for(const h of u){const m=h.targetId;if(!h.fromCache){const y=f.Ms.get(m),E=y.snapshotVersion,A=y.withLastLimboFreeSnapshotVersion(E);f.Ms=f.Ms.insert(m,A)}}}(r.localStore,i))}async function WF(t,e){const n=de(t);if(!n.currentUser.isEqual(e)){J(Ky,"User change. New user:",e.toKey());const r=await TC(n.localStore,e);n.currentUser=e,function(i,o){i.mu.forEach(a=>{a.forEach(l=>{l.reject(new ne(B.CANCELLED,o))})}),i.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await hc(n,r.Ls)}}function qF(t,e){const n=de(t),r=n.Au.get(e);if(r&&r.hu)return xe().add(r.key);{let s=xe();const i=n.Iu.get(e);if(!i)return s;for(const o of i){const a=n.Tu.get(o);s=s.unionWith(a.view.nu)}return s}}function UC(t){const e=de(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=VC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=qF.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=BF.bind(null,e),e.Pu.H_=AF.bind(null,e.eventManager),e.Pu.yu=RF.bind(null,e.eventManager),e}function GF(t){const e=de(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=zF.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=$F.bind(null,e),e}class Cd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=fh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return K6(this.persistence,new W6,e.initialUser,this.serializer)}Cu(e){return new EC(Ly.mi,this.serializer)}Du(e){return new tF}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Cd.provider={build:()=>new Cd};class KF extends Cd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ae(this.persistence.referenceDelegate instanceof Id,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new k6(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Xt.withCacheSize(this.cacheSizeBytes):Xt.DEFAULT;return new EC(r=>Id.mi(r,n),this.serializer)}}class bm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>F_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=WF.bind(null,this.syncEngine),await TF(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new IF}()}createDatastore(e){const n=fh(e.databaseInfo.databaseId),r=function(i){return new oF(i)}(e.databaseInfo);return function(i,o,a,l){return new uF(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new hF(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>F_(this.syncEngine,n,0),function(){return D_.v()?new D_:new nF}())}createSyncEngine(e,n){return function(s,i,o,a,l,u,f){const h=new MF(s,i,o,a,l,u);return f&&(h.gu=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=de(s);J(ki,"RemoteStore shutting down."),i.Ea.add(5),await dc(i),i.Aa.shutdown(),i.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}bm.provider={build:()=>new bm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QF{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Fr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Os="FirestoreClient";class YF{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Dt.UNAUTHENTICATED,this.clientId=Iy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{J(Os,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(J(Os,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ss;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=qy(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function jf(t,e){t.asyncQueue.verifyOperationInProgress(),J(Os,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await TC(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function B_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await XF(t);J(Os,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>j_(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>j_(e.remoteStore,s)),t._onlineComponents=e}async function XF(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){J(Os,"Using user provided OfflineComponentProvider");try{await jf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===B.FAILED_PRECONDITION||s.code===B.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Oo("Error using user provided cache. Falling back to memory cache: "+n),await jf(t,new Cd)}}else J(Os,"Using default OfflineComponentProvider"),await jf(t,new KF(void 0));return t._offlineComponents}async function BC(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(J(Os,"Using user provided OnlineComponentProvider"),await B_(t,t._uninitializedComponentsProvider._online)):(J(Os,"Using default OnlineComponentProvider"),await B_(t,new bm))),t._onlineComponents}function JF(t){return BC(t).then(e=>e.syncEngine)}async function ZF(t){const e=await BC(t),n=e.eventManager;return n.onListen=jF.bind(null,e.syncEngine),n.onUnlisten=LF.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=VF.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=FF.bind(null,e.syncEngine),n}function e9(t,e,n={}){const r=new Ss;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,u){const f=new QF({next:m=>{f.Nu(),o.enqueueAndForget(()=>CF(i,h));const y=m.docs.has(a);!y&&m.fromCache?u.reject(new ne(B.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&m.fromCache&&l&&l.source==="server"?u.reject(new ne(B.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(m)},error:m=>u.reject(m)}),h=new kF(Ny(a.path),f,{includeMetadataChanges:!0,qa:!0});return SF(i,h)}(await ZF(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zC(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $C="firestore.googleapis.com",$_=!0;class H_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ne(B.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=$C,this.ssl=$_}else this.host=e.host,this.ssl=e.ssl??$_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=_C;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<A6)throw new ne(B.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}h3("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=zC(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ne(B.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ne(B.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ne(B.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Yy{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new H_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ne(B.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ne(B.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new H_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new t3;switch(r.type){case"firstParty":return new i3(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ne(B.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=z_.get(n);r&&(J("ComponentProvider","Removing Datastore"),z_.delete(n),r.terminate())}(this),Promise.resolve()}}function t9(t,e,n,r={}){var u;t=Ri(t,Yy);const s=Xo(e),i=t._getSettings(),o={...i,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;s&&(LI(`https://${a}`),FI("Firestore",!0)),i.host!==$C&&i.host!==a&&Oo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...i,host:a,ssl:s,emulatorOptions:r};if(!bi(l,o)&&(t._setSettings(l),r.mockUserToken)){let f,h;if(typeof r.mockUserToken=="string")f=r.mockUserToken,h=Dt.MOCK_USER;else{f=hV(r.mockUserToken,(u=t._app)==null?void 0:u.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new ne(B.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Dt(m)}t._authCredentials=new n3(new NS(f,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xy{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Xy(this.firestore,e,this._query)}}class dt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new zl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new dt(this.firestore,e,this._key)}toJSON(){return{type:dt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(lc(n,dt._jsonSchema))return new dt(e,r||null,new re(We.fromString(n.referencePath)))}}dt._jsonSchemaVersion="firestore/documentReference/1.0",dt._jsonSchema={type:it("string",dt._jsonSchemaVersion),referencePath:it("string")};class zl extends Xy{constructor(e,n,r){super(e,n,Ny(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new dt(this.firestore,null,new re(e))}withConverter(e){return new zl(this.firestore,e,this._path)}}function po(t,e,...n){if(t=Ut(t),arguments.length===1&&(e=Iy.newId()),d3("doc","path",e),t instanceof Yy){const r=We.fromString(e,...n);return s_(r),new dt(t,null,new re(r))}{if(!(t instanceof dt||t instanceof zl))throw new ne(B.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(We.fromString(e,...n));return s_(r),new dt(t.firestore,t instanceof zl?t.converter:null,new re(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W_="AsyncQueue";class q_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new IC(this,"async_queue_retry"),this._c=()=>{const r=Mf();r&&J(W_,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Mf();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Mf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Ss;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!na(e))throw e;J(W_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,Fr("INTERNAL UNHANDLED ERROR: ",G_(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=Wy.createAndSchedule(this,e,n,r,i=>this.hc(i));return this.tc.push(s),s}uc(){this.nc&&ae(47125,{Pc:G_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function G_(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class gh extends Yy{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new q_,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new q_(e),this._firestoreClient=void 0,await e}}}function n9(t,e){const n=typeof t=="object"?t:$I(),r=typeof t=="string"?t:xd,s=fy(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=uV("firestore");i&&t9(s,...i)}return s}function HC(t){if(t._terminated)throw new ne(B.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||r9(t),t._firestoreClient}function r9(t){var r,s,i;const e=t._freezeSettings(),n=function(a,l,u,f){return new T3(a,l,u,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,zC(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(s=e.localCache)!=null&&s._offlineComponentProvider&&((i=e.localCache)!=null&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new YF(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this._byteString=e}static fromBase64String(e){try{return new En(At.fromBase64String(e))}catch(n){throw new ne(B.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new En(At.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:En._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(lc(e,En._jsonSchema))return En.fromBase64String(e.bytes)}}En._jsonSchemaVersion="firestore/bytes/1.0",En._jsonSchema={type:it("string",En._jsonSchemaVersion),bytes:it("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ne(B.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new It(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ne(B.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ne(B.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return we(this._lat,e._lat)||we(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:cr._jsonSchemaVersion}}static fromJSON(e){if(lc(e,cr._jsonSchema))return new cr(e.latitude,e.longitude)}}cr._jsonSchemaVersion="firestore/geoPoint/1.0",cr._jsonSchema={type:it("string",cr._jsonSchemaVersion),latitude:it("number"),longitude:it("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:ur._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(lc(e,ur._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new ur(e.vectorValues);throw new ne(B.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ur._jsonSchemaVersion="firestore/vectorValue/1.0",ur._jsonSchema={type:it("string",ur._jsonSchemaVersion),vectorValues:it("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s9=/^__.*__$/;class i9{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ks(e,this.data,this.fieldMask,n,this.fieldTransforms):new cc(e,this.data,n,this.fieldTransforms)}}class WC{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ks(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function qC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ae(40011,{Ac:t})}}class Jy{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Jy({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Ad(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(qC(this.Ac)&&s9.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class o9{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||fh(e)}Cc(e,n,r,s=!1){return new Jy({Ac:e,methodName:n,Dc:r,path:It.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function GC(t){const e=t._freezeSettings(),n=fh(t._databaseId);return new o9(t._databaseId,!!e.ignoreUndefinedProperties,n)}function a9(t,e,n,r,s,i={}){const o=t.Cc(i.merge||i.mergeFields?2:0,e,n,s);tv("Data must be an object, but it was:",o,r);const a=KC(r,o);let l,u;if(i.merge)l=new un(o.fieldMask),u=o.fieldTransforms;else if(i.mergeFields){const f=[];for(const h of i.mergeFields){const m=Im(e,h,n);if(!o.contains(m))throw new ne(B.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);YC(f,m)||f.push(m)}l=new un(f),u=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,u=o.fieldTransforms;return new i9(new Zt(a),l,u)}class vh extends fc{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof vh}}class Zy extends fc{_toFieldTransform(e){return new aC(e.path,new Ll)}isEqual(e){return e instanceof Zy}}class ev extends fc{constructor(e,n){super(e),this.Fc=n}_toFieldTransform(e){const n=new Bl(e.serializer,nC(e.serializer,this.Fc));return new aC(e.path,n)}isEqual(e){return e instanceof ev&&this.Fc===e.Fc}}function l9(t,e,n,r){const s=t.Cc(1,e,n);tv("Data must be an object, but it was:",s,r);const i=[],o=Zt.empty();Gs(r,(l,u)=>{const f=nv(e,l,n);u=Ut(u);const h=s.yc(f);if(u instanceof vh)i.push(f);else{const m=wh(u,h);m!=null&&(i.push(f),o.set(f,m))}});const a=new un(i);return new WC(o,a,s.fieldTransforms)}function c9(t,e,n,r,s,i){const o=t.Cc(1,e,n),a=[Im(e,r,n)],l=[s];if(i.length%2!=0)throw new ne(B.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<i.length;m+=2)a.push(Im(e,i[m])),l.push(i[m+1]);const u=[],f=Zt.empty();for(let m=a.length-1;m>=0;--m)if(!YC(u,a[m])){const y=a[m];let E=l[m];E=Ut(E);const A=o.yc(y);if(E instanceof vh)u.push(y);else{const S=wh(E,A);S!=null&&(u.push(y),f.set(y,S))}}const h=new un(u);return new WC(f,h,o.fieldTransforms)}function wh(t,e){if(QC(t=Ut(t)))return tv("Unsupported field value:",e,t),KC(t,e);if(t instanceof fc)return function(r,s){if(!qC(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=wh(a,s.wc(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=Ut(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return nC(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Oe.fromDate(r);return{timestampValue:bd(s.serializer,i)}}if(r instanceof Oe){const i=new Oe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:bd(s.serializer,i)}}if(r instanceof cr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof En)return{bytesValue:pC(s.serializer,r._byteString)};if(r instanceof dt){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Vy(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof ur)return function(o,a){return{mapValue:{fields:{[BS]:{stringValue:zS},[_d]:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.Sc("VectorValues must only contain numeric values.");return Dy(a.serializer,u)})}}}}}}(r,s);throw s.Sc(`Unsupported field value: ${Sy(r)}`)}(t,e)}function KC(t,e){const n={};return jS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Gs(t,(r,s)=>{const i=wh(s,e.mc(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function QC(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Oe||t instanceof cr||t instanceof En||t instanceof dt||t instanceof fc||t instanceof ur)}function tv(t,e,n){if(!QC(n)||!DS(n)){const r=Sy(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function Im(t,e,n){if((e=Ut(e))instanceof yh)return e._internalPath;if(typeof e=="string")return nv(t,e);throw Ad("Field path arguments must be of type string or ",t,!1,void 0,n)}const u9=new RegExp("[~\\*/\\[\\]]");function nv(t,e,n){if(e.search(u9)>=0)throw Ad(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new yh(...e.split("."))._internalPath}catch{throw Ad(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Ad(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new ne(B.INVALID_ARGUMENT,a+t+l)}function YC(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new dt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new d9(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(JC("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class d9 extends XC{data(){return super.data()}}function JC(t,e){return typeof e=="string"?nv(t,e):e instanceof yh?e._internalPath:e._delegate._internalPath}class h9{convertValue(e,n="none"){switch(js(e)){case 0:return null;case 1:return e.booleanValue;case 2:return tt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ms(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ae(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Gs(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var r,s,i;const n=(i=(s=(r=e.fields)==null?void 0:r[_d].arrayValue)==null?void 0:s.values)==null?void 0:i.map(o=>tt(o.doubleValue));return new ur(n)}convertGeoPoint(e){return new cr(tt(e.latitude),tt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=oh(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(jl(e));default:return null}}convertTimestamp(e){const n=Ds(e);return new Oe(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=We.fromString(e);Ae(xC(r),9688,{name:e});const s=new Vl(r.get(1),r.get(3)),i=new re(r.popFirst(5));return s.isEqual(n)||Fr(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f9(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class La{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class vi extends XC{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ku(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(JC("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ne(B.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=vi._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}vi._jsonSchemaVersion="firestore/documentSnapshot/1.0",vi._jsonSchema={type:it("string",vi._jsonSchemaVersion),bundleSource:it("string","DocumentSnapshot"),bundleName:it("string"),bundle:it("string")};class ku extends vi{data(e={}){return super.data(e)}}class sl{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new La(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new ku(this._firestore,this._userDataWriter,r.key,r,new La(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ne(B.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new ku(s._firestore,s._userDataWriter,a.doc.key,a.doc,new La(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new ku(s._firestore,s._userDataWriter,a.doc.key,a.doc,new La(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let u=-1,f=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),f=o.indexOf(a.doc.key)),{type:p9(a.type),doc:l,oldIndex:u,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ne(B.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=sl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Iy.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function p9(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ae(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vf(t){t=Ri(t,dt);const e=Ri(t.firestore,gh);return e9(HC(e),t._key).then(n=>g9(e,t,n))}sl._jsonSchemaVersion="firestore/querySnapshot/1.0",sl._jsonSchema={type:it("string",sl._jsonSchemaVersion),bundleSource:it("string","QuerySnapshot"),bundleName:it("string"),bundle:it("string")};class m9 extends h9{constructor(e){super(),this.firestore=e}convertBytes(e){return new En(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new dt(this.firestore,null,n)}}function Of(t,e,n){t=Ri(t,dt);const r=Ri(t.firestore,gh),s=f9(t.converter,e);return ZC(r,[a9(GC(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,ar.none())])}function Sm(t,e,n,...r){t=Ri(t,dt);const s=Ri(t.firestore,gh),i=GC(s);let o;return o=typeof(e=Ut(e))=="string"||e instanceof yh?c9(i,"updateDoc",t._key,e,n,r):l9(i,"updateDoc",t._key,e),ZC(s,[o.toMutation(t._key,ar.exists(!0))])}function ZC(t,e){return function(r,s){const i=new Ss;return r.asyncQueue.enqueueAndForget(async()=>UF(await JF(r),s,i)),i.promise}(HC(t),e)}function g9(t,e,n){const r=n.docs.get(e._key),s=new m9(t);return new vi(t,s,e._key,r,new La(n.hasPendingWrites,n.fromCache),e.converter)}function Lf(){return new Zy("serverTimestamp")}function K_(t){return new ev("increment",t)}(function(e,n=!0){(function(s){ea=s})(Jo),Vo(new Ii("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new gh(new r3(r.getProvider("auth-internal")),new o3(o,r.getProvider("app-check-internal")),function(u,f){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ne(B.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Vl(u.options.projectId,f)}(o,s),o);return i={useFetchStreams:n,...i},a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),bs(e_,t_,e),bs(e_,t_,"esm2020")})();var y9="firebase",v9="12.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */bs(y9,v9,"app");const w9={apiKey:"AIzaSyBS3uUgFUWmuT17ygx-ff2fUQhVpOXUUrU",authDomain:"emprataai.firebaseapp.com",projectId:"emprataai",storageBucket:"emprataai.firebasestorage.app",messagingSenderId:"648305596142",appId:"1:648305596142:web:aff6c1539823e12e8bc5ff"},eA=zI(w9),Qi=Z5(eA),mo=n9(eA),Q_=t=>{let e;const n=new Set,r=(u,f)=>{const h=typeof u=="function"?u(e):u;if(!Object.is(h,e)){const m=e;e=f??(typeof h!="object"||h===null)?h:Object.assign({},e,h),n.forEach(y=>y(e,m))}},s=()=>e,a={setState:r,getState:s,getInitialState:()=>l,subscribe:u=>(n.add(u),()=>n.delete(u))},l=e=t(r,s,a);return a},x9=t=>t?Q_(t):Q_,_9=t=>t;function E9(t,e=_9){const n=q.useSyncExternalStore(t.subscribe,q.useCallback(()=>e(t.getState()),[t,e]),q.useCallback(()=>e(t.getInitialState()),[t,e]));return q.useDebugValue(n),n}const Y_=t=>{const e=x9(t),n=r=>E9(e,r);return Object.assign(n,e),n},T9=t=>t?Y_(t):Y_,b9=()=>{const t=localStorage.getItem("emprata_user_id");if(t)return t;const e=crypto.randomUUID();return localStorage.setItem("emprata_user_id",e),e},pc=T9((t,e)=>({userId:b9(),plan:"FREE",credits:3,originalImage:null,originalFile:null,generatedImage:null,selectedVibe:"rustico",selectedPerspective:"diagonal",lightIntensity:50,isGenerating:!1,setUserId:n=>{localStorage.setItem("emprata_user_id",n),t({userId:n})},setPlan:n=>t({plan:n}),setCredits:n=>t({credits:n}),setOriginalImage:(n,r=null)=>t({originalImage:n,originalFile:r,generatedImage:null}),setGeneratedImage:n=>t({generatedImage:n}),setVibe:n=>t({selectedVibe:n}),setPerspective:n=>t({selectedPerspective:n}),setLightIntensity:n=>t({lightIntensity:n}),setIsGenerating:n=>t({isGenerating:n}),resetEditor:()=>t({originalImage:null,originalFile:null,generatedImage:null,selectedVibe:"rustico",selectedPerspective:"diagonal",lightIntensity:50,isGenerating:!1}),useCredit:()=>{const{credits:n,plan:r}=e();return r==="PRO"?!0:n>0?(t({credits:n-1}),!0):!1},decrementCredit:()=>{const{credits:n,plan:r}=e();r!=="PRO"&&n>0&&t({credits:n-1})},refundCredit:()=>t(n=>({credits:n.credits+1}))}));function $r(){var v,w;const[t,e]=k.useState(null),[n,r]=k.useState(null),[s,i]=k.useState(!0),[o,a]=k.useState(null),{setPlan:l,setCredits:u,setUserId:f}=pc(),h=new _r;return h.setCustomParameters({prompt:"select_account"}),k.useEffect(()=>{console.log(" [useAuth] Setting up auth listener...");const _=BL(Qi,async D=>{console.log(" [useAuth] Auth State Changed:",(D==null?void 0:D.email)||"No user");try{if(e(D),D){console.log(" [useAuth] Fetching Firestore data for:",D.uid);const V=po(mo,"users",D.uid),O=await Vf(V);if(O.exists()){const T=O.data();console.log(" [useAuth] User data loaded:",T.plan,T.credits),r(T),l(T.plan||"FREE"),u(T.credits??3),f(D.uid)}else{console.warn(" [useAuth] User has no Firestore profile, creating one...");const T={uid:D.uid,email:D.email||"",name:D.displayName||"",plan:"FREE",credits:3,createdAt:Lf()};await Of(V,T),r(T),l("FREE"),u(3),f(D.uid),console.log(" [useAuth] Created missing Firestore profile")}}else console.log(" [useAuth] No user, resetting to guest state"),r(null),l("FREE"),u(3),f("")}catch(V){console.error(" [useAuth] Critical error in auth listener:",V),a((V==null?void 0:V.message)||"Authentication error"),r(null),l("FREE"),u(3),f("")}finally{console.log(" [useAuth] Loading complete"),i(!1)}});return()=>{console.log(" [useAuth] Cleaning up auth listener"),_()}},[l,u,f]),{user:t,userData:n,loading:s,error:o,loginWithGoogle:async()=>{try{a(null),i(!0);const D=(await l5(Qi,h)).user,V=po(mo,"users",D.uid),O=await Vf(V);if(O.exists()){const T=O.data();r(T),l(T.plan||"FREE"),u(T.credits??3),f(D.uid),console.log(" [useAuth] Existing Google user logged in:",D.uid)}else{const T={uid:D.uid,email:D.email||"",name:D.displayName||"",plan:"FREE",credits:3,createdAt:Lf()};await Of(V,T),console.log(" [useAuth] New Google user created:",D.uid),r(T),l("FREE"),u(3),f(D.uid)}return D}catch(_){throw console.error(" [useAuth] Google Sign-In error:",_),a(_.message),_}finally{i(!1)}},signIn:async(_,D)=>{try{return a(null),i(!0),(await LL(Qi,_,D)).user}catch(V){throw a(V.message),V}finally{i(!1)}},signUp:async(_,D,V)=>{try{a(null),i(!0);const O=await OL(Qi,_,D),T={uid:O.user.uid,email:O.user.email||"",name:V||"",plan:"FREE",credits:3,createdAt:Lf()};return await Of(po(mo,"users",O.user.uid),T),console.log(" [useAuth] New email user created:",O.user.uid),O.user}catch(O){throw a(O.message),O}finally{i(!1)}},signOut:async()=>{try{a(null),await zL(Qi),r(null),console.log(" [useAuth] User signed out")}catch(_){throw a(_.message),_}},refreshUser:async()=>{if(t)try{const _=po(mo,"users",t.uid),D=await Vf(_);if(D.exists()){const V=D.data();r(V),l(V.plan||"FREE"),u(V.credits??3),console.log(" [useAuth] User data refreshed:",V.plan,V.credits)}}catch(_){console.error(" [useAuth] Error refreshing user data:",_)}},isAuthenticated:!!t,isPro:((v=n==null?void 0:n.plan)==null?void 0:v.toLowerCase())==="pro"||((w=n==null?void 0:n.plan)==null?void 0:w.toLowerCase())==="starter"}}const I9=["SUCULNCIA","VENDAS","DELIVERY","APPS","LUCRO","PROFISSIONAL","DESEJO"],S9=()=>{const{user:t}=$r(),e=n=>{const s={starter:"https://pay.kirvano.com/30cef9d1-c08e-49ed-b361-2862f182485f",pro:"https://pay.kirvano.com/b26facd0-9585-4b17-8b68-d58aaf659939"}[n],i=t?`${s}?external_id=${t.uid}`:s;window.open(i,"_blank")};return d.jsxs("div",{className:"flex flex-col bg-[#0a0a0a] text-white selection:bg-primary/30",children:[d.jsx("div",{className:"md:hidden fixed bottom-6 left-0 right-0 px-6 z-50",children:d.jsx(Fn,{to:"/app",children:d.jsxs(ie.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"w-full bg-neon-orange text-white py-5 rounded-3xl shadow-2xl flex items-center justify-center gap-3 text-xl font-black italic tracking-ultra-tight",children:["TESTAR GRTIS",d.jsx(j4,{className:"w-6 h-6"})]})})}),d.jsxs("nav",{className:"max-w-7xl mx-auto w-full px-6 py-8 flex justify-between items-center z-20",children:[d.jsxs("div",{className:"text-3xl font-black tracking-ultra-tight text-white",children:["Emprata",d.jsx("span",{className:"text-neon-orange italic",children:".ai"})]}),d.jsxs("div",{className:"hidden md:flex gap-10 items-center font-bold text-white/50 text-sm uppercase tracking-widest",children:[d.jsx("a",{href:"#how",className:"hover:text-white transition-colors",children:"Tecnologia"}),d.jsx("a",{href:"#benefits",className:"hover:text-white transition-colors",children:"Ganhos"}),d.jsx("a",{href:"#pricing",className:"hover:text-white transition-colors",children:"Planos"}),d.jsx(Fn,{to:"/app",children:d.jsx("button",{className:"bg-white/5 border border-white/10 text-white px-8 py-3 rounded-2xl font-black hover:bg-white/10 transition-all uppercase tracking-tight-titles",children:"Acessar Engine"})})]})]}),d.jsxs("header",{className:"relative max-w-7xl mx-auto px-6 pt-16 pb-32 flex flex-col items-center text-center overflow-hidden",children:[d.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-[80%] h-[500px] bg-primary/20 blur-[120px] rounded-full z-0 opacity-20"}),d.jsxs(ie.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},className:"z-10 relative",children:[d.jsx("div",{className:"inline-block px-4 py-2 bg-white/5 border border-white/10 rounded-full mb-8",children:d.jsx("span",{className:"text-[10px] font-black uppercase tracking-[0.4em] text-neon-orange",children:"Emprata Neural Engine v2.5"})}),d.jsxs("h1",{className:"text-5xl md:text-8xl font-black tracking-ultra-tight leading-[0.95] mb-10 max-w-5xl mx-auto uppercase italic",children:["PARE DE PERDER ",d.jsx("span",{className:"text-neon-orange",children:"DINHEIRO"})," NO DELIVERY ",d.jsx("br",{}),"POR CAUSA DE ",d.jsx("span",{className:"text-red-500",children:"FOTO FEIA."})]}),d.jsxs("p",{className:"text-xl md:text-2xl font-bold text-white/70 max-w-3xl mx-auto mb-12 leading-relaxed",children:["A tecnologia ",d.jsx("span",{className:"text-neon-orange italic",children:"Neural Engine"})," que os gigantes usam para fazer voc salivar, agora nas suas mos. ",d.jsx("br",{}),d.jsx("span",{className:"text-white text-2xl md:text-3xl block mt-4",children:"Aumente suas vendas em at 3x ou seu dinheiro de volta."})]}),d.jsx(Fn,{to:"/app",children:d.jsxs(ie.button,{whileHover:{scale:1.05},whileTap:{scale:.95},animate:{scale:[1,1.02,1]},transition:{repeat:1/0,duration:2},className:"bg-neon-orange text-white px-12 py-8 rounded-[2.5rem] text-3xl font-black uppercase italic tracking-ultra-tight shadow-orange-intense mb-20 group shimmer",children:["Quero Vender Mais Agora",d.jsx(_t,{className:"inline-block ml-4 w-9 h-9 fill-current group-hover:rotate-12 transition-transform"})]})})]}),d.jsx(ie.div,{initial:{opacity:0,scale:.9},whileInView:{opacity:1,scale:1},viewport:{once:!0},className:"w-full max-w-6xl relative z-10",children:d.jsx("div",{className:"rounded-[4rem] overflow-hidden border-[16px] border-[#1a1a1a] shadow-[0_50px_100px_-20px_rgba(0,0,0,1)]",children:d.jsx(cy,{position:50,handle:d.jsx("div",{className:"w-1.5 h-full bg-neon-orange relative flex items-center justify-center",children:d.jsx("div",{className:"absolute w-14 h-14 bg-neon-orange rounded-full shadow-2xl flex items-center justify-center border-4 border-[#0a0a0a]",children:d.jsx(_t,{className:"w-7 h-7 text-white fill-current"})})}),itemOne:d.jsxs("div",{className:"relative h-[600px]",children:[d.jsx(kl,{src:"https://images.unsplash.com/photo-1565299624946-b28f40a0ae38?q=80&w=1200",alt:"Antes - Foto Amadora",className:"w-full h-full object-cover",style:{filter:"contrast(0.7) brightness(0.8) sepia(0.3) blur(1px) saturate(0.6) hue-rotate(10deg)"}}),d.jsx("div",{className:"absolute top-8 left-8 bg-red-900/80 px-6 py-3 rounded-full border border-red-500/30 backdrop-blur-sm",children:d.jsx("span",{className:"uppercase font-black text-sm tracking-wider text-white/90",children:"Sua foto hoje (Amadora)"})}),d.jsx("div",{className:"absolute bottom-8 left-8 bg-black/60 px-4 py-2 rounded-2xl border border-white/10",children:d.jsx("p",{className:"text-xs font-bold text-white/40 uppercase tracking-widest",children:" Cliente passa direto"})})]}),itemTwo:d.jsxs("div",{className:"relative h-[600px]",children:[d.jsx(kl,{src:"https://images.unsplash.com/photo-1565299624946-b28f40a0ae38?q=80&w=1200",alt:"Depois - Emprata AI",className:"w-full h-full object-cover",style:{filter:"saturate(1.4) contrast(1.15) brightness(1.05) sharpen(1.2)"}}),d.jsx("div",{className:"absolute top-8 right-8 bg-neon-orange px-6 py-3 rounded-full shadow-xl shadow-orange-500/50",children:d.jsx("span",{className:"uppercase font-black text-sm tracking-wider text-white",children:"Com Emprata AI (Vende Muito)"})}),d.jsx("div",{className:"absolute bottom-12 right-12 flex flex-col items-end gap-2",children:d.jsxs("div",{className:"bg-black/80 p-6 rounded-3xl border border-white/10 backdrop-blur-xl animate-bounce",children:[d.jsx("span",{className:"text-3xl font-black text-neon-orange tracking-ultra-tight",children:"+240%"}),d.jsx("p",{className:"text-[10px] font-bold text-white/40 uppercase tracking-widest",children:"Aumento em Converso"})]})})]}),style:{width:"100%",height:"600px"}})})})]}),d.jsx("div",{className:"py-10 bg-neon-orange/10 border-y border-white/5 overflow-hidden",children:d.jsx("div",{className:"flex animate-[scroll_20s_linear_infinite]",children:d.jsx("div",{className:"flex gap-24 items-center shrink-0",children:Array(10).fill(null).map((n,r)=>d.jsx("div",{className:"flex gap-24 items-center",children:I9.map(s=>d.jsx("span",{className:"text-4xl font-black text-white/20 italic tracking-ultra-tight uppercase whitespace-nowrap",children:s},`${s}-${r}`))},r))})})}),d.jsx("section",{id:"how",className:"max-w-7xl mx-auto px-6 py-40",children:d.jsxs("div",{className:"grid md:grid-cols-2 gap-24 items-center",children:[d.jsxs(ie.div,{initial:{opacity:0,x:-50},whileInView:{opacity:1,x:0},viewport:{once:!0},className:"space-y-8",children:[d.jsx("div",{className:"w-20 h-2 bg-neon-orange rounded-full"}),d.jsxs("h2",{className:"text-5xl md:text-7xl font-black tracking-tight leading-[1.1] uppercase",children:["Conhea o Emprata ",d.jsx("span",{className:"text-neon-orange",children:"Neural Engine"})]}),d.jsxs("p",{className:"text-xl md:text-2xl text-white/50 leading-relaxed font-medium",children:["No  filtro.  ",d.jsx("span",{className:"text-white",children:"Cincia Gastronmica"}),". ",d.jsx("br",{}),d.jsx("br",{}),"Nosso motor exclusivo analisa textura, iluminao e suculncia para recriar o ambiente perfeito que dispara o gatilho da fome no crebro do seu cliente."]}),d.jsx("ul",{className:"space-y-4 pt-6",children:["Remoo Neural de Fundo","Relighting de Alta Gastronomia","Texturizao via IA"].map(n=>d.jsxs("li",{className:"flex items-center gap-4 text-lg font-bold",children:[d.jsx("div",{className:"w-6 h-6 bg-neon-orange rounded-full flex items-center justify-center",children:d.jsx(er,{className:"w-4 h-4 text-white"})}),n]},n))})]}),d.jsx("div",{className:"relative aspect-square",children:d.jsxs("div",{className:"absolute inset-0 bg-white/5 border border-white/10 rounded-[4rem] overflow-hidden",children:[d.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/20 via-transparent to-transparent"}),d.jsx(ie.div,{animate:{rotate:360},transition:{repeat:1/0,duration:20,ease:"linear"},className:"absolute inset-20 border-[2px] border-dashed border-white/10 rounded-full"}),d.jsx(ie.div,{animate:{scale:[1,1.1,1]},transition:{repeat:1/0,duration:4},className:"absolute inset-40 bg-neon-orange/20 blur-[60px] rounded-full"}),d.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:d.jsxs("div",{className:"text-center space-y-4",children:[d.jsx(ai,{className:"w-24 h-24 text-neon-orange mx-auto animate-pulse"}),d.jsx("span",{className:"block text-2xl font-black italic tracking-widest uppercase opacity-40",children:"Analysing Texture..."})]})})]})})]})}),d.jsxs("section",{id:"benefits",className:"max-w-7xl mx-auto px-6 py-20",children:[d.jsx("div",{className:"text-center mb-24",children:d.jsxs("h2",{className:"text-5xl md:text-7xl font-black uppercase italic italic tracking-tighter",children:["O Delivery ",d.jsx("span",{className:"text-neon-orange",children:"Imparvel."})]})}),d.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[d.jsxs(ie.div,{whileHover:{rotateY:10,rotateX:-5},className:"glass-card glass-card-hover p-12 rounded-[3.5rem] md:col-span-2 relative overflow-hidden",children:[d.jsx(eV,{className:"w-16 h-16 text-neon-orange mb-8"}),d.jsx("h3",{className:"text-4xl font-extrabold mb-4 uppercase",children:"O Fim da Guerra de Preos"}),d.jsxs("p",{className:"text-xl text-white/50 font-bold max-w-md italic",children:[d.jsx("span",{className:"text-white text-2xl block mb-2",children:"Cobre mais caro pela mesma comida."}),"Quando sua foto  irresistvel, o cliente no compara preo. Ele compra."]}),d.jsx("div",{className:"absolute bottom-0 right-0 p-12 text-9xl font-black opacity-[0.03] uppercase italic",children:"Sales"})]}),d.jsxs(ie.div,{whileHover:{rotateY:-10,rotateX:5},className:"glass-card glass-card-hover p-12 rounded-[3.5rem] bg-neon-orange",children:[d.jsx(B4,{className:"w-16 h-16 text-white mb-8"}),d.jsx("h3",{className:"text-4xl font-extrabold mb-4 uppercase",children:"Cardpios em Minutos"}),d.jsxs("p",{className:"text-xl text-white font-bold opacity-80 leading-tight",children:[d.jsx("span",{className:"text-2xl block mb-2",children:"No semanas. MINUTOS."}),"Gere cardpios inteiros profissionais enquanto seu concorrente ainda est editando a primeira foto."]})]}),d.jsxs(ie.div,{whileHover:{rotateX:10},className:"glass-card glass-card-hover p-12 rounded-[3.5rem]",children:[d.jsx(z4,{className:"w-16 h-16 text-neon-orange mb-8"}),d.jsx("h3",{className:"text-4xl font-extrabold mb-4 uppercase",children:"Top 5% do Ranking"}),d.jsxs("p",{className:"text-xl text-white/50 font-bold",children:[d.jsx("span",{className:"text-white text-2xl block mb-2",children:"Junte-se  elite."}),"Apenas 5% dos restaurantes dominam os apps de delivery. Todos tm fotos profissionais. Coincidncia?"]})]}),d.jsxs(ie.div,{whileHover:{rotateY:5},className:"glass-card glass-card-hover p-12 rounded-[3.5rem] md:col-span-2 flex flex-col md:flex-row gap-8 items-center",children:[d.jsx(X4,{className:"w-24 h-24 text-green-500 shrink-0"}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-4xl font-extrabold mb-4 uppercase tracking-tighter italic",children:"Garantia de Converso"}),d.jsx("p",{className:"text-xl text-white/50 font-bold max-w-sm",children:"Se seu clique no app de delivery no aumentar, devolvemos seu tempo (e seu investimento)."})]})]})]}),d.jsx("div",{className:"mt-12 bg-white/5 border-2 border-dashed border-white/20 p-8 rounded-[2.5rem] text-center",children:d.jsx("p",{className:"text-xl font-black uppercase tracking-widest text-[#FFC107] animate-pulse",children:" Ateno: Devido  alta demanda de processamento, estamos limitando novos acessos dirios."})})]}),d.jsxs("section",{id:"pricing",className:"max-w-7xl mx-auto px-6 py-40",children:[d.jsxs("div",{className:"text-center mb-20",children:[d.jsxs("h2",{className:"text-5xl md:text-7xl font-black uppercase italic tracking-tighter mb-6",children:["Escolha Seu ",d.jsx("span",{className:"text-neon-orange",children:"Arsenal"})]}),d.jsx("p",{className:"text-xl text-white/50 font-medium max-w-2xl mx-auto",children:"De teste gratuito a domnio total do mercado. Voc escolhe o ritmo."})]}),d.jsxs("div",{className:"grid md:grid-cols-3 gap-8 items-stretch mb-32",children:[d.jsxs("div",{className:"glass-card p-10 rounded-[3.5rem] border-white/5 flex flex-col",children:[d.jsxs("div",{className:"mb-6",children:[d.jsx("span",{className:"text-[10px] font-black uppercase tracking-[0.4em] text-white/30",children:"Teste Grtis"}),d.jsx("h3",{className:"text-3xl font-black mt-2 mb-2 italic uppercase",children:"Degustao"})]}),d.jsxs("div",{className:"mb-8",children:[d.jsx("div",{className:"text-6xl font-black tracking-tight-titles mb-2 italic",children:"R$ 0"}),d.jsx("p",{className:"text-sm font-bold text-white/40",children:"Sem carto  Sem compromisso"})]}),d.jsxs("ul",{className:"space-y-3 mb-10 flex-grow text-sm font-bold text-white/60",children:[d.jsxs("li",{className:"flex gap-3 items-start",children:[d.jsx(er,{className:"w-5 h-5 text-white/20 shrink-0 mt-0.5"}),d.jsxs("span",{children:[d.jsx("span",{className:"text-white",children:"1 Crdito nico"})," para testar"]})]}),d.jsxs("li",{className:"flex gap-3 items-start",children:[d.jsx(er,{className:"w-5 h-5 text-white/20 shrink-0 mt-0.5"}),"Baixa Resoluo (720p)"]}),d.jsxs("li",{className:"flex gap-3 items-start",children:[d.jsx(er,{className:"w-5 h-5 text-white/20 shrink-0 mt-0.5"}),"Com Marca d'gua"]}),d.jsxs("li",{className:"flex gap-3 items-start",children:[d.jsx(er,{className:"w-5 h-5 text-white/20 shrink-0 mt-0.5"}),"Apenas 1 Estilo disponvel"]})]}),d.jsx(Fn,{to:"/app",className:"mt-auto",children:d.jsx("button",{className:"w-full py-5 rounded-3xl border-2 border-white/10 font-black hover:bg-white/5 transition-all uppercase tracking-widest text-sm",children:"Testar Agora"})})]}),d.jsxs("div",{className:"glass-card p-10 rounded-[3.5rem] border-white/10 flex flex-col relative",children:[d.jsx("div",{className:"absolute -top-4 left-1/2 -translate-x-1/2 bg-blue-500 text-white px-6 py-2 rounded-full font-black text-xs tracking-widest uppercase",children:"Ideal para Cardpios Pequenos"}),d.jsxs("div",{className:"mb-6 mt-4",children:[d.jsx("span",{className:"text-[10px] font-black uppercase tracking-[0.4em] text-blue-400",children:"Assinatura Mensal"}),d.jsx("h3",{className:"text-3xl font-black mt-2 mb-2 italic uppercase",children:"Pack Delivery"})]}),d.jsxs("div",{className:"mb-8",children:[d.jsxs("div",{className:"flex items-baseline gap-2 mb-2",children:[d.jsx("span",{className:"text-6xl font-black tracking-tight-titles italic",children:"R$ 97"}),d.jsx("span",{className:"text-xl font-bold text-white/40",children:"/ms"})]}),d.jsx("p",{className:"text-sm font-bold text-blue-400",children:"15 Crditos Mensais (Acumulativos)"}),d.jsx("p",{className:"text-xs font-black text-white/30 mt-1",children:"Sai a R$ 6,40 por foto"})]}),d.jsxs("ul",{className:"space-y-3 mb-10 flex-grow text-sm font-bold",children:[d.jsxs("li",{className:"flex gap-3 items-start",children:[d.jsx(_t,{className:"w-5 h-5 text-blue-400 fill-current shrink-0 mt-0.5"}),d.jsx("span",{className:"text-white",children:"15 Crditos"})]}),d.jsxs("li",{className:"flex gap-3 items-start",children:[d.jsx(_t,{className:"w-5 h-5 text-blue-400 fill-current shrink-0 mt-0.5"}),"Resoluo Full HD (1080p)"]}),d.jsxs("li",{className:"flex gap-3 items-start",children:[d.jsx(_t,{className:"w-5 h-5 text-blue-400 fill-current shrink-0 mt-0.5"}),"Sem Marca d'gua"]}),d.jsxs("li",{className:"flex gap-3 items-start",children:[d.jsx(_t,{className:"w-5 h-5 text-blue-400 fill-current shrink-0 mt-0.5"}),"Todos os Estilos Pro"]}),d.jsxs("li",{className:"flex gap-3 items-start",children:[d.jsx(_t,{className:"w-5 h-5 text-blue-400 fill-current shrink-0 mt-0.5"}),"Suporte via Email"]})]}),d.jsx("button",{onClick:()=>e("starter"),className:"w-full py-6 rounded-3xl bg-blue-500 hover:bg-blue-600 font-black text-white shadow-xl shadow-blue-500/30 uppercase tracking-tighter text-lg transition-all hover:scale-[1.02] active:scale-95 mt-auto",children:"Comprar Pack"})]}),d.jsxs("div",{className:"glass-card p-10 rounded-[3.5rem] border-neon-orange shadow-[0_0_80px_rgba(255,94,0,0.15)] relative overflow-hidden flex flex-col scale-105",children:[d.jsx("div",{className:"absolute top-0 right-0 bg-neon-orange text-white px-8 py-2 rounded-bl-3xl font-black text-[10px] tracking-widest uppercase italic",children:"MAIS VENDIDO  MELHOR ROI"}),d.jsxs("div",{className:"mb-6 mt-8",children:[d.jsx("span",{className:"text-[10px] font-black uppercase tracking-[0.4em] text-neon-orange",children:"Assinatura Mensal"}),d.jsx("h3",{className:"text-3xl font-black mt-2 mb-2 italic uppercase",children:"Franquia / Pro"})]}),d.jsxs("div",{className:"mb-8",children:[d.jsxs("div",{className:"flex items-baseline gap-2 mb-2",children:[d.jsx("span",{className:"text-6xl font-black tracking-tight-titles italic",children:"R$ 197"}),d.jsx("span",{className:"text-xl font-bold text-white/40",children:"/ms"})]}),d.jsx("p",{className:"text-sm font-bold text-neon-orange",children:"50 Crditos Mensais + Vibes Exclusivas"}),d.jsx("p",{className:"text-xs font-black text-white/30 mt-1",children:"Sai a R$ 3,90 por foto "})]}),d.jsx("div",{className:"bg-neon-orange/10 border border-neon-orange/20 rounded-2xl p-4 mb-8",children:d.jsx("p",{className:"text-xs font-black text-neon-orange uppercase tracking-wider",children:" Recomendado para Dark Kitchens"})}),d.jsxs("ul",{className:"space-y-3 mb-10 flex-grow text-sm font-bold",children:[d.jsxs("li",{className:"flex gap-3 items-start",children:[d.jsx(_t,{className:"w-5 h-5 text-neon-orange fill-current shrink-0 mt-0.5"}),d.jsx("span",{className:"text-white",children:"50 Crditos Premium"})]}),d.jsxs("li",{className:"flex gap-3 items-start",children:[d.jsx(_t,{className:"w-5 h-5 text-neon-orange fill-current shrink-0 mt-0.5"}),"Resoluo 4K Ultra HD"]}),d.jsxs("li",{className:"flex gap-3 items-start",children:[d.jsx(_t,{className:"w-5 h-5 text-neon-orange fill-current shrink-0 mt-0.5"}),"Sem Marca d'gua"]}),d.jsxs("li",{className:"flex gap-3 items-start",children:[d.jsx(_t,{className:"w-5 h-5 text-neon-orange fill-current shrink-0 mt-0.5"}),"Todos os Estilos + Exclusivos"]}),d.jsxs("li",{className:"flex gap-3 items-start",children:[d.jsx(_t,{className:"w-5 h-5 text-neon-orange fill-current shrink-0 mt-0.5"}),"Suporte Prioritrio WhatsApp"]}),d.jsxs("li",{className:"flex gap-3 items-start",children:[d.jsx(_t,{className:"w-5 h-5 text-neon-orange fill-current shrink-0 mt-0.5"}),"Processamento Mais Rpido"]})]}),d.jsx("button",{onClick:()=>e("pro"),className:"w-full py-6 rounded-3xl bg-neon-orange font-black text-white shadow-xl shadow-primary/30 uppercase tracking-tighter text-lg hover:scale-[1.02] transition-all active:scale-95 mt-auto",children:"Quero Lucro Mximo"})]})]}),d.jsxs("div",{className:"max-w-3xl mx-auto",children:[d.jsx("h3",{className:"text-4xl font-black uppercase text-center mb-16 italic underline decoration-neon-orange underline-offset-8",children:"Matador de Dvidas"}),d.jsx("div",{className:"space-y-6",children:[{q:"Preciso saber design?",a:"Zero. O Emprata Neural Engine faz tudo sozinho.  literalmente arrastar e baixar."},{q:"Funciona para qualquer prato?",a:"Sim. Somos especialistas em Marmitas, Burgers, Pizzas e Sushi. A IA identifica a textura correta para cada categoria."},{q:"As fotos parecem reais?",a:"Sim. A tecnologia Neural Engine simula fsica de luz real, garantindo que o cliente sinta vontade de morder a tela."}].map((n,r)=>d.jsxs("div",{className:"glass-card p-8 rounded-3xl border-white/5",children:[d.jsxs("h5",{className:"text-lg font-black uppercase mb-4 flex gap-3 text-neon-orange",children:[d.jsx(U4,{className:"w-6 h-6 shrink-0"})," ",n.q]}),d.jsx("p",{className:"text-white/50 font-medium",children:n.a})]},r))})]})]}),d.jsx("footer",{className:"py-20 border-t border-white/5 text-center relative overflow-hidden",children:d.jsxs("div",{className:"relative z-10 space-y-8",children:[d.jsxs("div",{className:"text-3xl font-black tracking-tighter italic",children:["Emprata",d.jsx("span",{className:"text-neon-orange",children:".ai"})]}),d.jsx("p",{className:"text-white/30 text-xs font-bold uppercase tracking-[0.5em]",children:"TECNOLOGIA GASTRONMICA PROPRIETRIA"})]})})]})};function tA({isOpen:t,onClose:e,onSuccess:n}){const{loginWithGoogle:r,signIn:s,signUp:i,error:o}=$r(),[a,l]=k.useState("google"),[u,f]=k.useState(""),[h,m]=k.useState(""),[y,E]=k.useState(""),[A,S]=k.useState(null),[v,w]=k.useState(!1),_=async()=>{try{w(!0),S(null),await r(),n==null||n(),e()}catch(O){S(O.message||"Erro ao fazer login com Google")}finally{w(!1)}},D=async O=>{O.preventDefault();try{w(!0),S(null),await s(u,h),n==null||n(),e()}catch{S("Email ou senha incorretos")}finally{w(!1)}},V=async O=>{O.preventDefault();try{w(!0),S(null),await i(u,h,y),n==null||n(),e()}catch(T){S(T.message||"Erro ao criar conta")}finally{w(!1)}};return d.jsx(bl,{children:t&&d.jsxs("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4",children:[d.jsx(ie.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e,className:"absolute inset-0 bg-black/90 backdrop-blur-md"}),d.jsxs(ie.div,{initial:{scale:.9,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.9,opacity:0,y:20},className:"relative w-full max-w-md bg-zinc-900 border-2 border-white/10 rounded-3xl overflow-hidden shadow-2xl",children:[d.jsx("button",{onClick:e,className:"absolute top-4 right-4 p-2 hover:bg-white/10 rounded-full transition-colors z-10",children:d.jsx(uy,{className:"w-5 h-5 text-white/60"})}),d.jsxs("div",{className:"p-8 pt-12",children:[d.jsxs("div",{className:"text-center mb-8",children:[d.jsx("div",{className:"w-16 h-16 bg-primary rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-lg shadow-primary/30",children:d.jsx("span",{className:"text-3xl",children:""})}),d.jsx("h2",{className:"text-3xl font-black text-white mb-2 italic uppercase",children:"Salve sua obra de arte"}),d.jsxs("p",{className:"text-white/60 font-medium",children:["Crie uma conta grtis para baixar sua imagem e ganhar ",d.jsx("span",{className:"text-primary font-bold",children:"+3 crditos"})]})]}),a==="google"&&d.jsxs(ie.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"space-y-4",children:[d.jsx("button",{onClick:_,disabled:v,className:"w-full bg-white hover:bg-gray-100 text-gray-900 font-bold py-4 px-6 rounded-2xl flex items-center justify-center gap-3 transition-all shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",children:v?d.jsx(yi,{className:"w-5 h-5 animate-spin"}):d.jsxs(d.Fragment,{children:[d.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[d.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),d.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),d.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),d.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continuar com Google"]})}),d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"absolute inset-0 flex items-center",children:d.jsx("div",{className:"w-full border-t border-white/10"})}),d.jsx("div",{className:"relative flex justify-center text-sm",children:d.jsx("span",{className:"px-4 bg-zinc-900 text-white/40 font-bold uppercase tracking-wider",children:"ou"})})]}),d.jsxs("button",{onClick:()=>l("email"),className:"w-full bg-white/5 hover:bg-white/10 text-white font-bold py-4 px-6 rounded-2xl flex items-center justify-center gap-3 transition-all border border-white/10",children:[d.jsx(xu,{className:"w-5 h-5"}),"Entrar com Email"]})]}),a==="email"&&d.jsxs(ie.form,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},onSubmit:D,className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-bold text-white/60 mb-2 uppercase tracking-wider",children:"Email"}),d.jsxs("div",{className:"relative",children:[d.jsx(xu,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-white/40"}),d.jsx("input",{type:"email",value:u,onChange:O=>f(O.target.value),className:"w-full bg-white/5 border border-white/10 rounded-xl px-12 py-3 text-white focus:outline-none focus:border-primary/50 transition-colors",placeholder:"seu@email.com",required:!0})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-bold text-white/60 mb-2 uppercase tracking-wider",children:"Senha"}),d.jsxs("div",{className:"relative",children:[d.jsx(ud,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-white/40"}),d.jsx("input",{type:"password",value:h,onChange:O=>m(O.target.value),className:"w-full bg-white/5 border border-white/10 rounded-xl px-12 py-3 text-white focus:outline-none focus:border-primary/50 transition-colors",placeholder:"",required:!0})]})]}),d.jsx("button",{type:"submit",disabled:v,className:"w-full bg-primary hover:bg-orange-600 text-white font-black py-4 rounded-2xl transition-all shadow-lg shadow-primary/30 disabled:opacity-50 disabled:cursor-not-allowed uppercase tracking-wider",children:v?d.jsx(yi,{className:"w-5 h-5 animate-spin mx-auto"}):"Entrar"}),d.jsx("div",{className:"text-center",children:d.jsxs("button",{type:"button",onClick:()=>l("signup"),className:"text-sm text-white/60 hover:text-white font-bold transition-colors",children:["No tem conta? ",d.jsx("span",{className:"text-primary",children:"Criar agora"})]})}),d.jsx("button",{type:"button",onClick:()=>l("google"),className:"w-full text-sm text-white/40 hover:text-white font-bold transition-colors",children:" Voltar"})]}),a==="signup"&&d.jsxs(ie.form,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},onSubmit:V,className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-bold text-white/60 mb-2 uppercase tracking-wider",children:"Nome"}),d.jsxs("div",{className:"relative",children:[d.jsx(PI,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-white/40"}),d.jsx("input",{type:"text",value:y,onChange:O=>E(O.target.value),className:"w-full bg-white/5 border border-white/10 rounded-xl px-12 py-3 text-white focus:outline-none focus:border-primary/50 transition-colors",placeholder:"Seu nome",required:!0})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-bold text-white/60 mb-2 uppercase tracking-wider",children:"Email"}),d.jsxs("div",{className:"relative",children:[d.jsx(xu,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-white/40"}),d.jsx("input",{type:"email",value:u,onChange:O=>f(O.target.value),className:"w-full bg-white/5 border border-white/10 rounded-xl px-12 py-3 text-white focus:outline-none focus:border-primary/50 transition-colors",placeholder:"seu@email.com",required:!0})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-bold text-white/60 mb-2 uppercase tracking-wider",children:"Senha"}),d.jsxs("div",{className:"relative",children:[d.jsx(ud,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-white/40"}),d.jsx("input",{type:"password",value:h,onChange:O=>m(O.target.value),className:"w-full bg-white/5 border border-white/10 rounded-xl px-12 py-3 text-white focus:outline-none focus:border-primary/50 transition-colors",placeholder:"Mnimo 6 caracteres",required:!0,minLength:6})]})]}),d.jsx("button",{type:"submit",disabled:v,className:"w-full bg-primary hover:bg-orange-600 text-white font-black py-4 rounded-2xl transition-all shadow-lg shadow-primary/30 disabled:opacity-50 disabled:cursor-not-allowed uppercase tracking-wider",children:v?d.jsx(yi,{className:"w-5 h-5 animate-spin mx-auto"}):"Criar Conta"}),d.jsx("div",{className:"text-center",children:d.jsxs("button",{type:"button",onClick:()=>l("email"),className:"text-sm text-white/60 hover:text-white font-bold transition-colors",children:["J tem conta? ",d.jsx("span",{className:"text-primary",children:"Entrar"})]})}),d.jsx("button",{type:"button",onClick:()=>l("google"),className:"w-full text-sm text-white/40 hover:text-white font-bold transition-colors",children:" Voltar"})]}),(A||o)&&d.jsxs(ie.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mt-4 bg-red-500/20 border border-red-500/50 rounded-xl p-3 flex items-center gap-2",children:[d.jsx(RI,{className:"w-4 h-4 text-red-400 shrink-0"}),d.jsx("p",{className:"text-sm text-red-300 font-bold",children:A||o})]}),d.jsx("p",{className:"text-center text-xs text-white/30 font-bold mt-6",children:"Ao continuar, voc concorda com nossos Termos de Uso"})]})]})]})})}function C9(){const t=zs(),{isAuthenticated:e}=$r();k.useEffect(()=>{e&&t("/app")},[e,t]);const n=()=>{t("/app")};return d.jsxs("div",{className:"min-h-screen bg-[#0a0a0a] flex flex-col",children:[d.jsx("header",{className:"p-6",children:d.jsxs("button",{onClick:()=>t("/"),className:"flex items-center gap-2 text-white/60 hover:text-white transition-colors group",children:[d.jsx(Zd,{className:"w-5 h-5 group-hover:-translate-x-1 transition-transform"}),d.jsx("span",{className:"font-bold",children:"Voltar"})]})}),d.jsx("div",{className:"flex-1 flex items-center justify-center p-4",children:d.jsxs(ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-md",children:[d.jsxs("div",{className:"text-center mb-8",children:[d.jsxs("h1",{className:"text-5xl font-black italic tracking-ultra-tight mb-2",children:["Emprata",d.jsx("span",{className:"text-primary",children:".ai"})]}),d.jsx("p",{className:"text-white/40 font-bold uppercase tracking-widest text-sm",children:"Neural Food Photography"})]}),d.jsx(tA,{isOpen:!0,onClose:()=>t("/"),onSuccess:n})]})}),d.jsx("footer",{className:"p-6 text-center",children:d.jsx("p",{className:"text-xs text-white/20 font-bold uppercase tracking-wider",children:" 2025 Emprata.ai  Todos os direitos reservados"})})]})}var rv={};(function t(e,n,r,s){var i=!!(e.Worker&&e.Blob&&e.Promise&&e.OffscreenCanvas&&e.OffscreenCanvasRenderingContext2D&&e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype.transferControlToOffscreen&&e.URL&&e.URL.createObjectURL),o=typeof Path2D=="function"&&typeof DOMMatrix=="function",a=function(){if(!e.OffscreenCanvas)return!1;try{var M=new OffscreenCanvas(1,1),P=M.getContext("2d");P.fillRect(0,0,1,1);var H=M.transferToImageBitmap();P.createPattern(H,"no-repeat")}catch{return!1}return!0}();function l(){}function u(M){var P=n.exports.Promise,H=P!==void 0?P:e.Promise;return typeof H=="function"?new H(M):(M(l,l),null)}var f=function(M,P){return{transform:function(H){if(M)return H;if(P.has(H))return P.get(H);var z=new OffscreenCanvas(H.width,H.height),G=z.getContext("2d");return G.drawImage(H,0,0),P.set(H,z),z},clear:function(){P.clear()}}}(a,new Map),h=function(){var M=Math.floor(16.666666666666668),P,H,z={},G=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(P=function(Q){var ee=Math.random();return z[ee]=requestAnimationFrame(function X(Y){G===Y||G+M-1<Y?(G=Y,delete z[ee],Q()):z[ee]=requestAnimationFrame(X)}),ee},H=function(Q){z[Q]&&cancelAnimationFrame(z[Q])}):(P=function(Q){return setTimeout(Q,M)},H=function(Q){return clearTimeout(Q)}),{frame:P,cancel:H}}(),m=function(){var M,P,H={};function z(G){function Q(ee,X){G.postMessage({options:ee||{},callback:X})}G.init=function(X){var Y=X.transferControlToOffscreen();G.postMessage({canvas:Y},[Y])},G.fire=function(X,Y,ge){if(P)return Q(X,null),P;var Ce=Math.random().toString(36).slice(2);return P=u(function(Te){function Ee(Ne){Ne.data.callback===Ce&&(delete H[Ce],G.removeEventListener("message",Ee),P=null,f.clear(),ge(),Te())}G.addEventListener("message",Ee),Q(X,Ce),H[Ce]=Ee.bind(null,{data:{callback:Ce}})}),P},G.reset=function(){G.postMessage({reset:!0});for(var X in H)H[X](),delete H[X]}}return function(){if(M)return M;if(!r&&i){var G=["var CONFETTI, SIZE = {}, module = {};","("+t.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{M=new Worker(URL.createObjectURL(new Blob([G])))}catch(Q){return typeof console<"u"&&typeof console.warn=="function"&&console.warn(" Could not load worker",Q),null}z(M)}return M}}(),y={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function E(M,P){return P?P(M):M}function A(M){return M!=null}function S(M,P,H){return E(M&&A(M[P])?M[P]:y[P],H)}function v(M){return M<0?0:Math.floor(M)}function w(M,P){return Math.floor(Math.random()*(P-M))+M}function _(M){return parseInt(M,16)}function D(M){return M.map(V)}function V(M){var P=String(M).replace(/[^0-9a-f]/gi,"");return P.length<6&&(P=P[0]+P[0]+P[1]+P[1]+P[2]+P[2]),{r:_(P.substring(0,2)),g:_(P.substring(2,4)),b:_(P.substring(4,6))}}function O(M){var P=S(M,"origin",Object);return P.x=S(P,"x",Number),P.y=S(P,"y",Number),P}function T(M){M.width=document.documentElement.clientWidth,M.height=document.documentElement.clientHeight}function x(M){var P=M.getBoundingClientRect();M.width=P.width,M.height=P.height}function C(M){var P=document.createElement("canvas");return P.style.position="fixed",P.style.top="0px",P.style.left="0px",P.style.pointerEvents="none",P.style.zIndex=M,P}function I(M,P,H,z,G,Q,ee,X,Y){M.save(),M.translate(P,H),M.rotate(Q),M.scale(z,G),M.arc(0,0,1,ee,X,Y),M.restore()}function N(M){var P=M.angle*(Math.PI/180),H=M.spread*(Math.PI/180);return{x:M.x,y:M.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:M.startVelocity*.5+Math.random()*M.startVelocity,angle2D:-P+(.5*H-Math.random()*H),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:M.color,shape:M.shape,tick:0,totalTicks:M.ticks,decay:M.decay,drift:M.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:M.gravity*3,ovalScalar:.6,scalar:M.scalar,flat:M.flat}}function j(M,P){P.x+=Math.cos(P.angle2D)*P.velocity+P.drift,P.y+=Math.sin(P.angle2D)*P.velocity+P.gravity,P.velocity*=P.decay,P.flat?(P.wobble=0,P.wobbleX=P.x+10*P.scalar,P.wobbleY=P.y+10*P.scalar,P.tiltSin=0,P.tiltCos=0,P.random=1):(P.wobble+=P.wobbleSpeed,P.wobbleX=P.x+10*P.scalar*Math.cos(P.wobble),P.wobbleY=P.y+10*P.scalar*Math.sin(P.wobble),P.tiltAngle+=.1,P.tiltSin=Math.sin(P.tiltAngle),P.tiltCos=Math.cos(P.tiltAngle),P.random=Math.random()+2);var H=P.tick++/P.totalTicks,z=P.x+P.random*P.tiltCos,G=P.y+P.random*P.tiltSin,Q=P.wobbleX+P.random*P.tiltCos,ee=P.wobbleY+P.random*P.tiltSin;if(M.fillStyle="rgba("+P.color.r+", "+P.color.g+", "+P.color.b+", "+(1-H)+")",M.beginPath(),o&&P.shape.type==="path"&&typeof P.shape.path=="string"&&Array.isArray(P.shape.matrix))M.fill(ce(P.shape.path,P.shape.matrix,P.x,P.y,Math.abs(Q-z)*.1,Math.abs(ee-G)*.1,Math.PI/10*P.wobble));else if(P.shape.type==="bitmap"){var X=Math.PI/10*P.wobble,Y=Math.abs(Q-z)*.1,ge=Math.abs(ee-G)*.1,Ce=P.shape.bitmap.width*P.scalar,Te=P.shape.bitmap.height*P.scalar,Ee=new DOMMatrix([Math.cos(X)*Y,Math.sin(X)*Y,-Math.sin(X)*ge,Math.cos(X)*ge,P.x,P.y]);Ee.multiplySelf(new DOMMatrix(P.shape.matrix));var Ne=M.createPattern(f.transform(P.shape.bitmap),"no-repeat");Ne.setTransform(Ee),M.globalAlpha=1-H,M.fillStyle=Ne,M.fillRect(P.x-Ce/2,P.y-Te/2,Ce,Te),M.globalAlpha=1}else if(P.shape==="circle")M.ellipse?M.ellipse(P.x,P.y,Math.abs(Q-z)*P.ovalScalar,Math.abs(ee-G)*P.ovalScalar,Math.PI/10*P.wobble,0,2*Math.PI):I(M,P.x,P.y,Math.abs(Q-z)*P.ovalScalar,Math.abs(ee-G)*P.ovalScalar,Math.PI/10*P.wobble,0,2*Math.PI);else if(P.shape==="star")for(var fe=Math.PI/2*3,$e=4*P.scalar,ft=8*P.scalar,Ze=P.x,Bt=P.y,be=5,Pe=Math.PI/be;be--;)Ze=P.x+Math.cos(fe)*ft,Bt=P.y+Math.sin(fe)*ft,M.lineTo(Ze,Bt),fe+=Pe,Ze=P.x+Math.cos(fe)*$e,Bt=P.y+Math.sin(fe)*$e,M.lineTo(Ze,Bt),fe+=Pe;else M.moveTo(Math.floor(P.x),Math.floor(P.y)),M.lineTo(Math.floor(P.wobbleX),Math.floor(G)),M.lineTo(Math.floor(Q),Math.floor(ee)),M.lineTo(Math.floor(z),Math.floor(P.wobbleY));return M.closePath(),M.fill(),P.tick<P.totalTicks}function R(M,P,H,z,G){var Q=P.slice(),ee=M.getContext("2d"),X,Y,ge=u(function(Ce){function Te(){X=Y=null,ee.clearRect(0,0,z.width,z.height),f.clear(),G(),Ce()}function Ee(){r&&!(z.width===s.width&&z.height===s.height)&&(z.width=M.width=s.width,z.height=M.height=s.height),!z.width&&!z.height&&(H(M),z.width=M.width,z.height=M.height),ee.clearRect(0,0,z.width,z.height),Q=Q.filter(function(Ne){return j(ee,Ne)}),Q.length?X=h.frame(Ee):Te()}X=h.frame(Ee),Y=Te});return{addFettis:function(Ce){return Q=Q.concat(Ce),ge},canvas:M,promise:ge,reset:function(){X&&h.cancel(X),Y&&Y()}}}function pe(M,P){var H=!M,z=!!S(P||{},"resize"),G=!1,Q=S(P,"disableForReducedMotion",Boolean),ee=i&&!!S(P||{},"useWorker"),X=ee?m():null,Y=H?T:x,ge=M&&X?!!M.__confetti_initialized:!1,Ce=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,Te;function Ee(fe,$e,ft){for(var Ze=S(fe,"particleCount",v),Bt=S(fe,"angle",Number),be=S(fe,"spread",Number),Pe=S(fe,"startVelocity",Number),Hr=S(fe,"decay",Number),xt=S(fe,"gravity",Number),Rn=S(fe,"drift",Number),Oi=S(fe,"colors",D),pr=S(fe,"ticks",Number),Wn=S(fe,"shapes"),Li=S(fe,"scalar"),Wr=!!S(fe,"flat"),qr=O(fe),kn=Ze,mr=[],Pn=M.width*qr.x,gr=M.height*qr.y;kn--;)mr.push(N({x:Pn,y:gr,angle:Bt,spread:be,startVelocity:Pe,color:Oi[kn%Oi.length],shape:Wn[w(0,Wn.length)],ticks:pr,decay:Hr,gravity:xt,drift:Rn,scalar:Li,flat:Wr}));return Te?Te.addFettis(mr):(Te=R(M,mr,Y,$e,ft),Te.promise)}function Ne(fe){var $e=Q||S(fe,"disableForReducedMotion",Boolean),ft=S(fe,"zIndex",Number);if($e&&Ce)return u(function(Pe){Pe()});H&&Te?M=Te.canvas:H&&!M&&(M=C(ft),document.body.appendChild(M)),z&&!ge&&Y(M);var Ze={width:M.width,height:M.height};X&&!ge&&X.init(M),ge=!0,X&&(M.__confetti_initialized=!0);function Bt(){if(X){var Pe={getBoundingClientRect:function(){if(!H)return M.getBoundingClientRect()}};Y(Pe),X.postMessage({resize:{width:Pe.width,height:Pe.height}});return}Ze.width=Ze.height=null}function be(){Te=null,z&&(G=!1,e.removeEventListener("resize",Bt)),H&&M&&(document.body.contains(M)&&document.body.removeChild(M),M=null,ge=!1)}return z&&!G&&(G=!0,e.addEventListener("resize",Bt,!1)),X?X.fire(fe,Ze,be):Ee(fe,Ze,be)}return Ne.reset=function(){X&&X.reset(),Te&&Te.reset()},Ne}var Re;function he(){return Re||(Re=pe(null,{useWorker:!0,resize:!0})),Re}function ce(M,P,H,z,G,Q,ee){var X=new Path2D(M),Y=new Path2D;Y.addPath(X,new DOMMatrix(P));var ge=new Path2D;return ge.addPath(Y,new DOMMatrix([Math.cos(ee)*G,Math.sin(ee)*G,-Math.sin(ee)*Q,Math.cos(ee)*Q,H,z])),ge}function $(M){if(!o)throw new Error("path confetti are not supported in this browser");var P,H;typeof M=="string"?P=M:(P=M.path,H=M.matrix);var z=new Path2D(P),G=document.createElement("canvas"),Q=G.getContext("2d");if(!H){for(var ee=1e3,X=ee,Y=ee,ge=0,Ce=0,Te,Ee,Ne=0;Ne<ee;Ne+=2)for(var fe=0;fe<ee;fe+=2)Q.isPointInPath(z,Ne,fe,"nonzero")&&(X=Math.min(X,Ne),Y=Math.min(Y,fe),ge=Math.max(ge,Ne),Ce=Math.max(Ce,fe));Te=ge-X,Ee=Ce-Y;var $e=10,ft=Math.min($e/Te,$e/Ee);H=[ft,0,0,ft,-Math.round(Te/2+X)*ft,-Math.round(Ee/2+Y)*ft]}return{type:"path",path:P,matrix:H}}function Z(M){var P,H=1,z="#000000",G='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof M=="string"?P=M:(P=M.text,H="scalar"in M?M.scalar:H,G="fontFamily"in M?M.fontFamily:G,z="color"in M?M.color:z);var Q=10*H,ee=""+Q+"px "+G,X=new OffscreenCanvas(Q,Q),Y=X.getContext("2d");Y.font=ee;var ge=Y.measureText(P),Ce=Math.ceil(ge.actualBoundingBoxRight+ge.actualBoundingBoxLeft),Te=Math.ceil(ge.actualBoundingBoxAscent+ge.actualBoundingBoxDescent),Ee=2,Ne=ge.actualBoundingBoxLeft+Ee,fe=ge.actualBoundingBoxAscent+Ee;Ce+=Ee+Ee,Te+=Ee+Ee,X=new OffscreenCanvas(Ce,Te),Y=X.getContext("2d"),Y.font=ee,Y.fillStyle=z,Y.fillText(P,Ne,fe);var $e=1/H;return{type:"bitmap",bitmap:X.transferToImageBitmap(),matrix:[$e,0,0,$e,-Ce*$e/2,-Te*$e/2]}}n.exports=function(){return he().apply(this,arguments)},n.exports.reset=function(){he().reset()},n.exports.create=pe,n.exports.shapeFromPath=$,n.exports.shapeFromText=Z})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),rv,!1);const Cm=rv.exports;rv.exports.create;var X_;(function(t){t.STRING="string",t.NUMBER="number",t.INTEGER="integer",t.BOOLEAN="boolean",t.ARRAY="array",t.OBJECT="object"})(X_||(X_={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var J_;(function(t){t.LANGUAGE_UNSPECIFIED="language_unspecified",t.PYTHON="python"})(J_||(J_={}));var Z_;(function(t){t.OUTCOME_UNSPECIFIED="outcome_unspecified",t.OUTCOME_OK="outcome_ok",t.OUTCOME_FAILED="outcome_failed",t.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(Z_||(Z_={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eE=["user","model","function","system"];var tE;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(tE||(tE={}));var nE;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(nE||(nE={}));var rE;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(rE||(rE={}));var sE;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER"})(sE||(sE={}));var il;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.OTHER="OTHER"})(il||(il={}));var iE;(function(t){t.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",t.RETRIEVAL_QUERY="RETRIEVAL_QUERY",t.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",t.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",t.CLASSIFICATION="CLASSIFICATION",t.CLUSTERING="CLUSTERING"})(iE||(iE={}));var oE;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE"})(oE||(oE={}));var aE;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(aE||(aE={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt extends Error{constructor(e){super(`[GoogleGenerativeAI Error]: ${e}`)}}class Hi extends Vt{constructor(e,n){super(e),this.response=n}}class nA extends Vt{constructor(e,n,r,s){super(e),this.status=n,this.statusText=r,this.errorDetails=s}}class Cs extends Vt{}class rA extends Vt{}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A9="https://generativelanguage.googleapis.com",R9="v1beta",k9="0.24.1",P9="genai-js";var Pi;(function(t){t.GENERATE_CONTENT="generateContent",t.STREAM_GENERATE_CONTENT="streamGenerateContent",t.COUNT_TOKENS="countTokens",t.EMBED_CONTENT="embedContent",t.BATCH_EMBED_CONTENTS="batchEmbedContents"})(Pi||(Pi={}));class N9{constructor(e,n,r,s,i){this.model=e,this.task=n,this.apiKey=r,this.stream=s,this.requestOptions=i}toString(){var e,n;const r=((e=this.requestOptions)===null||e===void 0?void 0:e.apiVersion)||R9;let i=`${((n=this.requestOptions)===null||n===void 0?void 0:n.baseUrl)||A9}/${r}/${this.model}:${this.task}`;return this.stream&&(i+="?alt=sse"),i}}function D9(t){const e=[];return t!=null&&t.apiClient&&e.push(t.apiClient),e.push(`${P9}/${k9}`),e.join(" ")}async function M9(t){var e;const n=new Headers;n.append("Content-Type","application/json"),n.append("x-goog-api-client",D9(t.requestOptions)),n.append("x-goog-api-key",t.apiKey);let r=(e=t.requestOptions)===null||e===void 0?void 0:e.customHeaders;if(r){if(!(r instanceof Headers))try{r=new Headers(r)}catch(s){throw new Cs(`unable to convert customHeaders value ${JSON.stringify(r)} to Headers: ${s.message}`)}for(const[s,i]of r.entries()){if(s==="x-goog-api-key")throw new Cs(`Cannot set reserved header name ${s}`);if(s==="x-goog-api-client")throw new Cs(`Header name ${s} can only be set using the apiClient field`);n.append(s,i)}}return n}async function j9(t,e,n,r,s,i){const o=new N9(t,e,n,r,i);return{url:o.toString(),fetchOptions:Object.assign(Object.assign({},F9(i)),{method:"POST",headers:await M9(o),body:s})}}async function mc(t,e,n,r,s,i={},o=fetch){const{url:a,fetchOptions:l}=await j9(t,e,n,r,s,i);return V9(a,l,o)}async function V9(t,e,n=fetch){let r;try{r=await n(t,e)}catch(s){O9(s,t)}return r.ok||await L9(r,t),r}function O9(t,e){let n=t;throw n.name==="AbortError"?(n=new rA(`Request aborted when fetching ${e.toString()}: ${t.message}`),n.stack=t.stack):t instanceof nA||t instanceof Cs||(n=new Vt(`Error fetching from ${e.toString()}: ${t.message}`),n.stack=t.stack),n}async function L9(t,e){let n="",r;try{const s=await t.json();n=s.error.message,s.error.details&&(n+=` ${JSON.stringify(s.error.details)}`,r=s.error.details)}catch{}throw new nA(`Error fetching from ${e.toString()}: [${t.status} ${t.statusText}] ${n}`,t.status,t.statusText,r)}function F9(t){const e={};if((t==null?void 0:t.signal)!==void 0||(t==null?void 0:t.timeout)>=0){const n=new AbortController;(t==null?void 0:t.timeout)>=0&&setTimeout(()=>n.abort(),t.timeout),t!=null&&t.signal&&t.signal.addEventListener("abort",()=>{n.abort()}),e.signal=n.signal}return e}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sv(t){return t.text=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),Pu(t.candidates[0]))throw new Hi(`${is(t)}`,t);return U9(t)}else if(t.promptFeedback)throw new Hi(`Text not available. ${is(t)}`,t);return""},t.functionCall=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),Pu(t.candidates[0]))throw new Hi(`${is(t)}`,t);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),lE(t)[0]}else if(t.promptFeedback)throw new Hi(`Function call not available. ${is(t)}`,t)},t.functionCalls=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),Pu(t.candidates[0]))throw new Hi(`${is(t)}`,t);return lE(t)}else if(t.promptFeedback)throw new Hi(`Function call not available. ${is(t)}`,t)},t}function U9(t){var e,n,r,s;const i=[];if(!((n=(e=t.candidates)===null||e===void 0?void 0:e[0].content)===null||n===void 0)&&n.parts)for(const o of(s=(r=t.candidates)===null||r===void 0?void 0:r[0].content)===null||s===void 0?void 0:s.parts)o.text&&i.push(o.text),o.executableCode&&i.push("\n```"+o.executableCode.language+`
`+o.executableCode.code+"\n```\n"),o.codeExecutionResult&&i.push("\n```\n"+o.codeExecutionResult.output+"\n```\n");return i.length>0?i.join(""):""}function lE(t){var e,n,r,s;const i=[];if(!((n=(e=t.candidates)===null||e===void 0?void 0:e[0].content)===null||n===void 0)&&n.parts)for(const o of(s=(r=t.candidates)===null||r===void 0?void 0:r[0].content)===null||s===void 0?void 0:s.parts)o.functionCall&&i.push(o.functionCall);if(i.length>0)return i}const B9=[il.RECITATION,il.SAFETY,il.LANGUAGE];function Pu(t){return!!t.finishReason&&B9.includes(t.finishReason)}function is(t){var e,n,r;let s="";if((!t.candidates||t.candidates.length===0)&&t.promptFeedback)s+="Response was blocked",!((e=t.promptFeedback)===null||e===void 0)&&e.blockReason&&(s+=` due to ${t.promptFeedback.blockReason}`),!((n=t.promptFeedback)===null||n===void 0)&&n.blockReasonMessage&&(s+=`: ${t.promptFeedback.blockReasonMessage}`);else if(!((r=t.candidates)===null||r===void 0)&&r[0]){const i=t.candidates[0];Pu(i)&&(s+=`Candidate was blocked due to ${i.finishReason}`,i.finishMessage&&(s+=`: ${i.finishMessage}`))}return s}function $l(t){return this instanceof $l?(this.v=t,this):new $l(t)}function z9(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),s,i=[];return s={},o("next"),o("throw"),o("return"),s[Symbol.asyncIterator]=function(){return this},s;function o(m){r[m]&&(s[m]=function(y){return new Promise(function(E,A){i.push([m,y,E,A])>1||a(m,y)})})}function a(m,y){try{l(r[m](y))}catch(E){h(i[0][3],E)}}function l(m){m.value instanceof $l?Promise.resolve(m.value.v).then(u,f):h(i[0][2],m)}function u(m){a("next",m)}function f(m){a("throw",m)}function h(m,y){m(y),i.shift(),i.length&&a(i[0][0],i[0][1])}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cE=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function $9(t){const e=t.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),n=q9(e),[r,s]=n.tee();return{stream:W9(r),response:H9(s)}}async function H9(t){const e=[],n=t.getReader();for(;;){const{done:r,value:s}=await n.read();if(r)return sv(G9(e));e.push(s)}}function W9(t){return z9(this,arguments,function*(){const n=t.getReader();for(;;){const{value:r,done:s}=yield $l(n.read());if(s)break;yield yield $l(sv(r))}})}function q9(t){const e=t.getReader();return new ReadableStream({start(r){let s="";return i();function i(){return e.read().then(({value:o,done:a})=>{if(a){if(s.trim()){r.error(new Vt("Failed to parse stream"));return}r.close();return}s+=o;let l=s.match(cE),u;for(;l;){try{u=JSON.parse(l[1])}catch{r.error(new Vt(`Error parsing JSON response: "${l[1]}"`));return}r.enqueue(u),s=s.substring(l[0].length),l=s.match(cE)}return i()}).catch(o=>{let a=o;throw a.stack=o.stack,a.name==="AbortError"?a=new rA("Request aborted when reading from the stream"):a=new Vt("Error reading from the stream"),a})}}})}function G9(t){const e=t[t.length-1],n={promptFeedback:e==null?void 0:e.promptFeedback};for(const r of t){if(r.candidates){let s=0;for(const i of r.candidates)if(n.candidates||(n.candidates=[]),n.candidates[s]||(n.candidates[s]={index:s}),n.candidates[s].citationMetadata=i.citationMetadata,n.candidates[s].groundingMetadata=i.groundingMetadata,n.candidates[s].finishReason=i.finishReason,n.candidates[s].finishMessage=i.finishMessage,n.candidates[s].safetyRatings=i.safetyRatings,i.content&&i.content.parts){n.candidates[s].content||(n.candidates[s].content={role:i.content.role||"user",parts:[]});const o={};for(const a of i.content.parts)a.text&&(o.text=a.text),a.functionCall&&(o.functionCall=a.functionCall),a.executableCode&&(o.executableCode=a.executableCode),a.codeExecutionResult&&(o.codeExecutionResult=a.codeExecutionResult),Object.keys(o).length===0&&(o.text=""),n.candidates[s].content.parts.push(o)}s++}r.usageMetadata&&(n.usageMetadata=r.usageMetadata)}return n}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sA(t,e,n,r){const s=await mc(e,Pi.STREAM_GENERATE_CONTENT,t,!0,JSON.stringify(n),r);return $9(s)}async function iA(t,e,n,r){const i=await(await mc(e,Pi.GENERATE_CONTENT,t,!1,JSON.stringify(n),r)).json();return{response:sv(i)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oA(t){if(t!=null){if(typeof t=="string")return{role:"system",parts:[{text:t}]};if(t.text)return{role:"system",parts:[t]};if(t.parts)return t.role?t:{role:"system",parts:t.parts}}}function Hl(t){let e=[];if(typeof t=="string")e=[{text:t}];else for(const n of t)typeof n=="string"?e.push({text:n}):e.push(n);return K9(e)}function K9(t){const e={role:"user",parts:[]},n={role:"function",parts:[]};let r=!1,s=!1;for(const i of t)"functionResponse"in i?(n.parts.push(i),s=!0):(e.parts.push(i),r=!0);if(r&&s)throw new Vt("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!r&&!s)throw new Vt("No content is provided for sending chat message.");return r?e:n}function Q9(t,e){var n;let r={model:e==null?void 0:e.model,generationConfig:e==null?void 0:e.generationConfig,safetySettings:e==null?void 0:e.safetySettings,tools:e==null?void 0:e.tools,toolConfig:e==null?void 0:e.toolConfig,systemInstruction:e==null?void 0:e.systemInstruction,cachedContent:(n=e==null?void 0:e.cachedContent)===null||n===void 0?void 0:n.name,contents:[]};const s=t.generateContentRequest!=null;if(t.contents){if(s)throw new Cs("CountTokensRequest must have one of contents or generateContentRequest, not both.");r.contents=t.contents}else if(s)r=Object.assign(Object.assign({},r),t.generateContentRequest);else{const i=Hl(t);r.contents=[i]}return{generateContentRequest:r}}function uE(t){let e;return t.contents?e=t:e={contents:[Hl(t)]},t.systemInstruction&&(e.systemInstruction=oA(t.systemInstruction)),e}function Y9(t){return typeof t=="string"||Array.isArray(t)?{content:Hl(t)}:t}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dE=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],X9={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function J9(t){let e=!1;for(const n of t){const{role:r,parts:s}=n;if(!e&&r!=="user")throw new Vt(`First content should be with role 'user', got ${r}`);if(!eE.includes(r))throw new Vt(`Each item should include role field. Got ${r} but valid roles are: ${JSON.stringify(eE)}`);if(!Array.isArray(s))throw new Vt("Content should have 'parts' property with an array of Parts");if(s.length===0)throw new Vt("Each Content should have at least one part");const i={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const a of s)for(const l of dE)l in a&&(i[l]+=1);const o=X9[r];for(const a of dE)if(!o.includes(a)&&i[a]>0)throw new Vt(`Content with role '${r}' can't contain '${a}' part`);e=!0}}function hE(t){var e;if(t.candidates===void 0||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;if(n===void 0||n.parts===void 0||n.parts.length===0)return!1;for(const r of n.parts)if(r===void 0||Object.keys(r).length===0||r.text!==void 0&&r.text==="")return!1;return!0}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fE="SILENT_ERROR";class Z9{constructor(e,n,r,s={}){this.model=n,this.params=r,this._requestOptions=s,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=e,r!=null&&r.history&&(J9(r.history),this._history=r.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(e,n={}){var r,s,i,o,a,l;await this._sendPromise;const u=Hl(e),f={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(s=this.params)===null||s===void 0?void 0:s.generationConfig,tools:(i=this.params)===null||i===void 0?void 0:i.tools,toolConfig:(o=this.params)===null||o===void 0?void 0:o.toolConfig,systemInstruction:(a=this.params)===null||a===void 0?void 0:a.systemInstruction,cachedContent:(l=this.params)===null||l===void 0?void 0:l.cachedContent,contents:[...this._history,u]},h=Object.assign(Object.assign({},this._requestOptions),n);let m;return this._sendPromise=this._sendPromise.then(()=>iA(this._apiKey,this.model,f,h)).then(y=>{var E;if(hE(y.response)){this._history.push(u);const A=Object.assign({parts:[],role:"model"},(E=y.response.candidates)===null||E===void 0?void 0:E[0].content);this._history.push(A)}else{const A=is(y.response);A&&console.warn(`sendMessage() was unsuccessful. ${A}. Inspect response object for details.`)}m=y}).catch(y=>{throw this._sendPromise=Promise.resolve(),y}),await this._sendPromise,m}async sendMessageStream(e,n={}){var r,s,i,o,a,l;await this._sendPromise;const u=Hl(e),f={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(s=this.params)===null||s===void 0?void 0:s.generationConfig,tools:(i=this.params)===null||i===void 0?void 0:i.tools,toolConfig:(o=this.params)===null||o===void 0?void 0:o.toolConfig,systemInstruction:(a=this.params)===null||a===void 0?void 0:a.systemInstruction,cachedContent:(l=this.params)===null||l===void 0?void 0:l.cachedContent,contents:[...this._history,u]},h=Object.assign(Object.assign({},this._requestOptions),n),m=sA(this._apiKey,this.model,f,h);return this._sendPromise=this._sendPromise.then(()=>m).catch(y=>{throw new Error(fE)}).then(y=>y.response).then(y=>{if(hE(y)){this._history.push(u);const E=Object.assign({},y.candidates[0].content);E.role||(E.role="model"),this._history.push(E)}else{const E=is(y);E&&console.warn(`sendMessageStream() was unsuccessful. ${E}. Inspect response object for details.`)}}).catch(y=>{y.message!==fE&&console.error(y)}),m}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eU(t,e,n,r){return(await mc(e,Pi.COUNT_TOKENS,t,!1,JSON.stringify(n),r)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tU(t,e,n,r){return(await mc(e,Pi.EMBED_CONTENT,t,!1,JSON.stringify(n),r)).json()}async function nU(t,e,n,r){const s=n.requests.map(o=>Object.assign(Object.assign({},o),{model:e}));return(await mc(e,Pi.BATCH_EMBED_CONTENTS,t,!1,JSON.stringify({requests:s}),r)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pE{constructor(e,n,r={}){this.apiKey=e,this._requestOptions=r,n.model.includes("/")?this.model=n.model:this.model=`models/${n.model}`,this.generationConfig=n.generationConfig||{},this.safetySettings=n.safetySettings||[],this.tools=n.tools,this.toolConfig=n.toolConfig,this.systemInstruction=oA(n.systemInstruction),this.cachedContent=n.cachedContent}async generateContent(e,n={}){var r;const s=uE(e),i=Object.assign(Object.assign({},this._requestOptions),n);return iA(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},s),i)}async generateContentStream(e,n={}){var r;const s=uE(e),i=Object.assign(Object.assign({},this._requestOptions),n);return sA(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},s),i)}startChat(e){var n;return new Z9(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(n=this.cachedContent)===null||n===void 0?void 0:n.name},e),this._requestOptions)}async countTokens(e,n={}){const r=Q9(e,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),s=Object.assign(Object.assign({},this._requestOptions),n);return eU(this.apiKey,this.model,r,s)}async embedContent(e,n={}){const r=Y9(e),s=Object.assign(Object.assign({},this._requestOptions),n);return tU(this.apiKey,this.model,r,s)}async batchEmbedContents(e,n={}){const r=Object.assign(Object.assign({},this._requestOptions),n);return nU(this.apiKey,this.model,e,r)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rU{constructor(e){this.apiKey=e}getGenerativeModel(e,n){if(!e.model)throw new Vt("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new pE(this.apiKey,e,n)}getGenerativeModelFromCachedContent(e,n,r){if(!e.name)throw new Cs("Cached content must contain a `name` field.");if(!e.model)throw new Cs("Cached content must contain a `model` field.");const s=["model","systemInstruction"];for(const o of s)if(n!=null&&n[o]&&e[o]&&(n==null?void 0:n[o])!==e[o]){if(o==="model"){const a=n.model.startsWith("models/")?n.model.replace("models/",""):n.model,l=e.model.startsWith("models/")?e.model.replace("models/",""):e.model;if(a===l)continue}throw new Cs(`Different value for "${o}" specified in modelParams (${n[o]}) and cachedContent (${e[o]})`)}const i=Object.assign(Object.assign({},n),{model:e.model,tools:e.tools,toolConfig:e.toolConfig,systemInstruction:e.systemInstruction,cachedContent:e});return new pE(this.apiKey,i,r)}}const mE=new rU("AIzaSyAFo1Hq5LuuaqkKLzZgUOl3PTtKk_cagVc"),Ff="models/gemini-3-pro-preview",Uf="models/gemini-2.5-flash-image";async function sU(t,e=1080){return new Promise((n,r)=>{const s=new Image,i=document.createElement("canvas"),o=i.getContext("2d");if(!o){r(new Error("Canvas context not available"));return}s.onload=()=>{const a=Math.min(s.width,s.height),l=(s.width-a)/2,u=(s.height-a)/2;i.width=e,i.height=e,o.drawImage(s,l,u,a,a,0,0,e,e),i.toBlob(f=>{f?n(new File([f],t.name,{type:"image/jpeg",lastModified:Date.now()})):r(new Error("Failed to create blob"))},"image/jpeg",.95)},s.onerror=()=>r(new Error("Failed to load image")),s.src=URL.createObjectURL(t)})}function iU(t){return new Promise((e,n)=>{const r=new FileReader;r.readAsDataURL(t),r.onload=()=>{const s=r.result;e(s.split(",")[1])},r.onerror=s=>n(s)})}function oU(t,e,n){const r={rustico:"rustic wooden table",gourmet:"white marble surface",dark:"dark matte black surface",domingo:"bright white with morning sunlight",marble:"luxurious black onyx marble",neon:"reflective surface with neon lights"},s={top:"90 flat lay top-down",diagonal:"45 diner's perspective",front:"eye-level hero shot",macro:"extreme close-up macro"},i=n>70?"bright studio softbox lighting":n>40?"balanced natural lighting":"dramatic low-key shadows";return`Role: Food Photographer Expert.
Task: Enhance this request into a high-end food delivery photography prompt.
Context:
- Surface: ${r[t]||r.rustico}
- Camera Angle: ${s[e]||s.diagonal}  
- Lighting: ${i}
Technical Specs: 85mm lens, f/1.8, shallow DOF, 1080x1080 square, 8K quality.
Keywords: commercial food photography, appetizing, Michelin star presentation.
Output: Just the prompt in English. No explanations.`}async function aU(t){var s,i,o,a,l;console.log(" [Neural Engine v4.2] Iniciando...");const e=pc.getState(),n=Qi.currentUser;if(!n)return{success:!1,error:"Usurio no autenticado."};if(e.plan!=="PRO"&&e.credits<1)return{success:!1,error:"Crditos insuficientes. Faa um upgrade."};console.log(" Cobrana otimista (UI + Firestore)..."),e.decrementCredit();const r=po(mo,"users",n.uid);try{await Sm(r,{credits:K_(-1)}),console.log(" Crdito deduzido no Firestore")}catch(u){return console.error(" Erro ao deduzir crdito no Firestore:",u),e.refundCredit(),{success:!1,error:"Erro ao processar pagamento. Tente novamente."}}try{console.log(" Processando imagem 1080x1080...");const u=await sU(t.file,1080),f=await iU(u);console.log(` [Prompt Architect] Usando ${Ff}...`);const h=mE.getGenerativeModel({model:Ff}),m=oU(t.vibe,t.angle,t.lightIntensity||50),E=(await h.generateContent([{text:m},{inlineData:{mimeType:u.type,data:f}}])).response.text();console.log(" Prompt gerado:",E.substring(0,100)+"..."),console.log(` [Image Generator] Usando ${Uf}...`);const w=((o=(i=(s=(await mE.getGenerativeModel({model:Uf}).generateContent(E)).response.candidates)==null?void 0:s[0])==null?void 0:i.content)==null?void 0:o.parts)||[];let _;for(const D of w)if((l=(a=D.inlineData)==null?void 0:a.mimeType)!=null&&l.startsWith("image/")){_=`data:${D.inlineData.mimeType};base64,${D.inlineData.data}`;break}return _||(console.log(" Fallback para Pollinations..."),_=`https://image.pollinations.ai/prompt/${encodeURIComponent(E)}?model=flux-realism&width=1080&height=1080&nologo=true&seed=${Date.now()}`),console.log(" [Neural Engine] Gerao concluda!"),{success:!0,imageUrl:_,debugInfo:{usedModel:`${Ff} + ${Uf}`,promptGenerated:E}}}catch(u){console.error(" Erro na gerao:",u),console.log(" Rollback: Devolvendo crdito (UI + Firestore)..."),e.refundCredit();try{await Sm(r,{credits:K_(1)}),console.log(" Crdito devolvido no Firestore")}catch(f){console.error(" Erro crtico ao estornar crdito:",f)}return{success:!1,error:u.message||"Erro na Engine Neural. Tente novamente."}}}function lU({isOpen:t,onClose:e}){const n=pc(s=>s.userId);zs();const r=s=>{let i;s==="starter"?i="https://pay.kirvano.com/30cef9d1-c08e-49ed-b361-2862f182485f":i="https://pay.kirvano.com/b26facd0-9585-4b17-8b68-d58aaf659939";const o=n?`${i}?external_id=${n}`:i;window.open(o,"_blank")};return d.jsx(bl,{children:t&&d.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 md:p-6",children:[d.jsx(ie.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e,className:"absolute inset-0 bg-black/90 backdrop-blur-md"}),d.jsxs(ie.div,{initial:{scale:.9,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.9,opacity:0,y:20},className:"relative w-full max-w-6xl bg-[#0a0a0a] border border-white/10 rounded-[3rem] overflow-hidden shadow-[0_0_100px_rgba(255,94,0,0.3)] max-h-[90vh] overflow-y-auto",children:[d.jsx("div",{className:"absolute top-0 inset-x-0 h-60 bg-gradient-to-b from-primary/20 via-primary/5 to-transparent pointer-events-none"}),d.jsx("button",{onClick:e,className:"absolute top-6 right-6 p-3 hover:bg-white/5 rounded-full text-white/40 hover:text-white transition-colors z-10",children:d.jsx(uy,{className:"w-6 h-6"})}),d.jsxs("div",{className:"p-8 md:p-12 pt-20 relative z-10",children:[d.jsxs("div",{className:"text-center mb-12",children:[d.jsx("div",{className:"w-20 h-20 bg-primary rounded-3xl flex items-center justify-center mb-6 shadow-2xl shadow-primary/40 rotate-12 mx-auto",children:d.jsx(_t,{className:"w-10 h-10 text-white fill-current"})}),d.jsxs("h2",{className:"text-4xl md:text-6xl font-black italic tracking-tighter uppercase mb-4",children:["Escolha Seu ",d.jsx("span",{className:"text-primary",children:"Arsenal"})]}),d.jsx("p",{className:"text-white/50 font-medium text-lg max-w-2xl mx-auto",children:"De teste gratuito a domnio total do delivery. Voc escolhe o ritmo."})]}),d.jsxs("div",{className:"grid md:grid-cols-3 gap-6 mb-8",children:[d.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-3xl p-8 flex flex-col",children:[d.jsxs("div",{className:"mb-6",children:[d.jsx("span",{className:"text-[10px] font-black uppercase tracking-[0.4em] text-white/30",children:"Teste Grtis"}),d.jsx("h3",{className:"text-2xl font-black mt-2 mb-1 italic uppercase",children:"Degustao"})]}),d.jsxs("div",{className:"mb-6",children:[d.jsx("div",{className:"text-5xl font-black tracking-tight mb-1 italic",children:"R$ 0"}),d.jsx("p",{className:"text-xs font-bold text-white/40",children:"Sem carto  Sem compromisso"})]}),d.jsxs("ul",{className:"space-y-2 mb-8 flex-grow text-sm font-medium text-white/50",children:[d.jsxs("li",{className:"flex gap-2 items-start",children:[d.jsx(er,{className:"w-4 h-4 text-white/20 shrink-0 mt-0.5"}),d.jsxs("span",{children:[d.jsx("span",{className:"text-white font-bold",children:"1 Crdito"})," para testar"]})]}),d.jsxs("li",{className:"flex gap-2 items-start",children:[d.jsx(er,{className:"w-4 h-4 text-white/20 shrink-0 mt-0.5"}),"Baixa Resoluo (720p)"]}),d.jsxs("li",{className:"flex gap-2 items-start",children:[d.jsx(er,{className:"w-4 h-4 text-white/20 shrink-0 mt-0.5"}),"Com Marca d'gua"]}),d.jsxs("li",{className:"flex gap-2 items-start",children:[d.jsx(er,{className:"w-4 h-4 text-white/20 shrink-0 mt-0.5"}),"1 Estilo disponvel"]})]}),d.jsx(Fn,{to:"/app",onClick:e,className:"mt-auto",children:d.jsx("button",{className:"w-full py-4 rounded-2xl border-2 border-white/10 font-black hover:bg-white/5 transition-all uppercase tracking-widest text-xs",children:"Testar Agora"})})]}),d.jsxs("div",{className:"bg-gradient-to-br from-blue-500/10 to-blue-600/5 border-2 border-blue-500/30 rounded-3xl p-8 flex flex-col relative",children:[d.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2 bg-blue-500 text-white px-4 py-1 rounded-full font-black text-[10px] tracking-widest uppercase",children:"Ideal Cardpios Pequenos"}),d.jsxs("div",{className:"mb-6 mt-2",children:[d.jsx("span",{className:"text-[10px] font-black uppercase tracking-[0.4em] text-blue-400",children:"Pagamento nico"}),d.jsx("h3",{className:"text-2xl font-black mt-2 mb-1 italic uppercase",children:"Pack Delivery"})]}),d.jsxs("div",{className:"mb-6",children:[d.jsxs("div",{className:"flex items-baseline gap-2 mb-1",children:[d.jsx("span",{className:"text-5xl font-black tracking-tight italic",children:"R$ 97"}),d.jsx("span",{className:"text-lg font-bold text-white/40",children:"/ms"})]}),d.jsx("p",{className:"text-sm font-bold text-blue-400",children:"15 Crditos Mensais"}),d.jsx("p",{className:"text-xs font-black text-white/30 mt-1",children:"(Acumulativos)  R$ 6,40/foto"})]}),d.jsxs("ul",{className:"space-y-2 mb-8 flex-grow text-sm font-medium",children:[d.jsxs("li",{className:"flex gap-2 items-start",children:[d.jsx(ai,{className:"w-4 h-4 text-blue-400 fill-current shrink-0 mt-0.5"}),d.jsx("span",{className:"text-white font-bold",children:"15 Crditos"})]}),d.jsxs("li",{className:"flex gap-2 items-start",children:[d.jsx(ai,{className:"w-4 h-4 text-blue-400 fill-current shrink-0 mt-0.5"}),"Full HD (1080p)"]}),d.jsxs("li",{className:"flex gap-2 items-start",children:[d.jsx(ai,{className:"w-4 h-4 text-blue-400 fill-current shrink-0 mt-0.5"}),"Sem Marca d'gua"]}),d.jsxs("li",{className:"flex gap-2 items-start",children:[d.jsx(ai,{className:"w-4 h-4 text-blue-400 fill-current shrink-0 mt-0.5"}),"Todos os Estilos Pro"]}),d.jsxs("li",{className:"flex gap-2 items-start",children:[d.jsx(ai,{className:"w-4 h-4 text-blue-400 fill-current shrink-0 mt-0.5"}),"Suporte via Email"]})]}),d.jsx("button",{onClick:()=>r("starter"),className:"w-full py-5 rounded-2xl bg-blue-500 hover:bg-blue-600 font-black text-white shadow-xl shadow-blue-500/30 uppercase tracking-tighter text-base transition-all hover:scale-[1.02] active:scale-95 mt-auto",children:"Comprar Pack"})]}),d.jsxs("div",{className:"bg-gradient-to-br from-primary/20 to-orange-600/10 border-2 border-primary rounded-3xl p-8 flex flex-col relative overflow-hidden transform scale-105",children:[d.jsx("div",{className:"absolute top-0 right-0 bg-primary text-white px-6 py-2 rounded-bl-3xl font-black text-[10px] tracking-widest uppercase italic",children:"MAIS VENDIDO"}),d.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-gradient-to-br from-primary/5 to-transparent pointer-events-none"}),d.jsxs("div",{className:"mb-6 mt-6 relative z-10",children:[d.jsx("span",{className:"text-[10px] font-black uppercase tracking-[0.4em] text-primary",children:"Emprata Neural Engine"}),d.jsx("h3",{className:"text-2xl font-black mt-2 mb-1 italic uppercase",children:"Franquia / Pro"})]}),d.jsxs("div",{className:"mb-6 relative z-10",children:[d.jsxs("div",{className:"flex items-baseline gap-2 mb-1",children:[d.jsx("span",{className:"text-5xl font-black tracking-tight italic",children:"R$ 197"}),d.jsx("span",{className:"text-lg font-bold text-white/40",children:"/ms"})]}),d.jsx("p",{className:"text-sm font-bold text-primary",children:"50 Crditos Mensais + Vibes PRO"}),d.jsx("p",{className:"text-xs font-black text-white/30 mt-1",children:"(Acumulativos)  R$ 3,90/foto "})]}),d.jsx("div",{className:"bg-primary/10 border border-primary/20 rounded-xl p-3 mb-6 relative z-10",children:d.jsx("p",{className:"text-xs font-black text-primary uppercase tracking-wide text-center",children:" Recomendado para Dark Kitchens"})}),d.jsxs("ul",{className:"space-y-2 mb-8 flex-grow text-sm font-medium relative z-10",children:[d.jsxs("li",{className:"flex gap-2 items-start",children:[d.jsx(ii,{className:"w-4 h-4 text-primary fill-current shrink-0 mt-0.5"}),d.jsx("span",{className:"text-white font-bold",children:"50 Crditos Premium"})]}),d.jsxs("li",{className:"flex gap-2 items-start",children:[d.jsx(ii,{className:"w-4 h-4 text-primary fill-current shrink-0 mt-0.5"}),"4K Ultra HD"]}),d.jsxs("li",{className:"flex gap-2 items-start",children:[d.jsx(ii,{className:"w-4 h-4 text-primary fill-current shrink-0 mt-0.5"}),"Sem Marca d'gua"]}),d.jsxs("li",{className:"flex gap-2 items-start",children:[d.jsx(ii,{className:"w-4 h-4 text-primary fill-current shrink-0 mt-0.5"}),"Estilos Exclusivos"]}),d.jsxs("li",{className:"flex gap-2 items-start",children:[d.jsx(ii,{className:"w-4 h-4 text-primary fill-current shrink-0 mt-0.5"}),"Suporte WhatsApp"]}),d.jsxs("li",{className:"flex gap-2 items-start",children:[d.jsx(ii,{className:"w-4 h-4 text-primary fill-current shrink-0 mt-0.5"}),"Processamento Rpido"]})]}),d.jsxs("button",{onClick:()=>r("pro"),className:"w-full py-5 rounded-2xl bg-primary hover:bg-orange-600 font-black text-white shadow-xl shadow-primary/40 uppercase tracking-tighter text-base transition-all hover:scale-[1.02] active:scale-95 mt-auto relative z-10",children:[d.jsx(Z4,{className:"w-5 h-5 inline-block mr-2 fill-current"}),"Quero Lucro Mximo"]})]})]}),d.jsx("p",{className:"text-center text-xs font-black uppercase tracking-widest text-white/20 mt-8",children:"Pagamento 100% Seguro  Processado pela Kirvano"})]})]})]})})}function cU({}){const[t,e]=k.useState(!1),n=k.useRef(null),{user:r,userData:s,signOut:i}=$r(),o=zs();k.useEffect(()=>{const f=h=>{n.current&&!n.current.contains(h.target)&&e(!1)};return document.addEventListener("mousedown",f),()=>document.removeEventListener("mousedown",f)},[]);const a=()=>{o("/profile"),e(!1)},l=async()=>{await i(),o("/"),e(!1)},u=()=>s!=null&&s.name?s.name.charAt(0).toUpperCase():r!=null&&r.email?r.email.charAt(0).toUpperCase():"U";return d.jsxs("div",{className:"relative",ref:n,children:[d.jsxs("button",{onClick:()=>e(!t),className:"flex items-center gap-2 px-3 py-2 rounded-xl bg-white/5 hover:bg-white/10 border border-white/10 transition-all group",children:[d.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-primary to-orange-600 flex items-center justify-center text-sm font-black",children:r!=null&&r.photoURL?d.jsx("img",{src:r.photoURL,alt:"Avatar",className:"w-full h-full rounded-full object-cover"}):d.jsx("span",{children:u()})}),d.jsx("span",{className:"hidden md:block text-sm font-bold text-white/80 max-w-[120px] truncate",children:(s==null?void 0:s.name)||"Usurio"}),d.jsx(L4,{className:`w-4 h-4 text-white/40 transition-transform ${t?"rotate-180":""}`})]}),d.jsx(bl,{children:t&&d.jsxs(ie.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.15},className:"absolute right-0 mt-2 w-56 bg-zinc-900 border border-white/10 rounded-2xl shadow-2xl overflow-hidden z-50",children:[d.jsxs("div",{className:"p-4 border-b border-white/10 bg-white/5",children:[d.jsx("p",{className:"text-sm font-bold text-white truncate",children:(s==null?void 0:s.name)||"Usurio"}),d.jsx("p",{className:"text-xs text-white/40 font-medium truncate",children:r==null?void 0:r.email})]}),d.jsxs("div",{className:"py-2",children:[d.jsxs("button",{onClick:a,className:"w-full px-4 py-3 flex items-center gap-3 hover:bg-white/5 transition-colors text-left",children:[d.jsx(PI,{className:"w-4 h-4 text-white/60"}),d.jsx("span",{className:"text-sm font-bold text-white",children:"Meu Perfil"})]}),d.jsxs("button",{onClick:l,className:"w-full px-4 py-3 flex items-center gap-3 hover:bg-red-500/10 transition-colors text-left border-t border-white/5",children:[d.jsx(kI,{className:"w-4 h-4 text-red-400"}),d.jsx("span",{className:"text-sm font-bold text-red-400",children:"Sair"})]})]})]})})]})}function uU(){const[t,e]=k.useState(!1),[n,r]=k.useState(null);return{downloadImage:async(i,o)=>{try{e(!0),r(null);const a=document.createElement("canvas");a.width=1080,a.height=1080;const l=a.getContext("2d");if(!l)throw new Error("Canvas context not available");const u=await dU(i);hU(l,u,a.width,a.height),o==="FREE"&&fU(l,a.width,a.height),await pU(a,"emprata_resultado.jpg")}catch(a){throw console.error("Download error:",a),r("Erro ao baixar imagem. Tente novamente."),a}finally{e(!1)}},isDownloading:t,error:n}}function dU(t){return new Promise((e,n)=>{const r=new Image;r.crossOrigin="anonymous",r.onload=()=>e(r),r.onerror=()=>n(new Error("Failed to load image")),r.src=t})}function hU(t,e,n,r){const s=e.width/e.height,i=n/r;let o=0,a=0,l=e.width,u=e.height;s>i?(l=e.height*i,o=(e.width-l)/2):(u=e.width/i,a=(e.height-u)/2),t.drawImage(e,o,a,l,u,0,0,n,r)}function fU(t,e,n){t.save(),t.translate(e/2,n/2),t.rotate(-Math.PI/4),t.font="bold 80px sans-serif",t.fillStyle="rgba(255, 255, 255, 0.3)",t.textAlign="center",t.textBaseline="middle",t.fillText("EMPRATA.AI - FREE",0,0),t.restore(),t.save();const r=40,s=30;t.font=`bold ${r}px sans-serif`,t.fillStyle="rgba(255, 94, 0, 0.6)",t.strokeStyle="rgba(0, 0, 0, 0.5)",t.lineWidth=3,t.textAlign="right",t.textBaseline="bottom";const i="Emprata.ai";t.strokeText(i,e-s,n-s),t.fillText(i,e-s,n-s),t.restore()}function pU(t,e){return new Promise((n,r)=>{t.toBlob(s=>{if(!s){r(new Error("Failed to create blob"));return}const i=URL.createObjectURL(s),o=document.createElement("a");o.href=i,o.download=e,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(i),n()},"image/jpeg",.95)})}const mU=[{id:"rustico",name:"Mesa Rstica",image:"https://images.unsplash.com/photo-1547592166-23ac45744acd?w=200&h=200&fit=crop&q=80",isPro:!1,promptKeyword:"rustic wooden table, natural lighting, artisanal presentation",description:"Madeira natural, iluminao suave, estilo caseiro"},{id:"gourmet",name:"Mrmore Clean",image:"https://images.unsplash.com/photo-1615799998603-7c6270a45196?w=200&h=200&fit=crop&q=80",isPro:!1,promptKeyword:"white marble surface, minimalist, clean aesthetic, soft shadows",description:"Mrmore branco, minimalista, sombras suaves"},{id:"dark",name:"Moody Dark",image:"https://images.unsplash.com/photo-1555939594-58d7cb561ad1?w=200&h=200&fit=crop&q=80",isPro:!1,promptKeyword:"dark moody atmosphere, dramatic lighting, black background",description:"Atmosfera escura, iluminao dramtica"},{id:"domingo",name:"Sol de Manh",image:"https://images.unsplash.com/photo-1473093226795-af9932fe5856?w=200&h=200&fit=crop&q=80",isPro:!1,promptKeyword:"bright morning sunlight, warm tones, fresh and airy",description:"Luz solar matinal, tons quentes, fresco"},{id:"marble",name:"Onyx Luxo",image:"https://images.unsplash.com/photo-1518013431117-eb1465fa5752?w=200&h=200&fit=crop&q=80",isPro:!1,promptKeyword:"black marble, luxury presentation, gold accents",description:"Mrmore preto, apresentao luxuosa"},{id:"neon",name:"Neon Cyber",image:"https://images.unsplash.com/photo-1550745165-9bc0b252726f?w=200&h=200&fit=crop&q=80",isPro:!1,promptKeyword:"neon lights, cyberpunk aesthetic, vibrant colors, futuristic",description:"Luzes neon, esttica cyberpunk, futurista"},{id:"chefs-table",name:"Chef's Table",image:"https://images.unsplash.com/photo-1414235077428-338989a2e8c0?w=200&h=200&fit=crop&q=80",isPro:!0,promptKeyword:"fine dining, dramatic spotlight, dark background, professional plating, michelin star presentation",description:"Iluminao dramtica, foco pontual, alta gastronomia"},{id:"editorial",name:"Editorial Magazine",image:"https://images.unsplash.com/photo-1504674900247-0877df9cc836?w=200&h=200&fit=crop&q=80",isPro:!0,promptKeyword:"solid color background, hard shadows, pop art style, magazine editorial, bold composition",description:"Fundo colorido slido, sombras duras, estilo revista"},{id:"morning-brunch",name:"Morning Brunch",image:"https://images.unsplash.com/photo-1533777324565-a040eb52facd?w=200&h=200&fit=crop&q=80",isPro:!0,promptKeyword:"intense natural light, plant shadows, airy atmosphere, fresh breakfast setting, window light",description:"Luz natural intensa, sombras de plantas, arejado"},{id:"dark-kitchen",name:"Dark Kitchen",image:"https://images.unsplash.com/photo-1565299624946-b28f40a0ae38?w=200&h=200&fit=crop&q=80",isPro:!0,promptKeyword:"slate stone surface, steam rising, industrial style, professional kitchen atmosphere",description:"Pedra ardsia, vapor, estilo industrial"},{id:"golden-hour",name:"Golden Hour",image:"https://images.unsplash.com/photo-1567620905732-2d1ec7ab7445?w=200&h=200&fit=crop&q=80",isPro:!0,promptKeyword:"sunset lighting, warm golden tones, soft glow, magic hour photography",description:"Luz do pr do sol, tons dourados, brilho suave"},{id:"macro-detail",name:"Macro Detail",image:"https://images.unsplash.com/photo-1606787366850-de6330128bfc?w=200&h=200&fit=crop&q=80",isPro:!0,promptKeyword:"extreme close-up, texture focus, bokeh background, macro photography, shallow depth of field",description:"Foco extremo na textura, fundo desfocado (bokeh)"}],gU=[{id:"top",label:"Flat Lay",subLabel:"90",icon:V4},{id:"diagonal",label:"Diner's Eye",subLabel:"45",icon:K4},{id:"front",label:"The Hero",subLabel:"0",icon:tV},{id:"macro",label:"Macro",subLabel:"Close",icon:M4}];function yU(){const t=pc(),{user:e}=$r(),{downloadImage:n,isDownloading:r,error:s}=uU(),[i,o]=k.useState(!1),[a,l]=k.useState(!1),[u,f]=k.useState(null),[h,m]=k.useState(""),[y,E]=k.useState(!1),[A,S]=k.useState(!1),[v,w]=k.useState(!1),_=k.useRef(null),D=async I=>new Promise((N,j)=>{const R=new Image,pe=document.createElement("canvas"),Re=pe.getContext("2d");if(!Re){j(new Error("Canvas context not available"));return}R.onload=()=>{console.log(" Cortando imagem para 1080x1080...");const he=Math.min(R.width,R.height),ce=(R.width-he)/2,$=(R.height-he)/2;pe.width=1080,pe.height=1080,Re.drawImage(R,ce,$,he,he,0,0,1080,1080),pe.toBlob(Z=>{if(Z){const M=new File([Z],I.name,{type:"image/jpeg",lastModified:Date.now()});console.log(" Imagem cortada:",M.size,"bytes"),N(M)}else j(new Error("Failed to create blob from canvas"))},"image/jpeg",.95)},R.onerror=()=>j(new Error("Failed to load image for cropping")),R.src=URL.createObjectURL(I)});k.useEffect(()=>{if(t.generatedImage){S(!0),E(!1);const I=new Image;I.onload=()=>{console.log(" Imagem carregada com sucesso"),E(!0),S(!1)},I.onerror=()=>{console.error(" Erro ao carregar imagem"),f("Erro ao carregar a imagem gerada."),S(!1),t.setGeneratedImage(null)},I.src=t.generatedImage}else E(!1),S(!1)},[t.generatedImage]),k.useEffect(()=>{s&&f(s)},[s]);const V=async I=>{var j;const N=(j=I.target.files)==null?void 0:j[0];if(N)try{w(!0),f(null);const R=await D(N),pe=URL.createObjectURL(R);t.setOriginalImage(pe,R),w(!1)}catch(R){console.error("Erro ao processar imagem:",R),f("Erro ao processar a imagem."),w(!1)}},O=(I,N)=>{const j=t.plan.toLowerCase();if(N&&j==="free"){o(!0);return}t.setVibe(I)},T=async()=>{if(!(!t.originalImage||!t.originalFile||t.isGenerating)){if(t.plan==="FREE"&&t.credits<=0){o(!0);return}t.setIsGenerating(!0),f(null);try{m("Identificando textura..."),await new Promise(N=>setTimeout(N,800)),m("Ajustando iluminao..."),await new Promise(N=>setTimeout(N,800)),m("Empratando...");const I=await aU({file:t.originalFile,vibe:t.selectedVibe,angle:t.selectedPerspective,lightIntensity:t.lightIntensity});I.success&&I.imageUrl?(console.log(" URL recebida:",I.imageUrl),t.setGeneratedImage(I.imageUrl),t.useCredit(),setTimeout(()=>{Cm({particleCount:200,spread:100,origin:{y:.6},colors:["#ff5e00","#FFC107","#FFFFFF"],ticks:300})},500)):f(I.error||"A Engine Neural falhou.")}catch(I){console.error(I),f("Erro de conexo.")}finally{t.setIsGenerating(!1),m("")}}},x=async()=>{if(t.generatedImage){if(!e){l(!0);return}try{await n(t.generatedImage,t.plan)}catch(I){console.error("Download failed:",I)}}},C=()=>d.jsxs("div",{className:"space-y-6 md:space-y-12 pb-safe",children:[d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between items-end mb-4",children:[d.jsx("h3",{className:"text-[10px] font-black uppercase tracking-[0.3em] text-white/30",children:"Vibe da Foto"}),d.jsx(ai,{className:"w-4 h-4 text-primary"})]}),d.jsx("div",{className:"flex md:grid md:grid-cols-2 gap-3 overflow-x-auto md:overflow-x-visible no-scrollbar pb-2 px-4 md:px-0 scroll-px-4",children:mU.map(I=>{const N=I.isPro&&t.plan.toLowerCase()==="free";return d.jsx("button",{onClick:()=>O(I.id,I.isPro),className:`flex-shrink-0 w-24 h-24 md:w-auto md:aspect-square rounded-2xl md:rounded-[2rem] overflow-hidden border-2 transition-all duration-300 group ${t.selectedVibe===I.id?"border-primary ring-2 ring-primary/20 scale-105":"border-white/5"}`,children:d.jsxs("div",{className:"relative w-full h-full",children:[d.jsx("img",{src:I.image,alt:I.name,className:`w-full h-full object-cover transition-transform duration-700 ${t.selectedVibe===I.id?"scale-110":"group-hover:scale-105"}`}),d.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/90 via-black/20 to-transparent flex flex-col justify-end p-2 md:p-5",children:d.jsx("span",{className:"text-[9px] md:text-xs font-black uppercase tracking-tight italic",children:I.name})}),N&&d.jsx("div",{className:"absolute top-2 right-2 w-6 h-6 md:w-8 md:h-8 bg-black/60 backdrop-blur-md rounded-full flex items-center justify-center border border-white/10",children:d.jsx(ud,{className:"w-3 h-3 md:w-4 md:h-4 text-amber-500 fill-current"})})]})},I.id)})})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-[10px] font-black uppercase tracking-[0.3em] text-white/30 mb-4",children:"ngulo"}),d.jsx("div",{className:"grid grid-cols-4 gap-2 md:gap-3",children:gU.map(I=>d.jsxs("button",{onClick:()=>t.setPerspective(I.id),className:`flex flex-col items-center gap-1 md:gap-2 p-2 md:p-4 rounded-2xl md:rounded-3xl border-2 transition-all ${t.selectedPerspective===I.id?"bg-primary border-primary text-white shadow-xl shadow-primary/20":"bg-white/5 border-white/5 text-white/40"}`,children:[d.jsx(I.icon,{className:"w-5 h-5 md:w-6 md:h-6"}),d.jsx("span",{className:"text-[8px] md:text-[9px] font-black uppercase tracking-tight",children:I.label}),d.jsx("span",{className:"text-[7px] md:text-[8px] font-bold text-white/60",children:I.subLabel})]},I.id))})]}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("h3",{className:"text-[10px] font-black uppercase tracking-[0.3em] text-white/30",children:"Luz"}),d.jsxs("span",{className:"text-sm font-black text-primary italic",children:[t.lightIntensity,"%"]})]}),d.jsxs("div",{className:"relative h-10 md:h-12 flex items-center",children:[d.jsx("div",{className:"absolute inset-x-0 h-2 bg-white/5 rounded-full overflow-hidden",children:d.jsx("div",{className:"h-full bg-gradient-to-r from-orange-900 via-primary to-amber-200",style:{width:`${t.lightIntensity}%`}})}),d.jsx("input",{type:"range",min:"0",max:"100",value:t.lightIntensity,disabled:t.plan==="FREE",onChange:I=>t.setLightIntensity(parseInt(I.target.value)),className:`absolute inset-x-0 appearance-none bg-transparent cursor-pointer z-10 h-10 md:h-12 ${t.plan==="FREE"?"cursor-not-allowed opacity-50":""}`})]}),t.plan==="FREE"&&d.jsxs("div",{onClick:()=>o(!0),className:"flex items-center gap-2 mt-3 text-[9px] md:text-[10px] font-bold text-amber-500 uppercase cursor-pointer",children:[d.jsx(ud,{className:"w-3 h-3"})," PRO"]})]}),d.jsx(ie.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:T,disabled:!t.originalImage||t.isGenerating||t.plan==="FREE"&&t.credits<=0,className:`w-full py-6 md:py-8 rounded-3xl md:rounded-[2.5rem] font-black text-lg md:text-2xl uppercase italic tracking-ultra-tight flex items-center justify-center gap-3 md:gap-4 transition-all shadow-2xl shimmer ${t.originalImage&&!t.isGenerating?"bg-primary text-white shadow-orange-intense":"bg-white/5 text-white/20 cursor-not-allowed"}`,children:t.isGenerating?d.jsx(Q4,{className:"w-6 h-6 md:w-8 md:h-8 animate-spin"}):d.jsxs(d.Fragment,{children:[d.jsx(_t,{className:"w-6 h-6 md:w-8 md:h-8 fill-current"}),"GERAR MGICA"]})})]});return d.jsxs("div",{className:"min-h-[100dvh] w-screen bg-[#0a0a0a] text-white flex flex-col md:flex-row font-sans overflow-hidden",children:[d.jsx(lU,{isOpen:i,onClose:()=>o(!1)}),d.jsx(tA,{isOpen:a,onClose:()=>l(!1)}),d.jsxs("header",{className:"md:hidden absolute top-0 left-0 right-0 z-50 flex items-center justify-between p-4 bg-gradient-to-b from-black/80 to-transparent backdrop-blur-sm",children:[d.jsx(Fn,{to:"/",className:"text-white/60 hover:text-white transition-colors",children:d.jsx(Ex,{className:"w-7 h-7"})}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsxs("div",{className:"flex items-center gap-2 bg-black/60 backdrop-blur-xl px-3 py-1.5 rounded-full border border-white/10",children:[d.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${t.credits>0?"bg-green-500":"bg-red-500"}`}),d.jsx("span",{className:"text-[10px] font-black uppercase tracking-wider text-white/80",children:t.plan==="PRO"?"":t.credits})]}),t.generatedImage&&y&&d.jsx("button",{onClick:x,disabled:r,className:"p-2 bg-primary rounded-full disabled:opacity-50",children:r?d.jsx(yi,{className:"w-4 h-4 text-white animate-spin"}):d.jsx($4,{className:"w-4 h-4 text-white"})})]})]}),d.jsxs("header",{className:"hidden md:flex h-20 w-full border-b border-white/5 items-center justify-between px-8 bg-[#0a0a0a]/80 backdrop-blur-3xl z-40 absolute top-0 left-0 right-0",children:[d.jsxs("div",{className:"flex items-center gap-6",children:[d.jsx(Fn,{to:"/",className:"text-white/40 hover:text-white transition-colors",children:d.jsx(Ex,{className:"w-8 h-8"})}),d.jsxs("div",{className:"flex flex-col",children:[d.jsxs("h1",{className:"text-xl font-black italic tracking-ultra-tight leading-none",children:["Emprata",d.jsx("span",{className:"text-primary",children:".ai"})," Studio"]}),d.jsx("span",{className:"text-[10px] font-black uppercase tracking-[0.3em] text-white/30",children:"v10.0 Admin Ready"})]})]}),d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx(cU,{}),d.jsx("button",{onClick:x,disabled:!t.generatedImage||!y||r,className:`px-8 py-3 rounded-2xl font-black text-xs uppercase tracking-widest shadow-lg transition-all ${t.generatedImage&&y&&!r?"bg-primary text-white shadow-orange-glow hover:scale-105 active:scale-95":"bg-white/5 text-white/20 cursor-not-allowed"}`,children:r?"Exportando...":"Exportar"})]})]}),d.jsx(bl,{children:u&&d.jsxs(ie.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"absolute top-20 md:top-24 left-1/2 -translate-x-1/2 z-50 bg-red-500/90 backdrop-blur-xl px-4 md:px-6 py-3 md:py-4 rounded-2xl border border-red-400/50 shadow-2xl flex items-center gap-3 md:gap-4 max-w-[90%] md:max-w-none",children:[d.jsx(G4,{className:"w-4 h-4 md:w-5 md:h-5 text-white flex-shrink-0"}),d.jsx("p",{className:"text-xs md:text-sm font-bold text-white uppercase tracking-tight",children:u}),d.jsx("button",{onClick:()=>f(null),className:"p-1 hover:bg-white/10 rounded-full transition-colors flex-shrink-0",children:d.jsx(uy,{className:"w-3 h-3 md:w-4 md:h-4 text-white"})})]})}),d.jsx("aside",{className:"hidden md:flex w-[400px] h-full border-r border-white/5 flex-col bg-[#0a0a0a] z-10 overflow-y-auto no-scrollbar mt-20",children:d.jsx("div",{className:"p-8",children:d.jsx(C,{})})}),d.jsxs("section",{className:`flex-1 relative min-h-0 flex items-center justify-center bg-[#0a0a0a] overflow-hidden \r
                          h-[55%] md:h-full w-full md:flex-1 md:mt-20`,children:[d.jsx("div",{className:"absolute inset-0 opacity-[0.02] pointer-events-none",style:{backgroundImage:"radial-gradient(circle, #fff 1px, transparent 1px)",backgroundSize:"60px 60px"}}),d.jsx(bl,{mode:"wait",children:t.originalImage?d.jsx(ie.div,{initial:{opacity:0},animate:{opacity:1},className:"relative w-full h-full flex items-center justify-center p-4 md:p-12",children:d.jsxs("div",{className:"relative w-full h-full max-w-5xl max-h-5xl flex items-center justify-center",children:[d.jsx("div",{className:"relative shadow-[0_50px_100px_-30px_rgba(0,0,0,1)] border-4 md:border-[12px] border-white/5 rounded-2xl md:rounded-3xl overflow-hidden bg-black w-full h-full max-w-full max-h-full aspect-square",children:t.generatedImage&&y?d.jsxs("div",{className:"relative w-full h-full",children:[d.jsx(cy,{itemOne:d.jsxs("div",{className:"relative h-full flex items-center justify-center bg-black",children:[d.jsx(kl,{src:t.originalImage,alt:"Original",style:{width:"100%",height:"100%",objectFit:"contain"}}),d.jsx("div",{className:"absolute top-4 left-4 bg-black/60 backdrop-blur-xl px-3 py-1.5 rounded-full border border-white/10 text-[9px] md:text-[10px] font-black uppercase tracking-widest text-white/40 italic",children:"Original"})]}),itemTwo:d.jsxs("div",{className:"relative h-full flex items-center justify-center bg-black",children:[d.jsx(kl,{src:t.generatedImage,alt:"Generated",style:{width:"100%",height:"100%",objectFit:"contain"}}),d.jsx("div",{className:"absolute top-4 right-4 bg-primary/80 backdrop-blur-xl px-3 py-1.5 rounded-full border border-white/10 text-[9px] md:text-[10px] font-black uppercase tracking-widest text-white italic shadow-lg",children:"Neural"})]}),className:"w-full h-full"}),t.plan==="FREE"&&d.jsx("div",{className:"absolute inset-0 pointer-events-none flex items-center justify-center z-10",children:d.jsx("div",{className:"rotate-45 text-white/5 text-6xl md:text-[10rem] font-black tracking-ultra-tight select-none whitespace-nowrap",children:"Emprata.ai"})})]}):A?d.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center gap-4 md:gap-6 bg-black",children:[d.jsx(yi,{className:"w-12 h-12 md:w-16 md:h-16 text-primary animate-spin"}),d.jsx("span",{className:"text-sm md:text-lg font-black italic uppercase tracking-widest text-primary/80",children:"Carregando..."})]}):d.jsxs(d.Fragment,{children:[d.jsx("img",{src:t.originalImage,className:`w-full h-full object-contain transition-all duration-700 ${t.isGenerating?"blur-2xl opacity-40 scale-110":""}`,alt:"Preview"}),t.isGenerating&&d.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center gap-4 md:gap-6 z-20",children:[d.jsxs("div",{className:"relative w-16 h-16 md:w-24 md:h-24",children:[d.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-white/5 border-t-primary animate-spin"}),d.jsx("div",{className:"absolute inset-2 md:inset-4 rounded-full border-4 border-white/5 border-b-primary animate-spin-reverse"})]}),d.jsx("span",{className:"text-base md:text-2xl font-black italic uppercase tracking-widest animate-pulse text-primary drop-shadow-[0_0_15px_rgba(255,94,0,0.5)] px-4 text-center",children:h||"Processando..."})]})]})}),t.isGenerating&&d.jsx("div",{className:"scanner-line"})]})},"editor"):d.jsxs(ie.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:1.1},onClick:()=>{var I;return!v&&((I=_.current)==null?void 0:I.click())},className:`group flex flex-col items-center ${v?"cursor-wait":"cursor-pointer"}`,children:[d.jsxs("div",{className:"w-32 h-32 md:w-56 md:h-56 bg-white/5 border-2 border-dashed border-white/20 rounded-3xl md:rounded-[4rem] flex items-center justify-center text-white/20 group-hover:border-primary group-hover:text-primary transition-all duration-500 relative",children:[d.jsx("div",{className:"absolute inset-0 bg-primary/0 group-hover:bg-primary/5 transition-all duration-500 rounded-3xl md:rounded-[4rem]"}),v?d.jsx(yi,{className:"w-12 h-12 md:w-20 md:h-20 animate-spin text-primary"}):d.jsx(AI,{className:"w-12 h-12 md:w-20 md:h-20"}),d.jsx("input",{ref:_,type:"file",onChange:V,className:"hidden",accept:"image/*",disabled:v})]}),d.jsxs("div",{className:"mt-6 md:mt-10 text-center px-4",children:[d.jsx("h2",{className:"text-xl md:text-3xl font-black uppercase italic tracking-ultra-tight mb-1 md:mb-2",children:v?"Processando...":"Sirva seu Rango"}),d.jsx("p",{className:"text-white/30 font-bold uppercase tracking-widest text-[10px] md:text-xs",children:v?"Cortando para 1080x1080":"Toque para buscar"})]})]},"empty")})]}),d.jsx("div",{className:"md:hidden w-full h-[45%] bg-[#1a1a1a] rounded-t-[30px] shadow-2xl overflow-y-auto px-6 py-6 z-20 border-t border-white/10",children:d.jsx(C,{})})]})}function vU(){return d.jsx("div",{className:"min-h-screen bg-zinc-950 text-white p-4 md:p-8 pt-24",children:d.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[d.jsx("div",{className:"bg-white/5 border border-white/10 rounded-3xl p-6 md:p-8 animate-pulse",children:d.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-6",children:[d.jsx("div",{className:"w-24 h-24 md:w-28 md:h-28 rounded-full bg-white/10"}),d.jsxs("div",{className:"flex-1 text-center md:text-left space-y-3",children:[d.jsx("div",{className:"h-8 bg-white/10 rounded-lg w-48 mx-auto md:mx-0"}),d.jsx("div",{className:"h-4 bg-white/10 rounded w-64 mx-auto md:mx-0"})]}),d.jsx("div",{className:"h-12 w-32 bg-white/10 rounded-2xl"})]})}),d.jsx("div",{className:"grid md:grid-cols-3 gap-4",children:[1,2,3].map(t=>d.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-6 animate-pulse",children:[d.jsx("div",{className:"h-4 bg-white/10 rounded w-24 mb-4"}),d.jsx("div",{className:"h-8 bg-white/10 rounded w-16 mb-2"}),d.jsx("div",{className:"h-3 bg-white/10 rounded w-20"})]},t))}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[d.jsx("div",{className:"flex-1 h-14 bg-white/10 rounded-2xl animate-pulse"}),d.jsx("div",{className:"flex-1 h-14 bg-white/10 rounded-2xl animate-pulse"})]})]})})}function wU(){var T;const t=zs(),{user:e,userData:n,loading:r,signOut:s}=$r(),{credits:i,plan:o}=pc(),[a,l]=k.useState(""),[u,f]=k.useState(!1),[h,m]=k.useState(!1),[y,E]=k.useState(null),A=12,v=(()=>{const x=new Date,C=new Date(x);C.setDate(C.getDate()+30);const I=N=>new Intl.DateTimeFormat("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric"}).format(N);return{start:I(x),renewal:I(C)}})(),w=(o==null?void 0:o.toLowerCase())||"free",_=w==="pro"||w==="starter";if(k.useEffect(()=>{n!=null&&n.name?l(n.name):e!=null&&e.displayName&&l(e.displayName)},[n,e]),r)return d.jsx(vU,{});if(!e)return d.jsx(HT,{to:"/",replace:!0});const D=async()=>{if(!(!e||!a.trim()))try{m(!0);const x=po(mo,"users",e.uid);await Sm(x,{name:a.trim()}),E(" Nome atualizado!"),f(!1),setTimeout(()=>E(null),3e3)}catch(x){console.error("Error updating name:",x),E(" Erro ao atualizar")}finally{m(!1)}},V=async()=>{await s(),t("/")},O=()=>{window.open("https://kirvano.com/portal","_blank")};return d.jsxs("div",{className:"min-h-screen bg-zinc-950 text-white p-4 md:p-8 pt-24",children:[d.jsx("header",{className:"fixed top-0 left-0 right-0 border-b border-white/5 bg-zinc-950/80 backdrop-blur-xl z-50",children:d.jsxs("div",{className:"max-w-4xl mx-auto px-4 md:px-8 py-4 flex items-center justify-between",children:[d.jsxs("button",{onClick:()=>t("/app"),className:"flex items-center gap-2 text-white/60 hover:text-white transition-colors group",children:[d.jsx(Zd,{className:"w-5 h-5 group-hover:-translate-x-1 transition-transform"}),d.jsx("span",{className:"font-bold",children:"Voltar ao Studio"})]}),d.jsxs("h1",{className:"text-xl font-black italic",children:["Emprata",d.jsx("span",{className:"text-primary",children:".ai"})]})]})}),d.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[d.jsx(ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},className:"bg-white/5 border border-white/10 rounded-3xl p-6 md:p-8 backdrop-blur-xl",children:d.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-6",children:[d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:`w-24 h-24 md:w-28 md:h-28 rounded-full bg-gradient-to-br ${_?"from-primary to-orange-600":"from-gray-500 to-gray-600"} flex items-center justify-center text-4xl font-black ring-4 ${_?"ring-primary/30":"ring-white/10"}`,children:e!=null&&e.photoURL?d.jsx("img",{src:e.photoURL,alt:"Avatar",className:"w-full h-full rounded-full object-cover"}):d.jsx("span",{children:((T=a==null?void 0:a.charAt(0))==null?void 0:T.toUpperCase())||"U"})}),d.jsx("button",{className:"absolute bottom-0 right-0 w-8 h-8 bg-white/20 rounded-full flex items-center justify-center hover:scale-110 transition-transform ring-2 ring-zinc-950",children:d.jsx(AI,{className:"w-4 h-4 text-white"})})]}),d.jsxs("div",{className:"flex-1 text-center md:text-left space-y-2",children:[d.jsxs("div",{className:"flex items-center gap-2 justify-center md:justify-start",children:[d.jsx("input",{type:"text",value:a,onChange:x=>{l(x.target.value),f(!0)},className:"text-2xl md:text-3xl font-black bg-transparent border-b-2 border-transparent hover:border-white/20 focus:border-primary focus:outline-none transition-colors max-w-[200px] md:max-w-[300px]",placeholder:"Seu Nome"}),u&&d.jsx("button",{onClick:D,disabled:h,className:"p-2 bg-primary rounded-lg hover:bg-orange-600 transition-colors",children:h?d.jsx(yi,{className:"w-4 h-4 animate-spin"}):d.jsx(Y4,{className:"w-4 h-4"})})]}),d.jsxs("div",{className:"flex items-center gap-2 text-white/60 justify-center md:justify-start",children:[d.jsx(xu,{className:"w-4 h-4"}),d.jsx("span",{className:"text-sm font-medium",children:e==null?void 0:e.email})]}),y&&d.jsx(ie.p,{initial:{opacity:0},animate:{opacity:1},className:`text-sm font-bold ${y.includes("")?"text-green-400":"text-red-400"}`,children:y})]}),d.jsxs("div",{className:`px-6 py-3 rounded-2xl ${_?"bg-gradient-to-r from-primary to-orange-600":"bg-white/10"} text-white font-black text-sm uppercase flex items-center gap-2 shadow-lg`,children:[d.jsx(ii,{className:`w-5 h-5 ${_?"fill-current":""}`}),_?"ASSINANTE PRO":"MEMBRO GRATUITO"]})]})}),d.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[d.jsxs(ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.1},className:"bg-gradient-to-br from-primary/20 to-orange-600/20 border-2 border-primary/30 rounded-2xl p-6",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[d.jsx(_t,{className:"w-5 h-5 text-primary fill-current"}),d.jsx("h3",{className:"text-sm font-bold text-white/60 uppercase tracking-wider",children:"Crditos"})]}),d.jsx("p",{className:"text-4xl font-black text-white mb-1",children:i}),d.jsx("p",{className:"text-xs text-white/40 font-bold",children:"Disponveis"})]}),d.jsxs(ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.2},className:"bg-white/5 border border-white/10 rounded-2xl p-6",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[d.jsx(O4,{className:"w-5 h-5 text-blue-400"}),d.jsx("h3",{className:"text-sm font-bold text-white/60 uppercase tracking-wider",children:"Ciclo Atual"})]}),d.jsx("div",{className:"space-y-1",children:d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-white/60 text-sm",children:"Renovao:"}),d.jsx("span",{className:"font-bold text-sm text-primary",children:v.renewal})]})}),d.jsxs("div",{className:"mt-2 flex items-center gap-1",children:[d.jsx(F4,{className:"w-3 h-3 text-green-500"}),d.jsx("span",{className:"text-green-400 font-bold text-xs",children:"Ativo"})]})]}),d.jsxs(ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.3},className:"bg-white/5 border border-white/10 rounded-2xl p-6",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[d.jsx(q4,{className:"w-5 h-5 text-purple-400"}),d.jsx("h3",{className:"text-sm font-bold text-white/60 uppercase tracking-wider",children:"Imagens"})]}),d.jsx("p",{className:"text-4xl font-black text-white mb-1",children:A}),d.jsx("p",{className:"text-xs text-white/40 font-bold",children:"Geradas este ms"})]})]}),d.jsxs(ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.4},className:"flex flex-col sm:flex-row gap-4",children:[d.jsxs("button",{onClick:O,className:"flex-1 bg-primary hover:bg-orange-600 text-white font-black py-4 px-6 rounded-2xl flex items-center justify-center gap-2 transition-all shadow-lg shadow-primary/20",children:[d.jsx(H4,{className:"w-5 h-5"}),"Gerenciar Assinatura"]}),d.jsxs("button",{onClick:V,className:"flex-1 bg-white/5 hover:bg-red-500/20 border border-white/10 hover:border-red-500/50 text-white font-bold py-4 px-6 rounded-2xl flex items-center justify-center gap-2 transition-all",children:[d.jsx(kI,{className:"w-5 h-5"}),"Sair da Conta"]})]})]})]})}function xU(){const t=zs(),{userData:e,refreshUser:n}=$r();return k.useEffect(()=>{n();const r=3e3,s=Date.now()+r,i={startVelocity:30,spread:360,ticks:60,zIndex:0};function o(l,u){return Math.random()*(u-l)+l}const a=setInterval(function(){const l=s-Date.now();if(l<=0)return clearInterval(a);const u=50*(l/r);Cm({...i,particleCount:u,origin:{x:o(.1,.3),y:Math.random()-.2}}),Cm({...i,particleCount:u,origin:{x:o(.7,.9),y:Math.random()-.2}})},250);return()=>clearInterval(a)},[n]),d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-black via-zinc-950 to-black flex items-center justify-center p-4",children:d.jsxs(ie.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},transition:{duration:.5},className:"max-w-2xl w-full",children:[d.jsx(ie.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200,damping:15},className:"flex justify-center mb-8",children:d.jsxs("div",{className:"relative",children:[d.jsx(ie.div,{animate:{scale:[1,1.2,1],opacity:[.5,.8,.5]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},className:"absolute inset-0 bg-green-500/30 rounded-full blur-2xl"}),d.jsx("div",{className:"relative bg-green-500 rounded-full p-6 shadow-2xl shadow-green-500/50",children:d.jsx(er,{className:"w-16 h-16 text-white",strokeWidth:3})})]})}),d.jsx(ie.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"text-4xl md:text-6xl font-black text-center mb-4 bg-gradient-to-r from-white via-green-100 to-white bg-clip-text text-transparent",children:"Pagamento Confirmado! "}),d.jsx(ie.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"text-center text-white/60 text-lg mb-12 font-medium",children:"Seus crditos j esto disponveis para uso imediato."}),d.jsxs(ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"bg-white/5 border border-white/10 rounded-3xl p-8 mb-8 backdrop-blur-sm",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[d.jsx("div",{className:"bg-primary/20 rounded-2xl p-3",children:d.jsx(_t,{className:"w-6 h-6 text-primary fill-current"})}),d.jsx("h2",{className:"text-2xl font-black text-white",children:"Resumo da Conta"})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex justify-between items-center py-3 border-b border-white/5",children:[d.jsx("span",{className:"text-white/50 font-medium",children:"Conta"}),d.jsx("span",{className:"text-white font-bold",children:(e==null?void 0:e.email)||"Carregando..."})]}),d.jsxs("div",{className:"flex justify-between items-center py-3 border-b border-white/5",children:[d.jsx("span",{className:"text-white/50 font-medium",children:"Crditos Disponveis"}),d.jsx("span",{className:"text-primary font-black text-xl",children:(e==null?void 0:e.credits)||0})]}),d.jsxs("div",{className:"flex justify-between items-center py-3",children:[d.jsx("span",{className:"text-white/50 font-medium",children:"Status"}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),d.jsx("span",{className:"text-green-500 font-black uppercase text-sm tracking-wider",children:"Ativo"})]})]})]})]}),d.jsx(ie.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>t("/app"),className:"w-full py-5 rounded-2xl bg-primary hover:bg-orange-600 font-black text-white shadow-xl shadow-primary/40 uppercase tracking-wider text-lg transition-all",children:"Comear a Criar Agora"}),d.jsx(ie.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.8},className:"text-center text-white/30 text-xs font-bold uppercase tracking-widest mt-6",children:"Obrigado por escolher Emprata.ai"})]})})}function _U(){return d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-black via-zinc-950 to-black",children:d.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-12",children:[d.jsxs(Fn,{to:"/",className:"inline-flex items-center gap-2 text-white/60 hover:text-white transition-colors mb-8",children:[d.jsx(Zd,{className:"w-4 h-4"}),d.jsx("span",{className:"font-medium",children:"Voltar"})]}),d.jsxs(ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-12",children:[d.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[d.jsx("div",{className:"bg-primary/20 rounded-2xl p-3",children:d.jsx(J4,{className:"w-8 h-8 text-primary"})}),d.jsx("h1",{className:"text-4xl md:text-5xl font-black text-white",children:"Poltica de Privacidade"})]}),d.jsx("p",{className:"text-white/60 text-lg",children:"ltima atualizao: 25 de dezembro de 2024"})]}),d.jsx(ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"prose prose-invert max-w-none",children:d.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-3xl p-8 space-y-8",children:[d.jsxs("section",{children:[d.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"1. Introduo"}),d.jsxs("p",{className:"text-white/70 leading-relaxed",children:["A ",d.jsx("strong",{className:"text-white",children:"Emprata AI"}),' ("ns", "nosso" ou "nossa") respeita sua privacidade e est comprometida em proteger seus dados pessoais. Esta Poltica de Privacidade explica como coletamos, usamos e protegemos suas informaes em conformidade com a ',d.jsx("strong",{className:"text-white",children:"Lei Geral de Proteo de Dados (LGPD - Lei n 13.709/2018)"}),"."]})]}),d.jsxs("section",{children:[d.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"2. Dados Coletados"}),d.jsx("p",{className:"text-white/70 leading-relaxed mb-3",children:"Coletamos apenas os dados essenciais para o funcionamento do servio:"}),d.jsxs("ul",{className:"list-disc list-inside text-white/70 space-y-2 ml-4",children:[d.jsxs("li",{children:[d.jsx("strong",{className:"text-white",children:"E-mail:"})," Utilizado para autenticao via Firebase Authentication e comunicao sobre sua conta."]}),d.jsxs("li",{children:[d.jsx("strong",{className:"text-white",children:"Nome (opcional):"})," Fornecido durante o cadastro para personalizao da experincia."]}),d.jsxs("li",{children:[d.jsx("strong",{className:"text-white",children:"Dados de Uso:"})," Informaes sobre como voc utiliza a plataforma (prompts, imagens geradas, crditos consumidos)."]})]})]}),d.jsxs("section",{children:[d.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"3. Uso dos Dados"}),d.jsx("p",{className:"text-white/70 leading-relaxed mb-3",children:"Seus dados so utilizados exclusivamente para:"}),d.jsxs("ul",{className:"list-disc list-inside text-white/70 space-y-2 ml-4",children:[d.jsx("li",{children:"Autenticar e gerenciar sua conta"}),d.jsx("li",{children:"Processar solicitaes de gerao de imagens via IA"}),d.jsx("li",{children:"Gerenciar crditos e planos de assinatura"}),d.jsx("li",{children:"Melhorar nossos servios e experincia do usurio"}),d.jsx("li",{children:"Enviar notificaes importantes sobre sua conta"})]}),d.jsxs("p",{className:"text-white/70 leading-relaxed mt-3",children:[d.jsx("strong",{className:"text-white",children:"Importante:"})," No vendemos, alugamos ou compartilhamos seus dados pessoais com terceiros para fins de marketing."]})]}),d.jsxs("section",{children:[d.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"4. Armazenamento e Segurana"}),d.jsxs("p",{className:"text-white/70 leading-relaxed",children:["Seus dados so armazenados de forma segura no ",d.jsx("strong",{className:"text-white",children:"Firebase (Google Cloud Platform)"}),", que utiliza criptografia em trnsito e em repouso. Implementamos medidas tcnicas e organizacionais para proteger suas informaes contra acesso no autorizado, perda ou destruio."]})]}),d.jsxs("section",{children:[d.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"5. Seus Direitos (LGPD)"}),d.jsx("p",{className:"text-white/70 leading-relaxed mb-3",children:"Voc tem os seguintes direitos sobre seus dados pessoais:"}),d.jsxs("ul",{className:"list-disc list-inside text-white/70 space-y-2 ml-4",children:[d.jsxs("li",{children:[d.jsx("strong",{className:"text-white",children:"Acesso:"})," Solicitar uma cpia dos seus dados"]}),d.jsxs("li",{children:[d.jsx("strong",{className:"text-white",children:"Correo:"})," Atualizar dados incorretos ou incompletos"]}),d.jsxs("li",{children:[d.jsx("strong",{className:"text-white",children:"Excluso:"})," Solicitar a remoo dos seus dados"]}),d.jsxs("li",{children:[d.jsx("strong",{className:"text-white",children:"Portabilidade:"})," Receber seus dados em formato estruturado"]}),d.jsxs("li",{children:[d.jsx("strong",{className:"text-white",children:"Revogao de Consentimento:"})," Retirar seu consentimento a qualquer momento"]})]}),d.jsxs("p",{className:"text-white/70 leading-relaxed mt-3",children:["Para exercer seus direitos, entre em contato conosco atravs do e-mail: ",d.jsx("a",{href:"mailto:contato@emprata.ai",className:"text-primary hover:underline",children:"contato@emprata.ai"})]})]}),d.jsxs("section",{children:[d.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"6. Cookies e Tecnologias Similares"}),d.jsx("p",{className:"text-white/70 leading-relaxed",children:"Utilizamos cookies essenciais para autenticao e funcionamento da plataforma. No utilizamos cookies de rastreamento ou publicidade de terceiros."})]}),d.jsxs("section",{children:[d.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"7. Alteraes nesta Poltica"}),d.jsx("p",{className:"text-white/70 leading-relaxed",children:"Podemos atualizar esta Poltica de Privacidade periodicamente. Notificaremos voc sobre mudanas significativas atravs do e-mail cadastrado ou por aviso na plataforma."})]}),d.jsxs("section",{children:[d.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"8. Contato"}),d.jsx("p",{className:"text-white/70 leading-relaxed",children:"Para dvidas sobre esta Poltica de Privacidade ou sobre o tratamento dos seus dados, entre em contato:"}),d.jsxs("div",{className:"mt-3 text-white/70",children:[d.jsxs("p",{children:[d.jsx("strong",{className:"text-white",children:"E-mail:"})," contato@emprata.ai"]}),d.jsxs("p",{children:[d.jsx("strong",{className:"text-white",children:"Encarregado de Dados (DPO):"})," dpo@emprata.ai"]})]})]})]})})]})})}function EU(){return d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-black via-zinc-950 to-black",children:d.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-12",children:[d.jsxs(Fn,{to:"/",className:"inline-flex items-center gap-2 text-white/60 hover:text-white transition-colors mb-8",children:[d.jsx(Zd,{className:"w-4 h-4"}),d.jsx("span",{className:"font-medium",children:"Voltar"})]}),d.jsxs(ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-12",children:[d.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[d.jsx("div",{className:"bg-primary/20 rounded-2xl p-3",children:d.jsx(W4,{className:"w-8 h-8 text-primary"})}),d.jsx("h1",{className:"text-4xl md:text-5xl font-black text-white",children:"Termos de Uso"})]}),d.jsx("p",{className:"text-white/60 text-lg",children:"ltima atualizao: 25 de dezembro de 2024"})]}),d.jsx(ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"prose prose-invert max-w-none",children:d.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-3xl p-8 space-y-8",children:[d.jsxs("section",{children:[d.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"1. Aceitao dos Termos"}),d.jsxs("p",{className:"text-white/70 leading-relaxed",children:["Ao acessar e utilizar a plataforma ",d.jsx("strong",{className:"text-white",children:"Emprata AI"}),", voc concorda em cumprir e estar vinculado a estes Termos de Uso. Se voc no concordar com qualquer parte destes termos, no utilize nossos servios."]})]}),d.jsxs("section",{children:[d.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"2. Descrio do Servio"}),d.jsxs("p",{className:"text-white/70 leading-relaxed",children:["A Emprata AI  uma plataforma de inteligncia artificial que permite aos usurios gerar imagens profissionais atravs de prompts de texto. O servio  fornecido ",d.jsx("strong",{className:"text-white",children:'"como est"'})," e ",d.jsx("strong",{className:"text-white",children:'"conforme disponvel"'}),", sem garantias de qualquer tipo, expressas ou implcitas."]})]}),d.jsxs("section",{children:[d.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"3. Uso Aceitvel"}),d.jsxs("p",{className:"text-white/70 leading-relaxed mb-3",children:["Voc concorda em utilizar a plataforma apenas para fins legais e de acordo com estes Termos.  ",d.jsx("strong",{className:"text-white",children:"PROIBIDO"}),":"]}),d.jsxs("ul",{className:"list-disc list-inside text-white/70 space-y-2 ml-4",children:[d.jsx("li",{children:"Gerar contedo ilegal, difamatrio, obsceno ou que viole direitos de terceiros"}),d.jsx("li",{children:"Utilizar o servio para criar deepfakes ou contedo enganoso"}),d.jsx("li",{children:"Tentar burlar o sistema de crditos ou acessar funcionalidades no autorizadas"}),d.jsx("li",{children:"Revender ou redistribuir o acesso  plataforma sem autorizao"}),d.jsx("li",{children:"Utilizar bots, scripts ou automaes para abusar do servio"})]})]}),d.jsxs("section",{children:[d.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"4. Propriedade Intelectual"}),d.jsxs("p",{className:"text-white/70 leading-relaxed",children:["As imagens geradas pela IA so de ",d.jsx("strong",{className:"text-white",children:"propriedade do usurio"})," que as criou. No entanto, a Emprata AI no se responsabiliza por:"]}),d.jsxs("ul",{className:"list-disc list-inside text-white/70 space-y-2 ml-4 mt-3",children:[d.jsx("li",{children:"Violaes de direitos autorais ou marcas registradas nas imagens geradas"}),d.jsx("li",{children:"Uso indevido das imagens por parte do usurio"}),d.jsx("li",{children:"Similaridades no intencionais com obras protegidas por direitos autorais"})]}),d.jsxs("p",{className:"text-white/70 leading-relaxed mt-3",children:[d.jsx("strong",{className:"text-white",children:"Importante:"})," Voc  o nico responsvel pelo uso comercial ou pblico das imagens geradas."]})]}),d.jsxs("section",{className:"bg-primary/10 border-2 border-primary/30 rounded-2xl p-6",children:[d.jsxs("h2",{className:"text-2xl font-bold text-white mb-4 flex items-center gap-2",children:[d.jsx("span",{className:"text-primary",children:""})," 5. Poltica de Reembolso (CDC Art. 49)"]}),d.jsxs("p",{className:"text-white/70 leading-relaxed mb-3",children:["Em conformidade com o ",d.jsx("strong",{className:"text-white",children:"Artigo 49 do Cdigo de Defesa do Consumidor (CDC)"}),", voc tem o direito de desistir da compra em at ",d.jsx("strong",{className:"text-white",children:"7 (sete) dias corridos"})," a partir da data da contratao ou do recebimento do produto/servio."]}),d.jsxs("div",{className:"bg-white/5 rounded-xl p-4 mt-4",children:[d.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"Condies para Reembolso:"}),d.jsxs("ul",{className:"list-disc list-inside text-white/70 space-y-2 ml-4",children:[d.jsx("li",{children:"Solicitao deve ser feita em at 7 dias corridos aps a compra"}),d.jsx("li",{children:"Reembolso integral do valor pago"}),d.jsx("li",{children:"Crditos no utilizados sero removidos da conta"}),d.jsx("li",{children:"Prazo de processamento: at 10 dias teis"})]})]}),d.jsxs("p",{className:"text-white/70 leading-relaxed mt-4",children:["Para solicitar reembolso, envie um e-mail para: ",d.jsx("a",{href:"mailto:reembolso@emprata.ai",className:"text-primary hover:underline font-bold",children:"reembolso@emprata.ai"})]})]}),d.jsxs("section",{children:[d.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"6. Planos e Crditos"}),d.jsxs("p",{className:"text-white/70 leading-relaxed",children:["Os crditos adquiridos so ",d.jsx("strong",{className:"text-white",children:"acumulativos"})," e no expiram enquanto sua assinatura estiver ativa. Em caso de cancelamento, os crditos restantes sero perdidos. No h reembolso parcial de crditos no utilizados aps o perodo de 7 dias."]})]}),d.jsxs("section",{children:[d.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"7. Limitao de Responsabilidade"}),d.jsx("p",{className:"text-white/70 leading-relaxed",children:"A Emprata AI no se responsabiliza por:"}),d.jsxs("ul",{className:"list-disc list-inside text-white/70 space-y-2 ml-4 mt-3",children:[d.jsx("li",{children:"Danos diretos ou indiretos decorrentes do uso das imagens geradas"}),d.jsx("li",{children:"Interrupes temporrias do servio por manuteno ou falhas tcnicas"}),d.jsx("li",{children:"Perda de dados ou contedo gerado"}),d.jsx("li",{children:"Resultados especficos ou qualidade das imagens geradas"})]})]}),d.jsxs("section",{children:[d.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"8. Suspenso e Encerramento"}),d.jsx("p",{className:"text-white/70 leading-relaxed",children:"Reservamo-nos o direito de suspender ou encerrar sua conta imediatamente, sem aviso prvio, em caso de violao destes Termos, uso fraudulento ou atividades ilegais."})]}),d.jsxs("section",{children:[d.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"9. Modificaes nos Termos"}),d.jsx("p",{className:"text-white/70 leading-relaxed",children:"Podemos atualizar estes Termos de Uso periodicamente. Mudanas significativas sero comunicadas atravs do e-mail cadastrado. O uso continuado da plataforma aps as alteraes constitui aceitao dos novos termos."})]}),d.jsxs("section",{children:[d.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"10. Lei Aplicvel"}),d.jsx("p",{className:"text-white/70 leading-relaxed",children:"Estes Termos so regidos pelas leis da Repblica Federativa do Brasil. Qualquer disputa ser resolvida no foro da comarca de So Paulo/SP."})]}),d.jsxs("section",{children:[d.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"11. Contato"}),d.jsx("p",{className:"text-white/70 leading-relaxed",children:"Para dvidas sobre estes Termos de Uso, entre em contato:"}),d.jsxs("div",{className:"mt-3 text-white/70",children:[d.jsxs("p",{children:[d.jsx("strong",{className:"text-white",children:"E-mail:"})," contato@emprata.ai"]}),d.jsxs("p",{children:[d.jsx("strong",{className:"text-white",children:"Suporte:"})," suporte@emprata.ai"]})]})]})]})})]})})}function TU(){const t=zs(),{isAuthenticated:e}=$r(),n=()=>{t(e?"/app":"/")};return d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-black via-zinc-950 to-black flex items-center justify-center p-4",children:d.jsxs(ie.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},transition:{duration:.5},className:"text-center max-w-md",children:[d.jsx(ie.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200,damping:15},className:"flex justify-center mb-8",children:d.jsxs("div",{className:"relative",children:[d.jsx(ie.div,{animate:{scale:[1,1.2,1],opacity:[.3,.6,.3]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},className:"absolute inset-0 bg-red-500/30 rounded-full blur-2xl"}),d.jsx("div",{className:"relative bg-red-500/20 border-2 border-red-500/30 rounded-full p-6",children:d.jsx(RI,{className:"w-16 h-16 text-red-500",strokeWidth:2})})]})}),d.jsx(ie.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"text-8xl md:text-9xl font-black text-white mb-4 tracking-tighter",children:"404"}),d.jsx(ie.h2,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"text-2xl md:text-3xl font-bold text-white mb-3",children:"Pgina no encontrada"}),d.jsx(ie.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"text-white/60 text-lg mb-8",children:"A pgina que voc est procurando no existe ou foi movida."}),d.jsx(ie.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},whileHover:{scale:1.05},whileTap:{scale:.95},onClick:n,className:"px-8 py-4 rounded-2xl bg-primary hover:bg-orange-600 font-black text-white shadow-xl shadow-primary/40 uppercase tracking-wider text-sm transition-all",children:"Voltar para o Incio"})]})})}function Bf({children:t}){const{user:e,loading:n}=$r();return n?d.jsxs("div",{className:"fixed inset-0 h-screen w-screen bg-[#0a0a0a] flex items-center justify-center z-50",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"mb-6",children:d.jsxs("h1",{className:"text-4xl font-black italic tracking-tight",children:["Emprata",d.jsx("span",{className:"text-primary",children:".ai"})]})}),d.jsxs("div",{className:"relative w-16 h-16 mx-auto mb-6",children:[d.jsx("div",{className:"absolute inset-0 border-4 border-white/10 rounded-full"}),d.jsx("div",{className:"absolute inset-0 border-4 border-primary border-t-transparent rounded-full animate-spin"}),d.jsx("div",{className:"absolute inset-2 bg-primary/20 rounded-full blur-md animate-pulse"})]}),d.jsx("p",{className:"text-white/50 font-bold text-sm uppercase tracking-widest",children:"Carregando Emprata AI..."}),d.jsx("p",{className:"text-white/20 font-medium text-xs mt-4",children:"Conectando ao servidor"})]}),d.jsx("div",{className:"absolute inset-0 bg-gradient-radial from-primary/5 via-transparent to-transparent pointer-events-none"})]}):e?d.jsx(d.Fragment,{children:t}):(console.log(" [ProtectedRoute] No user, redirecting to /auth"),d.jsx(HT,{to:"/auth",replace:!0}))}function bU(){return d.jsxs(g2,{children:[d.jsx(J2,{position:"top-center",richColors:!0,toastOptions:{style:{background:"#18181b",border:"1px solid rgba(255,255,255,0.1)",color:"#fff"}}}),d.jsx("div",{className:"min-h-screen relative overflow-x-hidden",children:d.jsxs(qP,{children:[d.jsx(vr,{path:"/",element:d.jsx(S9,{})}),d.jsx(vr,{path:"/auth",element:d.jsx(C9,{})}),d.jsx(vr,{path:"/privacy",element:d.jsx(_U,{})}),d.jsx(vr,{path:"/terms",element:d.jsx(EU,{})}),d.jsx(vr,{path:"/app",element:d.jsx(Bf,{children:d.jsx(yU,{})})}),d.jsx(vr,{path:"/profile",element:d.jsx(Bf,{children:d.jsx(wU,{})})}),d.jsx(vr,{path:"/success",element:d.jsx(Bf,{children:d.jsx(xU,{})})}),d.jsx(vr,{path:"*",element:d.jsx(TU,{})})]})})]})}zf.createRoot(document.getElementById("root")).render(d.jsx(q.StrictMode,{children:d.jsx(bU,{})}));
