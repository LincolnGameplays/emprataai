(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();function ia(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Sp={exports:{}},Ec={},Ip={exports:{}},We={};var Dw;function hA(){if(Dw)return We;Dw=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.iterator;function x(T){return T===null||typeof T!="object"?null:(T=y&&T[y]||T["@@iterator"],typeof T=="function"?T:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,R={};function A(T,q,te){this.props=T,this.context=q,this.refs=R,this.updater=te||E}A.prototype.isReactComponent={},A.prototype.setState=function(T,q){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,q,"setState")},A.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function j(){}j.prototype=A.prototype;function F(T,q,te){this.props=T,this.context=q,this.refs=R,this.updater=te||E}var $=F.prototype=new j;$.constructor=F,S($,A.prototype),$.isPureReactComponent=!0;var Z=Array.isArray,Y=Object.prototype.hasOwnProperty,K={current:null},D={key:!0,ref:!0,__self:!0,__source:!0};function C(T,q,te){var ie,le={},pe=null,me=null;if(q!=null)for(ie in q.ref!==void 0&&(me=q.ref),q.key!==void 0&&(pe=""+q.key),q)Y.call(q,ie)&&!D.hasOwnProperty(ie)&&(le[ie]=q[ie]);var ce=arguments.length-2;if(ce===1)le.children=te;else if(1<ce){for(var Ce=Array(ce),Fe=0;Fe<ce;Fe++)Ce[Fe]=arguments[Fe+2];le.children=Ce}if(T&&T.defaultProps)for(ie in ce=T.defaultProps,ce)le[ie]===void 0&&(le[ie]=ce[ie]);return{$$typeof:t,type:T,key:pe,ref:me,props:le,_owner:K.current}}function M(T,q){return{$$typeof:t,type:T.type,key:q,ref:T.ref,props:T.props,_owner:T._owner}}function O(T){return typeof T=="object"&&T!==null&&T.$$typeof===t}function B(T){var q={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function(te){return q[te]})}var L=/\/+/g;function P(T,q){return typeof T=="object"&&T!==null&&T.key!=null?B(""+T.key):q.toString(36)}function be(T,q,te,ie,le){var pe=typeof T;(pe==="undefined"||pe==="boolean")&&(T=null);var me=!1;if(T===null)me=!0;else switch(pe){case"string":case"number":me=!0;break;case"object":switch(T.$$typeof){case t:case e:me=!0}}if(me)return me=T,le=le(me),T=ie===""?"."+P(me,0):ie,Z(le)?(te="",T!=null&&(te=T.replace(L,"$&/")+"/"),be(le,q,te,"",function(Fe){return Fe})):le!=null&&(O(le)&&(le=M(le,te+(!le.key||me&&me.key===le.key?"":(""+le.key).replace(L,"$&/")+"/")+T)),q.push(le)),1;if(me=0,ie=ie===""?".":ie+":",Z(T))for(var ce=0;ce<T.length;ce++){pe=T[ce];var Ce=ie+P(pe,ce);me+=be(pe,q,te,Ce,le)}else if(Ce=x(T),typeof Ce=="function")for(T=Ce.call(T),ce=0;!(pe=T.next()).done;)pe=pe.value,Ce=ie+P(pe,ce++),me+=be(pe,q,te,Ce,le);else if(pe==="object")throw q=String(T),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.");return me}function ne(T,q,te){if(T==null)return T;var ie=[],le=0;return be(T,ie,"","",function(pe){return q.call(te,pe,le++)}),ie}function re(T){if(T._status===-1){var q=T._result;q=q(),q.then(function(te){(T._status===0||T._status===-1)&&(T._status=1,T._result=te)},function(te){(T._status===0||T._status===-1)&&(T._status=2,T._result=te)}),T._status===-1&&(T._status=0,T._result=q)}if(T._status===1)return T._result.default;throw T._result}var ae={current:null},ee={transition:null},ye={ReactCurrentDispatcher:ae,ReactCurrentBatchConfig:ee,ReactCurrentOwner:K};function U(){throw Error("act(...) is not supported in production builds of React.")}return We.Children={map:ne,forEach:function(T,q,te){ne(T,function(){q.apply(this,arguments)},te)},count:function(T){var q=0;return ne(T,function(){q++}),q},toArray:function(T){return ne(T,function(q){return q})||[]},only:function(T){if(!O(T))throw Error("React.Children.only expected to receive a single React element child.");return T}},We.Component=A,We.Fragment=n,We.Profiler=s,We.PureComponent=F,We.StrictMode=r,We.Suspense=h,We.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ye,We.act=U,We.cloneElement=function(T,q,te){if(T==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+T+".");var ie=S({},T.props),le=T.key,pe=T.ref,me=T._owner;if(q!=null){if(q.ref!==void 0&&(pe=q.ref,me=K.current),q.key!==void 0&&(le=""+q.key),T.type&&T.type.defaultProps)var ce=T.type.defaultProps;for(Ce in q)Y.call(q,Ce)&&!D.hasOwnProperty(Ce)&&(ie[Ce]=q[Ce]===void 0&&ce!==void 0?ce[Ce]:q[Ce])}var Ce=arguments.length-2;if(Ce===1)ie.children=te;else if(1<Ce){ce=Array(Ce);for(var Fe=0;Fe<Ce;Fe++)ce[Fe]=arguments[Fe+2];ie.children=ce}return{$$typeof:t,type:T.type,key:le,ref:pe,props:ie,_owner:me}},We.createContext=function(T){return T={$$typeof:l,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},T.Provider={$$typeof:a,_context:T},T.Consumer=T},We.createElement=C,We.createFactory=function(T){var q=C.bind(null,T);return q.type=T,q},We.createRef=function(){return{current:null}},We.forwardRef=function(T){return{$$typeof:d,render:T}},We.isValidElement=O,We.lazy=function(T){return{$$typeof:g,_payload:{_status:-1,_result:T},_init:re}},We.memo=function(T,q){return{$$typeof:f,type:T,compare:q===void 0?null:q}},We.startTransition=function(T){var q=ee.transition;ee.transition={};try{T()}finally{ee.transition=q}},We.unstable_act=U,We.useCallback=function(T,q){return ae.current.useCallback(T,q)},We.useContext=function(T){return ae.current.useContext(T)},We.useDebugValue=function(){},We.useDeferredValue=function(T){return ae.current.useDeferredValue(T)},We.useEffect=function(T,q){return ae.current.useEffect(T,q)},We.useId=function(){return ae.current.useId()},We.useImperativeHandle=function(T,q,te){return ae.current.useImperativeHandle(T,q,te)},We.useInsertionEffect=function(T,q){return ae.current.useInsertionEffect(T,q)},We.useLayoutEffect=function(T,q){return ae.current.useLayoutEffect(T,q)},We.useMemo=function(T,q){return ae.current.useMemo(T,q)},We.useReducer=function(T,q,te){return ae.current.useReducer(T,q,te)},We.useRef=function(T){return ae.current.useRef(T)},We.useState=function(T){return ae.current.useState(T)},We.useSyncExternalStore=function(T,q,te){return ae.current.useSyncExternalStore(T,q,te)},We.useTransition=function(){return ae.current.useTransition()},We.version="18.3.1",We}var Mw;function _u(){return Mw||(Mw=1,Ip.exports=hA()),Ip.exports}var Ow;function fA(){if(Ow)return Ec;Ow=1;var t=_u(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(d,h,f){var g,y={},x=null,E=null;f!==void 0&&(x=""+f),h.key!==void 0&&(x=""+h.key),h.ref!==void 0&&(E=h.ref);for(g in h)r.call(h,g)&&!a.hasOwnProperty(g)&&(y[g]=h[g]);if(d&&d.defaultProps)for(g in h=d.defaultProps,h)y[g]===void 0&&(y[g]=h[g]);return{$$typeof:e,type:d,key:x,ref:E,props:y,_owner:s.current}}return Ec.Fragment=n,Ec.jsx=l,Ec.jsxs=l,Ec}var Lw;function mA(){return Lw||(Lw=1,Sp.exports=fA()),Sp.exports}var c=mA(),N=_u();const fe=ia(N);var Jd={},Cp={exports:{}},$n={},Np={exports:{}},Ap={};var Vw;function pA(){return Vw||(Vw=1,(function(t){function e(ee,ye){var U=ee.length;ee.push(ye);e:for(;0<U;){var T=U-1>>>1,q=ee[T];if(0<s(q,ye))ee[T]=ye,ee[U]=q,U=T;else break e}}function n(ee){return ee.length===0?null:ee[0]}function r(ee){if(ee.length===0)return null;var ye=ee[0],U=ee.pop();if(U!==ye){ee[0]=U;e:for(var T=0,q=ee.length,te=q>>>1;T<te;){var ie=2*(T+1)-1,le=ee[ie],pe=ie+1,me=ee[pe];if(0>s(le,U))pe<q&&0>s(me,le)?(ee[T]=me,ee[pe]=U,T=pe):(ee[T]=le,ee[ie]=U,T=ie);else if(pe<q&&0>s(me,U))ee[T]=me,ee[pe]=U,T=pe;else break e}}return ye}function s(ee,ye){var U=ee.sortIndex-ye.sortIndex;return U!==0?U:ee.id-ye.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var l=Date,d=l.now();t.unstable_now=function(){return l.now()-d}}var h=[],f=[],g=1,y=null,x=3,E=!1,S=!1,R=!1,A=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function $(ee){for(var ye=n(f);ye!==null;){if(ye.callback===null)r(f);else if(ye.startTime<=ee)r(f),ye.sortIndex=ye.expirationTime,e(h,ye);else break;ye=n(f)}}function Z(ee){if(R=!1,$(ee),!S)if(n(h)!==null)S=!0,re(Y);else{var ye=n(f);ye!==null&&ae(Z,ye.startTime-ee)}}function Y(ee,ye){S=!1,R&&(R=!1,j(C),C=-1),E=!0;var U=x;try{for($(ye),y=n(h);y!==null&&(!(y.expirationTime>ye)||ee&&!B());){var T=y.callback;if(typeof T=="function"){y.callback=null,x=y.priorityLevel;var q=T(y.expirationTime<=ye);ye=t.unstable_now(),typeof q=="function"?y.callback=q:y===n(h)&&r(h),$(ye)}else r(h);y=n(h)}if(y!==null)var te=!0;else{var ie=n(f);ie!==null&&ae(Z,ie.startTime-ye),te=!1}return te}finally{y=null,x=U,E=!1}}var K=!1,D=null,C=-1,M=5,O=-1;function B(){return!(t.unstable_now()-O<M)}function L(){if(D!==null){var ee=t.unstable_now();O=ee;var ye=!0;try{ye=D(!0,ee)}finally{ye?P():(K=!1,D=null)}}else K=!1}var P;if(typeof F=="function")P=function(){F(L)};else if(typeof MessageChannel<"u"){var be=new MessageChannel,ne=be.port2;be.port1.onmessage=L,P=function(){ne.postMessage(null)}}else P=function(){A(L,0)};function re(ee){D=ee,K||(K=!0,P())}function ae(ee,ye){C=A(function(){ee(t.unstable_now())},ye)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ee){ee.callback=null},t.unstable_continueExecution=function(){S||E||(S=!0,re(Y))},t.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<ee?Math.floor(1e3/ee):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_getFirstCallbackNode=function(){return n(h)},t.unstable_next=function(ee){switch(x){case 1:case 2:case 3:var ye=3;break;default:ye=x}var U=x;x=ye;try{return ee()}finally{x=U}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(ee,ye){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var U=x;x=ee;try{return ye()}finally{x=U}},t.unstable_scheduleCallback=function(ee,ye,U){var T=t.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?T+U:T):U=T,ee){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=U+q,ee={id:g++,callback:ye,priorityLevel:ee,startTime:U,expirationTime:q,sortIndex:-1},U>T?(ee.sortIndex=U,e(f,ee),n(h)===null&&ee===n(f)&&(R?(j(C),C=-1):R=!0,ae(Z,U-T))):(ee.sortIndex=q,e(h,ee),S||E||(S=!0,re(Y))),ee},t.unstable_shouldYield=B,t.unstable_wrapCallback=function(ee){var ye=x;return function(){var U=x;x=ye;try{return ee.apply(this,arguments)}finally{x=U}}}})(Ap)),Ap}var Fw;function gA(){return Fw||(Fw=1,Np.exports=pA()),Np.exports}var Uw;function yA(){if(Uw)return $n;Uw=1;var t=_u(),e=gA();function n(i){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+i,u=1;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function a(i,o){l(i,o),l(i+"Capture",o)}function l(i,o){for(s[i]=o,i=0;i<o.length;i++)r.add(o[i])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},y={};function x(i){return h.call(y,i)?!0:h.call(g,i)?!1:f.test(i)?y[i]=!0:(g[i]=!0,!1)}function E(i,o,u,p){if(u!==null&&u.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return p?!1:u!==null?!u.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function S(i,o,u,p){if(o===null||typeof o>"u"||E(i,o,u,p))return!0;if(p)return!1;if(u!==null)switch(u.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function R(i,o,u,p,v,w,I){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=p,this.attributeNamespace=v,this.mustUseProperty=u,this.propertyName=i,this.type=o,this.sanitizeURL=w,this.removeEmptyString=I}var A={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){A[i]=new R(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var o=i[0];A[o]=new R(o,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){A[i]=new R(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){A[i]=new R(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){A[i]=new R(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){A[i]=new R(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){A[i]=new R(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){A[i]=new R(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){A[i]=new R(i,5,!1,i.toLowerCase(),null,!1,!1)});var j=/[\-:]([a-z])/g;function F(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var o=i.replace(j,F);A[o]=new R(o,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var o=i.replace(j,F);A[o]=new R(o,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var o=i.replace(j,F);A[o]=new R(o,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){A[i]=new R(i,1,!1,i.toLowerCase(),null,!1,!1)}),A.xlinkHref=new R("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){A[i]=new R(i,1,!1,i.toLowerCase(),null,!0,!0)});function $(i,o,u,p){var v=A.hasOwnProperty(o)?A[o]:null;(v!==null?v.type!==0:p||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(S(o,u,v,p)&&(u=null),p||v===null?x(o)&&(u===null?i.removeAttribute(o):i.setAttribute(o,""+u)):v.mustUseProperty?i[v.propertyName]=u===null?v.type===3?!1:"":u:(o=v.attributeName,p=v.attributeNamespace,u===null?i.removeAttribute(o):(v=v.type,u=v===3||v===4&&u===!0?"":""+u,p?i.setAttributeNS(p,o,u):i.setAttribute(o,u))))}var Z=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Y=Symbol.for("react.element"),K=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),O=Symbol.for("react.provider"),B=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),be=Symbol.for("react.suspense_list"),ne=Symbol.for("react.memo"),re=Symbol.for("react.lazy"),ae=Symbol.for("react.offscreen"),ee=Symbol.iterator;function ye(i){return i===null||typeof i!="object"?null:(i=ee&&i[ee]||i["@@iterator"],typeof i=="function"?i:null)}var U=Object.assign,T;function q(i){if(T===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);T=o&&o[1]||""}return`
`+T+i}var te=!1;function ie(i,o){if(!i||te)return"";te=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(X){var p=X}Reflect.construct(i,[],o)}else{try{o.call()}catch(X){p=X}i.call(o.prototype)}else{try{throw Error()}catch(X){p=X}i()}}catch(X){if(X&&p&&typeof X.stack=="string"){for(var v=X.stack.split(`
`),w=p.stack.split(`
`),I=v.length-1,V=w.length-1;1<=I&&0<=V&&v[I]!==w[V];)V--;for(;1<=I&&0<=V;I--,V--)if(v[I]!==w[V]){if(I!==1||V!==1)do if(I--,V--,0>V||v[I]!==w[V]){var z=`
`+v[I].replace(" at new "," at ");return i.displayName&&z.includes("<anonymous>")&&(z=z.replace("<anonymous>",i.displayName)),z}while(1<=I&&0<=V);break}}}finally{te=!1,Error.prepareStackTrace=u}return(i=i?i.displayName||i.name:"")?q(i):""}function le(i){switch(i.tag){case 5:return q(i.type);case 16:return q("Lazy");case 13:return q("Suspense");case 19:return q("SuspenseList");case 0:case 2:case 15:return i=ie(i.type,!1),i;case 11:return i=ie(i.type.render,!1),i;case 1:return i=ie(i.type,!0),i;default:return""}}function pe(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case D:return"Fragment";case K:return"Portal";case M:return"Profiler";case C:return"StrictMode";case P:return"Suspense";case be:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case B:return(i.displayName||"Context")+".Consumer";case O:return(i._context.displayName||"Context")+".Provider";case L:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case ne:return o=i.displayName||null,o!==null?o:pe(i.type)||"Memo";case re:o=i._payload,i=i._init;try{return pe(i(o))}catch{}}return null}function me(i){var o=i.type;switch(i.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=o.render,i=i.displayName||i.name||"",o.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return pe(o);case 8:return o===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function ce(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Ce(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Fe(i){var o=Ce(i)?"checked":"value",u=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),p=""+i[o];if(!i.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var v=u.get,w=u.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return v.call(this)},set:function(I){p=""+I,w.call(this,I)}}),Object.defineProperty(i,o,{enumerable:u.enumerable}),{getValue:function(){return p},setValue:function(I){p=""+I},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function $e(i){i._valueTracker||(i._valueTracker=Fe(i))}function He(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var u=o.getValue(),p="";return i&&(p=Ce(i)?i.checked?"true":"false":i.value),i=p,i!==u?(o.setValue(i),!0):!1}function tt(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function Le(i,o){var u=o.checked;return U({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??i._wrapperState.initialChecked})}function ct(i,o){var u=o.defaultValue==null?"":o.defaultValue,p=o.checked!=null?o.checked:o.defaultChecked;u=ce(o.value!=null?o.value:u),i._wrapperState={initialChecked:p,initialValue:u,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function At(i,o){o=o.checked,o!=null&&$(i,"checked",o,!1)}function ht(i,o){At(i,o);var u=ce(o.value),p=o.type;if(u!=null)p==="number"?(u===0&&i.value===""||i.value!=u)&&(i.value=""+u):i.value!==""+u&&(i.value=""+u);else if(p==="submit"||p==="reset"){i.removeAttribute("value");return}o.hasOwnProperty("value")?qe(i,o.type,u):o.hasOwnProperty("defaultValue")&&qe(i,o.type,ce(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(i.defaultChecked=!!o.defaultChecked)}function Kt(i,o,u){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var p=o.type;if(!(p!=="submit"&&p!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+i._wrapperState.initialValue,u||o===i.value||(i.value=o),i.defaultValue=o}u=i.name,u!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,u!==""&&(i.name=u)}function qe(i,o,u){(o!=="number"||tt(i.ownerDocument)!==i)&&(u==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+u&&(i.defaultValue=""+u))}var Je=Array.isArray;function Nn(i,o,u,p){if(i=i.options,o){o={};for(var v=0;v<u.length;v++)o["$"+u[v]]=!0;for(u=0;u<i.length;u++)v=o.hasOwnProperty("$"+i[u].value),i[u].selected!==v&&(i[u].selected=v),v&&p&&(i[u].defaultSelected=!0)}else{for(u=""+ce(u),o=null,v=0;v<i.length;v++){if(i[v].value===u){i[v].selected=!0,p&&(i[v].defaultSelected=!0);return}o!==null||i[v].disabled||(o=i[v])}o!==null&&(o.selected=!0)}}function kt(i,o){if(o.dangerouslySetInnerHTML!=null)throw Error(n(91));return U({},o,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function On(i,o){var u=o.value;if(u==null){if(u=o.children,o=o.defaultValue,u!=null){if(o!=null)throw Error(n(92));if(Je(u)){if(1<u.length)throw Error(n(93));u=u[0]}o=u}o==null&&(o=""),u=o}i._wrapperState={initialValue:ce(u)}}function As(i,o){var u=ce(o.value),p=ce(o.defaultValue);u!=null&&(u=""+u,u!==i.value&&(i.value=u),o.defaultValue==null&&i.defaultValue!==u&&(i.defaultValue=u)),p!=null&&(i.defaultValue=""+p)}function fr(i){var o=i.textContent;o===i._wrapperState.initialValue&&o!==""&&o!==null&&(i.value=o)}function Kn(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Xr(i,o){return i==null||i==="http://www.w3.org/1999/xhtml"?Kn(o):i==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var Qn,jr=(function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,u,p,v){MSApp.execUnsafeLocalFunction(function(){return i(o,u,p,v)})}:i})(function(i,o){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=o;else{for(Qn=Qn||document.createElement("div"),Qn.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=Qn.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;o.firstChild;)i.appendChild(o.firstChild)}});function sn(i,o){if(o){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=o;return}}i.textContent=o}var An={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Yn=["Webkit","ms","Moz","O"];Object.keys(An).forEach(function(i){Yn.forEach(function(o){o=o+i.charAt(0).toUpperCase()+i.substring(1),An[o]=An[i]})});function mr(i,o,u){return o==null||typeof o=="boolean"||o===""?"":u||typeof o!="number"||o===0||An.hasOwnProperty(i)&&An[i]?(""+o).trim():o+"px"}function ci(i,o){i=i.style;for(var u in o)if(o.hasOwnProperty(u)){var p=u.indexOf("--")===0,v=mr(u,o[u],p);u==="float"&&(u="cssFloat"),p?i.setProperty(u,v):i[u]=v}}var ui=U({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ln(i,o){if(o){if(ui[i]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(n(137,i));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(n(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(n(61))}if(o.style!=null&&typeof o.style!="object")throw Error(n(62))}}function di(i,o){if(i.indexOf("-")===-1)return typeof o.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pr=null;function kn(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Dr=null,Mr=null,ft=null;function hi(i){if(i=lc(i)){if(typeof Dr!="function")throw Error(n(280));var o=i.stateNode;o&&(o=fd(o),Dr(i.stateNode,i.type,o))}}function je(i){Mr?ft?ft.push(i):ft=[i]:Mr=i}function at(){if(Mr){var i=Mr,o=ft;if(ft=Mr=null,hi(i),o)for(i=0;i<o.length;i++)hi(o[i])}}function Rt(i,o){return i(o)}function Qt(){}var Rn=!1;function Tt(i,o,u){if(Rn)return i(o,u);Rn=!0;try{return Rt(i,o,u)}finally{Rn=!1,(Mr!==null||ft!==null)&&(Qt(),at())}}function Ot(i,o){var u=i.stateNode;if(u===null)return null;var p=fd(u);if(p===null)return null;u=p[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(i=i.type,p=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!p;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(n(231,o,typeof u));return u}var Xn=!1;if(d)try{var Lt={};Object.defineProperty(Lt,"passive",{get:function(){Xn=!0}}),window.addEventListener("test",Lt,Lt),window.removeEventListener("test",Lt,Lt)}catch{Xn=!1}function mn(i,o,u,p,v,w,I,V,z){var X=Array.prototype.slice.call(arguments,3);try{o.apply(u,X)}catch(de){this.onError(de)}}var gr=!1,Yt=null,ho=!1,yr=null,qu={onError:function(i){gr=!0,Yt=i}};function Wu(i,o,u,p,v,w,I,V,z){gr=!1,Yt=null,mn.apply(qu,arguments)}function Ol(i,o,u,p,v,w,I,V,z){if(Wu.apply(this,arguments),gr){if(gr){var X=Yt;gr=!1,Yt=null}else throw Error(n(198));ho||(ho=!0,yr=X)}}function Or(i){var o=i,u=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(u=o.return),i=o.return;while(i)}return o.tag===3?u:null}function Ll(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function Gu(i){if(Or(i)!==i)throw Error(n(188))}function Ku(i){var o=i.alternate;if(!o){if(o=Or(i),o===null)throw Error(n(188));return o!==i?null:i}for(var u=i,p=o;;){var v=u.return;if(v===null)break;var w=v.alternate;if(w===null){if(p=v.return,p!==null){u=p;continue}break}if(v.child===w.child){for(w=v.child;w;){if(w===u)return Gu(v),i;if(w===p)return Gu(v),o;w=w.sibling}throw Error(n(188))}if(u.return!==p.return)u=v,p=w;else{for(var I=!1,V=v.child;V;){if(V===u){I=!0,u=v,p=w;break}if(V===p){I=!0,p=v,u=w;break}V=V.sibling}if(!I){for(V=w.child;V;){if(V===u){I=!0,u=w,p=v;break}if(V===p){I=!0,p=w,u=v;break}V=V.sibling}if(!I)throw Error(n(189))}}if(u.alternate!==p)throw Error(n(190))}if(u.tag!==3)throw Error(n(188));return u.stateNode.current===u?i:o}function Qu(i){return i=Ku(i),i!==null?fo(i):null}function fo(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var o=fo(i);if(o!==null)return o;i=i.sibling}return null}var Vl=e.unstable_scheduleCallback,ca=e.unstable_cancelCallback,mo=e.unstable_shouldYield,ks=e.unstable_requestPaint,mt=e.unstable_now,nm=e.unstable_getCurrentPriorityLevel,ua=e.unstable_ImmediatePriority,Fl=e.unstable_UserBlockingPriority,po=e.unstable_NormalPriority,Ul=e.unstable_LowPriority,da=e.unstable_IdlePriority,go=null,Jn=null;function Yu(i){if(Jn&&typeof Jn.onCommitFiberRoot=="function")try{Jn.onCommitFiberRoot(go,i,void 0,(i.current.flags&128)===128)}catch{}}var Zn=Math.clz32?Math.clz32:yo,Jr=Math.log,vr=Math.LN2;function yo(i){return i>>>=0,i===0?32:31-(Jr(i)/vr|0)|0}var Zr=64,fi=4194304;function rt(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function Rs(i,o){var u=i.pendingLanes;if(u===0)return 0;var p=0,v=i.suspendedLanes,w=i.pingedLanes,I=u&268435455;if(I!==0){var V=I&~v;V!==0?p=rt(V):(w&=I,w!==0&&(p=rt(w)))}else I=u&~v,I!==0?p=rt(I):w!==0&&(p=rt(w));if(p===0)return 0;if(o!==0&&o!==p&&(o&v)===0&&(v=p&-p,w=o&-o,v>=w||v===16&&(w&4194240)!==0))return o;if((p&4)!==0&&(p|=u&16),o=i.entangledLanes,o!==0)for(i=i.entanglements,o&=p;0<o;)u=31-Zn(o),v=1<<u,p|=i[u],o&=~v;return p}function vo(i,o){switch(i){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xo(i,o){for(var u=i.suspendedLanes,p=i.pingedLanes,v=i.expirationTimes,w=i.pendingLanes;0<w;){var I=31-Zn(w),V=1<<I,z=v[I];z===-1?((V&u)===0||(V&p)!==0)&&(v[I]=vo(V,o)):z<=o&&(i.expiredLanes|=V),w&=~V}}function Bl(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function zl(){var i=Zr;return Zr<<=1,(Zr&4194240)===0&&(Zr=64),i}function $l(i){for(var o=[],u=0;31>u;u++)o.push(i);return o}function wo(i,o,u){i.pendingLanes|=o,o!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,o=31-Zn(o),i[o]=u}function rm(i,o){var u=i.pendingLanes&~o;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=o,i.mutableReadLanes&=o,i.entangledLanes&=o,o=i.entanglements;var p=i.eventTimes;for(i=i.expirationTimes;0<u;){var v=31-Zn(u),w=1<<v;o[v]=0,p[v]=-1,i[v]=-1,u&=~w}}function Hl(i,o){var u=i.entangledLanes|=o;for(i=i.entanglements;u;){var p=31-Zn(u),v=1<<p;v&o|i[p]&o&&(i[p]|=o),u&=~v}}var Xe=0;function es(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var ql,ha,Wl,Gl,Kl,ts=!1,fa=[],ns=null,rs=null,on=null,bo=new Map,Ps=new Map,er=[],Xu="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function mi(i,o){switch(i){case"focusin":case"focusout":ns=null;break;case"dragenter":case"dragleave":rs=null;break;case"mouseover":case"mouseout":on=null;break;case"pointerover":case"pointerout":bo.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ps.delete(o.pointerId)}}function Lr(i,o,u,p,v,w){return i===null||i.nativeEvent!==w?(i={blockedOn:o,domEventName:u,eventSystemFlags:p,nativeEvent:w,targetContainers:[v]},o!==null&&(o=lc(o),o!==null&&ha(o)),i):(i.eventSystemFlags|=p,o=i.targetContainers,v!==null&&o.indexOf(v)===-1&&o.push(v),i)}function Ju(i,o,u,p,v){switch(o){case"focusin":return ns=Lr(ns,i,o,u,p,v),!0;case"dragenter":return rs=Lr(rs,i,o,u,p,v),!0;case"mouseover":return on=Lr(on,i,o,u,p,v),!0;case"pointerover":var w=v.pointerId;return bo.set(w,Lr(bo.get(w)||null,i,o,u,p,v)),!0;case"gotpointercapture":return w=v.pointerId,Ps.set(w,Lr(Ps.get(w)||null,i,o,u,p,v)),!0}return!1}function ma(i){var o=So(i.target);if(o!==null){var u=Or(o);if(u!==null){if(o=u.tag,o===13){if(o=Ll(u),o!==null){i.blockedOn=o,Kl(i.priority,function(){Wl(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function lt(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var u=pa(i.domEventName,i.eventSystemFlags,o[0],i.nativeEvent);if(u===null){u=i.nativeEvent;var p=new u.constructor(u.type,u);pr=p,u.target.dispatchEvent(p),pr=null}else return o=lc(u),o!==null&&ha(o),i.blockedOn=u,!1;o.shift()}return!0}function Zu(i,o,u){lt(i)&&u.delete(o)}function sm(){ts=!1,ns!==null&&lt(ns)&&(ns=null),rs!==null&&lt(rs)&&(rs=null),on!==null&&lt(on)&&(on=null),bo.forEach(Zu),Ps.forEach(Zu)}function pi(i,o){i.blockedOn===o&&(i.blockedOn=null,ts||(ts=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,sm)))}function gi(i){function o(v){return pi(v,i)}if(0<fa.length){pi(fa[0],i);for(var u=1;u<fa.length;u++){var p=fa[u];p.blockedOn===i&&(p.blockedOn=null)}}for(ns!==null&&pi(ns,i),rs!==null&&pi(rs,i),on!==null&&pi(on,i),bo.forEach(o),Ps.forEach(o),u=0;u<er.length;u++)p=er[u],p.blockedOn===i&&(p.blockedOn=null);for(;0<er.length&&(u=er[0],u.blockedOn===null);)ma(u),u.blockedOn===null&&er.shift()}var js=Z.ReactCurrentBatchConfig,Ds=!0;function ss(i,o,u,p){var v=Xe,w=js.transition;js.transition=null;try{Xe=1,Ql(i,o,u,p)}finally{Xe=v,js.transition=w}}function ed(i,o,u,p){var v=Xe,w=js.transition;js.transition=null;try{Xe=4,Ql(i,o,u,p)}finally{Xe=v,js.transition=w}}function Ql(i,o,u,p){if(Ds){var v=pa(i,o,u,p);if(v===null)pm(i,o,p,is,u),mi(i,p);else if(Ju(v,i,o,u,p))p.stopPropagation();else if(mi(i,p),o&4&&-1<Xu.indexOf(i)){for(;v!==null;){var w=lc(v);if(w!==null&&ql(w),w=pa(i,o,u,p),w===null&&pm(i,o,p,is,u),w===v)break;v=w}v!==null&&p.stopPropagation()}else pm(i,o,p,null,u)}}var is=null;function pa(i,o,u,p){if(is=null,i=kn(p),i=So(i),i!==null)if(o=Or(i),o===null)i=null;else if(u=o.tag,u===13){if(i=Ll(o),i!==null)return i;i=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null);return is=i,null}function ga(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(nm()){case ua:return 1;case Fl:return 4;case po:case Ul:return 16;case da:return 536870912;default:return 16}default:return 16}}var tr=null,ya=null,Ms=null;function td(){if(Ms)return Ms;var i,o=ya,u=o.length,p,v="value"in tr?tr.value:tr.textContent,w=v.length;for(i=0;i<u&&o[i]===v[i];i++);var I=u-i;for(p=1;p<=I&&o[u-p]===v[w-p];p++);return Ms=v.slice(i,1<p?1-p:void 0)}function _o(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function os(){return!0}function Yl(){return!1}function pn(i){function o(u,p,v,w,I){this._reactName=u,this._targetInst=v,this.type=p,this.nativeEvent=w,this.target=I,this.currentTarget=null;for(var V in i)i.hasOwnProperty(V)&&(u=i[V],this[V]=u?u(w):w[V]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?os:Yl,this.isPropagationStopped=Yl,this}return U(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=os)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=os)},persist:function(){},isPersistent:os}),o}var as={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Eo=pn(as),yi=U({},as,{view:0,detail:0}),va=pn(yi),xa,wa,nr,To=U({},yi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Be,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==nr&&(nr&&i.type==="mousemove"?(xa=i.screenX-nr.screenX,wa=i.screenY-nr.screenY):wa=xa=0,nr=i),xa)},movementY:function(i){return"movementY"in i?i.movementY:wa}}),Xl=pn(To),nd=U({},To,{dataTransfer:0}),rd=pn(nd),ba=U({},yi,{relatedTarget:0}),an=pn(ba),sd=U({},as,{animationName:0,elapsedTime:0,pseudoElement:0}),id=pn(sd),vi=U({},as,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),m=pn(vi),b=U({},as,{data:0}),_=pn(b),k={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},G={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},J={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ve(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=J[i])?!!o[i]:!1}function Be(){return ve}var Pt=U({},yi,{key:function(i){if(i.key){var o=k[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=_o(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?G[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Be,charCode:function(i){return i.type==="keypress"?_o(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?_o(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),ot=pn(Pt),Vt=U({},To,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rr=pn(Vt),Os=U({},yi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Be}),ls=pn(Os),cs=U({},as,{propertyName:0,elapsedTime:0,pseudoElement:0}),_a=pn(cs),Jl=U({},To,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),oN=pn(Jl),aN=[9,13,27,32],im=d&&"CompositionEvent"in window,Zl=null;d&&"documentMode"in document&&(Zl=document.documentMode);var lN=d&&"TextEvent"in window&&!Zl,Iv=d&&(!im||Zl&&8<Zl&&11>=Zl),Cv=" ",Nv=!1;function Av(i,o){switch(i){case"keyup":return aN.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function kv(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Ea=!1;function cN(i,o){switch(i){case"compositionend":return kv(o);case"keypress":return o.which!==32?null:(Nv=!0,Cv);case"textInput":return i=o.data,i===Cv&&Nv?null:i;default:return null}}function uN(i,o){if(Ea)return i==="compositionend"||!im&&Av(i,o)?(i=td(),Ms=ya=tr=null,Ea=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Iv&&o.locale!=="ko"?null:o.data;default:return null}}var dN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rv(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!dN[i.type]:o==="textarea"}function Pv(i,o,u,p){je(p),o=ud(o,"onChange"),0<o.length&&(u=new Eo("onChange","change",null,u,p),i.push({event:u,listeners:o}))}var ec=null,tc=null;function hN(i){Yv(i,0)}function od(i){var o=Na(i);if(He(o))return i}function fN(i,o){if(i==="change")return o}var jv=!1;if(d){var om;if(d){var am="oninput"in document;if(!am){var Dv=document.createElement("div");Dv.setAttribute("oninput","return;"),am=typeof Dv.oninput=="function"}om=am}else om=!1;jv=om&&(!document.documentMode||9<document.documentMode)}function Mv(){ec&&(ec.detachEvent("onpropertychange",Ov),tc=ec=null)}function Ov(i){if(i.propertyName==="value"&&od(tc)){var o=[];Pv(o,tc,i,kn(i)),Tt(hN,o)}}function mN(i,o,u){i==="focusin"?(Mv(),ec=o,tc=u,ec.attachEvent("onpropertychange",Ov)):i==="focusout"&&Mv()}function pN(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return od(tc)}function gN(i,o){if(i==="click")return od(o)}function yN(i,o){if(i==="input"||i==="change")return od(o)}function vN(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var Vr=typeof Object.is=="function"?Object.is:vN;function nc(i,o){if(Vr(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var u=Object.keys(i),p=Object.keys(o);if(u.length!==p.length)return!1;for(p=0;p<u.length;p++){var v=u[p];if(!h.call(o,v)||!Vr(i[v],o[v]))return!1}return!0}function Lv(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Vv(i,o){var u=Lv(i);i=0;for(var p;u;){if(u.nodeType===3){if(p=i+u.textContent.length,i<=o&&p>=o)return{node:u,offset:o-i};i=p}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=Lv(u)}}function Fv(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?Fv(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function Uv(){for(var i=window,o=tt();o instanceof i.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)i=o.contentWindow;else break;o=tt(i.document)}return o}function lm(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}function xN(i){var o=Uv(),u=i.focusedElem,p=i.selectionRange;if(o!==u&&u&&u.ownerDocument&&Fv(u.ownerDocument.documentElement,u)){if(p!==null&&lm(u)){if(o=p.start,i=p.end,i===void 0&&(i=o),"selectionStart"in u)u.selectionStart=o,u.selectionEnd=Math.min(i,u.value.length);else if(i=(o=u.ownerDocument||document)&&o.defaultView||window,i.getSelection){i=i.getSelection();var v=u.textContent.length,w=Math.min(p.start,v);p=p.end===void 0?w:Math.min(p.end,v),!i.extend&&w>p&&(v=p,p=w,w=v),v=Vv(u,w);var I=Vv(u,p);v&&I&&(i.rangeCount!==1||i.anchorNode!==v.node||i.anchorOffset!==v.offset||i.focusNode!==I.node||i.focusOffset!==I.offset)&&(o=o.createRange(),o.setStart(v.node,v.offset),i.removeAllRanges(),w>p?(i.addRange(o),i.extend(I.node,I.offset)):(o.setEnd(I.node,I.offset),i.addRange(o)))}}for(o=[],i=u;i=i.parentNode;)i.nodeType===1&&o.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<o.length;u++)i=o[u],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var wN=d&&"documentMode"in document&&11>=document.documentMode,Ta=null,cm=null,rc=null,um=!1;function Bv(i,o,u){var p=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;um||Ta==null||Ta!==tt(p)||(p=Ta,"selectionStart"in p&&lm(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),rc&&nc(rc,p)||(rc=p,p=ud(cm,"onSelect"),0<p.length&&(o=new Eo("onSelect","select",null,o,u),i.push({event:o,listeners:p}),o.target=Ta)))}function ad(i,o){var u={};return u[i.toLowerCase()]=o.toLowerCase(),u["Webkit"+i]="webkit"+o,u["Moz"+i]="moz"+o,u}var Sa={animationend:ad("Animation","AnimationEnd"),animationiteration:ad("Animation","AnimationIteration"),animationstart:ad("Animation","AnimationStart"),transitionend:ad("Transition","TransitionEnd")},dm={},zv={};d&&(zv=document.createElement("div").style,"AnimationEvent"in window||(delete Sa.animationend.animation,delete Sa.animationiteration.animation,delete Sa.animationstart.animation),"TransitionEvent"in window||delete Sa.transitionend.transition);function ld(i){if(dm[i])return dm[i];if(!Sa[i])return i;var o=Sa[i],u;for(u in o)if(o.hasOwnProperty(u)&&u in zv)return dm[i]=o[u];return i}var $v=ld("animationend"),Hv=ld("animationiteration"),qv=ld("animationstart"),Wv=ld("transitionend"),Gv=new Map,Kv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function xi(i,o){Gv.set(i,o),a(o,[i])}for(var hm=0;hm<Kv.length;hm++){var fm=Kv[hm],bN=fm.toLowerCase(),_N=fm[0].toUpperCase()+fm.slice(1);xi(bN,"on"+_N)}xi($v,"onAnimationEnd"),xi(Hv,"onAnimationIteration"),xi(qv,"onAnimationStart"),xi("dblclick","onDoubleClick"),xi("focusin","onFocus"),xi("focusout","onBlur"),xi(Wv,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var sc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),EN=new Set("cancel close invalid load scroll toggle".split(" ").concat(sc));function Qv(i,o,u){var p=i.type||"unknown-event";i.currentTarget=u,Ol(p,o,void 0,i),i.currentTarget=null}function Yv(i,o){o=(o&4)!==0;for(var u=0;u<i.length;u++){var p=i[u],v=p.event;p=p.listeners;e:{var w=void 0;if(o)for(var I=p.length-1;0<=I;I--){var V=p[I],z=V.instance,X=V.currentTarget;if(V=V.listener,z!==w&&v.isPropagationStopped())break e;Qv(v,V,X),w=z}else for(I=0;I<p.length;I++){if(V=p[I],z=V.instance,X=V.currentTarget,V=V.listener,z!==w&&v.isPropagationStopped())break e;Qv(v,V,X),w=z}}}if(ho)throw i=yr,ho=!1,yr=null,i}function pt(i,o){var u=o[bm];u===void 0&&(u=o[bm]=new Set);var p=i+"__bubble";u.has(p)||(Xv(o,i,2,!1),u.add(p))}function mm(i,o,u){var p=0;o&&(p|=4),Xv(u,i,p,o)}var cd="_reactListening"+Math.random().toString(36).slice(2);function ic(i){if(!i[cd]){i[cd]=!0,r.forEach(function(u){u!=="selectionchange"&&(EN.has(u)||mm(u,!1,i),mm(u,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[cd]||(o[cd]=!0,mm("selectionchange",!1,o))}}function Xv(i,o,u,p){switch(ga(o)){case 1:var v=ss;break;case 4:v=ed;break;default:v=Ql}u=v.bind(null,o,u,i),v=void 0,!Xn||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(v=!0),p?v!==void 0?i.addEventListener(o,u,{capture:!0,passive:v}):i.addEventListener(o,u,!0):v!==void 0?i.addEventListener(o,u,{passive:v}):i.addEventListener(o,u,!1)}function pm(i,o,u,p,v){var w=p;if((o&1)===0&&(o&2)===0&&p!==null)e:for(;;){if(p===null)return;var I=p.tag;if(I===3||I===4){var V=p.stateNode.containerInfo;if(V===v||V.nodeType===8&&V.parentNode===v)break;if(I===4)for(I=p.return;I!==null;){var z=I.tag;if((z===3||z===4)&&(z=I.stateNode.containerInfo,z===v||z.nodeType===8&&z.parentNode===v))return;I=I.return}for(;V!==null;){if(I=So(V),I===null)return;if(z=I.tag,z===5||z===6){p=w=I;continue e}V=V.parentNode}}p=p.return}Tt(function(){var X=w,de=kn(u),he=[];e:{var ue=Gv.get(i);if(ue!==void 0){var _e=Eo,Ie=i;switch(i){case"keypress":if(_o(u)===0)break e;case"keydown":case"keyup":_e=ot;break;case"focusin":Ie="focus",_e=an;break;case"focusout":Ie="blur",_e=an;break;case"beforeblur":case"afterblur":_e=an;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_e=Xl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_e=rd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_e=ls;break;case $v:case Hv:case qv:_e=id;break;case Wv:_e=_a;break;case"scroll":_e=va;break;case"wheel":_e=oN;break;case"copy":case"cut":case"paste":_e=m;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_e=rr}var Ne=(o&4)!==0,jt=!Ne&&i==="scroll",W=Ne?ue!==null?ue+"Capture":null:ue;Ne=[];for(var H=X,Q;H!==null;){Q=H;var ge=Q.stateNode;if(Q.tag===5&&ge!==null&&(Q=ge,W!==null&&(ge=Ot(H,W),ge!=null&&Ne.push(oc(H,ge,Q)))),jt)break;H=H.return}0<Ne.length&&(ue=new _e(ue,Ie,null,u,de),he.push({event:ue,listeners:Ne}))}}if((o&7)===0){e:{if(ue=i==="mouseover"||i==="pointerover",_e=i==="mouseout"||i==="pointerout",ue&&u!==pr&&(Ie=u.relatedTarget||u.fromElement)&&(So(Ie)||Ie[Ls]))break e;if((_e||ue)&&(ue=de.window===de?de:(ue=de.ownerDocument)?ue.defaultView||ue.parentWindow:window,_e?(Ie=u.relatedTarget||u.toElement,_e=X,Ie=Ie?So(Ie):null,Ie!==null&&(jt=Or(Ie),Ie!==jt||Ie.tag!==5&&Ie.tag!==6)&&(Ie=null)):(_e=null,Ie=X),_e!==Ie)){if(Ne=Xl,ge="onMouseLeave",W="onMouseEnter",H="mouse",(i==="pointerout"||i==="pointerover")&&(Ne=rr,ge="onPointerLeave",W="onPointerEnter",H="pointer"),jt=_e==null?ue:Na(_e),Q=Ie==null?ue:Na(Ie),ue=new Ne(ge,H+"leave",_e,u,de),ue.target=jt,ue.relatedTarget=Q,ge=null,So(de)===X&&(Ne=new Ne(W,H+"enter",Ie,u,de),Ne.target=Q,Ne.relatedTarget=jt,ge=Ne),jt=ge,_e&&Ie)t:{for(Ne=_e,W=Ie,H=0,Q=Ne;Q;Q=Ia(Q))H++;for(Q=0,ge=W;ge;ge=Ia(ge))Q++;for(;0<H-Q;)Ne=Ia(Ne),H--;for(;0<Q-H;)W=Ia(W),Q--;for(;H--;){if(Ne===W||W!==null&&Ne===W.alternate)break t;Ne=Ia(Ne),W=Ia(W)}Ne=null}else Ne=null;_e!==null&&Jv(he,ue,_e,Ne,!1),Ie!==null&&jt!==null&&Jv(he,jt,Ie,Ne,!0)}}e:{if(ue=X?Na(X):window,_e=ue.nodeName&&ue.nodeName.toLowerCase(),_e==="select"||_e==="input"&&ue.type==="file")var Ae=fN;else if(Rv(ue))if(jv)Ae=yN;else{Ae=pN;var Re=mN}else(_e=ue.nodeName)&&_e.toLowerCase()==="input"&&(ue.type==="checkbox"||ue.type==="radio")&&(Ae=gN);if(Ae&&(Ae=Ae(i,X))){Pv(he,Ae,u,de);break e}Re&&Re(i,ue,X),i==="focusout"&&(Re=ue._wrapperState)&&Re.controlled&&ue.type==="number"&&qe(ue,"number",ue.value)}switch(Re=X?Na(X):window,i){case"focusin":(Rv(Re)||Re.contentEditable==="true")&&(Ta=Re,cm=X,rc=null);break;case"focusout":rc=cm=Ta=null;break;case"mousedown":um=!0;break;case"contextmenu":case"mouseup":case"dragend":um=!1,Bv(he,u,de);break;case"selectionchange":if(wN)break;case"keydown":case"keyup":Bv(he,u,de)}var Pe;if(im)e:{switch(i){case"compositionstart":var Ve="onCompositionStart";break e;case"compositionend":Ve="onCompositionEnd";break e;case"compositionupdate":Ve="onCompositionUpdate";break e}Ve=void 0}else Ea?Av(i,u)&&(Ve="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(Ve="onCompositionStart");Ve&&(Iv&&u.locale!=="ko"&&(Ea||Ve!=="onCompositionStart"?Ve==="onCompositionEnd"&&Ea&&(Pe=td()):(tr=de,ya="value"in tr?tr.value:tr.textContent,Ea=!0)),Re=ud(X,Ve),0<Re.length&&(Ve=new _(Ve,i,null,u,de),he.push({event:Ve,listeners:Re}),Pe?Ve.data=Pe:(Pe=kv(u),Pe!==null&&(Ve.data=Pe)))),(Pe=lN?cN(i,u):uN(i,u))&&(X=ud(X,"onBeforeInput"),0<X.length&&(de=new _("onBeforeInput","beforeinput",null,u,de),he.push({event:de,listeners:X}),de.data=Pe))}Yv(he,o)})}function oc(i,o,u){return{instance:i,listener:o,currentTarget:u}}function ud(i,o){for(var u=o+"Capture",p=[];i!==null;){var v=i,w=v.stateNode;v.tag===5&&w!==null&&(v=w,w=Ot(i,u),w!=null&&p.unshift(oc(i,w,v)),w=Ot(i,o),w!=null&&p.push(oc(i,w,v))),i=i.return}return p}function Ia(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function Jv(i,o,u,p,v){for(var w=o._reactName,I=[];u!==null&&u!==p;){var V=u,z=V.alternate,X=V.stateNode;if(z!==null&&z===p)break;V.tag===5&&X!==null&&(V=X,v?(z=Ot(u,w),z!=null&&I.unshift(oc(u,z,V))):v||(z=Ot(u,w),z!=null&&I.push(oc(u,z,V)))),u=u.return}I.length!==0&&i.push({event:o,listeners:I})}var TN=/\r\n?/g,SN=/\u0000|\uFFFD/g;function Zv(i){return(typeof i=="string"?i:""+i).replace(TN,`
`).replace(SN,"")}function dd(i,o,u){if(o=Zv(o),Zv(i)!==o&&u)throw Error(n(425))}function hd(){}var gm=null,ym=null;function vm(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var xm=typeof setTimeout=="function"?setTimeout:void 0,IN=typeof clearTimeout=="function"?clearTimeout:void 0,ex=typeof Promise=="function"?Promise:void 0,CN=typeof queueMicrotask=="function"?queueMicrotask:typeof ex<"u"?function(i){return ex.resolve(null).then(i).catch(NN)}:xm;function NN(i){setTimeout(function(){throw i})}function wm(i,o){var u=o,p=0;do{var v=u.nextSibling;if(i.removeChild(u),v&&v.nodeType===8)if(u=v.data,u==="/$"){if(p===0){i.removeChild(v),gi(o);return}p--}else u!=="$"&&u!=="$?"&&u!=="$!"||p++;u=v}while(u);gi(o)}function wi(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return i}function tx(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"){if(o===0)return i;o--}else u==="/$"&&o++}i=i.previousSibling}return null}var Ca=Math.random().toString(36).slice(2),us="__reactFiber$"+Ca,ac="__reactProps$"+Ca,Ls="__reactContainer$"+Ca,bm="__reactEvents$"+Ca,AN="__reactListeners$"+Ca,kN="__reactHandles$"+Ca;function So(i){var o=i[us];if(o)return o;for(var u=i.parentNode;u;){if(o=u[Ls]||u[us]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(i=tx(i);i!==null;){if(u=i[us])return u;i=tx(i)}return o}i=u,u=i.parentNode}return null}function lc(i){return i=i[us]||i[Ls],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function Na(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(n(33))}function fd(i){return i[ac]||null}var _m=[],Aa=-1;function bi(i){return{current:i}}function gt(i){0>Aa||(i.current=_m[Aa],_m[Aa]=null,Aa--)}function ut(i,o){Aa++,_m[Aa]=i.current,i.current=o}var _i={},gn=bi(_i),Vn=bi(!1),Io=_i;function ka(i,o){var u=i.type.contextTypes;if(!u)return _i;var p=i.stateNode;if(p&&p.__reactInternalMemoizedUnmaskedChildContext===o)return p.__reactInternalMemoizedMaskedChildContext;var v={},w;for(w in u)v[w]=o[w];return p&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=o,i.__reactInternalMemoizedMaskedChildContext=v),v}function Fn(i){return i=i.childContextTypes,i!=null}function md(){gt(Vn),gt(gn)}function nx(i,o,u){if(gn.current!==_i)throw Error(n(168));ut(gn,o),ut(Vn,u)}function rx(i,o,u){var p=i.stateNode;if(o=o.childContextTypes,typeof p.getChildContext!="function")return u;p=p.getChildContext();for(var v in p)if(!(v in o))throw Error(n(108,me(i)||"Unknown",v));return U({},u,p)}function pd(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||_i,Io=gn.current,ut(gn,i),ut(Vn,Vn.current),!0}function sx(i,o,u){var p=i.stateNode;if(!p)throw Error(n(169));u?(i=rx(i,o,Io),p.__reactInternalMemoizedMergedChildContext=i,gt(Vn),gt(gn),ut(gn,i)):gt(Vn),ut(Vn,u)}var Vs=null,gd=!1,Em=!1;function ix(i){Vs===null?Vs=[i]:Vs.push(i)}function RN(i){gd=!0,ix(i)}function Ei(){if(!Em&&Vs!==null){Em=!0;var i=0,o=Xe;try{var u=Vs;for(Xe=1;i<u.length;i++){var p=u[i];do p=p(!0);while(p!==null)}Vs=null,gd=!1}catch(v){throw Vs!==null&&(Vs=Vs.slice(i+1)),Vl(ua,Ei),v}finally{Xe=o,Em=!1}}return null}var Ra=[],Pa=0,yd=null,vd=0,xr=[],wr=0,Co=null,Fs=1,Us="";function No(i,o){Ra[Pa++]=vd,Ra[Pa++]=yd,yd=i,vd=o}function ox(i,o,u){xr[wr++]=Fs,xr[wr++]=Us,xr[wr++]=Co,Co=i;var p=Fs;i=Us;var v=32-Zn(p)-1;p&=~(1<<v),u+=1;var w=32-Zn(o)+v;if(30<w){var I=v-v%5;w=(p&(1<<I)-1).toString(32),p>>=I,v-=I,Fs=1<<32-Zn(o)+v|u<<v|p,Us=w+i}else Fs=1<<w|u<<v|p,Us=i}function Tm(i){i.return!==null&&(No(i,1),ox(i,1,0))}function Sm(i){for(;i===yd;)yd=Ra[--Pa],Ra[Pa]=null,vd=Ra[--Pa],Ra[Pa]=null;for(;i===Co;)Co=xr[--wr],xr[wr]=null,Us=xr[--wr],xr[wr]=null,Fs=xr[--wr],xr[wr]=null}var sr=null,ir=null,vt=!1,Fr=null;function ax(i,o){var u=Tr(5,null,null,0);u.elementType="DELETED",u.stateNode=o,u.return=i,o=i.deletions,o===null?(i.deletions=[u],i.flags|=16):o.push(u)}function lx(i,o){switch(i.tag){case 5:var u=i.type;return o=o.nodeType!==1||u.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(i.stateNode=o,sr=i,ir=wi(o.firstChild),!0):!1;case 6:return o=i.pendingProps===""||o.nodeType!==3?null:o,o!==null?(i.stateNode=o,sr=i,ir=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(u=Co!==null?{id:Fs,overflow:Us}:null,i.memoizedState={dehydrated:o,treeContext:u,retryLane:1073741824},u=Tr(18,null,null,0),u.stateNode=o,u.return=i,i.child=u,sr=i,ir=null,!0):!1;default:return!1}}function Im(i){return(i.mode&1)!==0&&(i.flags&128)===0}function Cm(i){if(vt){var o=ir;if(o){var u=o;if(!lx(i,o)){if(Im(i))throw Error(n(418));o=wi(u.nextSibling);var p=sr;o&&lx(i,o)?ax(p,u):(i.flags=i.flags&-4097|2,vt=!1,sr=i)}}else{if(Im(i))throw Error(n(418));i.flags=i.flags&-4097|2,vt=!1,sr=i}}}function cx(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;sr=i}function xd(i){if(i!==sr)return!1;if(!vt)return cx(i),vt=!0,!1;var o;if((o=i.tag!==3)&&!(o=i.tag!==5)&&(o=i.type,o=o!=="head"&&o!=="body"&&!vm(i.type,i.memoizedProps)),o&&(o=ir)){if(Im(i))throw ux(),Error(n(418));for(;o;)ax(i,o),o=wi(o.nextSibling)}if(cx(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));e:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="/$"){if(o===0){ir=wi(i.nextSibling);break e}o--}else u!=="$"&&u!=="$!"&&u!=="$?"||o++}i=i.nextSibling}ir=null}}else ir=sr?wi(i.stateNode.nextSibling):null;return!0}function ux(){for(var i=ir;i;)i=wi(i.nextSibling)}function ja(){ir=sr=null,vt=!1}function Nm(i){Fr===null?Fr=[i]:Fr.push(i)}var PN=Z.ReactCurrentBatchConfig;function cc(i,o,u){if(i=u.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(n(309));var p=u.stateNode}if(!p)throw Error(n(147,i));var v=p,w=""+i;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===w?o.ref:(o=function(I){var V=v.refs;I===null?delete V[w]:V[w]=I},o._stringRef=w,o)}if(typeof i!="string")throw Error(n(284));if(!u._owner)throw Error(n(290,i))}return i}function wd(i,o){throw i=Object.prototype.toString.call(o),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i))}function dx(i){var o=i._init;return o(i._payload)}function hx(i){function o(W,H){if(i){var Q=W.deletions;Q===null?(W.deletions=[H],W.flags|=16):Q.push(H)}}function u(W,H){if(!i)return null;for(;H!==null;)o(W,H),H=H.sibling;return null}function p(W,H){for(W=new Map;H!==null;)H.key!==null?W.set(H.key,H):W.set(H.index,H),H=H.sibling;return W}function v(W,H){return W=Ri(W,H),W.index=0,W.sibling=null,W}function w(W,H,Q){return W.index=Q,i?(Q=W.alternate,Q!==null?(Q=Q.index,Q<H?(W.flags|=2,H):Q):(W.flags|=2,H)):(W.flags|=1048576,H)}function I(W){return i&&W.alternate===null&&(W.flags|=2),W}function V(W,H,Q,ge){return H===null||H.tag!==6?(H=xp(Q,W.mode,ge),H.return=W,H):(H=v(H,Q),H.return=W,H)}function z(W,H,Q,ge){var Ae=Q.type;return Ae===D?de(W,H,Q.props.children,ge,Q.key):H!==null&&(H.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===re&&dx(Ae)===H.type)?(ge=v(H,Q.props),ge.ref=cc(W,H,Q),ge.return=W,ge):(ge=Hd(Q.type,Q.key,Q.props,null,W.mode,ge),ge.ref=cc(W,H,Q),ge.return=W,ge)}function X(W,H,Q,ge){return H===null||H.tag!==4||H.stateNode.containerInfo!==Q.containerInfo||H.stateNode.implementation!==Q.implementation?(H=wp(Q,W.mode,ge),H.return=W,H):(H=v(H,Q.children||[]),H.return=W,H)}function de(W,H,Q,ge,Ae){return H===null||H.tag!==7?(H=Oo(Q,W.mode,ge,Ae),H.return=W,H):(H=v(H,Q),H.return=W,H)}function he(W,H,Q){if(typeof H=="string"&&H!==""||typeof H=="number")return H=xp(""+H,W.mode,Q),H.return=W,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case Y:return Q=Hd(H.type,H.key,H.props,null,W.mode,Q),Q.ref=cc(W,null,H),Q.return=W,Q;case K:return H=wp(H,W.mode,Q),H.return=W,H;case re:var ge=H._init;return he(W,ge(H._payload),Q)}if(Je(H)||ye(H))return H=Oo(H,W.mode,Q,null),H.return=W,H;wd(W,H)}return null}function ue(W,H,Q,ge){var Ae=H!==null?H.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number")return Ae!==null?null:V(W,H,""+Q,ge);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case Y:return Q.key===Ae?z(W,H,Q,ge):null;case K:return Q.key===Ae?X(W,H,Q,ge):null;case re:return Ae=Q._init,ue(W,H,Ae(Q._payload),ge)}if(Je(Q)||ye(Q))return Ae!==null?null:de(W,H,Q,ge,null);wd(W,Q)}return null}function _e(W,H,Q,ge,Ae){if(typeof ge=="string"&&ge!==""||typeof ge=="number")return W=W.get(Q)||null,V(H,W,""+ge,Ae);if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case Y:return W=W.get(ge.key===null?Q:ge.key)||null,z(H,W,ge,Ae);case K:return W=W.get(ge.key===null?Q:ge.key)||null,X(H,W,ge,Ae);case re:var Re=ge._init;return _e(W,H,Q,Re(ge._payload),Ae)}if(Je(ge)||ye(ge))return W=W.get(Q)||null,de(H,W,ge,Ae,null);wd(H,ge)}return null}function Ie(W,H,Q,ge){for(var Ae=null,Re=null,Pe=H,Ve=H=0,Zt=null;Pe!==null&&Ve<Q.length;Ve++){Pe.index>Ve?(Zt=Pe,Pe=null):Zt=Pe.sibling;var nt=ue(W,Pe,Q[Ve],ge);if(nt===null){Pe===null&&(Pe=Zt);break}i&&Pe&&nt.alternate===null&&o(W,Pe),H=w(nt,H,Ve),Re===null?Ae=nt:Re.sibling=nt,Re=nt,Pe=Zt}if(Ve===Q.length)return u(W,Pe),vt&&No(W,Ve),Ae;if(Pe===null){for(;Ve<Q.length;Ve++)Pe=he(W,Q[Ve],ge),Pe!==null&&(H=w(Pe,H,Ve),Re===null?Ae=Pe:Re.sibling=Pe,Re=Pe);return vt&&No(W,Ve),Ae}for(Pe=p(W,Pe);Ve<Q.length;Ve++)Zt=_e(Pe,W,Ve,Q[Ve],ge),Zt!==null&&(i&&Zt.alternate!==null&&Pe.delete(Zt.key===null?Ve:Zt.key),H=w(Zt,H,Ve),Re===null?Ae=Zt:Re.sibling=Zt,Re=Zt);return i&&Pe.forEach(function(Pi){return o(W,Pi)}),vt&&No(W,Ve),Ae}function Ne(W,H,Q,ge){var Ae=ye(Q);if(typeof Ae!="function")throw Error(n(150));if(Q=Ae.call(Q),Q==null)throw Error(n(151));for(var Re=Ae=null,Pe=H,Ve=H=0,Zt=null,nt=Q.next();Pe!==null&&!nt.done;Ve++,nt=Q.next()){Pe.index>Ve?(Zt=Pe,Pe=null):Zt=Pe.sibling;var Pi=ue(W,Pe,nt.value,ge);if(Pi===null){Pe===null&&(Pe=Zt);break}i&&Pe&&Pi.alternate===null&&o(W,Pe),H=w(Pi,H,Ve),Re===null?Ae=Pi:Re.sibling=Pi,Re=Pi,Pe=Zt}if(nt.done)return u(W,Pe),vt&&No(W,Ve),Ae;if(Pe===null){for(;!nt.done;Ve++,nt=Q.next())nt=he(W,nt.value,ge),nt!==null&&(H=w(nt,H,Ve),Re===null?Ae=nt:Re.sibling=nt,Re=nt);return vt&&No(W,Ve),Ae}for(Pe=p(W,Pe);!nt.done;Ve++,nt=Q.next())nt=_e(Pe,W,Ve,nt.value,ge),nt!==null&&(i&&nt.alternate!==null&&Pe.delete(nt.key===null?Ve:nt.key),H=w(nt,H,Ve),Re===null?Ae=nt:Re.sibling=nt,Re=nt);return i&&Pe.forEach(function(dA){return o(W,dA)}),vt&&No(W,Ve),Ae}function jt(W,H,Q,ge){if(typeof Q=="object"&&Q!==null&&Q.type===D&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case Y:e:{for(var Ae=Q.key,Re=H;Re!==null;){if(Re.key===Ae){if(Ae=Q.type,Ae===D){if(Re.tag===7){u(W,Re.sibling),H=v(Re,Q.props.children),H.return=W,W=H;break e}}else if(Re.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===re&&dx(Ae)===Re.type){u(W,Re.sibling),H=v(Re,Q.props),H.ref=cc(W,Re,Q),H.return=W,W=H;break e}u(W,Re);break}else o(W,Re);Re=Re.sibling}Q.type===D?(H=Oo(Q.props.children,W.mode,ge,Q.key),H.return=W,W=H):(ge=Hd(Q.type,Q.key,Q.props,null,W.mode,ge),ge.ref=cc(W,H,Q),ge.return=W,W=ge)}return I(W);case K:e:{for(Re=Q.key;H!==null;){if(H.key===Re)if(H.tag===4&&H.stateNode.containerInfo===Q.containerInfo&&H.stateNode.implementation===Q.implementation){u(W,H.sibling),H=v(H,Q.children||[]),H.return=W,W=H;break e}else{u(W,H);break}else o(W,H);H=H.sibling}H=wp(Q,W.mode,ge),H.return=W,W=H}return I(W);case re:return Re=Q._init,jt(W,H,Re(Q._payload),ge)}if(Je(Q))return Ie(W,H,Q,ge);if(ye(Q))return Ne(W,H,Q,ge);wd(W,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"?(Q=""+Q,H!==null&&H.tag===6?(u(W,H.sibling),H=v(H,Q),H.return=W,W=H):(u(W,H),H=xp(Q,W.mode,ge),H.return=W,W=H),I(W)):u(W,H)}return jt}var Da=hx(!0),fx=hx(!1),bd=bi(null),_d=null,Ma=null,Am=null;function km(){Am=Ma=_d=null}function Rm(i){var o=bd.current;gt(bd),i._currentValue=o}function Pm(i,o,u){for(;i!==null;){var p=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,p!==null&&(p.childLanes|=o)):p!==null&&(p.childLanes&o)!==o&&(p.childLanes|=o),i===u)break;i=i.return}}function Oa(i,o){_d=i,Am=Ma=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&o)!==0&&(Un=!0),i.firstContext=null)}function br(i){var o=i._currentValue;if(Am!==i)if(i={context:i,memoizedValue:o,next:null},Ma===null){if(_d===null)throw Error(n(308));Ma=i,_d.dependencies={lanes:0,firstContext:i}}else Ma=Ma.next=i;return o}var Ao=null;function jm(i){Ao===null?Ao=[i]:Ao.push(i)}function mx(i,o,u,p){var v=o.interleaved;return v===null?(u.next=u,jm(o)):(u.next=v.next,v.next=u),o.interleaved=u,Bs(i,p)}function Bs(i,o){i.lanes|=o;var u=i.alternate;for(u!==null&&(u.lanes|=o),u=i,i=i.return;i!==null;)i.childLanes|=o,u=i.alternate,u!==null&&(u.childLanes|=o),u=i,i=i.return;return u.tag===3?u.stateNode:null}var Ti=!1;function Dm(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function px(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function zs(i,o){return{eventTime:i,lane:o,tag:0,payload:null,callback:null,next:null}}function Si(i,o,u){var p=i.updateQueue;if(p===null)return null;if(p=p.shared,(et&2)!==0){var v=p.pending;return v===null?o.next=o:(o.next=v.next,v.next=o),p.pending=o,Bs(i,u)}return v=p.interleaved,v===null?(o.next=o,jm(p)):(o.next=v.next,v.next=o),p.interleaved=o,Bs(i,u)}function Ed(i,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194240)!==0)){var p=o.lanes;p&=i.pendingLanes,u|=p,o.lanes=u,Hl(i,u)}}function gx(i,o){var u=i.updateQueue,p=i.alternate;if(p!==null&&(p=p.updateQueue,u===p)){var v=null,w=null;if(u=u.firstBaseUpdate,u!==null){do{var I={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};w===null?v=w=I:w=w.next=I,u=u.next}while(u!==null);w===null?v=w=o:w=w.next=o}else v=w=o;u={baseState:p.baseState,firstBaseUpdate:v,lastBaseUpdate:w,shared:p.shared,effects:p.effects},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=o:i.next=o,u.lastBaseUpdate=o}function Td(i,o,u,p){var v=i.updateQueue;Ti=!1;var w=v.firstBaseUpdate,I=v.lastBaseUpdate,V=v.shared.pending;if(V!==null){v.shared.pending=null;var z=V,X=z.next;z.next=null,I===null?w=X:I.next=X,I=z;var de=i.alternate;de!==null&&(de=de.updateQueue,V=de.lastBaseUpdate,V!==I&&(V===null?de.firstBaseUpdate=X:V.next=X,de.lastBaseUpdate=z))}if(w!==null){var he=v.baseState;I=0,de=X=z=null,V=w;do{var ue=V.lane,_e=V.eventTime;if((p&ue)===ue){de!==null&&(de=de.next={eventTime:_e,lane:0,tag:V.tag,payload:V.payload,callback:V.callback,next:null});e:{var Ie=i,Ne=V;switch(ue=o,_e=u,Ne.tag){case 1:if(Ie=Ne.payload,typeof Ie=="function"){he=Ie.call(_e,he,ue);break e}he=Ie;break e;case 3:Ie.flags=Ie.flags&-65537|128;case 0:if(Ie=Ne.payload,ue=typeof Ie=="function"?Ie.call(_e,he,ue):Ie,ue==null)break e;he=U({},he,ue);break e;case 2:Ti=!0}}V.callback!==null&&V.lane!==0&&(i.flags|=64,ue=v.effects,ue===null?v.effects=[V]:ue.push(V))}else _e={eventTime:_e,lane:ue,tag:V.tag,payload:V.payload,callback:V.callback,next:null},de===null?(X=de=_e,z=he):de=de.next=_e,I|=ue;if(V=V.next,V===null){if(V=v.shared.pending,V===null)break;ue=V,V=ue.next,ue.next=null,v.lastBaseUpdate=ue,v.shared.pending=null}}while(!0);if(de===null&&(z=he),v.baseState=z,v.firstBaseUpdate=X,v.lastBaseUpdate=de,o=v.shared.interleaved,o!==null){v=o;do I|=v.lane,v=v.next;while(v!==o)}else w===null&&(v.shared.lanes=0);Po|=I,i.lanes=I,i.memoizedState=he}}function yx(i,o,u){if(i=o.effects,o.effects=null,i!==null)for(o=0;o<i.length;o++){var p=i[o],v=p.callback;if(v!==null){if(p.callback=null,p=u,typeof v!="function")throw Error(n(191,v));v.call(p)}}}var uc={},ds=bi(uc),dc=bi(uc),hc=bi(uc);function ko(i){if(i===uc)throw Error(n(174));return i}function Mm(i,o){switch(ut(hc,o),ut(dc,i),ut(ds,uc),i=o.nodeType,i){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:Xr(null,"");break;default:i=i===8?o.parentNode:o,o=i.namespaceURI||null,i=i.tagName,o=Xr(o,i)}gt(ds),ut(ds,o)}function La(){gt(ds),gt(dc),gt(hc)}function vx(i){ko(hc.current);var o=ko(ds.current),u=Xr(o,i.type);o!==u&&(ut(dc,i),ut(ds,u))}function Om(i){dc.current===i&&(gt(ds),gt(dc))}var wt=bi(0);function Sd(i){for(var o=i;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Lm=[];function Vm(){for(var i=0;i<Lm.length;i++)Lm[i]._workInProgressVersionPrimary=null;Lm.length=0}var Id=Z.ReactCurrentDispatcher,Fm=Z.ReactCurrentBatchConfig,Ro=0,bt=null,Ht=null,Xt=null,Cd=!1,fc=!1,mc=0,jN=0;function yn(){throw Error(n(321))}function Um(i,o){if(o===null)return!1;for(var u=0;u<o.length&&u<i.length;u++)if(!Vr(i[u],o[u]))return!1;return!0}function Bm(i,o,u,p,v,w){if(Ro=w,bt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Id.current=i===null||i.memoizedState===null?LN:VN,i=u(p,v),fc){w=0;do{if(fc=!1,mc=0,25<=w)throw Error(n(301));w+=1,Xt=Ht=null,o.updateQueue=null,Id.current=FN,i=u(p,v)}while(fc)}if(Id.current=kd,o=Ht!==null&&Ht.next!==null,Ro=0,Xt=Ht=bt=null,Cd=!1,o)throw Error(n(300));return i}function zm(){var i=mc!==0;return mc=0,i}function hs(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xt===null?bt.memoizedState=Xt=i:Xt=Xt.next=i,Xt}function _r(){if(Ht===null){var i=bt.alternate;i=i!==null?i.memoizedState:null}else i=Ht.next;var o=Xt===null?bt.memoizedState:Xt.next;if(o!==null)Xt=o,Ht=i;else{if(i===null)throw Error(n(310));Ht=i,i={memoizedState:Ht.memoizedState,baseState:Ht.baseState,baseQueue:Ht.baseQueue,queue:Ht.queue,next:null},Xt===null?bt.memoizedState=Xt=i:Xt=Xt.next=i}return Xt}function pc(i,o){return typeof o=="function"?o(i):o}function $m(i){var o=_r(),u=o.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=i;var p=Ht,v=p.baseQueue,w=u.pending;if(w!==null){if(v!==null){var I=v.next;v.next=w.next,w.next=I}p.baseQueue=v=w,u.pending=null}if(v!==null){w=v.next,p=p.baseState;var V=I=null,z=null,X=w;do{var de=X.lane;if((Ro&de)===de)z!==null&&(z=z.next={lane:0,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),p=X.hasEagerState?X.eagerState:i(p,X.action);else{var he={lane:de,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null};z===null?(V=z=he,I=p):z=z.next=he,bt.lanes|=de,Po|=de}X=X.next}while(X!==null&&X!==w);z===null?I=p:z.next=V,Vr(p,o.memoizedState)||(Un=!0),o.memoizedState=p,o.baseState=I,o.baseQueue=z,u.lastRenderedState=p}if(i=u.interleaved,i!==null){v=i;do w=v.lane,bt.lanes|=w,Po|=w,v=v.next;while(v!==i)}else v===null&&(u.lanes=0);return[o.memoizedState,u.dispatch]}function Hm(i){var o=_r(),u=o.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=i;var p=u.dispatch,v=u.pending,w=o.memoizedState;if(v!==null){u.pending=null;var I=v=v.next;do w=i(w,I.action),I=I.next;while(I!==v);Vr(w,o.memoizedState)||(Un=!0),o.memoizedState=w,o.baseQueue===null&&(o.baseState=w),u.lastRenderedState=w}return[w,p]}function xx(){}function wx(i,o){var u=bt,p=_r(),v=o(),w=!Vr(p.memoizedState,v);if(w&&(p.memoizedState=v,Un=!0),p=p.queue,qm(Ex.bind(null,u,p,i),[i]),p.getSnapshot!==o||w||Xt!==null&&Xt.memoizedState.tag&1){if(u.flags|=2048,gc(9,_x.bind(null,u,p,v,o),void 0,null),Jt===null)throw Error(n(349));(Ro&30)!==0||bx(u,o,v)}return v}function bx(i,o,u){i.flags|=16384,i={getSnapshot:o,value:u},o=bt.updateQueue,o===null?(o={lastEffect:null,stores:null},bt.updateQueue=o,o.stores=[i]):(u=o.stores,u===null?o.stores=[i]:u.push(i))}function _x(i,o,u,p){o.value=u,o.getSnapshot=p,Tx(o)&&Sx(i)}function Ex(i,o,u){return u(function(){Tx(o)&&Sx(i)})}function Tx(i){var o=i.getSnapshot;i=i.value;try{var u=o();return!Vr(i,u)}catch{return!0}}function Sx(i){var o=Bs(i,1);o!==null&&$r(o,i,1,-1)}function Ix(i){var o=hs();return typeof i=="function"&&(i=i()),o.memoizedState=o.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:pc,lastRenderedState:i},o.queue=i,i=i.dispatch=ON.bind(null,bt,i),[o.memoizedState,i]}function gc(i,o,u,p){return i={tag:i,create:o,destroy:u,deps:p,next:null},o=bt.updateQueue,o===null?(o={lastEffect:null,stores:null},bt.updateQueue=o,o.lastEffect=i.next=i):(u=o.lastEffect,u===null?o.lastEffect=i.next=i:(p=u.next,u.next=i,i.next=p,o.lastEffect=i)),i}function Cx(){return _r().memoizedState}function Nd(i,o,u,p){var v=hs();bt.flags|=i,v.memoizedState=gc(1|o,u,void 0,p===void 0?null:p)}function Ad(i,o,u,p){var v=_r();p=p===void 0?null:p;var w=void 0;if(Ht!==null){var I=Ht.memoizedState;if(w=I.destroy,p!==null&&Um(p,I.deps)){v.memoizedState=gc(o,u,w,p);return}}bt.flags|=i,v.memoizedState=gc(1|o,u,w,p)}function Nx(i,o){return Nd(8390656,8,i,o)}function qm(i,o){return Ad(2048,8,i,o)}function Ax(i,o){return Ad(4,2,i,o)}function kx(i,o){return Ad(4,4,i,o)}function Rx(i,o){if(typeof o=="function")return i=i(),o(i),function(){o(null)};if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function Px(i,o,u){return u=u!=null?u.concat([i]):null,Ad(4,4,Rx.bind(null,o,i),u)}function Wm(){}function jx(i,o){var u=_r();o=o===void 0?null:o;var p=u.memoizedState;return p!==null&&o!==null&&Um(o,p[1])?p[0]:(u.memoizedState=[i,o],i)}function Dx(i,o){var u=_r();o=o===void 0?null:o;var p=u.memoizedState;return p!==null&&o!==null&&Um(o,p[1])?p[0]:(i=i(),u.memoizedState=[i,o],i)}function Mx(i,o,u){return(Ro&21)===0?(i.baseState&&(i.baseState=!1,Un=!0),i.memoizedState=u):(Vr(u,o)||(u=zl(),bt.lanes|=u,Po|=u,i.baseState=!0),o)}function DN(i,o){var u=Xe;Xe=u!==0&&4>u?u:4,i(!0);var p=Fm.transition;Fm.transition={};try{i(!1),o()}finally{Xe=u,Fm.transition=p}}function Ox(){return _r().memoizedState}function MN(i,o,u){var p=Ai(i);if(u={lane:p,action:u,hasEagerState:!1,eagerState:null,next:null},Lx(i))Vx(o,u);else if(u=mx(i,o,u,p),u!==null){var v=jn();$r(u,i,p,v),Fx(u,o,p)}}function ON(i,o,u){var p=Ai(i),v={lane:p,action:u,hasEagerState:!1,eagerState:null,next:null};if(Lx(i))Vx(o,v);else{var w=i.alternate;if(i.lanes===0&&(w===null||w.lanes===0)&&(w=o.lastRenderedReducer,w!==null))try{var I=o.lastRenderedState,V=w(I,u);if(v.hasEagerState=!0,v.eagerState=V,Vr(V,I)){var z=o.interleaved;z===null?(v.next=v,jm(o)):(v.next=z.next,z.next=v),o.interleaved=v;return}}catch{}u=mx(i,o,v,p),u!==null&&(v=jn(),$r(u,i,p,v),Fx(u,o,p))}}function Lx(i){var o=i.alternate;return i===bt||o!==null&&o===bt}function Vx(i,o){fc=Cd=!0;var u=i.pending;u===null?o.next=o:(o.next=u.next,u.next=o),i.pending=o}function Fx(i,o,u){if((u&4194240)!==0){var p=o.lanes;p&=i.pendingLanes,u|=p,o.lanes=u,Hl(i,u)}}var kd={readContext:br,useCallback:yn,useContext:yn,useEffect:yn,useImperativeHandle:yn,useInsertionEffect:yn,useLayoutEffect:yn,useMemo:yn,useReducer:yn,useRef:yn,useState:yn,useDebugValue:yn,useDeferredValue:yn,useTransition:yn,useMutableSource:yn,useSyncExternalStore:yn,useId:yn,unstable_isNewReconciler:!1},LN={readContext:br,useCallback:function(i,o){return hs().memoizedState=[i,o===void 0?null:o],i},useContext:br,useEffect:Nx,useImperativeHandle:function(i,o,u){return u=u!=null?u.concat([i]):null,Nd(4194308,4,Rx.bind(null,o,i),u)},useLayoutEffect:function(i,o){return Nd(4194308,4,i,o)},useInsertionEffect:function(i,o){return Nd(4,2,i,o)},useMemo:function(i,o){var u=hs();return o=o===void 0?null:o,i=i(),u.memoizedState=[i,o],i},useReducer:function(i,o,u){var p=hs();return o=u!==void 0?u(o):o,p.memoizedState=p.baseState=o,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:o},p.queue=i,i=i.dispatch=MN.bind(null,bt,i),[p.memoizedState,i]},useRef:function(i){var o=hs();return i={current:i},o.memoizedState=i},useState:Ix,useDebugValue:Wm,useDeferredValue:function(i){return hs().memoizedState=i},useTransition:function(){var i=Ix(!1),o=i[0];return i=DN.bind(null,i[1]),hs().memoizedState=i,[o,i]},useMutableSource:function(){},useSyncExternalStore:function(i,o,u){var p=bt,v=hs();if(vt){if(u===void 0)throw Error(n(407));u=u()}else{if(u=o(),Jt===null)throw Error(n(349));(Ro&30)!==0||bx(p,o,u)}v.memoizedState=u;var w={value:u,getSnapshot:o};return v.queue=w,Nx(Ex.bind(null,p,w,i),[i]),p.flags|=2048,gc(9,_x.bind(null,p,w,u,o),void 0,null),u},useId:function(){var i=hs(),o=Jt.identifierPrefix;if(vt){var u=Us,p=Fs;u=(p&~(1<<32-Zn(p)-1)).toString(32)+u,o=":"+o+"R"+u,u=mc++,0<u&&(o+="H"+u.toString(32)),o+=":"}else u=jN++,o=":"+o+"r"+u.toString(32)+":";return i.memoizedState=o},unstable_isNewReconciler:!1},VN={readContext:br,useCallback:jx,useContext:br,useEffect:qm,useImperativeHandle:Px,useInsertionEffect:Ax,useLayoutEffect:kx,useMemo:Dx,useReducer:$m,useRef:Cx,useState:function(){return $m(pc)},useDebugValue:Wm,useDeferredValue:function(i){var o=_r();return Mx(o,Ht.memoizedState,i)},useTransition:function(){var i=$m(pc)[0],o=_r().memoizedState;return[i,o]},useMutableSource:xx,useSyncExternalStore:wx,useId:Ox,unstable_isNewReconciler:!1},FN={readContext:br,useCallback:jx,useContext:br,useEffect:qm,useImperativeHandle:Px,useInsertionEffect:Ax,useLayoutEffect:kx,useMemo:Dx,useReducer:Hm,useRef:Cx,useState:function(){return Hm(pc)},useDebugValue:Wm,useDeferredValue:function(i){var o=_r();return Ht===null?o.memoizedState=i:Mx(o,Ht.memoizedState,i)},useTransition:function(){var i=Hm(pc)[0],o=_r().memoizedState;return[i,o]},useMutableSource:xx,useSyncExternalStore:wx,useId:Ox,unstable_isNewReconciler:!1};function Ur(i,o){if(i&&i.defaultProps){o=U({},o),i=i.defaultProps;for(var u in i)o[u]===void 0&&(o[u]=i[u]);return o}return o}function Gm(i,o,u,p){o=i.memoizedState,u=u(p,o),u=u==null?o:U({},o,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var Rd={isMounted:function(i){return(i=i._reactInternals)?Or(i)===i:!1},enqueueSetState:function(i,o,u){i=i._reactInternals;var p=jn(),v=Ai(i),w=zs(p,v);w.payload=o,u!=null&&(w.callback=u),o=Si(i,w,v),o!==null&&($r(o,i,v,p),Ed(o,i,v))},enqueueReplaceState:function(i,o,u){i=i._reactInternals;var p=jn(),v=Ai(i),w=zs(p,v);w.tag=1,w.payload=o,u!=null&&(w.callback=u),o=Si(i,w,v),o!==null&&($r(o,i,v,p),Ed(o,i,v))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var u=jn(),p=Ai(i),v=zs(u,p);v.tag=2,o!=null&&(v.callback=o),o=Si(i,v,p),o!==null&&($r(o,i,p,u),Ed(o,i,p))}};function Ux(i,o,u,p,v,w,I){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(p,w,I):o.prototype&&o.prototype.isPureReactComponent?!nc(u,p)||!nc(v,w):!0}function Bx(i,o,u){var p=!1,v=_i,w=o.contextType;return typeof w=="object"&&w!==null?w=br(w):(v=Fn(o)?Io:gn.current,p=o.contextTypes,w=(p=p!=null)?ka(i,v):_i),o=new o(u,w),i.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Rd,i.stateNode=o,o._reactInternals=i,p&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=v,i.__reactInternalMemoizedMaskedChildContext=w),o}function zx(i,o,u,p){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,p),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,p),o.state!==i&&Rd.enqueueReplaceState(o,o.state,null)}function Km(i,o,u,p){var v=i.stateNode;v.props=u,v.state=i.memoizedState,v.refs={},Dm(i);var w=o.contextType;typeof w=="object"&&w!==null?v.context=br(w):(w=Fn(o)?Io:gn.current,v.context=ka(i,w)),v.state=i.memoizedState,w=o.getDerivedStateFromProps,typeof w=="function"&&(Gm(i,o,w,u),v.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(o=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),o!==v.state&&Rd.enqueueReplaceState(v,v.state,null),Td(i,u,v,p),v.state=i.memoizedState),typeof v.componentDidMount=="function"&&(i.flags|=4194308)}function Va(i,o){try{var u="",p=o;do u+=le(p),p=p.return;while(p);var v=u}catch(w){v=`
Error generating stack: `+w.message+`
`+w.stack}return{value:i,source:o,stack:v,digest:null}}function Qm(i,o,u){return{value:i,source:null,stack:u??null,digest:o??null}}function Ym(i,o){try{console.error(o.value)}catch(u){setTimeout(function(){throw u})}}var UN=typeof WeakMap=="function"?WeakMap:Map;function $x(i,o,u){u=zs(-1,u),u.tag=3,u.payload={element:null};var p=o.value;return u.callback=function(){Vd||(Vd=!0,dp=p),Ym(i,o)},u}function Hx(i,o,u){u=zs(-1,u),u.tag=3;var p=i.type.getDerivedStateFromError;if(typeof p=="function"){var v=o.value;u.payload=function(){return p(v)},u.callback=function(){Ym(i,o)}}var w=i.stateNode;return w!==null&&typeof w.componentDidCatch=="function"&&(u.callback=function(){Ym(i,o),typeof p!="function"&&(Ci===null?Ci=new Set([this]):Ci.add(this));var I=o.stack;this.componentDidCatch(o.value,{componentStack:I!==null?I:""})}),u}function qx(i,o,u){var p=i.pingCache;if(p===null){p=i.pingCache=new UN;var v=new Set;p.set(o,v)}else v=p.get(o),v===void 0&&(v=new Set,p.set(o,v));v.has(u)||(v.add(u),i=eA.bind(null,i,o,u),o.then(i,i))}function Wx(i){do{var o;if((o=i.tag===13)&&(o=i.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return i;i=i.return}while(i!==null);return null}function Gx(i,o,u,p,v){return(i.mode&1)===0?(i===o?i.flags|=65536:(i.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(o=zs(-1,1),o.tag=2,Si(u,o,1))),u.lanes|=1),i):(i.flags|=65536,i.lanes=v,i)}var BN=Z.ReactCurrentOwner,Un=!1;function Pn(i,o,u,p){o.child=i===null?fx(o,null,u,p):Da(o,i.child,u,p)}function Kx(i,o,u,p,v){u=u.render;var w=o.ref;return Oa(o,v),p=Bm(i,o,u,p,w,v),u=zm(),i!==null&&!Un?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~v,$s(i,o,v)):(vt&&u&&Tm(o),o.flags|=1,Pn(i,o,p,v),o.child)}function Qx(i,o,u,p,v){if(i===null){var w=u.type;return typeof w=="function"&&!vp(w)&&w.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(o.tag=15,o.type=w,Yx(i,o,w,p,v)):(i=Hd(u.type,null,p,o,o.mode,v),i.ref=o.ref,i.return=o,o.child=i)}if(w=i.child,(i.lanes&v)===0){var I=w.memoizedProps;if(u=u.compare,u=u!==null?u:nc,u(I,p)&&i.ref===o.ref)return $s(i,o,v)}return o.flags|=1,i=Ri(w,p),i.ref=o.ref,i.return=o,o.child=i}function Yx(i,o,u,p,v){if(i!==null){var w=i.memoizedProps;if(nc(w,p)&&i.ref===o.ref)if(Un=!1,o.pendingProps=p=w,(i.lanes&v)!==0)(i.flags&131072)!==0&&(Un=!0);else return o.lanes=i.lanes,$s(i,o,v)}return Xm(i,o,u,p,v)}function Xx(i,o,u){var p=o.pendingProps,v=p.children,w=i!==null?i.memoizedState:null;if(p.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},ut(Ua,or),or|=u;else{if((u&1073741824)===0)return i=w!==null?w.baseLanes|u:u,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:i,cachePool:null,transitions:null},o.updateQueue=null,ut(Ua,or),or|=i,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},p=w!==null?w.baseLanes:u,ut(Ua,or),or|=p}else w!==null?(p=w.baseLanes|u,o.memoizedState=null):p=u,ut(Ua,or),or|=p;return Pn(i,o,v,u),o.child}function Jx(i,o){var u=o.ref;(i===null&&u!==null||i!==null&&i.ref!==u)&&(o.flags|=512,o.flags|=2097152)}function Xm(i,o,u,p,v){var w=Fn(u)?Io:gn.current;return w=ka(o,w),Oa(o,v),u=Bm(i,o,u,p,w,v),p=zm(),i!==null&&!Un?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~v,$s(i,o,v)):(vt&&p&&Tm(o),o.flags|=1,Pn(i,o,u,v),o.child)}function Zx(i,o,u,p,v){if(Fn(u)){var w=!0;pd(o)}else w=!1;if(Oa(o,v),o.stateNode===null)jd(i,o),Bx(o,u,p),Km(o,u,p,v),p=!0;else if(i===null){var I=o.stateNode,V=o.memoizedProps;I.props=V;var z=I.context,X=u.contextType;typeof X=="object"&&X!==null?X=br(X):(X=Fn(u)?Io:gn.current,X=ka(o,X));var de=u.getDerivedStateFromProps,he=typeof de=="function"||typeof I.getSnapshotBeforeUpdate=="function";he||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(V!==p||z!==X)&&zx(o,I,p,X),Ti=!1;var ue=o.memoizedState;I.state=ue,Td(o,p,I,v),z=o.memoizedState,V!==p||ue!==z||Vn.current||Ti?(typeof de=="function"&&(Gm(o,u,de,p),z=o.memoizedState),(V=Ti||Ux(o,u,V,p,ue,z,X))?(he||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount()),typeof I.componentDidMount=="function"&&(o.flags|=4194308)):(typeof I.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=p,o.memoizedState=z),I.props=p,I.state=z,I.context=X,p=V):(typeof I.componentDidMount=="function"&&(o.flags|=4194308),p=!1)}else{I=o.stateNode,px(i,o),V=o.memoizedProps,X=o.type===o.elementType?V:Ur(o.type,V),I.props=X,he=o.pendingProps,ue=I.context,z=u.contextType,typeof z=="object"&&z!==null?z=br(z):(z=Fn(u)?Io:gn.current,z=ka(o,z));var _e=u.getDerivedStateFromProps;(de=typeof _e=="function"||typeof I.getSnapshotBeforeUpdate=="function")||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(V!==he||ue!==z)&&zx(o,I,p,z),Ti=!1,ue=o.memoizedState,I.state=ue,Td(o,p,I,v);var Ie=o.memoizedState;V!==he||ue!==Ie||Vn.current||Ti?(typeof _e=="function"&&(Gm(o,u,_e,p),Ie=o.memoizedState),(X=Ti||Ux(o,u,X,p,ue,Ie,z)||!1)?(de||typeof I.UNSAFE_componentWillUpdate!="function"&&typeof I.componentWillUpdate!="function"||(typeof I.componentWillUpdate=="function"&&I.componentWillUpdate(p,Ie,z),typeof I.UNSAFE_componentWillUpdate=="function"&&I.UNSAFE_componentWillUpdate(p,Ie,z)),typeof I.componentDidUpdate=="function"&&(o.flags|=4),typeof I.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof I.componentDidUpdate!="function"||V===i.memoizedProps&&ue===i.memoizedState||(o.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||V===i.memoizedProps&&ue===i.memoizedState||(o.flags|=1024),o.memoizedProps=p,o.memoizedState=Ie),I.props=p,I.state=Ie,I.context=z,p=X):(typeof I.componentDidUpdate!="function"||V===i.memoizedProps&&ue===i.memoizedState||(o.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||V===i.memoizedProps&&ue===i.memoizedState||(o.flags|=1024),p=!1)}return Jm(i,o,u,p,w,v)}function Jm(i,o,u,p,v,w){Jx(i,o);var I=(o.flags&128)!==0;if(!p&&!I)return v&&sx(o,u,!1),$s(i,o,w);p=o.stateNode,BN.current=o;var V=I&&typeof u.getDerivedStateFromError!="function"?null:p.render();return o.flags|=1,i!==null&&I?(o.child=Da(o,i.child,null,w),o.child=Da(o,null,V,w)):Pn(i,o,V,w),o.memoizedState=p.state,v&&sx(o,u,!0),o.child}function ew(i){var o=i.stateNode;o.pendingContext?nx(i,o.pendingContext,o.pendingContext!==o.context):o.context&&nx(i,o.context,!1),Mm(i,o.containerInfo)}function tw(i,o,u,p,v){return ja(),Nm(v),o.flags|=256,Pn(i,o,u,p),o.child}var Zm={dehydrated:null,treeContext:null,retryLane:0};function ep(i){return{baseLanes:i,cachePool:null,transitions:null}}function nw(i,o,u){var p=o.pendingProps,v=wt.current,w=!1,I=(o.flags&128)!==0,V;if((V=I)||(V=i!==null&&i.memoizedState===null?!1:(v&2)!==0),V?(w=!0,o.flags&=-129):(i===null||i.memoizedState!==null)&&(v|=1),ut(wt,v&1),i===null)return Cm(o),i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((o.mode&1)===0?o.lanes=1:i.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(I=p.children,i=p.fallback,w?(p=o.mode,w=o.child,I={mode:"hidden",children:I},(p&1)===0&&w!==null?(w.childLanes=0,w.pendingProps=I):w=qd(I,p,0,null),i=Oo(i,p,u,null),w.return=o,i.return=o,w.sibling=i,o.child=w,o.child.memoizedState=ep(u),o.memoizedState=Zm,i):tp(o,I));if(v=i.memoizedState,v!==null&&(V=v.dehydrated,V!==null))return zN(i,o,I,p,V,v,u);if(w){w=p.fallback,I=o.mode,v=i.child,V=v.sibling;var z={mode:"hidden",children:p.children};return(I&1)===0&&o.child!==v?(p=o.child,p.childLanes=0,p.pendingProps=z,o.deletions=null):(p=Ri(v,z),p.subtreeFlags=v.subtreeFlags&14680064),V!==null?w=Ri(V,w):(w=Oo(w,I,u,null),w.flags|=2),w.return=o,p.return=o,p.sibling=w,o.child=p,p=w,w=o.child,I=i.child.memoizedState,I=I===null?ep(u):{baseLanes:I.baseLanes|u,cachePool:null,transitions:I.transitions},w.memoizedState=I,w.childLanes=i.childLanes&~u,o.memoizedState=Zm,p}return w=i.child,i=w.sibling,p=Ri(w,{mode:"visible",children:p.children}),(o.mode&1)===0&&(p.lanes=u),p.return=o,p.sibling=null,i!==null&&(u=o.deletions,u===null?(o.deletions=[i],o.flags|=16):u.push(i)),o.child=p,o.memoizedState=null,p}function tp(i,o){return o=qd({mode:"visible",children:o},i.mode,0,null),o.return=i,i.child=o}function Pd(i,o,u,p){return p!==null&&Nm(p),Da(o,i.child,null,u),i=tp(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function zN(i,o,u,p,v,w,I){if(u)return o.flags&256?(o.flags&=-257,p=Qm(Error(n(422))),Pd(i,o,I,p)):o.memoizedState!==null?(o.child=i.child,o.flags|=128,null):(w=p.fallback,v=o.mode,p=qd({mode:"visible",children:p.children},v,0,null),w=Oo(w,v,I,null),w.flags|=2,p.return=o,w.return=o,p.sibling=w,o.child=p,(o.mode&1)!==0&&Da(o,i.child,null,I),o.child.memoizedState=ep(I),o.memoizedState=Zm,w);if((o.mode&1)===0)return Pd(i,o,I,null);if(v.data==="$!"){if(p=v.nextSibling&&v.nextSibling.dataset,p)var V=p.dgst;return p=V,w=Error(n(419)),p=Qm(w,p,void 0),Pd(i,o,I,p)}if(V=(I&i.childLanes)!==0,Un||V){if(p=Jt,p!==null){switch(I&-I){case 4:v=2;break;case 16:v=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:v=32;break;case 536870912:v=268435456;break;default:v=0}v=(v&(p.suspendedLanes|I))!==0?0:v,v!==0&&v!==w.retryLane&&(w.retryLane=v,Bs(i,v),$r(p,i,v,-1))}return yp(),p=Qm(Error(n(421))),Pd(i,o,I,p)}return v.data==="$?"?(o.flags|=128,o.child=i.child,o=tA.bind(null,i),v._reactRetry=o,null):(i=w.treeContext,ir=wi(v.nextSibling),sr=o,vt=!0,Fr=null,i!==null&&(xr[wr++]=Fs,xr[wr++]=Us,xr[wr++]=Co,Fs=i.id,Us=i.overflow,Co=o),o=tp(o,p.children),o.flags|=4096,o)}function rw(i,o,u){i.lanes|=o;var p=i.alternate;p!==null&&(p.lanes|=o),Pm(i.return,o,u)}function np(i,o,u,p,v){var w=i.memoizedState;w===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:p,tail:u,tailMode:v}:(w.isBackwards=o,w.rendering=null,w.renderingStartTime=0,w.last=p,w.tail=u,w.tailMode=v)}function sw(i,o,u){var p=o.pendingProps,v=p.revealOrder,w=p.tail;if(Pn(i,o,p.children,u),p=wt.current,(p&2)!==0)p=p&1|2,o.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&rw(i,u,o);else if(i.tag===19)rw(i,u,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}p&=1}if(ut(wt,p),(o.mode&1)===0)o.memoizedState=null;else switch(v){case"forwards":for(u=o.child,v=null;u!==null;)i=u.alternate,i!==null&&Sd(i)===null&&(v=u),u=u.sibling;u=v,u===null?(v=o.child,o.child=null):(v=u.sibling,u.sibling=null),np(o,!1,v,u,w);break;case"backwards":for(u=null,v=o.child,o.child=null;v!==null;){if(i=v.alternate,i!==null&&Sd(i)===null){o.child=v;break}i=v.sibling,v.sibling=u,u=v,v=i}np(o,!0,u,null,w);break;case"together":np(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function jd(i,o){(o.mode&1)===0&&i!==null&&(i.alternate=null,o.alternate=null,o.flags|=2)}function $s(i,o,u){if(i!==null&&(o.dependencies=i.dependencies),Po|=o.lanes,(u&o.childLanes)===0)return null;if(i!==null&&o.child!==i.child)throw Error(n(153));if(o.child!==null){for(i=o.child,u=Ri(i,i.pendingProps),o.child=u,u.return=o;i.sibling!==null;)i=i.sibling,u=u.sibling=Ri(i,i.pendingProps),u.return=o;u.sibling=null}return o.child}function $N(i,o,u){switch(o.tag){case 3:ew(o),ja();break;case 5:vx(o);break;case 1:Fn(o.type)&&pd(o);break;case 4:Mm(o,o.stateNode.containerInfo);break;case 10:var p=o.type._context,v=o.memoizedProps.value;ut(bd,p._currentValue),p._currentValue=v;break;case 13:if(p=o.memoizedState,p!==null)return p.dehydrated!==null?(ut(wt,wt.current&1),o.flags|=128,null):(u&o.child.childLanes)!==0?nw(i,o,u):(ut(wt,wt.current&1),i=$s(i,o,u),i!==null?i.sibling:null);ut(wt,wt.current&1);break;case 19:if(p=(u&o.childLanes)!==0,(i.flags&128)!==0){if(p)return sw(i,o,u);o.flags|=128}if(v=o.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),ut(wt,wt.current),p)break;return null;case 22:case 23:return o.lanes=0,Xx(i,o,u)}return $s(i,o,u)}var iw,rp,ow,aw;iw=function(i,o){for(var u=o.child;u!==null;){if(u.tag===5||u.tag===6)i.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},rp=function(){},ow=function(i,o,u,p){var v=i.memoizedProps;if(v!==p){i=o.stateNode,ko(ds.current);var w=null;switch(u){case"input":v=Le(i,v),p=Le(i,p),w=[];break;case"select":v=U({},v,{value:void 0}),p=U({},p,{value:void 0}),w=[];break;case"textarea":v=kt(i,v),p=kt(i,p),w=[];break;default:typeof v.onClick!="function"&&typeof p.onClick=="function"&&(i.onclick=hd)}Ln(u,p);var I;u=null;for(X in v)if(!p.hasOwnProperty(X)&&v.hasOwnProperty(X)&&v[X]!=null)if(X==="style"){var V=v[X];for(I in V)V.hasOwnProperty(I)&&(u||(u={}),u[I]="")}else X!=="dangerouslySetInnerHTML"&&X!=="children"&&X!=="suppressContentEditableWarning"&&X!=="suppressHydrationWarning"&&X!=="autoFocus"&&(s.hasOwnProperty(X)?w||(w=[]):(w=w||[]).push(X,null));for(X in p){var z=p[X];if(V=v?.[X],p.hasOwnProperty(X)&&z!==V&&(z!=null||V!=null))if(X==="style")if(V){for(I in V)!V.hasOwnProperty(I)||z&&z.hasOwnProperty(I)||(u||(u={}),u[I]="");for(I in z)z.hasOwnProperty(I)&&V[I]!==z[I]&&(u||(u={}),u[I]=z[I])}else u||(w||(w=[]),w.push(X,u)),u=z;else X==="dangerouslySetInnerHTML"?(z=z?z.__html:void 0,V=V?V.__html:void 0,z!=null&&V!==z&&(w=w||[]).push(X,z)):X==="children"?typeof z!="string"&&typeof z!="number"||(w=w||[]).push(X,""+z):X!=="suppressContentEditableWarning"&&X!=="suppressHydrationWarning"&&(s.hasOwnProperty(X)?(z!=null&&X==="onScroll"&&pt("scroll",i),w||V===z||(w=[])):(w=w||[]).push(X,z))}u&&(w=w||[]).push("style",u);var X=w;(o.updateQueue=X)&&(o.flags|=4)}},aw=function(i,o,u,p){u!==p&&(o.flags|=4)};function yc(i,o){if(!vt)switch(i.tailMode){case"hidden":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var p=null;u!==null;)u.alternate!==null&&(p=u),u=u.sibling;p===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:p.sibling=null}}function vn(i){var o=i.alternate!==null&&i.alternate.child===i.child,u=0,p=0;if(o)for(var v=i.child;v!==null;)u|=v.lanes|v.childLanes,p|=v.subtreeFlags&14680064,p|=v.flags&14680064,v.return=i,v=v.sibling;else for(v=i.child;v!==null;)u|=v.lanes|v.childLanes,p|=v.subtreeFlags,p|=v.flags,v.return=i,v=v.sibling;return i.subtreeFlags|=p,i.childLanes=u,o}function HN(i,o,u){var p=o.pendingProps;switch(Sm(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vn(o),null;case 1:return Fn(o.type)&&md(),vn(o),null;case 3:return p=o.stateNode,La(),gt(Vn),gt(gn),Vm(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(i===null||i.child===null)&&(xd(o)?o.flags|=4:i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Fr!==null&&(mp(Fr),Fr=null))),rp(i,o),vn(o),null;case 5:Om(o);var v=ko(hc.current);if(u=o.type,i!==null&&o.stateNode!=null)ow(i,o,u,p,v),i.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!p){if(o.stateNode===null)throw Error(n(166));return vn(o),null}if(i=ko(ds.current),xd(o)){p=o.stateNode,u=o.type;var w=o.memoizedProps;switch(p[us]=o,p[ac]=w,i=(o.mode&1)!==0,u){case"dialog":pt("cancel",p),pt("close",p);break;case"iframe":case"object":case"embed":pt("load",p);break;case"video":case"audio":for(v=0;v<sc.length;v++)pt(sc[v],p);break;case"source":pt("error",p);break;case"img":case"image":case"link":pt("error",p),pt("load",p);break;case"details":pt("toggle",p);break;case"input":ct(p,w),pt("invalid",p);break;case"select":p._wrapperState={wasMultiple:!!w.multiple},pt("invalid",p);break;case"textarea":On(p,w),pt("invalid",p)}Ln(u,w),v=null;for(var I in w)if(w.hasOwnProperty(I)){var V=w[I];I==="children"?typeof V=="string"?p.textContent!==V&&(w.suppressHydrationWarning!==!0&&dd(p.textContent,V,i),v=["children",V]):typeof V=="number"&&p.textContent!==""+V&&(w.suppressHydrationWarning!==!0&&dd(p.textContent,V,i),v=["children",""+V]):s.hasOwnProperty(I)&&V!=null&&I==="onScroll"&&pt("scroll",p)}switch(u){case"input":$e(p),Kt(p,w,!0);break;case"textarea":$e(p),fr(p);break;case"select":case"option":break;default:typeof w.onClick=="function"&&(p.onclick=hd)}p=v,o.updateQueue=p,p!==null&&(o.flags|=4)}else{I=v.nodeType===9?v:v.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=Kn(u)),i==="http://www.w3.org/1999/xhtml"?u==="script"?(i=I.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof p.is=="string"?i=I.createElement(u,{is:p.is}):(i=I.createElement(u),u==="select"&&(I=i,p.multiple?I.multiple=!0:p.size&&(I.size=p.size))):i=I.createElementNS(i,u),i[us]=o,i[ac]=p,iw(i,o,!1,!1),o.stateNode=i;e:{switch(I=di(u,p),u){case"dialog":pt("cancel",i),pt("close",i),v=p;break;case"iframe":case"object":case"embed":pt("load",i),v=p;break;case"video":case"audio":for(v=0;v<sc.length;v++)pt(sc[v],i);v=p;break;case"source":pt("error",i),v=p;break;case"img":case"image":case"link":pt("error",i),pt("load",i),v=p;break;case"details":pt("toggle",i),v=p;break;case"input":ct(i,p),v=Le(i,p),pt("invalid",i);break;case"option":v=p;break;case"select":i._wrapperState={wasMultiple:!!p.multiple},v=U({},p,{value:void 0}),pt("invalid",i);break;case"textarea":On(i,p),v=kt(i,p),pt("invalid",i);break;default:v=p}Ln(u,v),V=v;for(w in V)if(V.hasOwnProperty(w)){var z=V[w];w==="style"?ci(i,z):w==="dangerouslySetInnerHTML"?(z=z?z.__html:void 0,z!=null&&jr(i,z)):w==="children"?typeof z=="string"?(u!=="textarea"||z!=="")&&sn(i,z):typeof z=="number"&&sn(i,""+z):w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&w!=="autoFocus"&&(s.hasOwnProperty(w)?z!=null&&w==="onScroll"&&pt("scroll",i):z!=null&&$(i,w,z,I))}switch(u){case"input":$e(i),Kt(i,p,!1);break;case"textarea":$e(i),fr(i);break;case"option":p.value!=null&&i.setAttribute("value",""+ce(p.value));break;case"select":i.multiple=!!p.multiple,w=p.value,w!=null?Nn(i,!!p.multiple,w,!1):p.defaultValue!=null&&Nn(i,!!p.multiple,p.defaultValue,!0);break;default:typeof v.onClick=="function"&&(i.onclick=hd)}switch(u){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}}p&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return vn(o),null;case 6:if(i&&o.stateNode!=null)aw(i,o,i.memoizedProps,p);else{if(typeof p!="string"&&o.stateNode===null)throw Error(n(166));if(u=ko(hc.current),ko(ds.current),xd(o)){if(p=o.stateNode,u=o.memoizedProps,p[us]=o,(w=p.nodeValue!==u)&&(i=sr,i!==null))switch(i.tag){case 3:dd(p.nodeValue,u,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&dd(p.nodeValue,u,(i.mode&1)!==0)}w&&(o.flags|=4)}else p=(u.nodeType===9?u:u.ownerDocument).createTextNode(p),p[us]=o,o.stateNode=p}return vn(o),null;case 13:if(gt(wt),p=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(vt&&ir!==null&&(o.mode&1)!==0&&(o.flags&128)===0)ux(),ja(),o.flags|=98560,w=!1;else if(w=xd(o),p!==null&&p.dehydrated!==null){if(i===null){if(!w)throw Error(n(318));if(w=o.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(n(317));w[us]=o}else ja(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;vn(o),w=!1}else Fr!==null&&(mp(Fr),Fr=null),w=!0;if(!w)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=u,o):(p=p!==null,p!==(i!==null&&i.memoizedState!==null)&&p&&(o.child.flags|=8192,(o.mode&1)!==0&&(i===null||(wt.current&1)!==0?qt===0&&(qt=3):yp())),o.updateQueue!==null&&(o.flags|=4),vn(o),null);case 4:return La(),rp(i,o),i===null&&ic(o.stateNode.containerInfo),vn(o),null;case 10:return Rm(o.type._context),vn(o),null;case 17:return Fn(o.type)&&md(),vn(o),null;case 19:if(gt(wt),w=o.memoizedState,w===null)return vn(o),null;if(p=(o.flags&128)!==0,I=w.rendering,I===null)if(p)yc(w,!1);else{if(qt!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(I=Sd(i),I!==null){for(o.flags|=128,yc(w,!1),p=I.updateQueue,p!==null&&(o.updateQueue=p,o.flags|=4),o.subtreeFlags=0,p=u,u=o.child;u!==null;)w=u,i=p,w.flags&=14680066,I=w.alternate,I===null?(w.childLanes=0,w.lanes=i,w.child=null,w.subtreeFlags=0,w.memoizedProps=null,w.memoizedState=null,w.updateQueue=null,w.dependencies=null,w.stateNode=null):(w.childLanes=I.childLanes,w.lanes=I.lanes,w.child=I.child,w.subtreeFlags=0,w.deletions=null,w.memoizedProps=I.memoizedProps,w.memoizedState=I.memoizedState,w.updateQueue=I.updateQueue,w.type=I.type,i=I.dependencies,w.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),u=u.sibling;return ut(wt,wt.current&1|2),o.child}i=i.sibling}w.tail!==null&&mt()>Ba&&(o.flags|=128,p=!0,yc(w,!1),o.lanes=4194304)}else{if(!p)if(i=Sd(I),i!==null){if(o.flags|=128,p=!0,u=i.updateQueue,u!==null&&(o.updateQueue=u,o.flags|=4),yc(w,!0),w.tail===null&&w.tailMode==="hidden"&&!I.alternate&&!vt)return vn(o),null}else 2*mt()-w.renderingStartTime>Ba&&u!==1073741824&&(o.flags|=128,p=!0,yc(w,!1),o.lanes=4194304);w.isBackwards?(I.sibling=o.child,o.child=I):(u=w.last,u!==null?u.sibling=I:o.child=I,w.last=I)}return w.tail!==null?(o=w.tail,w.rendering=o,w.tail=o.sibling,w.renderingStartTime=mt(),o.sibling=null,u=wt.current,ut(wt,p?u&1|2:u&1),o):(vn(o),null);case 22:case 23:return gp(),p=o.memoizedState!==null,i!==null&&i.memoizedState!==null!==p&&(o.flags|=8192),p&&(o.mode&1)!==0?(or&1073741824)!==0&&(vn(o),o.subtreeFlags&6&&(o.flags|=8192)):vn(o),null;case 24:return null;case 25:return null}throw Error(n(156,o.tag))}function qN(i,o){switch(Sm(o),o.tag){case 1:return Fn(o.type)&&md(),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return La(),gt(Vn),gt(gn),Vm(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 5:return Om(o),null;case 13:if(gt(wt),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(n(340));ja()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return gt(wt),null;case 4:return La(),null;case 10:return Rm(o.type._context),null;case 22:case 23:return gp(),null;case 24:return null;default:return null}}var Dd=!1,xn=!1,WN=typeof WeakSet=="function"?WeakSet:Set,Te=null;function Fa(i,o){var u=i.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(p){St(i,o,p)}else u.current=null}function sp(i,o,u){try{u()}catch(p){St(i,o,p)}}var lw=!1;function GN(i,o){if(gm=Ds,i=Uv(),lm(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var p=u.getSelection&&u.getSelection();if(p&&p.rangeCount!==0){u=p.anchorNode;var v=p.anchorOffset,w=p.focusNode;p=p.focusOffset;try{u.nodeType,w.nodeType}catch{u=null;break e}var I=0,V=-1,z=-1,X=0,de=0,he=i,ue=null;t:for(;;){for(var _e;he!==u||v!==0&&he.nodeType!==3||(V=I+v),he!==w||p!==0&&he.nodeType!==3||(z=I+p),he.nodeType===3&&(I+=he.nodeValue.length),(_e=he.firstChild)!==null;)ue=he,he=_e;for(;;){if(he===i)break t;if(ue===u&&++X===v&&(V=I),ue===w&&++de===p&&(z=I),(_e=he.nextSibling)!==null)break;he=ue,ue=he.parentNode}he=_e}u=V===-1||z===-1?null:{start:V,end:z}}else u=null}u=u||{start:0,end:0}}else u=null;for(ym={focusedElem:i,selectionRange:u},Ds=!1,Te=o;Te!==null;)if(o=Te,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,Te=i;else for(;Te!==null;){o=Te;try{var Ie=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(Ie!==null){var Ne=Ie.memoizedProps,jt=Ie.memoizedState,W=o.stateNode,H=W.getSnapshotBeforeUpdate(o.elementType===o.type?Ne:Ur(o.type,Ne),jt);W.__reactInternalSnapshotBeforeUpdate=H}break;case 3:var Q=o.stateNode.containerInfo;Q.nodeType===1?Q.textContent="":Q.nodeType===9&&Q.documentElement&&Q.removeChild(Q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ge){St(o,o.return,ge)}if(i=o.sibling,i!==null){i.return=o.return,Te=i;break}Te=o.return}return Ie=lw,lw=!1,Ie}function vc(i,o,u){var p=o.updateQueue;if(p=p!==null?p.lastEffect:null,p!==null){var v=p=p.next;do{if((v.tag&i)===i){var w=v.destroy;v.destroy=void 0,w!==void 0&&sp(o,u,w)}v=v.next}while(v!==p)}}function Md(i,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var u=o=o.next;do{if((u.tag&i)===i){var p=u.create;u.destroy=p()}u=u.next}while(u!==o)}}function ip(i){var o=i.ref;if(o!==null){var u=i.stateNode;i.tag,i=u,typeof o=="function"?o(i):o.current=i}}function cw(i){var o=i.alternate;o!==null&&(i.alternate=null,cw(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&(delete o[us],delete o[ac],delete o[bm],delete o[AN],delete o[kN])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function uw(i){return i.tag===5||i.tag===3||i.tag===4}function dw(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||uw(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function op(i,o,u){var p=i.tag;if(p===5||p===6)i=i.stateNode,o?u.nodeType===8?u.parentNode.insertBefore(i,o):u.insertBefore(i,o):(u.nodeType===8?(o=u.parentNode,o.insertBefore(i,u)):(o=u,o.appendChild(i)),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=hd));else if(p!==4&&(i=i.child,i!==null))for(op(i,o,u),i=i.sibling;i!==null;)op(i,o,u),i=i.sibling}function ap(i,o,u){var p=i.tag;if(p===5||p===6)i=i.stateNode,o?u.insertBefore(i,o):u.appendChild(i);else if(p!==4&&(i=i.child,i!==null))for(ap(i,o,u),i=i.sibling;i!==null;)ap(i,o,u),i=i.sibling}var ln=null,Br=!1;function Ii(i,o,u){for(u=u.child;u!==null;)hw(i,o,u),u=u.sibling}function hw(i,o,u){if(Jn&&typeof Jn.onCommitFiberUnmount=="function")try{Jn.onCommitFiberUnmount(go,u)}catch{}switch(u.tag){case 5:xn||Fa(u,o);case 6:var p=ln,v=Br;ln=null,Ii(i,o,u),ln=p,Br=v,ln!==null&&(Br?(i=ln,u=u.stateNode,i.nodeType===8?i.parentNode.removeChild(u):i.removeChild(u)):ln.removeChild(u.stateNode));break;case 18:ln!==null&&(Br?(i=ln,u=u.stateNode,i.nodeType===8?wm(i.parentNode,u):i.nodeType===1&&wm(i,u),gi(i)):wm(ln,u.stateNode));break;case 4:p=ln,v=Br,ln=u.stateNode.containerInfo,Br=!0,Ii(i,o,u),ln=p,Br=v;break;case 0:case 11:case 14:case 15:if(!xn&&(p=u.updateQueue,p!==null&&(p=p.lastEffect,p!==null))){v=p=p.next;do{var w=v,I=w.destroy;w=w.tag,I!==void 0&&((w&2)!==0||(w&4)!==0)&&sp(u,o,I),v=v.next}while(v!==p)}Ii(i,o,u);break;case 1:if(!xn&&(Fa(u,o),p=u.stateNode,typeof p.componentWillUnmount=="function"))try{p.props=u.memoizedProps,p.state=u.memoizedState,p.componentWillUnmount()}catch(V){St(u,o,V)}Ii(i,o,u);break;case 21:Ii(i,o,u);break;case 22:u.mode&1?(xn=(p=xn)||u.memoizedState!==null,Ii(i,o,u),xn=p):Ii(i,o,u);break;default:Ii(i,o,u)}}function fw(i){var o=i.updateQueue;if(o!==null){i.updateQueue=null;var u=i.stateNode;u===null&&(u=i.stateNode=new WN),o.forEach(function(p){var v=nA.bind(null,i,p);u.has(p)||(u.add(p),p.then(v,v))})}}function zr(i,o){var u=o.deletions;if(u!==null)for(var p=0;p<u.length;p++){var v=u[p];try{var w=i,I=o,V=I;e:for(;V!==null;){switch(V.tag){case 5:ln=V.stateNode,Br=!1;break e;case 3:ln=V.stateNode.containerInfo,Br=!0;break e;case 4:ln=V.stateNode.containerInfo,Br=!0;break e}V=V.return}if(ln===null)throw Error(n(160));hw(w,I,v),ln=null,Br=!1;var z=v.alternate;z!==null&&(z.return=null),v.return=null}catch(X){St(v,o,X)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)mw(o,i),o=o.sibling}function mw(i,o){var u=i.alternate,p=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(zr(o,i),fs(i),p&4){try{vc(3,i,i.return),Md(3,i)}catch(Ne){St(i,i.return,Ne)}try{vc(5,i,i.return)}catch(Ne){St(i,i.return,Ne)}}break;case 1:zr(o,i),fs(i),p&512&&u!==null&&Fa(u,u.return);break;case 5:if(zr(o,i),fs(i),p&512&&u!==null&&Fa(u,u.return),i.flags&32){var v=i.stateNode;try{sn(v,"")}catch(Ne){St(i,i.return,Ne)}}if(p&4&&(v=i.stateNode,v!=null)){var w=i.memoizedProps,I=u!==null?u.memoizedProps:w,V=i.type,z=i.updateQueue;if(i.updateQueue=null,z!==null)try{V==="input"&&w.type==="radio"&&w.name!=null&&At(v,w),di(V,I);var X=di(V,w);for(I=0;I<z.length;I+=2){var de=z[I],he=z[I+1];de==="style"?ci(v,he):de==="dangerouslySetInnerHTML"?jr(v,he):de==="children"?sn(v,he):$(v,de,he,X)}switch(V){case"input":ht(v,w);break;case"textarea":As(v,w);break;case"select":var ue=v._wrapperState.wasMultiple;v._wrapperState.wasMultiple=!!w.multiple;var _e=w.value;_e!=null?Nn(v,!!w.multiple,_e,!1):ue!==!!w.multiple&&(w.defaultValue!=null?Nn(v,!!w.multiple,w.defaultValue,!0):Nn(v,!!w.multiple,w.multiple?[]:"",!1))}v[ac]=w}catch(Ne){St(i,i.return,Ne)}}break;case 6:if(zr(o,i),fs(i),p&4){if(i.stateNode===null)throw Error(n(162));v=i.stateNode,w=i.memoizedProps;try{v.nodeValue=w}catch(Ne){St(i,i.return,Ne)}}break;case 3:if(zr(o,i),fs(i),p&4&&u!==null&&u.memoizedState.isDehydrated)try{gi(o.containerInfo)}catch(Ne){St(i,i.return,Ne)}break;case 4:zr(o,i),fs(i);break;case 13:zr(o,i),fs(i),v=i.child,v.flags&8192&&(w=v.memoizedState!==null,v.stateNode.isHidden=w,!w||v.alternate!==null&&v.alternate.memoizedState!==null||(up=mt())),p&4&&fw(i);break;case 22:if(de=u!==null&&u.memoizedState!==null,i.mode&1?(xn=(X=xn)||de,zr(o,i),xn=X):zr(o,i),fs(i),p&8192){if(X=i.memoizedState!==null,(i.stateNode.isHidden=X)&&!de&&(i.mode&1)!==0)for(Te=i,de=i.child;de!==null;){for(he=Te=de;Te!==null;){switch(ue=Te,_e=ue.child,ue.tag){case 0:case 11:case 14:case 15:vc(4,ue,ue.return);break;case 1:Fa(ue,ue.return);var Ie=ue.stateNode;if(typeof Ie.componentWillUnmount=="function"){p=ue,u=ue.return;try{o=p,Ie.props=o.memoizedProps,Ie.state=o.memoizedState,Ie.componentWillUnmount()}catch(Ne){St(p,u,Ne)}}break;case 5:Fa(ue,ue.return);break;case 22:if(ue.memoizedState!==null){yw(he);continue}}_e!==null?(_e.return=ue,Te=_e):yw(he)}de=de.sibling}e:for(de=null,he=i;;){if(he.tag===5){if(de===null){de=he;try{v=he.stateNode,X?(w=v.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none"):(V=he.stateNode,z=he.memoizedProps.style,I=z!=null&&z.hasOwnProperty("display")?z.display:null,V.style.display=mr("display",I))}catch(Ne){St(i,i.return,Ne)}}}else if(he.tag===6){if(de===null)try{he.stateNode.nodeValue=X?"":he.memoizedProps}catch(Ne){St(i,i.return,Ne)}}else if((he.tag!==22&&he.tag!==23||he.memoizedState===null||he===i)&&he.child!==null){he.child.return=he,he=he.child;continue}if(he===i)break e;for(;he.sibling===null;){if(he.return===null||he.return===i)break e;de===he&&(de=null),he=he.return}de===he&&(de=null),he.sibling.return=he.return,he=he.sibling}}break;case 19:zr(o,i),fs(i),p&4&&fw(i);break;case 21:break;default:zr(o,i),fs(i)}}function fs(i){var o=i.flags;if(o&2){try{e:{for(var u=i.return;u!==null;){if(uw(u)){var p=u;break e}u=u.return}throw Error(n(160))}switch(p.tag){case 5:var v=p.stateNode;p.flags&32&&(sn(v,""),p.flags&=-33);var w=dw(i);ap(i,w,v);break;case 3:case 4:var I=p.stateNode.containerInfo,V=dw(i);op(i,V,I);break;default:throw Error(n(161))}}catch(z){St(i,i.return,z)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function KN(i,o,u){Te=i,pw(i)}function pw(i,o,u){for(var p=(i.mode&1)!==0;Te!==null;){var v=Te,w=v.child;if(v.tag===22&&p){var I=v.memoizedState!==null||Dd;if(!I){var V=v.alternate,z=V!==null&&V.memoizedState!==null||xn;V=Dd;var X=xn;if(Dd=I,(xn=z)&&!X)for(Te=v;Te!==null;)I=Te,z=I.child,I.tag===22&&I.memoizedState!==null?vw(v):z!==null?(z.return=I,Te=z):vw(v);for(;w!==null;)Te=w,pw(w),w=w.sibling;Te=v,Dd=V,xn=X}gw(i)}else(v.subtreeFlags&8772)!==0&&w!==null?(w.return=v,Te=w):gw(i)}}function gw(i){for(;Te!==null;){var o=Te;if((o.flags&8772)!==0){var u=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:xn||Md(5,o);break;case 1:var p=o.stateNode;if(o.flags&4&&!xn)if(u===null)p.componentDidMount();else{var v=o.elementType===o.type?u.memoizedProps:Ur(o.type,u.memoizedProps);p.componentDidUpdate(v,u.memoizedState,p.__reactInternalSnapshotBeforeUpdate)}var w=o.updateQueue;w!==null&&yx(o,w,p);break;case 3:var I=o.updateQueue;if(I!==null){if(u=null,o.child!==null)switch(o.child.tag){case 5:u=o.child.stateNode;break;case 1:u=o.child.stateNode}yx(o,I,u)}break;case 5:var V=o.stateNode;if(u===null&&o.flags&4){u=V;var z=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":z.autoFocus&&u.focus();break;case"img":z.src&&(u.src=z.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var X=o.alternate;if(X!==null){var de=X.memoizedState;if(de!==null){var he=de.dehydrated;he!==null&&gi(he)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}xn||o.flags&512&&ip(o)}catch(ue){St(o,o.return,ue)}}if(o===i){Te=null;break}if(u=o.sibling,u!==null){u.return=o.return,Te=u;break}Te=o.return}}function yw(i){for(;Te!==null;){var o=Te;if(o===i){Te=null;break}var u=o.sibling;if(u!==null){u.return=o.return,Te=u;break}Te=o.return}}function vw(i){for(;Te!==null;){var o=Te;try{switch(o.tag){case 0:case 11:case 15:var u=o.return;try{Md(4,o)}catch(z){St(o,u,z)}break;case 1:var p=o.stateNode;if(typeof p.componentDidMount=="function"){var v=o.return;try{p.componentDidMount()}catch(z){St(o,v,z)}}var w=o.return;try{ip(o)}catch(z){St(o,w,z)}break;case 5:var I=o.return;try{ip(o)}catch(z){St(o,I,z)}}}catch(z){St(o,o.return,z)}if(o===i){Te=null;break}var V=o.sibling;if(V!==null){V.return=o.return,Te=V;break}Te=o.return}}var QN=Math.ceil,Od=Z.ReactCurrentDispatcher,lp=Z.ReactCurrentOwner,Er=Z.ReactCurrentBatchConfig,et=0,Jt=null,Ft=null,cn=0,or=0,Ua=bi(0),qt=0,xc=null,Po=0,Ld=0,cp=0,wc=null,Bn=null,up=0,Ba=1/0,Hs=null,Vd=!1,dp=null,Ci=null,Fd=!1,Ni=null,Ud=0,bc=0,hp=null,Bd=-1,zd=0;function jn(){return(et&6)!==0?mt():Bd!==-1?Bd:Bd=mt()}function Ai(i){return(i.mode&1)===0?1:(et&2)!==0&&cn!==0?cn&-cn:PN.transition!==null?(zd===0&&(zd=zl()),zd):(i=Xe,i!==0||(i=window.event,i=i===void 0?16:ga(i.type)),i)}function $r(i,o,u,p){if(50<bc)throw bc=0,hp=null,Error(n(185));wo(i,u,p),((et&2)===0||i!==Jt)&&(i===Jt&&((et&2)===0&&(Ld|=u),qt===4&&ki(i,cn)),zn(i,p),u===1&&et===0&&(o.mode&1)===0&&(Ba=mt()+500,gd&&Ei()))}function zn(i,o){var u=i.callbackNode;xo(i,o);var p=Rs(i,i===Jt?cn:0);if(p===0)u!==null&&ca(u),i.callbackNode=null,i.callbackPriority=0;else if(o=p&-p,i.callbackPriority!==o){if(u!=null&&ca(u),o===1)i.tag===0?RN(ww.bind(null,i)):ix(ww.bind(null,i)),CN(function(){(et&6)===0&&Ei()}),u=null;else{switch(es(p)){case 1:u=ua;break;case 4:u=Fl;break;case 16:u=po;break;case 536870912:u=da;break;default:u=po}u=Nw(u,xw.bind(null,i))}i.callbackPriority=o,i.callbackNode=u}}function xw(i,o){if(Bd=-1,zd=0,(et&6)!==0)throw Error(n(327));var u=i.callbackNode;if(za()&&i.callbackNode!==u)return null;var p=Rs(i,i===Jt?cn:0);if(p===0)return null;if((p&30)!==0||(p&i.expiredLanes)!==0||o)o=$d(i,p);else{o=p;var v=et;et|=2;var w=_w();(Jt!==i||cn!==o)&&(Hs=null,Ba=mt()+500,Do(i,o));do try{JN();break}catch(V){bw(i,V)}while(!0);km(),Od.current=w,et=v,Ft!==null?o=0:(Jt=null,cn=0,o=qt)}if(o!==0){if(o===2&&(v=Bl(i),v!==0&&(p=v,o=fp(i,v))),o===1)throw u=xc,Do(i,0),ki(i,p),zn(i,mt()),u;if(o===6)ki(i,p);else{if(v=i.current.alternate,(p&30)===0&&!YN(v)&&(o=$d(i,p),o===2&&(w=Bl(i),w!==0&&(p=w,o=fp(i,w))),o===1))throw u=xc,Do(i,0),ki(i,p),zn(i,mt()),u;switch(i.finishedWork=v,i.finishedLanes=p,o){case 0:case 1:throw Error(n(345));case 2:Mo(i,Bn,Hs);break;case 3:if(ki(i,p),(p&130023424)===p&&(o=up+500-mt(),10<o)){if(Rs(i,0)!==0)break;if(v=i.suspendedLanes,(v&p)!==p){jn(),i.pingedLanes|=i.suspendedLanes&v;break}i.timeoutHandle=xm(Mo.bind(null,i,Bn,Hs),o);break}Mo(i,Bn,Hs);break;case 4:if(ki(i,p),(p&4194240)===p)break;for(o=i.eventTimes,v=-1;0<p;){var I=31-Zn(p);w=1<<I,I=o[I],I>v&&(v=I),p&=~w}if(p=v,p=mt()-p,p=(120>p?120:480>p?480:1080>p?1080:1920>p?1920:3e3>p?3e3:4320>p?4320:1960*QN(p/1960))-p,10<p){i.timeoutHandle=xm(Mo.bind(null,i,Bn,Hs),p);break}Mo(i,Bn,Hs);break;case 5:Mo(i,Bn,Hs);break;default:throw Error(n(329))}}}return zn(i,mt()),i.callbackNode===u?xw.bind(null,i):null}function fp(i,o){var u=wc;return i.current.memoizedState.isDehydrated&&(Do(i,o).flags|=256),i=$d(i,o),i!==2&&(o=Bn,Bn=u,o!==null&&mp(o)),i}function mp(i){Bn===null?Bn=i:Bn.push.apply(Bn,i)}function YN(i){for(var o=i;;){if(o.flags&16384){var u=o.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var p=0;p<u.length;p++){var v=u[p],w=v.getSnapshot;v=v.value;try{if(!Vr(w(),v))return!1}catch{return!1}}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function ki(i,o){for(o&=~cp,o&=~Ld,i.suspendedLanes|=o,i.pingedLanes&=~o,i=i.expirationTimes;0<o;){var u=31-Zn(o),p=1<<u;i[u]=-1,o&=~p}}function ww(i){if((et&6)!==0)throw Error(n(327));za();var o=Rs(i,0);if((o&1)===0)return zn(i,mt()),null;var u=$d(i,o);if(i.tag!==0&&u===2){var p=Bl(i);p!==0&&(o=p,u=fp(i,p))}if(u===1)throw u=xc,Do(i,0),ki(i,o),zn(i,mt()),u;if(u===6)throw Error(n(345));return i.finishedWork=i.current.alternate,i.finishedLanes=o,Mo(i,Bn,Hs),zn(i,mt()),null}function pp(i,o){var u=et;et|=1;try{return i(o)}finally{et=u,et===0&&(Ba=mt()+500,gd&&Ei())}}function jo(i){Ni!==null&&Ni.tag===0&&(et&6)===0&&za();var o=et;et|=1;var u=Er.transition,p=Xe;try{if(Er.transition=null,Xe=1,i)return i()}finally{Xe=p,Er.transition=u,et=o,(et&6)===0&&Ei()}}function gp(){or=Ua.current,gt(Ua)}function Do(i,o){i.finishedWork=null,i.finishedLanes=0;var u=i.timeoutHandle;if(u!==-1&&(i.timeoutHandle=-1,IN(u)),Ft!==null)for(u=Ft.return;u!==null;){var p=u;switch(Sm(p),p.tag){case 1:p=p.type.childContextTypes,p!=null&&md();break;case 3:La(),gt(Vn),gt(gn),Vm();break;case 5:Om(p);break;case 4:La();break;case 13:gt(wt);break;case 19:gt(wt);break;case 10:Rm(p.type._context);break;case 22:case 23:gp()}u=u.return}if(Jt=i,Ft=i=Ri(i.current,null),cn=or=o,qt=0,xc=null,cp=Ld=Po=0,Bn=wc=null,Ao!==null){for(o=0;o<Ao.length;o++)if(u=Ao[o],p=u.interleaved,p!==null){u.interleaved=null;var v=p.next,w=u.pending;if(w!==null){var I=w.next;w.next=v,p.next=I}u.pending=p}Ao=null}return i}function bw(i,o){do{var u=Ft;try{if(km(),Id.current=kd,Cd){for(var p=bt.memoizedState;p!==null;){var v=p.queue;v!==null&&(v.pending=null),p=p.next}Cd=!1}if(Ro=0,Xt=Ht=bt=null,fc=!1,mc=0,lp.current=null,u===null||u.return===null){qt=1,xc=o,Ft=null;break}e:{var w=i,I=u.return,V=u,z=o;if(o=cn,V.flags|=32768,z!==null&&typeof z=="object"&&typeof z.then=="function"){var X=z,de=V,he=de.tag;if((de.mode&1)===0&&(he===0||he===11||he===15)){var ue=de.alternate;ue?(de.updateQueue=ue.updateQueue,de.memoizedState=ue.memoizedState,de.lanes=ue.lanes):(de.updateQueue=null,de.memoizedState=null)}var _e=Wx(I);if(_e!==null){_e.flags&=-257,Gx(_e,I,V,w,o),_e.mode&1&&qx(w,X,o),o=_e,z=X;var Ie=o.updateQueue;if(Ie===null){var Ne=new Set;Ne.add(z),o.updateQueue=Ne}else Ie.add(z);break e}else{if((o&1)===0){qx(w,X,o),yp();break e}z=Error(n(426))}}else if(vt&&V.mode&1){var jt=Wx(I);if(jt!==null){(jt.flags&65536)===0&&(jt.flags|=256),Gx(jt,I,V,w,o),Nm(Va(z,V));break e}}w=z=Va(z,V),qt!==4&&(qt=2),wc===null?wc=[w]:wc.push(w),w=I;do{switch(w.tag){case 3:w.flags|=65536,o&=-o,w.lanes|=o;var W=$x(w,z,o);gx(w,W);break e;case 1:V=z;var H=w.type,Q=w.stateNode;if((w.flags&128)===0&&(typeof H.getDerivedStateFromError=="function"||Q!==null&&typeof Q.componentDidCatch=="function"&&(Ci===null||!Ci.has(Q)))){w.flags|=65536,o&=-o,w.lanes|=o;var ge=Hx(w,V,o);gx(w,ge);break e}}w=w.return}while(w!==null)}Tw(u)}catch(Ae){o=Ae,Ft===u&&u!==null&&(Ft=u=u.return);continue}break}while(!0)}function _w(){var i=Od.current;return Od.current=kd,i===null?kd:i}function yp(){(qt===0||qt===3||qt===2)&&(qt=4),Jt===null||(Po&268435455)===0&&(Ld&268435455)===0||ki(Jt,cn)}function $d(i,o){var u=et;et|=2;var p=_w();(Jt!==i||cn!==o)&&(Hs=null,Do(i,o));do try{XN();break}catch(v){bw(i,v)}while(!0);if(km(),et=u,Od.current=p,Ft!==null)throw Error(n(261));return Jt=null,cn=0,qt}function XN(){for(;Ft!==null;)Ew(Ft)}function JN(){for(;Ft!==null&&!mo();)Ew(Ft)}function Ew(i){var o=Cw(i.alternate,i,or);i.memoizedProps=i.pendingProps,o===null?Tw(i):Ft=o,lp.current=null}function Tw(i){var o=i;do{var u=o.alternate;if(i=o.return,(o.flags&32768)===0){if(u=HN(u,o,or),u!==null){Ft=u;return}}else{if(u=qN(u,o),u!==null){u.flags&=32767,Ft=u;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{qt=6,Ft=null;return}}if(o=o.sibling,o!==null){Ft=o;return}Ft=o=i}while(o!==null);qt===0&&(qt=5)}function Mo(i,o,u){var p=Xe,v=Er.transition;try{Er.transition=null,Xe=1,ZN(i,o,u,p)}finally{Er.transition=v,Xe=p}return null}function ZN(i,o,u,p){do za();while(Ni!==null);if((et&6)!==0)throw Error(n(327));u=i.finishedWork;var v=i.finishedLanes;if(u===null)return null;if(i.finishedWork=null,i.finishedLanes=0,u===i.current)throw Error(n(177));i.callbackNode=null,i.callbackPriority=0;var w=u.lanes|u.childLanes;if(rm(i,w),i===Jt&&(Ft=Jt=null,cn=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||Fd||(Fd=!0,Nw(po,function(){return za(),null})),w=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||w){w=Er.transition,Er.transition=null;var I=Xe;Xe=1;var V=et;et|=4,lp.current=null,GN(i,u),mw(u,i),xN(ym),Ds=!!gm,ym=gm=null,i.current=u,KN(u),ks(),et=V,Xe=I,Er.transition=w}else i.current=u;if(Fd&&(Fd=!1,Ni=i,Ud=v),w=i.pendingLanes,w===0&&(Ci=null),Yu(u.stateNode),zn(i,mt()),o!==null)for(p=i.onRecoverableError,u=0;u<o.length;u++)v=o[u],p(v.value,{componentStack:v.stack,digest:v.digest});if(Vd)throw Vd=!1,i=dp,dp=null,i;return(Ud&1)!==0&&i.tag!==0&&za(),w=i.pendingLanes,(w&1)!==0?i===hp?bc++:(bc=0,hp=i):bc=0,Ei(),null}function za(){if(Ni!==null){var i=es(Ud),o=Er.transition,u=Xe;try{if(Er.transition=null,Xe=16>i?16:i,Ni===null)var p=!1;else{if(i=Ni,Ni=null,Ud=0,(et&6)!==0)throw Error(n(331));var v=et;for(et|=4,Te=i.current;Te!==null;){var w=Te,I=w.child;if((Te.flags&16)!==0){var V=w.deletions;if(V!==null){for(var z=0;z<V.length;z++){var X=V[z];for(Te=X;Te!==null;){var de=Te;switch(de.tag){case 0:case 11:case 15:vc(8,de,w)}var he=de.child;if(he!==null)he.return=de,Te=he;else for(;Te!==null;){de=Te;var ue=de.sibling,_e=de.return;if(cw(de),de===X){Te=null;break}if(ue!==null){ue.return=_e,Te=ue;break}Te=_e}}}var Ie=w.alternate;if(Ie!==null){var Ne=Ie.child;if(Ne!==null){Ie.child=null;do{var jt=Ne.sibling;Ne.sibling=null,Ne=jt}while(Ne!==null)}}Te=w}}if((w.subtreeFlags&2064)!==0&&I!==null)I.return=w,Te=I;else e:for(;Te!==null;){if(w=Te,(w.flags&2048)!==0)switch(w.tag){case 0:case 11:case 15:vc(9,w,w.return)}var W=w.sibling;if(W!==null){W.return=w.return,Te=W;break e}Te=w.return}}var H=i.current;for(Te=H;Te!==null;){I=Te;var Q=I.child;if((I.subtreeFlags&2064)!==0&&Q!==null)Q.return=I,Te=Q;else e:for(I=H;Te!==null;){if(V=Te,(V.flags&2048)!==0)try{switch(V.tag){case 0:case 11:case 15:Md(9,V)}}catch(Ae){St(V,V.return,Ae)}if(V===I){Te=null;break e}var ge=V.sibling;if(ge!==null){ge.return=V.return,Te=ge;break e}Te=V.return}}if(et=v,Ei(),Jn&&typeof Jn.onPostCommitFiberRoot=="function")try{Jn.onPostCommitFiberRoot(go,i)}catch{}p=!0}return p}finally{Xe=u,Er.transition=o}}return!1}function Sw(i,o,u){o=Va(u,o),o=$x(i,o,1),i=Si(i,o,1),o=jn(),i!==null&&(wo(i,1,o),zn(i,o))}function St(i,o,u){if(i.tag===3)Sw(i,i,u);else for(;o!==null;){if(o.tag===3){Sw(o,i,u);break}else if(o.tag===1){var p=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(Ci===null||!Ci.has(p))){i=Va(u,i),i=Hx(o,i,1),o=Si(o,i,1),i=jn(),o!==null&&(wo(o,1,i),zn(o,i));break}}o=o.return}}function eA(i,o,u){var p=i.pingCache;p!==null&&p.delete(o),o=jn(),i.pingedLanes|=i.suspendedLanes&u,Jt===i&&(cn&u)===u&&(qt===4||qt===3&&(cn&130023424)===cn&&500>mt()-up?Do(i,0):cp|=u),zn(i,o)}function Iw(i,o){o===0&&((i.mode&1)===0?o=1:(o=fi,fi<<=1,(fi&130023424)===0&&(fi=4194304)));var u=jn();i=Bs(i,o),i!==null&&(wo(i,o,u),zn(i,u))}function tA(i){var o=i.memoizedState,u=0;o!==null&&(u=o.retryLane),Iw(i,u)}function nA(i,o){var u=0;switch(i.tag){case 13:var p=i.stateNode,v=i.memoizedState;v!==null&&(u=v.retryLane);break;case 19:p=i.stateNode;break;default:throw Error(n(314))}p!==null&&p.delete(o),Iw(i,u)}var Cw;Cw=function(i,o,u){if(i!==null)if(i.memoizedProps!==o.pendingProps||Vn.current)Un=!0;else{if((i.lanes&u)===0&&(o.flags&128)===0)return Un=!1,$N(i,o,u);Un=(i.flags&131072)!==0}else Un=!1,vt&&(o.flags&1048576)!==0&&ox(o,vd,o.index);switch(o.lanes=0,o.tag){case 2:var p=o.type;jd(i,o),i=o.pendingProps;var v=ka(o,gn.current);Oa(o,u),v=Bm(null,o,p,i,v,u);var w=zm();return o.flags|=1,typeof v=="object"&&v!==null&&typeof v.render=="function"&&v.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,Fn(p)?(w=!0,pd(o)):w=!1,o.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,Dm(o),v.updater=Rd,o.stateNode=v,v._reactInternals=o,Km(o,p,i,u),o=Jm(null,o,p,!0,w,u)):(o.tag=0,vt&&w&&Tm(o),Pn(null,o,v,u),o=o.child),o;case 16:p=o.elementType;e:{switch(jd(i,o),i=o.pendingProps,v=p._init,p=v(p._payload),o.type=p,v=o.tag=sA(p),i=Ur(p,i),v){case 0:o=Xm(null,o,p,i,u);break e;case 1:o=Zx(null,o,p,i,u);break e;case 11:o=Kx(null,o,p,i,u);break e;case 14:o=Qx(null,o,p,Ur(p.type,i),u);break e}throw Error(n(306,p,""))}return o;case 0:return p=o.type,v=o.pendingProps,v=o.elementType===p?v:Ur(p,v),Xm(i,o,p,v,u);case 1:return p=o.type,v=o.pendingProps,v=o.elementType===p?v:Ur(p,v),Zx(i,o,p,v,u);case 3:e:{if(ew(o),i===null)throw Error(n(387));p=o.pendingProps,w=o.memoizedState,v=w.element,px(i,o),Td(o,p,null,u);var I=o.memoizedState;if(p=I.element,w.isDehydrated)if(w={element:p,isDehydrated:!1,cache:I.cache,pendingSuspenseBoundaries:I.pendingSuspenseBoundaries,transitions:I.transitions},o.updateQueue.baseState=w,o.memoizedState=w,o.flags&256){v=Va(Error(n(423)),o),o=tw(i,o,p,u,v);break e}else if(p!==v){v=Va(Error(n(424)),o),o=tw(i,o,p,u,v);break e}else for(ir=wi(o.stateNode.containerInfo.firstChild),sr=o,vt=!0,Fr=null,u=fx(o,null,p,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(ja(),p===v){o=$s(i,o,u);break e}Pn(i,o,p,u)}o=o.child}return o;case 5:return vx(o),i===null&&Cm(o),p=o.type,v=o.pendingProps,w=i!==null?i.memoizedProps:null,I=v.children,vm(p,v)?I=null:w!==null&&vm(p,w)&&(o.flags|=32),Jx(i,o),Pn(i,o,I,u),o.child;case 6:return i===null&&Cm(o),null;case 13:return nw(i,o,u);case 4:return Mm(o,o.stateNode.containerInfo),p=o.pendingProps,i===null?o.child=Da(o,null,p,u):Pn(i,o,p,u),o.child;case 11:return p=o.type,v=o.pendingProps,v=o.elementType===p?v:Ur(p,v),Kx(i,o,p,v,u);case 7:return Pn(i,o,o.pendingProps,u),o.child;case 8:return Pn(i,o,o.pendingProps.children,u),o.child;case 12:return Pn(i,o,o.pendingProps.children,u),o.child;case 10:e:{if(p=o.type._context,v=o.pendingProps,w=o.memoizedProps,I=v.value,ut(bd,p._currentValue),p._currentValue=I,w!==null)if(Vr(w.value,I)){if(w.children===v.children&&!Vn.current){o=$s(i,o,u);break e}}else for(w=o.child,w!==null&&(w.return=o);w!==null;){var V=w.dependencies;if(V!==null){I=w.child;for(var z=V.firstContext;z!==null;){if(z.context===p){if(w.tag===1){z=zs(-1,u&-u),z.tag=2;var X=w.updateQueue;if(X!==null){X=X.shared;var de=X.pending;de===null?z.next=z:(z.next=de.next,de.next=z),X.pending=z}}w.lanes|=u,z=w.alternate,z!==null&&(z.lanes|=u),Pm(w.return,u,o),V.lanes|=u;break}z=z.next}}else if(w.tag===10)I=w.type===o.type?null:w.child;else if(w.tag===18){if(I=w.return,I===null)throw Error(n(341));I.lanes|=u,V=I.alternate,V!==null&&(V.lanes|=u),Pm(I,u,o),I=w.sibling}else I=w.child;if(I!==null)I.return=w;else for(I=w;I!==null;){if(I===o){I=null;break}if(w=I.sibling,w!==null){w.return=I.return,I=w;break}I=I.return}w=I}Pn(i,o,v.children,u),o=o.child}return o;case 9:return v=o.type,p=o.pendingProps.children,Oa(o,u),v=br(v),p=p(v),o.flags|=1,Pn(i,o,p,u),o.child;case 14:return p=o.type,v=Ur(p,o.pendingProps),v=Ur(p.type,v),Qx(i,o,p,v,u);case 15:return Yx(i,o,o.type,o.pendingProps,u);case 17:return p=o.type,v=o.pendingProps,v=o.elementType===p?v:Ur(p,v),jd(i,o),o.tag=1,Fn(p)?(i=!0,pd(o)):i=!1,Oa(o,u),Bx(o,p,v),Km(o,p,v,u),Jm(null,o,p,!0,i,u);case 19:return sw(i,o,u);case 22:return Xx(i,o,u)}throw Error(n(156,o.tag))};function Nw(i,o){return Vl(i,o)}function rA(i,o,u,p){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tr(i,o,u,p){return new rA(i,o,u,p)}function vp(i){return i=i.prototype,!(!i||!i.isReactComponent)}function sA(i){if(typeof i=="function")return vp(i)?1:0;if(i!=null){if(i=i.$$typeof,i===L)return 11;if(i===ne)return 14}return 2}function Ri(i,o){var u=i.alternate;return u===null?(u=Tr(i.tag,o,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=o,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&14680064,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,o=i.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u}function Hd(i,o,u,p,v,w){var I=2;if(p=i,typeof i=="function")vp(i)&&(I=1);else if(typeof i=="string")I=5;else e:switch(i){case D:return Oo(u.children,v,w,o);case C:I=8,v|=8;break;case M:return i=Tr(12,u,o,v|2),i.elementType=M,i.lanes=w,i;case P:return i=Tr(13,u,o,v),i.elementType=P,i.lanes=w,i;case be:return i=Tr(19,u,o,v),i.elementType=be,i.lanes=w,i;case ae:return qd(u,v,w,o);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case O:I=10;break e;case B:I=9;break e;case L:I=11;break e;case ne:I=14;break e;case re:I=16,p=null;break e}throw Error(n(130,i==null?i:typeof i,""))}return o=Tr(I,u,o,v),o.elementType=i,o.type=p,o.lanes=w,o}function Oo(i,o,u,p){return i=Tr(7,i,p,o),i.lanes=u,i}function qd(i,o,u,p){return i=Tr(22,i,p,o),i.elementType=ae,i.lanes=u,i.stateNode={isHidden:!1},i}function xp(i,o,u){return i=Tr(6,i,null,o),i.lanes=u,i}function wp(i,o,u){return o=Tr(4,i.children!==null?i.children:[],i.key,o),o.lanes=u,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}function iA(i,o,u,p,v){this.tag=o,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=$l(0),this.expirationTimes=$l(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$l(0),this.identifierPrefix=p,this.onRecoverableError=v,this.mutableSourceEagerHydrationData=null}function bp(i,o,u,p,v,w,I,V,z){return i=new iA(i,o,u,V,z),o===1?(o=1,w===!0&&(o|=8)):o=0,w=Tr(3,null,null,o),i.current=w,w.stateNode=i,w.memoizedState={element:p,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},Dm(w),i}function oA(i,o,u){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:K,key:p==null?null:""+p,children:i,containerInfo:o,implementation:u}}function Aw(i){if(!i)return _i;i=i._reactInternals;e:{if(Or(i)!==i||i.tag!==1)throw Error(n(170));var o=i;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(Fn(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(n(171))}if(i.tag===1){var u=i.type;if(Fn(u))return rx(i,u,o)}return o}function kw(i,o,u,p,v,w,I,V,z){return i=bp(u,p,!0,i,v,w,I,V,z),i.context=Aw(null),u=i.current,p=jn(),v=Ai(u),w=zs(p,v),w.callback=o??null,Si(u,w,v),i.current.lanes=v,wo(i,v,p),zn(i,p),i}function Wd(i,o,u,p){var v=o.current,w=jn(),I=Ai(v);return u=Aw(u),o.context===null?o.context=u:o.pendingContext=u,o=zs(w,I),o.payload={element:i},p=p===void 0?null:p,p!==null&&(o.callback=p),i=Si(v,o,I),i!==null&&($r(i,v,I,w),Ed(i,v,I)),I}function Gd(i){return i=i.current,i.child?(i.child.tag===5,i.child.stateNode):null}function Rw(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<o?u:o}}function _p(i,o){Rw(i,o),(i=i.alternate)&&Rw(i,o)}function aA(){return null}var Pw=typeof reportError=="function"?reportError:function(i){console.error(i)};function Ep(i){this._internalRoot=i}Kd.prototype.render=Ep.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(n(409));Wd(i,o,null,null)},Kd.prototype.unmount=Ep.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;jo(function(){Wd(null,i,null,null)}),o[Ls]=null}};function Kd(i){this._internalRoot=i}Kd.prototype.unstable_scheduleHydration=function(i){if(i){var o=Gl();i={blockedOn:null,target:i,priority:o};for(var u=0;u<er.length&&o!==0&&o<er[u].priority;u++);er.splice(u,0,i),u===0&&ma(i)}};function Tp(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function Qd(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function jw(){}function lA(i,o,u,p,v){if(v){if(typeof p=="function"){var w=p;p=function(){var X=Gd(I);w.call(X)}}var I=kw(o,p,i,0,null,!1,!1,"",jw);return i._reactRootContainer=I,i[Ls]=I.current,ic(i.nodeType===8?i.parentNode:i),jo(),I}for(;v=i.lastChild;)i.removeChild(v);if(typeof p=="function"){var V=p;p=function(){var X=Gd(z);V.call(X)}}var z=bp(i,0,!1,null,null,!1,!1,"",jw);return i._reactRootContainer=z,i[Ls]=z.current,ic(i.nodeType===8?i.parentNode:i),jo(function(){Wd(o,z,u,p)}),z}function Yd(i,o,u,p,v){var w=u._reactRootContainer;if(w){var I=w;if(typeof v=="function"){var V=v;v=function(){var z=Gd(I);V.call(z)}}Wd(o,I,i,v)}else I=lA(u,o,i,v,p);return Gd(I)}ql=function(i){switch(i.tag){case 3:var o=i.stateNode;if(o.current.memoizedState.isDehydrated){var u=rt(o.pendingLanes);u!==0&&(Hl(o,u|1),zn(o,mt()),(et&6)===0&&(Ba=mt()+500,Ei()))}break;case 13:jo(function(){var p=Bs(i,1);if(p!==null){var v=jn();$r(p,i,1,v)}}),_p(i,1)}},ha=function(i){if(i.tag===13){var o=Bs(i,134217728);if(o!==null){var u=jn();$r(o,i,134217728,u)}_p(i,134217728)}},Wl=function(i){if(i.tag===13){var o=Ai(i),u=Bs(i,o);if(u!==null){var p=jn();$r(u,i,o,p)}_p(i,o)}},Gl=function(){return Xe},Kl=function(i,o){var u=Xe;try{return Xe=i,o()}finally{Xe=u}},Dr=function(i,o,u){switch(o){case"input":if(ht(i,u),o=u.name,u.type==="radio"&&o!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<u.length;o++){var p=u[o];if(p!==i&&p.form===i.form){var v=fd(p);if(!v)throw Error(n(90));He(p),ht(p,v)}}}break;case"textarea":As(i,u);break;case"select":o=u.value,o!=null&&Nn(i,!!u.multiple,o,!1)}},Rt=pp,Qt=jo;var cA={usingClientEntryPoint:!1,Events:[lc,Na,fd,je,at,pp]},_c={findFiberByHostInstance:So,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},uA={bundleType:_c.bundleType,version:_c.version,rendererPackageName:_c.rendererPackageName,rendererConfig:_c.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Z.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=Qu(i),i===null?null:i.stateNode},findFiberByHostInstance:_c.findFiberByHostInstance||aA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xd.isDisabled&&Xd.supportsFiber)try{go=Xd.inject(uA),Jn=Xd}catch{}}return $n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cA,$n.createPortal=function(i,o){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Tp(o))throw Error(n(200));return oA(i,o,null,u)},$n.createRoot=function(i,o){if(!Tp(i))throw Error(n(299));var u=!1,p="",v=Pw;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onRecoverableError!==void 0&&(v=o.onRecoverableError)),o=bp(i,1,!1,null,null,u,!1,p,v),i[Ls]=o.current,ic(i.nodeType===8?i.parentNode:i),new Ep(o)},$n.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=Qu(o),i=i===null?null:i.stateNode,i},$n.flushSync=function(i){return jo(i)},$n.hydrate=function(i,o,u){if(!Qd(o))throw Error(n(200));return Yd(null,i,o,!0,u)},$n.hydrateRoot=function(i,o,u){if(!Tp(i))throw Error(n(405));var p=u!=null&&u.hydratedSources||null,v=!1,w="",I=Pw;if(u!=null&&(u.unstable_strictMode===!0&&(v=!0),u.identifierPrefix!==void 0&&(w=u.identifierPrefix),u.onRecoverableError!==void 0&&(I=u.onRecoverableError)),o=kw(o,null,i,1,u??null,v,!1,w,I),i[Ls]=o.current,ic(i),p)for(i=0;i<p.length;i++)u=p[i],v=u._getVersion,v=v(u._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[u,v]:o.mutableSourceEagerHydrationData.push(u,v);return new Kd(o)},$n.render=function(i,o,u){if(!Qd(o))throw Error(n(200));return Yd(null,i,o,!1,u)},$n.unmountComponentAtNode=function(i){if(!Qd(i))throw Error(n(40));return i._reactRootContainer?(jo(function(){Yd(null,null,i,!1,function(){i._reactRootContainer=null,i[Ls]=null})}),!0):!1},$n.unstable_batchedUpdates=pp,$n.unstable_renderSubtreeIntoContainer=function(i,o,u,p){if(!Qd(u))throw Error(n(200));if(i==null||i._reactInternals===void 0)throw Error(n(38));return Yd(i,o,u,!1,p)},$n.version="18.3.1-next-f1338f8080-20240426",$n}var Bw;function YE(){if(Bw)return Cp.exports;Bw=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Cp.exports=yA(),Cp.exports}var zw;function vA(){if(zw)return Jd;zw=1;var t=YE();return Jd.createRoot=t.createRoot,Jd.hydrateRoot=t.hydrateRoot,Jd}var xA=vA();const wA=ia(xA);var kp,$w;function bA(){if($w)return kp;$w=1;var t=typeof Element<"u",e=typeof Map=="function",n=typeof Set=="function",r=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function s(a,l){if(a===l)return!0;if(a&&l&&typeof a=="object"&&typeof l=="object"){if(a.constructor!==l.constructor)return!1;var d,h,f;if(Array.isArray(a)){if(d=a.length,d!=l.length)return!1;for(h=d;h--!==0;)if(!s(a[h],l[h]))return!1;return!0}var g;if(e&&a instanceof Map&&l instanceof Map){if(a.size!==l.size)return!1;for(g=a.entries();!(h=g.next()).done;)if(!l.has(h.value[0]))return!1;for(g=a.entries();!(h=g.next()).done;)if(!s(h.value[1],l.get(h.value[0])))return!1;return!0}if(n&&a instanceof Set&&l instanceof Set){if(a.size!==l.size)return!1;for(g=a.entries();!(h=g.next()).done;)if(!l.has(h.value[0]))return!1;return!0}if(r&&ArrayBuffer.isView(a)&&ArrayBuffer.isView(l)){if(d=a.length,d!=l.length)return!1;for(h=d;h--!==0;)if(a[h]!==l[h])return!1;return!0}if(a.constructor===RegExp)return a.source===l.source&&a.flags===l.flags;if(a.valueOf!==Object.prototype.valueOf&&typeof a.valueOf=="function"&&typeof l.valueOf=="function")return a.valueOf()===l.valueOf();if(a.toString!==Object.prototype.toString&&typeof a.toString=="function"&&typeof l.toString=="function")return a.toString()===l.toString();if(f=Object.keys(a),d=f.length,d!==Object.keys(l).length)return!1;for(h=d;h--!==0;)if(!Object.prototype.hasOwnProperty.call(l,f[h]))return!1;if(t&&a instanceof Element)return!1;for(h=d;h--!==0;)if(!((f[h]==="_owner"||f[h]==="__v"||f[h]==="__o")&&a.$$typeof)&&!s(a[f[h]],l[f[h]]))return!1;return!0}return a!==a&&l!==l}return kp=function(l,d){try{return s(l,d)}catch(h){if((h.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw h}},kp}var _A=bA();const EA=ia(_A);var Rp,Hw;function TA(){if(Hw)return Rp;Hw=1;var t=function(e,n,r,s,a,l,d,h){if(!e){var f;if(n===void 0)f=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var g=[r,s,a,l,d,h],y=0;f=new Error(n.replace(/%s/g,function(){return g[y++]})),f.name="Invariant Violation"}throw f.framesToPop=1,f}};return Rp=t,Rp}var SA=TA();const qw=ia(SA);var Pp,Ww;function IA(){return Ww||(Ww=1,Pp=function(e,n,r,s){var a=r?r.call(s,e,n):void 0;if(a!==void 0)return!!a;if(e===n)return!0;if(typeof e!="object"||!e||typeof n!="object"||!n)return!1;var l=Object.keys(e),d=Object.keys(n);if(l.length!==d.length)return!1;for(var h=Object.prototype.hasOwnProperty.bind(n),f=0;f<l.length;f++){var g=l[f];if(!h(g))return!1;var y=e[g],x=n[g];if(a=r?r.call(s,y,x,g):void 0,a===!1||a===void 0&&y!==x)return!1}return!0}),Pp}var CA=IA();const NA=ia(CA);var XE=(t=>(t.BASE="base",t.BODY="body",t.HEAD="head",t.HTML="html",t.LINK="link",t.META="meta",t.NOSCRIPT="noscript",t.SCRIPT="script",t.STYLE="style",t.TITLE="title",t.FRAGMENT="Symbol(react.fragment)",t))(XE||{}),jp={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}},Gw=Object.values(XE),ky={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},AA=Object.entries(ky).reduce((t,[e,n])=>(t[n]=e,t),{}),qr="data-rh",rl={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate",PRIORITIZE_SEO_TAGS:"prioritizeSeoTags"},sl=(t,e)=>{for(let n=t.length-1;n>=0;n-=1){const r=t[n];if(Object.prototype.hasOwnProperty.call(r,e))return r[e]}return null},kA=t=>{let e=sl(t,"title");const n=sl(t,rl.TITLE_TEMPLATE);if(Array.isArray(e)&&(e=e.join("")),n&&e)return n.replace(/%s/g,()=>e);const r=sl(t,rl.DEFAULT_TITLE);return e||r||void 0},RA=t=>sl(t,rl.ON_CHANGE_CLIENT_STATE)||(()=>{}),Dp=(t,e)=>e.filter(n=>typeof n[t]<"u").map(n=>n[t]).reduce((n,r)=>({...n,...r}),{}),PA=(t,e)=>e.filter(n=>typeof n.base<"u").map(n=>n.base).reverse().reduce((n,r)=>{if(!n.length){const s=Object.keys(r);for(let a=0;a<s.length;a+=1){const d=s[a].toLowerCase();if(t.indexOf(d)!==-1&&r[d])return n.concat(r)}}return n},[]),jA=t=>console&&typeof console.warn=="function"&&console.warn(t),Tc=(t,e,n)=>{const r={};return n.filter(s=>Array.isArray(s[t])?!0:(typeof s[t]<"u"&&jA(`Helmet: ${t} should be of type "Array". Instead found type "${typeof s[t]}"`),!1)).map(s=>s[t]).reverse().reduce((s,a)=>{const l={};a.filter(h=>{let f;const g=Object.keys(h);for(let x=0;x<g.length;x+=1){const E=g[x],S=E.toLowerCase();e.indexOf(S)!==-1&&!(f==="rel"&&h[f].toLowerCase()==="canonical")&&!(S==="rel"&&h[S].toLowerCase()==="stylesheet")&&(f=S),e.indexOf(E)!==-1&&(E==="innerHTML"||E==="cssText"||E==="itemprop")&&(f=E)}if(!f||!h[f])return!1;const y=h[f].toLowerCase();return r[f]||(r[f]={}),l[f]||(l[f]={}),r[f][y]?!1:(l[f][y]=!0,!0)}).reverse().forEach(h=>s.push(h));const d=Object.keys(l);for(let h=0;h<d.length;h+=1){const f=d[h],g={...r[f],...l[f]};r[f]=g}return s},[]).reverse()},DA=(t,e)=>{if(Array.isArray(t)&&t.length){for(let n=0;n<t.length;n+=1)if(t[n][e])return!0}return!1},MA=t=>({baseTag:PA(["href"],t),bodyAttributes:Dp("bodyAttributes",t),defer:sl(t,rl.DEFER),encode:sl(t,rl.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:Dp("htmlAttributes",t),linkTags:Tc("link",["rel","href"],t),metaTags:Tc("meta",["name","charset","http-equiv","property","itemprop"],t),noscriptTags:Tc("noscript",["innerHTML"],t),onChangeClientState:RA(t),scriptTags:Tc("script",["src","innerHTML"],t),styleTags:Tc("style",["cssText"],t),title:kA(t),titleAttributes:Dp("titleAttributes",t),prioritizeSeoTags:DA(t,rl.PRIORITIZE_SEO_TAGS)}),JE=t=>Array.isArray(t)?t.join(""):t,OA=(t,e)=>{const n=Object.keys(t);for(let r=0;r<n.length;r+=1)if(e[n[r]]&&e[n[r]].includes(t[n[r]]))return!0;return!1},Mp=(t,e)=>Array.isArray(t)?t.reduce((n,r)=>(OA(r,e)?n.priority.push(r):n.default.push(r),n),{priority:[],default:[]}):{default:t,priority:[]},Kw=(t,e)=>({...t,[e]:void 0}),LA=["noscript","script","style"],Rg=(t,e=!0)=>e===!1?String(t):String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),ZE=t=>Object.keys(t).reduce((e,n)=>{const r=typeof t[n]<"u"?`${n}="${t[n]}"`:`${n}`;return e?`${e} ${r}`:r},""),VA=(t,e,n,r)=>{const s=ZE(n),a=JE(e);return s?`<${t} ${qr}="true" ${s}>${Rg(a,r)}</${t}>`:`<${t} ${qr}="true">${Rg(a,r)}</${t}>`},FA=(t,e,n=!0)=>e.reduce((r,s)=>{const a=s,l=Object.keys(a).filter(f=>!(f==="innerHTML"||f==="cssText")).reduce((f,g)=>{const y=typeof a[g]>"u"?g:`${g}="${Rg(a[g],n)}"`;return f?`${f} ${y}`:y},""),d=a.innerHTML||a.cssText||"",h=LA.indexOf(t)===-1;return`${r}<${t} ${qr}="true" ${l}${h?"/>":`>${d}</${t}>`}`},""),eT=(t,e={})=>Object.keys(t).reduce((n,r)=>{const s=ky[r];return n[s||r]=t[r],n},e),UA=(t,e,n)=>{const r={key:e,[qr]:!0},s=eT(n,r);return[fe.createElement("title",s,e)]},vh=(t,e)=>e.map((n,r)=>{const s={key:r,[qr]:!0};return Object.keys(n).forEach(a=>{const d=ky[a]||a;if(d==="innerHTML"||d==="cssText"){const h=n.innerHTML||n.cssText;s.dangerouslySetInnerHTML={__html:h}}else s[d]=n[a]}),fe.createElement(t,s)}),Cr=(t,e,n=!0)=>{switch(t){case"title":return{toComponent:()=>UA(t,e.title,e.titleAttributes),toString:()=>VA(t,e.title,e.titleAttributes,n)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>eT(e),toString:()=>ZE(e)};default:return{toComponent:()=>vh(t,e),toString:()=>FA(t,e,n)}}},BA=({metaTags:t,linkTags:e,scriptTags:n,encode:r})=>{const s=Mp(t,jp.meta),a=Mp(e,jp.link),l=Mp(n,jp.script);return{priorityMethods:{toComponent:()=>[...vh("meta",s.priority),...vh("link",a.priority),...vh("script",l.priority)],toString:()=>`${Cr("meta",s.priority,r)} ${Cr("link",a.priority,r)} ${Cr("script",l.priority,r)}`},metaTags:s.default,linkTags:a.default,scriptTags:l.default}},zA=t=>{const{baseTag:e,bodyAttributes:n,encode:r=!0,htmlAttributes:s,noscriptTags:a,styleTags:l,title:d="",titleAttributes:h,prioritizeSeoTags:f}=t;let{linkTags:g,metaTags:y,scriptTags:x}=t,E={toComponent:()=>{},toString:()=>""};return f&&({priorityMethods:E,linkTags:g,metaTags:y,scriptTags:x}=BA(t)),{priority:E,base:Cr("base",e,r),bodyAttributes:Cr("bodyAttributes",n,r),htmlAttributes:Cr("htmlAttributes",s,r),link:Cr("link",g,r),meta:Cr("meta",y,r),noscript:Cr("noscript",a,r),script:Cr("script",x,r),style:Cr("style",l,r),title:Cr("title",{title:d,titleAttributes:h},r)}},Pg=zA,Zd=[],tT=!!(typeof window<"u"&&window.document&&window.document.createElement),jg=class{instances=[];canUseDOM=tT;context;value={setHelmet:t=>{this.context.helmet=t},helmetInstances:{get:()=>this.canUseDOM?Zd:this.instances,add:t=>{(this.canUseDOM?Zd:this.instances).push(t)},remove:t=>{const e=(this.canUseDOM?Zd:this.instances).indexOf(t);(this.canUseDOM?Zd:this.instances).splice(e,1)}}};constructor(t,e){this.context=t,this.canUseDOM=e||!1,e||(t.helmet=Pg({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},$A={},nT=fe.createContext($A),rT=class sT extends N.Component{static canUseDOM=tT;helmetData;constructor(e){super(e),this.helmetData=new jg(this.props.context||{},sT.canUseDOM)}render(){return fe.createElement(nT.Provider,{value:this.helmetData.value},this.props.children)}},$a=(t,e)=>{const n=document.head||document.querySelector("head"),r=n.querySelectorAll(`${t}[${qr}]`),s=[].slice.call(r),a=[];let l;return e&&e.length&&e.forEach(d=>{const h=document.createElement(t);for(const f in d)if(Object.prototype.hasOwnProperty.call(d,f))if(f==="innerHTML")h.innerHTML=d.innerHTML;else if(f==="cssText")h.styleSheet?h.styleSheet.cssText=d.cssText:h.appendChild(document.createTextNode(d.cssText));else{const g=f,y=typeof d[g]>"u"?"":d[g];h.setAttribute(f,y)}h.setAttribute(qr,"true"),s.some((f,g)=>(l=g,h.isEqualNode(f)))?s.splice(l,1):a.push(h)}),s.forEach(d=>d.parentNode?.removeChild(d)),a.forEach(d=>n.appendChild(d)),{oldTags:s,newTags:a}},Dg=(t,e)=>{const n=document.getElementsByTagName(t)[0];if(!n)return;const r=n.getAttribute(qr),s=r?r.split(","):[],a=[...s],l=Object.keys(e);for(const d of l){const h=e[d]||"";n.getAttribute(d)!==h&&n.setAttribute(d,h),s.indexOf(d)===-1&&s.push(d);const f=a.indexOf(d);f!==-1&&a.splice(f,1)}for(let d=a.length-1;d>=0;d-=1)n.removeAttribute(a[d]);s.length===a.length?n.removeAttribute(qr):n.getAttribute(qr)!==l.join(",")&&n.setAttribute(qr,l.join(","))},HA=(t,e)=>{typeof t<"u"&&document.title!==t&&(document.title=JE(t)),Dg("title",e)},Qw=(t,e)=>{const{baseTag:n,bodyAttributes:r,htmlAttributes:s,linkTags:a,metaTags:l,noscriptTags:d,onChangeClientState:h,scriptTags:f,styleTags:g,title:y,titleAttributes:x}=t;Dg("body",r),Dg("html",s),HA(y,x);const E={baseTag:$a("base",n),linkTags:$a("link",a),metaTags:$a("meta",l),noscriptTags:$a("noscript",d),scriptTags:$a("script",f),styleTags:$a("style",g)},S={},R={};Object.keys(E).forEach(A=>{const{newTags:j,oldTags:F}=E[A];j.length&&(S[A]=j),F.length&&(R[A]=E[A].oldTags)}),e&&e(),h(t,S,R)},Sc=null,qA=t=>{Sc&&cancelAnimationFrame(Sc),t.defer?Sc=requestAnimationFrame(()=>{Qw(t,()=>{Sc=null})}):(Qw(t),Sc=null)},WA=qA,Yw=class extends N.Component{rendered=!1;shouldComponentUpdate(t){return!NA(t,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:t}=this.props.context;t.remove(this),this.emitChange()}emitChange(){const{helmetInstances:t,setHelmet:e}=this.props.context;let n=null;const r=MA(t.get().map(s=>{const a={...s.props};return delete a.context,a}));rT.canUseDOM?WA(r):Pg&&(n=Pg(r)),e(n)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:t}=this.props.context;t.add(this),this.emitChange()}render(){return this.init(),null}},GA=class extends N.Component{static defaultProps={defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1};shouldComponentUpdate(t){return!EA(Kw(this.props,"helmetData"),Kw(t,"helmetData"))}mapNestedChildrenToProps(t,e){if(!e)return null;switch(t.type){case"script":case"noscript":return{innerHTML:e};case"style":return{cssText:e};default:throw new Error(`<${t.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(t,e,n,r){return{...e,[t.type]:[...e[t.type]||[],{...n,...this.mapNestedChildrenToProps(t,r)}]}}mapObjectTypeChildren(t,e,n,r){switch(t.type){case"title":return{...e,[t.type]:r,titleAttributes:{...n}};case"body":return{...e,bodyAttributes:{...n}};case"html":return{...e,htmlAttributes:{...n}};default:return{...e,[t.type]:{...n}}}}mapArrayTypeChildrenToProps(t,e){let n={...e};return Object.keys(t).forEach(r=>{n={...n,[r]:t[r]}}),n}warnOnInvalidChildren(t,e){return qw(Gw.some(n=>t.type===n),typeof t.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${Gw.join(", ")} are allowed. Helmet does not support rendering <${t.type}> elements. Refer to our API for more information.`),qw(!e||typeof e=="string"||Array.isArray(e)&&!e.some(n=>typeof n!="string"),`Helmet expects a string as a child of <${t.type}>. Did you forget to wrap your children in braces? ( <${t.type}>{\`\`}</${t.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(t,e){let n={};return fe.Children.forEach(t,r=>{if(!r||!r.props)return;const{children:s,...a}=r.props,l=Object.keys(a).reduce((h,f)=>(h[AA[f]||f]=a[f],h),{});let{type:d}=r;switch(typeof d=="symbol"?d=d.toString():this.warnOnInvalidChildren(r,s),d){case"Symbol(react.fragment)":e=this.mapChildrenToProps(s,e);break;case"link":case"meta":case"noscript":case"script":case"style":n=this.flattenArrayTypeChildren(r,n,l,s);break;default:e=this.mapObjectTypeChildren(r,e,l,s);break}}),this.mapArrayTypeChildrenToProps(n,e)}render(){const{children:t,...e}=this.props;let n={...e},{helmetData:r}=e;if(t&&(n=this.mapChildrenToProps(t,n)),r&&!(r instanceof jg)){const s=r;r=new jg(s.context,!0),delete n.helmetData}return r?fe.createElement(Yw,{...n,context:r.value}):fe.createElement(nT.Consumer,null,s=>fe.createElement(Yw,{...n,context:s}))}};var Xw="popstate";function KA(t={}){function e(r,s){let{pathname:a,search:l,hash:d}=r.location;return Mg("",{pathname:a,search:l,hash:d},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:tu(s)}return YA(e,n,null,t)}function xt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function kr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function QA(){return Math.random().toString(36).substring(2,10)}function Jw(t,e){return{usr:t.state,key:t.key,idx:e}}function Mg(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?wl(e):e,state:n,key:e&&e.key||r||QA()}}function tu({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function wl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function YA(t,e,n,r={}){let{window:s=document.defaultView,v5Compat:a=!1}=r,l=s.history,d="POP",h=null,f=g();f==null&&(f=0,l.replaceState({...l.state,idx:f},""));function g(){return(l.state||{idx:null}).idx}function y(){d="POP";let A=g(),j=A==null?null:A-f;f=A,h&&h({action:d,location:R.location,delta:j})}function x(A,j){d="PUSH";let F=Mg(R.location,A,j);f=g()+1;let $=Jw(F,f),Z=R.createHref(F);try{l.pushState($,"",Z)}catch(Y){if(Y instanceof DOMException&&Y.name==="DataCloneError")throw Y;s.location.assign(Z)}a&&h&&h({action:d,location:R.location,delta:1})}function E(A,j){d="REPLACE";let F=Mg(R.location,A,j);f=g();let $=Jw(F,f),Z=R.createHref(F);l.replaceState($,"",Z),a&&h&&h({action:d,location:R.location,delta:0})}function S(A){return XA(A)}let R={get action(){return d},get location(){return t(s,l)},listen(A){if(h)throw new Error("A history only accepts one active listener");return s.addEventListener(Xw,y),h=A,()=>{s.removeEventListener(Xw,y),h=null}},createHref(A){return e(s,A)},createURL:S,encodeLocation(A){let j=S(A);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:x,replace:E,go(A){return l.go(A)}};return R}function XA(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),xt(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:tu(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function iT(t,e,n="/"){return JA(t,e,n,!1)}function JA(t,e,n,r){let s=typeof e=="string"?wl(e):e,a=ti(s.pathname||"/",n);if(a==null)return null;let l=oT(t);ZA(l);let d=null;for(let h=0;d==null&&h<l.length;++h){let f=uk(a);d=lk(l[h],f,r)}return d}function oT(t,e=[],n=[],r="",s=!1){let a=(l,d,h=s,f)=>{let g={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:d,route:l};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(r)&&h)return;xt(g.relativePath.startsWith(r),`Absolute route path "${g.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(r.length)}let y=Qs([r,g.relativePath]),x=n.concat(g);l.children&&l.children.length>0&&(xt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),oT(l.children,e,x,y,h)),!(l.path==null&&!l.index)&&e.push({path:y,score:ok(y,l.index),routesMeta:x})};return t.forEach((l,d)=>{if(l.path===""||!l.path?.includes("?"))a(l,d);else for(let h of aT(l.path))a(l,d,!0,h)}),e}function aT(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return s?[a,""]:[a];let l=aT(r.join("/")),d=[];return d.push(...l.map(h=>h===""?a:[a,h].join("/"))),s&&d.push(...l),d.map(h=>t.startsWith("/")&&h===""?"/":h)}function ZA(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:ak(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var ek=/^:[\w-]+$/,tk=3,nk=2,rk=1,sk=10,ik=-2,Zw=t=>t==="*";function ok(t,e){let n=t.split("/"),r=n.length;return n.some(Zw)&&(r+=ik),e&&(r+=nk),n.filter(s=>!Zw(s)).reduce((s,a)=>s+(ek.test(a)?tk:a===""?rk:sk),r)}function ak(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function lk(t,e,n=!1){let{routesMeta:r}=t,s={},a="/",l=[];for(let d=0;d<r.length;++d){let h=r[d],f=d===r.length-1,g=a==="/"?e:e.slice(a.length)||"/",y=Bh({path:h.relativePath,caseSensitive:h.caseSensitive,end:f},g),x=h.route;if(!y&&f&&n&&!r[r.length-1].route.index&&(y=Bh({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},g)),!y)return null;Object.assign(s,y.params),l.push({params:s,pathname:Qs([a,y.pathname]),pathnameBase:mk(Qs([a,y.pathnameBase])),route:x}),y.pathnameBase!=="/"&&(a=Qs([a,y.pathnameBase]))}return l}function Bh(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=ck(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let a=s[0],l=a.replace(/(.)\/+$/,"$1"),d=s.slice(1);return{params:r.reduce((f,{paramName:g,isOptional:y},x)=>{if(g==="*"){let S=d[x]||"";l=a.slice(0,a.length-S.length).replace(/(.)\/+$/,"$1")}const E=d[x];return y&&!E?f[g]=void 0:f[g]=(E||"").replace(/%2F/g,"/"),f},{}),pathname:a,pathnameBase:l,pattern:t}}function ck(t,e=!1,n=!0){kr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,d,h)=>(r.push({paramName:d,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function uk(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return kr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function ti(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}var lT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,dk=t=>lT.test(t);function hk(t,e="/"){let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?wl(t):t,a;if(n)if(dk(n))a=n;else{if(n.includes("//")){let l=n;n=n.replace(/\/\/+/g,"/"),kr(!1,`Pathnames cannot have embedded double slashes - normalizing ${l} -> ${n}`)}n.startsWith("/")?a=e1(n.substring(1),"/"):a=e1(n,e)}else a=e;return{pathname:a,search:pk(r),hash:gk(s)}}function e1(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Op(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function fk(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Ry(t){let e=fk(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function Py(t,e,n,r=!1){let s;typeof t=="string"?s=wl(t):(s={...t},xt(!s.pathname||!s.pathname.includes("?"),Op("?","pathname","search",s)),xt(!s.pathname||!s.pathname.includes("#"),Op("#","pathname","hash",s)),xt(!s.search||!s.search.includes("#"),Op("#","search","hash",s)));let a=t===""||s.pathname==="",l=a?"/":s.pathname,d;if(l==null)d=n;else{let y=e.length-1;if(!r&&l.startsWith("..")){let x=l.split("/");for(;x[0]==="..";)x.shift(),y-=1;s.pathname=x.join("/")}d=y>=0?e[y]:"/"}let h=hk(s,d),f=l&&l!=="/"&&l.endsWith("/"),g=(a||l===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(f||g)&&(h.pathname+="/"),h}var Qs=t=>t.join("/").replace(/\/\/+/g,"/"),mk=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),pk=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,gk=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,yk=class{constructor(t,e,n,r=!1){this.status=t,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function vk(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function xk(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var cT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function uT(t,e){let n=t;if(typeof n!="string"||!lT.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,s=!1;if(cT)try{let a=new URL(window.location.href),l=n.startsWith("//")?new URL(a.protocol+n):new URL(n),d=ti(l.pathname,e);l.origin===a.origin&&d!=null?n=d+l.search+l.hash:s=!0}catch{kr(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:s,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var dT=["POST","PUT","PATCH","DELETE"];new Set(dT);var wk=["GET",...dT];new Set(wk);var bl=N.createContext(null);bl.displayName="DataRouter";var yf=N.createContext(null);yf.displayName="DataRouterState";var bk=N.createContext(!1),hT=N.createContext({isTransitioning:!1});hT.displayName="ViewTransition";var _k=N.createContext(new Map);_k.displayName="Fetchers";var Ek=N.createContext(null);Ek.displayName="Await";var dr=N.createContext(null);dr.displayName="Navigation";var Eu=N.createContext(null);Eu.displayName="Location";var Pr=N.createContext({outlet:null,matches:[],isDataRoute:!1});Pr.displayName="Route";var jy=N.createContext(null);jy.displayName="RouteError";var fT="REACT_ROUTER_ERROR",Tk="REDIRECT",Sk="ROUTE_ERROR_RESPONSE";function Ik(t){if(t.startsWith(`${fT}:${Tk}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function Ck(t){if(t.startsWith(`${fT}:${Sk}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new yk(e.status,e.statusText,e.data)}catch{}}function Nk(t,{relative:e}={}){xt(_l(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=N.useContext(dr),{hash:s,pathname:a,search:l}=Tu(t,{relative:e}),d=a;return n!=="/"&&(d=a==="/"?n:Qs([n,a])),r.createHref({pathname:d,search:l,hash:s})}function _l(){return N.useContext(Eu)!=null}function ai(){return xt(_l(),"useLocation() may be used only in the context of a <Router> component."),N.useContext(Eu).location}var mT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function pT(t){N.useContext(dr).static||N.useLayoutEffect(t)}function Yr(){let{isDataRoute:t}=N.useContext(Pr);return t?$k():Ak()}function Ak(){xt(_l(),"useNavigate() may be used only in the context of a <Router> component.");let t=N.useContext(bl),{basename:e,navigator:n}=N.useContext(dr),{matches:r}=N.useContext(Pr),{pathname:s}=ai(),a=JSON.stringify(Ry(r)),l=N.useRef(!1);return pT(()=>{l.current=!0}),N.useCallback((h,f={})=>{if(kr(l.current,mT),!l.current)return;if(typeof h=="number"){n.go(h);return}let g=Py(h,JSON.parse(a),s,f.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:Qs([e,g.pathname])),(f.replace?n.replace:n.push)(g,f.state,f)},[e,n,a,s,t])}var kk=N.createContext(null);function Rk(t){let e=N.useContext(Pr).outlet;return N.useMemo(()=>e&&N.createElement(kk.Provider,{value:t},e),[e,t])}function gT(){let{matches:t}=N.useContext(Pr),e=t[t.length-1];return e?e.params:{}}function Tu(t,{relative:e}={}){let{matches:n}=N.useContext(Pr),{pathname:r}=ai(),s=JSON.stringify(Ry(n));return N.useMemo(()=>Py(t,JSON.parse(s),r,e==="path"),[t,s,r,e])}function Pk(t,e){return yT(t,e)}function yT(t,e,n,r,s){xt(_l(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=N.useContext(dr),{matches:l}=N.useContext(Pr),d=l[l.length-1],h=d?d.params:{},f=d?d.pathname:"/",g=d?d.pathnameBase:"/",y=d&&d.route;{let F=y&&y.path||"";xT(f,!y||F.endsWith("*")||F.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${F}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${F}"> to <Route path="${F==="/"?"*":`${F}/*`}">.`)}let x=ai(),E;if(e){let F=typeof e=="string"?wl(e):e;xt(g==="/"||F.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${F.pathname}" was given in the \`location\` prop.`),E=F}else E=x;let S=E.pathname||"/",R=S;if(g!=="/"){let F=g.replace(/^\//,"").split("/");R="/"+S.replace(/^\//,"").split("/").slice(F.length).join("/")}let A=iT(t,{pathname:R});kr(y||A!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),kr(A==null||A[A.length-1].route.element!==void 0||A[A.length-1].route.Component!==void 0||A[A.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let j=Lk(A&&A.map(F=>Object.assign({},F,{params:Object.assign({},h,F.params),pathname:Qs([g,a.encodeLocation?a.encodeLocation(F.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:F.pathname]),pathnameBase:F.pathnameBase==="/"?g:Qs([g,a.encodeLocation?a.encodeLocation(F.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:F.pathnameBase])})),l,n,r,s);return e&&j?N.createElement(Eu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...E},navigationType:"POP"}},j):j}function jk(){let t=zk(),e=vk(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=N.createElement(N.Fragment,null,N.createElement("p",null," Hey developer "),N.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",N.createElement("code",{style:a},"ErrorBoundary")," or"," ",N.createElement("code",{style:a},"errorElement")," prop on your route.")),N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},e),n?N.createElement("pre",{style:s},n):null,l)}var Dk=N.createElement(jk,null),vT=class extends N.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=Ck(t.digest);n&&(t=n)}let e=t!==void 0?N.createElement(Pr.Provider,{value:this.props.routeContext},N.createElement(jy.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?N.createElement(Mk,{error:t},e):e}};vT.contextType=bk;var Lp=new WeakMap;function Mk({children:t,error:e}){let{basename:n}=N.useContext(dr);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=Ik(e.digest);if(r){let s=Lp.get(e);if(s)throw s;let a=uT(r.location,n);if(cT&&!Lp.get(e))if(a.isExternal||r.reloadDocument)window.location.href=a.absoluteURL||a.to;else{const l=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(a.to,{replace:r.replace}));throw Lp.set(e,l),l}return N.createElement("meta",{httpEquiv:"refresh",content:`0;url=${a.absoluteURL||a.to}`})}}return t}function Ok({routeContext:t,match:e,children:n}){let r=N.useContext(bl);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),N.createElement(Pr.Provider,{value:t},n)}function Lk(t,e=[],n=null,r=null,s=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,l=n?.errors;if(l!=null){let g=a.findIndex(y=>y.route.id&&l?.[y.route.id]!==void 0);xt(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,g+1))}let d=!1,h=-1;if(n)for(let g=0;g<a.length;g++){let y=a[g];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(h=g),y.route.id){let{loaderData:x,errors:E}=n,S=y.route.loader&&!x.hasOwnProperty(y.route.id)&&(!E||E[y.route.id]===void 0);if(y.route.lazy||S){d=!0,h>=0?a=a.slice(0,h+1):a=[a[0]];break}}}let f=n&&r?(g,y)=>{r(g,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:xk(n.matches),errorInfo:y})}:void 0;return a.reduceRight((g,y,x)=>{let E,S=!1,R=null,A=null;n&&(E=l&&y.route.id?l[y.route.id]:void 0,R=y.route.errorElement||Dk,d&&(h<0&&x===0?(xT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,A=null):h===x&&(S=!0,A=y.route.hydrateFallbackElement||null)));let j=e.concat(a.slice(0,x+1)),F=()=>{let $;return E?$=R:S?$=A:y.route.Component?$=N.createElement(y.route.Component,null):y.route.element?$=y.route.element:$=g,N.createElement(Ok,{match:y,routeContext:{outlet:g,matches:j,isDataRoute:n!=null},children:$})};return n&&(y.route.ErrorBoundary||y.route.errorElement||x===0)?N.createElement(vT,{location:n.location,revalidation:n.revalidation,component:R,error:E,children:F(),routeContext:{outlet:null,matches:j,isDataRoute:!0},onError:f}):F()},null)}function Dy(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Vk(t){let e=N.useContext(bl);return xt(e,Dy(t)),e}function Fk(t){let e=N.useContext(yf);return xt(e,Dy(t)),e}function Uk(t){let e=N.useContext(Pr);return xt(e,Dy(t)),e}function My(t){let e=Uk(t),n=e.matches[e.matches.length-1];return xt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function Bk(){return My("useRouteId")}function zk(){let t=N.useContext(jy),e=Fk("useRouteError"),n=My("useRouteError");return t!==void 0?t:e.errors?.[n]}function $k(){let{router:t}=Vk("useNavigate"),e=My("useNavigate"),n=N.useRef(!1);return pT(()=>{n.current=!0}),N.useCallback(async(s,a={})=>{kr(n.current,mT),n.current&&(typeof s=="number"?await t.navigate(s):await t.navigate(s,{fromRouteId:e,...a}))},[t,e])}var t1={};function xT(t,e,n){!e&&!t1[t]&&(t1[t]=!0,kr(!1,n))}N.memo(Hk);function Hk({routes:t,future:e,state:n,onError:r}){return yT(t,void 0,n,r,e)}function Oy({to:t,replace:e,state:n,relative:r}){xt(_l(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=N.useContext(dr);kr(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=N.useContext(Pr),{pathname:l}=ai(),d=Yr(),h=Py(t,Ry(a),l,r==="path"),f=JSON.stringify(h);return N.useEffect(()=>{d(JSON.parse(f),{replace:e,state:n,relative:r})},[d,f,r,e,n]),null}function qk(t){return Rk(t.context)}function en(t){xt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Wk({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:s,static:a=!1,unstable_useTransitions:l}){xt(!_l(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=t.replace(/^\/*/,"/"),h=N.useMemo(()=>({basename:d,navigator:s,static:a,unstable_useTransitions:l,future:{}}),[d,s,a,l]);typeof n=="string"&&(n=wl(n));let{pathname:f="/",search:g="",hash:y="",state:x=null,key:E="default"}=n,S=N.useMemo(()=>{let R=ti(f,d);return R==null?null:{location:{pathname:R,search:g,hash:y,state:x,key:E},navigationType:r}},[d,f,g,y,x,E,r]);return kr(S!=null,`<Router basename="${d}"> is not able to match the URL "${f}${g}${y}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:N.createElement(dr.Provider,{value:h},N.createElement(Eu.Provider,{children:e,value:S}))}function Gk({children:t,location:e}){return Pk(Og(t),e)}function Og(t,e=[]){let n=[];return N.Children.forEach(t,(r,s)=>{if(!N.isValidElement(r))return;let a=[...e,s];if(r.type===N.Fragment){n.push.apply(n,Og(r.props.children,a));return}xt(r.type===en,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),xt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=Og(r.props.children,a)),n.push(l)}),n}var xh="get",wh="application/x-www-form-urlencoded";function vf(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function Kk(t){return vf(t)&&t.tagName.toLowerCase()==="button"}function Qk(t){return vf(t)&&t.tagName.toLowerCase()==="form"}function Yk(t){return vf(t)&&t.tagName.toLowerCase()==="input"}function Xk(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Jk(t,e){return t.button===0&&(!e||e==="_self")&&!Xk(t)}var eh=null;function Zk(){if(eh===null)try{new FormData(document.createElement("form"),0),eh=!1}catch{eh=!0}return eh}var eR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Vp(t){return t!=null&&!eR.has(t)?(kr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${wh}"`),null):t}function tR(t,e){let n,r,s,a,l;if(Qk(t)){let d=t.getAttribute("action");r=d?ti(d,e):null,n=t.getAttribute("method")||xh,s=Vp(t.getAttribute("enctype"))||wh,a=new FormData(t)}else if(Kk(t)||Yk(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=t.getAttribute("formaction")||d.getAttribute("action");if(r=h?ti(h,e):null,n=t.getAttribute("formmethod")||d.getAttribute("method")||xh,s=Vp(t.getAttribute("formenctype"))||Vp(d.getAttribute("enctype"))||wh,a=new FormData(d,t),!Zk()){let{name:f,type:g,value:y}=t;if(g==="image"){let x=f?`${f}.`:"";a.append(`${x}x`,"0"),a.append(`${x}y`,"0")}else f&&a.append(f,y)}}else{if(vf(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=xh,r=null,s=wh,l=t}return a&&s==="text/plain"&&(l=a,a=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:a,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ly(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function nR(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&ti(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function rR(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function sR(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function iR(t,e,n){let r=await Promise.all(t.map(async s=>{let a=e.routes[s.route.id];if(a){let l=await rR(a,n);return l.links?l.links():[]}return[]}));return cR(r.flat(1).filter(sR).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function n1(t,e,n,r,s,a){let l=(h,f)=>n[f]?h.route.id!==n[f].route.id:!0,d=(h,f)=>n[f].pathname!==h.pathname||n[f].route.path?.endsWith("*")&&n[f].params["*"]!==h.params["*"];return a==="assets"?e.filter((h,f)=>l(h,f)||d(h,f)):a==="data"?e.filter((h,f)=>{let g=r.routes[h.route.id];if(!g||!g.hasLoader)return!1;if(l(h,f)||d(h,f))return!0;if(h.route.shouldRevalidate){let y=h.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function oR(t,e,{includeHydrateFallback:n}={}){return aR(t.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let a=[s.module];return s.clientActionModule&&(a=a.concat(s.clientActionModule)),s.clientLoaderModule&&(a=a.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(a=a.concat(s.hydrateFallbackModule)),s.imports&&(a=a.concat(s.imports)),a}).flat(1))}function aR(t){return[...new Set(t)]}function lR(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function cR(t,e){let n=new Set;return new Set(e),t.reduce((r,s)=>{let a=JSON.stringify(lR(s));return n.has(a)||(n.add(a),r.push({key:a,link:s})),r},[])}function wT(){let t=N.useContext(bl);return Ly(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function uR(){let t=N.useContext(yf);return Ly(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Vy=N.createContext(void 0);Vy.displayName="FrameworkContext";function bT(){let t=N.useContext(Vy);return Ly(t,"You must render this element inside a <HydratedRouter> element"),t}function dR(t,e){let n=N.useContext(Vy),[r,s]=N.useState(!1),[a,l]=N.useState(!1),{onFocus:d,onBlur:h,onMouseEnter:f,onMouseLeave:g,onTouchStart:y}=e,x=N.useRef(null);N.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let R=j=>{j.forEach(F=>{l(F.isIntersecting)})},A=new IntersectionObserver(R,{threshold:.5});return x.current&&A.observe(x.current),()=>{A.disconnect()}}},[t]),N.useEffect(()=>{if(r){let R=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(R)}}},[r]);let E=()=>{s(!0)},S=()=>{s(!1),l(!1)};return n?t!=="intent"?[a,x,{}]:[a,x,{onFocus:Ic(d,E),onBlur:Ic(h,S),onMouseEnter:Ic(f,E),onMouseLeave:Ic(g,S),onTouchStart:Ic(y,E)}]:[!1,x,{}]}function Ic(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function hR({page:t,...e}){let{router:n}=wT(),r=N.useMemo(()=>iT(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?N.createElement(mR,{page:t,matches:r,...e}):null}function fR(t){let{manifest:e,routeModules:n}=bT(),[r,s]=N.useState([]);return N.useEffect(()=>{let a=!1;return iR(t,e,n).then(l=>{a||s(l)}),()=>{a=!0}},[t,e,n]),r}function mR({page:t,matches:e,...n}){let r=ai(),{manifest:s,routeModules:a}=bT(),{basename:l}=wT(),{loaderData:d,matches:h}=uR(),f=N.useMemo(()=>n1(t,e,h,s,r,"data"),[t,e,h,s,r]),g=N.useMemo(()=>n1(t,e,h,s,r,"assets"),[t,e,h,s,r]),y=N.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let S=new Set,R=!1;if(e.forEach(j=>{let F=s.routes[j.route.id];!F||!F.hasLoader||(!f.some($=>$.route.id===j.route.id)&&j.route.id in d&&a[j.route.id]?.shouldRevalidate||F.hasClientLoader?R=!0:S.add(j.route.id))}),S.size===0)return[];let A=nR(t,l,"data");return R&&S.size>0&&A.searchParams.set("_routes",e.filter(j=>S.has(j.route.id)).map(j=>j.route.id).join(",")),[A.pathname+A.search]},[l,d,r,s,f,e,t,a]),x=N.useMemo(()=>oR(g,s),[g,s]),E=fR(g);return N.createElement(N.Fragment,null,y.map(S=>N.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...n})),x.map(S=>N.createElement("link",{key:S,rel:"modulepreload",href:S,...n})),E.map(({key:S,link:R})=>N.createElement("link",{key:S,nonce:n.nonce,...R})))}function pR(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var gR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{gR&&(window.__reactRouterVersion="7.11.0")}catch{}function yR({basename:t,children:e,unstable_useTransitions:n,window:r}){let s=N.useRef();s.current==null&&(s.current=KA({window:r,v5Compat:!0}));let a=s.current,[l,d]=N.useState({action:a.action,location:a.location}),h=N.useCallback(f=>{n===!1?d(f):N.startTransition(()=>d(f))},[n]);return N.useLayoutEffect(()=>a.listen(h),[a,h]),N.createElement(Wk,{basename:t,children:e,location:l.location,navigationType:l.action,navigator:a,unstable_useTransitions:n})}var _T=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Bt=N.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:s,reloadDocument:a,replace:l,state:d,target:h,to:f,preventScrollReset:g,viewTransition:y,unstable_defaultShouldRevalidate:x,...E},S){let{basename:R,unstable_useTransitions:A}=N.useContext(dr),j=typeof f=="string"&&_T.test(f),F=uT(f,R);f=F.to;let $=Nk(f,{relative:s}),[Z,Y,K]=dR(r,E),D=wR(f,{replace:l,state:d,target:h,preventScrollReset:g,relative:s,viewTransition:y,unstable_defaultShouldRevalidate:x,unstable_useTransitions:A});function C(O){e&&e(O),O.defaultPrevented||D(O)}let M=N.createElement("a",{...E,...K,href:F.absoluteURL||$,onClick:F.isExternal||a?e:C,ref:pR(S,Y),target:h,"data-discover":!j&&n==="render"?"true":void 0});return Z&&!j?N.createElement(N.Fragment,null,M,N.createElement(hR,{page:$})):M});Bt.displayName="Link";var Uc=N.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:s=!1,style:a,to:l,viewTransition:d,children:h,...f},g){let y=Tu(l,{relative:f.relative}),x=ai(),E=N.useContext(yf),{navigator:S,basename:R}=N.useContext(dr),A=E!=null&&SR(y)&&d===!0,j=S.encodeLocation?S.encodeLocation(y).pathname:y.pathname,F=x.pathname,$=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;n||(F=F.toLowerCase(),$=$?$.toLowerCase():null,j=j.toLowerCase()),$&&R&&($=ti($,R)||$);const Z=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let Y=F===j||!s&&F.startsWith(j)&&F.charAt(Z)==="/",K=$!=null&&($===j||!s&&$.startsWith(j)&&$.charAt(j.length)==="/"),D={isActive:Y,isPending:K,isTransitioning:A},C=Y?e:void 0,M;typeof r=="function"?M=r(D):M=[r,Y?"active":null,K?"pending":null,A?"transitioning":null].filter(Boolean).join(" ");let O=typeof a=="function"?a(D):a;return N.createElement(Bt,{...f,"aria-current":C,className:M,ref:g,style:O,to:l,viewTransition:d},typeof h=="function"?h(D):h)});Uc.displayName="NavLink";var vR=N.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:s,state:a,method:l=xh,action:d,onSubmit:h,relative:f,preventScrollReset:g,viewTransition:y,unstable_defaultShouldRevalidate:x,...E},S)=>{let{unstable_useTransitions:R}=N.useContext(dr),A=ER(),j=TR(d,{relative:f}),F=l.toLowerCase()==="get"?"get":"post",$=typeof d=="string"&&_T.test(d),Z=Y=>{if(h&&h(Y),Y.defaultPrevented)return;Y.preventDefault();let K=Y.nativeEvent.submitter,D=K?.getAttribute("formmethod")||l,C=()=>A(K||Y.currentTarget,{fetcherKey:e,method:D,navigate:n,replace:s,state:a,relative:f,preventScrollReset:g,viewTransition:y,unstable_defaultShouldRevalidate:x});R&&n!==!1?N.startTransition(()=>C()):C()};return N.createElement("form",{ref:S,method:F,action:j,onSubmit:r?h:Z,...E,"data-discover":!$&&t==="render"?"true":void 0})});vR.displayName="Form";function xR(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ET(t){let e=N.useContext(bl);return xt(e,xR(t)),e}function wR(t,{target:e,replace:n,state:r,preventScrollReset:s,relative:a,viewTransition:l,unstable_defaultShouldRevalidate:d,unstable_useTransitions:h}={}){let f=Yr(),g=ai(),y=Tu(t,{relative:a});return N.useCallback(x=>{if(Jk(x,e)){x.preventDefault();let E=n!==void 0?n:tu(g)===tu(y),S=()=>f(t,{replace:E,state:r,preventScrollReset:s,relative:a,viewTransition:l,unstable_defaultShouldRevalidate:d});h?N.startTransition(()=>S()):S()}},[g,f,y,n,r,e,t,s,a,l,d,h])}var bR=0,_R=()=>`__${String(++bR)}__`;function ER(){let{router:t}=ET("useSubmit"),{basename:e}=N.useContext(dr),n=Bk(),r=t.fetch,s=t.navigate;return N.useCallback(async(a,l={})=>{let{action:d,method:h,encType:f,formData:g,body:y}=tR(a,e);if(l.navigate===!1){let x=l.fetcherKey||_R();await r(x,n,l.action||d,{unstable_defaultShouldRevalidate:l.unstable_defaultShouldRevalidate,preventScrollReset:l.preventScrollReset,formData:g,body:y,formMethod:l.method||h,formEncType:l.encType||f,flushSync:l.flushSync})}else await s(l.action||d,{unstable_defaultShouldRevalidate:l.unstable_defaultShouldRevalidate,preventScrollReset:l.preventScrollReset,formData:g,body:y,formMethod:l.method||h,formEncType:l.encType||f,replace:l.replace,state:l.state,fromRouteId:n,flushSync:l.flushSync,viewTransition:l.viewTransition})},[r,s,e,n])}function TR(t,{relative:e}={}){let{basename:n}=N.useContext(dr),r=N.useContext(Pr);xt(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),a={...Tu(t||".",{relative:e})},l=ai();if(t==null){a.search=l.search;let d=new URLSearchParams(a.search),h=d.getAll("index");if(h.some(g=>g==="")){d.delete("index"),h.filter(y=>y).forEach(y=>d.append("index",y));let g=d.toString();a.search=g?`?${g}`:""}}return(!t||t===".")&&s.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:Qs([n,a.pathname])),tu(a)}function SR(t,{relative:e}={}){let n=N.useContext(hT);xt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=ET("useViewTransitionState"),s=Tu(t,{relative:e});if(!n.isTransitioning)return!1;let a=ti(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=ti(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Bh(s.pathname,l)!=null||Bh(s.pathname,a)!=null}var IR=YE();const CR=ia(IR);function NR(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}const AR=t=>{switch(t){case"success":return PR;case"info":return DR;case"warning":return jR;case"error":return MR;default:return null}},kR=Array(12).fill(0),RR=({visible:t,className:e})=>fe.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},fe.createElement("div",{className:"sonner-spinner"},kR.map((n,r)=>fe.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),PR=fe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},fe.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),jR=fe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},fe.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),DR=fe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},fe.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),MR=fe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},fe.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),OR=fe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},fe.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),fe.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),LR=()=>{const[t,e]=fe.useState(document.hidden);return fe.useEffect(()=>{const n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t};let Lg=1;class VR{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;const{message:r,...s}=e,a=typeof e?.id=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:Lg++,l=this.toasts.find(h=>h.id===a),d=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),l?this.toasts=this.toasts.map(h=>h.id===a?(this.publish({...h,...e,id:a,title:r}),{...h,...e,id:a,dismissible:d,title:r}):h):this.addToast({title:r,...s,dismissible:d,id:a}),a},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:e,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const s=Promise.resolve(e instanceof Function?e():e);let a=r!==void 0,l;const d=s.then(async f=>{if(l=["resolve",f],fe.isValidElement(f))a=!1,this.create({id:r,type:"default",message:f});else if(UR(f)&&!f.ok){a=!1;const y=typeof n.error=="function"?await n.error(`HTTP error! status: ${f.status}`):n.error,x=typeof n.description=="function"?await n.description(`HTTP error! status: ${f.status}`):n.description,S=typeof y=="object"&&!fe.isValidElement(y)?y:{message:y};this.create({id:r,type:"error",description:x,...S})}else if(f instanceof Error){a=!1;const y=typeof n.error=="function"?await n.error(f):n.error,x=typeof n.description=="function"?await n.description(f):n.description,S=typeof y=="object"&&!fe.isValidElement(y)?y:{message:y};this.create({id:r,type:"error",description:x,...S})}else if(n.success!==void 0){a=!1;const y=typeof n.success=="function"?await n.success(f):n.success,x=typeof n.description=="function"?await n.description(f):n.description,S=typeof y=="object"&&!fe.isValidElement(y)?y:{message:y};this.create({id:r,type:"success",description:x,...S})}}).catch(async f=>{if(l=["reject",f],n.error!==void 0){a=!1;const g=typeof n.error=="function"?await n.error(f):n.error,y=typeof n.description=="function"?await n.description(f):n.description,E=typeof g=="object"&&!fe.isValidElement(g)?g:{message:g};this.create({id:r,type:"error",description:y,...E})}}).finally(()=>{a&&(this.dismiss(r),r=void 0),n.finally==null||n.finally.call(n)}),h=()=>new Promise((f,g)=>d.then(()=>l[0]==="reject"?g(l[1]):f(l[1])).catch(g));return typeof r!="string"&&typeof r!="number"?{unwrap:h}:Object.assign(r,{unwrap:h})},this.custom=(e,n)=>{const r=n?.id||Lg++;return this.create({jsx:e(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Hn=new VR,FR=(t,e)=>{const n=e?.id||Lg++;return Hn.addToast({title:t,...e,id:n}),n},UR=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",BR=FR,zR=()=>Hn.toasts,$R=()=>Hn.getActiveToasts(),yt=Object.assign(BR,{success:Hn.success,info:Hn.info,warning:Hn.warning,error:Hn.error,custom:Hn.custom,message:Hn.message,promise:Hn.promise,dismiss:Hn.dismiss,loading:Hn.loading},{getHistory:zR,getToasts:$R});NR("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function th(t){return t.label!==void 0}const HR=3,qR="24px",WR="16px",r1=4e3,GR=356,KR=14,QR=45,YR=200;function ms(...t){return t.filter(Boolean).join(" ")}function XR(t){const[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}const JR=t=>{var e,n,r,s,a,l,d,h,f;const{invert:g,toast:y,unstyled:x,interacting:E,setHeights:S,visibleToasts:R,heights:A,index:j,toasts:F,expanded:$,removeToast:Z,defaultRichColors:Y,closeButton:K,style:D,cancelButtonStyle:C,actionButtonStyle:M,className:O="",descriptionClassName:B="",duration:L,position:P,gap:be,expandByDefault:ne,classNames:re,icons:ae,closeButtonAriaLabel:ee="Close toast"}=t,[ye,U]=fe.useState(null),[T,q]=fe.useState(null),[te,ie]=fe.useState(!1),[le,pe]=fe.useState(!1),[me,ce]=fe.useState(!1),[Ce,Fe]=fe.useState(!1),[$e,He]=fe.useState(!1),[tt,Le]=fe.useState(0),[ct,At]=fe.useState(0),ht=fe.useRef(y.duration||L||r1),Kt=fe.useRef(null),qe=fe.useRef(null),Je=j===0,Nn=j+1<=R,kt=y.type,On=y.dismissible!==!1,As=y.className||"",fr=y.descriptionClassName||"",Kn=fe.useMemo(()=>A.findIndex(je=>je.toastId===y.id)||0,[A,y.id]),Xr=fe.useMemo(()=>{var je;return(je=y.closeButton)!=null?je:K},[y.closeButton,K]),Qn=fe.useMemo(()=>y.duration||L||r1,[y.duration,L]),jr=fe.useRef(0),sn=fe.useRef(0),An=fe.useRef(0),Yn=fe.useRef(null),[mr,ci]=P.split("-"),ui=fe.useMemo(()=>A.reduce((je,at,Rt)=>Rt>=Kn?je:je+at.height,0),[A,Kn]),Ln=LR(),di=y.invert||g,pr=kt==="loading";sn.current=fe.useMemo(()=>Kn*be+ui,[Kn,ui]),fe.useEffect(()=>{ht.current=Qn},[Qn]),fe.useEffect(()=>{ie(!0)},[]),fe.useEffect(()=>{const je=qe.current;if(je){const at=je.getBoundingClientRect().height;return At(at),S(Rt=>[{toastId:y.id,height:at,position:y.position},...Rt]),()=>S(Rt=>Rt.filter(Qt=>Qt.toastId!==y.id))}},[S,y.id]),fe.useLayoutEffect(()=>{if(!te)return;const je=qe.current,at=je.style.height;je.style.height="auto";const Rt=je.getBoundingClientRect().height;je.style.height=at,At(Rt),S(Qt=>Qt.find(Tt=>Tt.toastId===y.id)?Qt.map(Tt=>Tt.toastId===y.id?{...Tt,height:Rt}:Tt):[{toastId:y.id,height:Rt,position:y.position},...Qt])},[te,y.title,y.description,S,y.id,y.jsx,y.action,y.cancel]);const kn=fe.useCallback(()=>{pe(!0),Le(sn.current),S(je=>je.filter(at=>at.toastId!==y.id)),setTimeout(()=>{Z(y)},YR)},[y,Z,S,sn]);fe.useEffect(()=>{if(y.promise&&kt==="loading"||y.duration===1/0||y.type==="loading")return;let je;return $||E||Ln?(()=>{if(An.current<jr.current){const Qt=new Date().getTime()-jr.current;ht.current=ht.current-Qt}An.current=new Date().getTime()})():ht.current!==1/0&&(jr.current=new Date().getTime(),je=setTimeout(()=>{y.onAutoClose==null||y.onAutoClose.call(y,y),kn()},ht.current)),()=>clearTimeout(je)},[$,E,y,kt,Ln,kn]),fe.useEffect(()=>{y.delete&&(kn(),y.onDismiss==null||y.onDismiss.call(y,y))},[kn,y.delete]);function Dr(){var je;if(ae?.loading){var at;return fe.createElement("div",{className:ms(re?.loader,y==null||(at=y.classNames)==null?void 0:at.loader,"sonner-loader"),"data-visible":kt==="loading"},ae.loading)}return fe.createElement(RR,{className:ms(re?.loader,y==null||(je=y.classNames)==null?void 0:je.loader),visible:kt==="loading"})}const Mr=y.icon||ae?.[kt]||AR(kt);var ft,hi;return fe.createElement("li",{tabIndex:0,ref:qe,className:ms(O,As,re?.toast,y==null||(e=y.classNames)==null?void 0:e.toast,re?.default,re?.[kt],y==null||(n=y.classNames)==null?void 0:n[kt]),"data-sonner-toast":"","data-rich-colors":(ft=y.richColors)!=null?ft:Y,"data-styled":!(y.jsx||y.unstyled||x),"data-mounted":te,"data-promise":!!y.promise,"data-swiped":$e,"data-removed":le,"data-visible":Nn,"data-y-position":mr,"data-x-position":ci,"data-index":j,"data-front":Je,"data-swiping":me,"data-dismissible":On,"data-type":kt,"data-invert":di,"data-swipe-out":Ce,"data-swipe-direction":T,"data-expanded":!!($||ne&&te),"data-testid":y.testId,style:{"--index":j,"--toasts-before":j,"--z-index":F.length-j,"--offset":`${le?tt:sn.current}px`,"--initial-height":ne?"auto":`${ct}px`,...D,...y.style},onDragEnd:()=>{ce(!1),U(null),Yn.current=null},onPointerDown:je=>{je.button!==2&&(pr||!On||(Kt.current=new Date,Le(sn.current),je.target.setPointerCapture(je.pointerId),je.target.tagName!=="BUTTON"&&(ce(!0),Yn.current={x:je.clientX,y:je.clientY})))},onPointerUp:()=>{var je,at,Rt;if(Ce||!On)return;Yn.current=null;const Qt=Number(((je=qe.current)==null?void 0:je.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Rn=Number(((at=qe.current)==null?void 0:at.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Tt=new Date().getTime()-((Rt=Kt.current)==null?void 0:Rt.getTime()),Ot=ye==="x"?Qt:Rn,Xn=Math.abs(Ot)/Tt;if(Math.abs(Ot)>=QR||Xn>.11){Le(sn.current),y.onDismiss==null||y.onDismiss.call(y,y),q(ye==="x"?Qt>0?"right":"left":Rn>0?"down":"up"),kn(),Fe(!0);return}else{var Lt,mn;(Lt=qe.current)==null||Lt.style.setProperty("--swipe-amount-x","0px"),(mn=qe.current)==null||mn.style.setProperty("--swipe-amount-y","0px")}He(!1),ce(!1),U(null)},onPointerMove:je=>{var at,Rt,Qt;if(!Yn.current||!On||((at=window.getSelection())==null?void 0:at.toString().length)>0)return;const Tt=je.clientY-Yn.current.y,Ot=je.clientX-Yn.current.x;var Xn;const Lt=(Xn=t.swipeDirections)!=null?Xn:XR(P);!ye&&(Math.abs(Ot)>1||Math.abs(Tt)>1)&&U(Math.abs(Ot)>Math.abs(Tt)?"x":"y");let mn={x:0,y:0};const gr=Yt=>1/(1.5+Math.abs(Yt)/20);if(ye==="y"){if(Lt.includes("top")||Lt.includes("bottom"))if(Lt.includes("top")&&Tt<0||Lt.includes("bottom")&&Tt>0)mn.y=Tt;else{const Yt=Tt*gr(Tt);mn.y=Math.abs(Yt)<Math.abs(Tt)?Yt:Tt}}else if(ye==="x"&&(Lt.includes("left")||Lt.includes("right")))if(Lt.includes("left")&&Ot<0||Lt.includes("right")&&Ot>0)mn.x=Ot;else{const Yt=Ot*gr(Ot);mn.x=Math.abs(Yt)<Math.abs(Ot)?Yt:Ot}(Math.abs(mn.x)>0||Math.abs(mn.y)>0)&&He(!0),(Rt=qe.current)==null||Rt.style.setProperty("--swipe-amount-x",`${mn.x}px`),(Qt=qe.current)==null||Qt.style.setProperty("--swipe-amount-y",`${mn.y}px`)}},Xr&&!y.jsx&&kt!=="loading"?fe.createElement("button",{"aria-label":ee,"data-disabled":pr,"data-close-button":!0,onClick:pr||!On?()=>{}:()=>{kn(),y.onDismiss==null||y.onDismiss.call(y,y)},className:ms(re?.closeButton,y==null||(r=y.classNames)==null?void 0:r.closeButton)},(hi=ae?.close)!=null?hi:OR):null,(kt||y.icon||y.promise)&&y.icon!==null&&(ae?.[kt]!==null||y.icon)?fe.createElement("div",{"data-icon":"",className:ms(re?.icon,y==null||(s=y.classNames)==null?void 0:s.icon)},y.promise||y.type==="loading"&&!y.icon?y.icon||Dr():null,y.type!=="loading"?Mr:null):null,fe.createElement("div",{"data-content":"",className:ms(re?.content,y==null||(a=y.classNames)==null?void 0:a.content)},fe.createElement("div",{"data-title":"",className:ms(re?.title,y==null||(l=y.classNames)==null?void 0:l.title)},y.jsx?y.jsx:typeof y.title=="function"?y.title():y.title),y.description?fe.createElement("div",{"data-description":"",className:ms(B,fr,re?.description,y==null||(d=y.classNames)==null?void 0:d.description)},typeof y.description=="function"?y.description():y.description):null),fe.isValidElement(y.cancel)?y.cancel:y.cancel&&th(y.cancel)?fe.createElement("button",{"data-button":!0,"data-cancel":!0,style:y.cancelButtonStyle||C,onClick:je=>{th(y.cancel)&&On&&(y.cancel.onClick==null||y.cancel.onClick.call(y.cancel,je),kn())},className:ms(re?.cancelButton,y==null||(h=y.classNames)==null?void 0:h.cancelButton)},y.cancel.label):null,fe.isValidElement(y.action)?y.action:y.action&&th(y.action)?fe.createElement("button",{"data-button":!0,"data-action":!0,style:y.actionButtonStyle||M,onClick:je=>{th(y.action)&&(y.action.onClick==null||y.action.onClick.call(y.action,je),!je.defaultPrevented&&kn())},className:ms(re?.actionButton,y==null||(f=y.classNames)==null?void 0:f.actionButton)},y.action.label):null)};function s1(){if(typeof window>"u"||typeof document>"u")return"ltr";const t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function ZR(t,e){const n={};return[t,e].forEach((r,s)=>{const a=s===1,l=a?"--mobile-offset":"--offset",d=a?WR:qR;function h(f){["top","right","bottom","left"].forEach(g=>{n[`${l}-${g}`]=typeof f=="number"?`${f}px`:f})}typeof r=="number"||typeof r=="string"?h(r):typeof r=="object"?["top","right","bottom","left"].forEach(f=>{r[f]===void 0?n[`${l}-${f}`]=d:n[`${l}-${f}`]=typeof r[f]=="number"?`${r[f]}px`:r[f]}):h(d)}),n}const eP=fe.forwardRef(function(e,n){const{id:r,invert:s,position:a="bottom-right",hotkey:l=["altKey","KeyT"],expand:d,closeButton:h,className:f,offset:g,mobileOffset:y,theme:x="light",richColors:E,duration:S,style:R,visibleToasts:A=HR,toastOptions:j,dir:F=s1(),gap:$=KR,icons:Z,containerAriaLabel:Y="Notifications"}=e,[K,D]=fe.useState([]),C=fe.useMemo(()=>r?K.filter(te=>te.toasterId===r):K.filter(te=>!te.toasterId),[K,r]),M=fe.useMemo(()=>Array.from(new Set([a].concat(C.filter(te=>te.position).map(te=>te.position)))),[C,a]),[O,B]=fe.useState([]),[L,P]=fe.useState(!1),[be,ne]=fe.useState(!1),[re,ae]=fe.useState(x!=="system"?x:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),ee=fe.useRef(null),ye=l.join("+").replace(/Key/g,"").replace(/Digit/g,""),U=fe.useRef(null),T=fe.useRef(!1),q=fe.useCallback(te=>{D(ie=>{var le;return(le=ie.find(pe=>pe.id===te.id))!=null&&le.delete||Hn.dismiss(te.id),ie.filter(({id:pe})=>pe!==te.id)})},[]);return fe.useEffect(()=>Hn.subscribe(te=>{if(te.dismiss){requestAnimationFrame(()=>{D(ie=>ie.map(le=>le.id===te.id?{...le,delete:!0}:le))});return}setTimeout(()=>{CR.flushSync(()=>{D(ie=>{const le=ie.findIndex(pe=>pe.id===te.id);return le!==-1?[...ie.slice(0,le),{...ie[le],...te},...ie.slice(le+1)]:[te,...ie]})})})}),[K]),fe.useEffect(()=>{if(x!=="system"){ae(x);return}if(x==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?ae("dark"):ae("light")),typeof window>"u")return;const te=window.matchMedia("(prefers-color-scheme: dark)");try{te.addEventListener("change",({matches:ie})=>{ae(ie?"dark":"light")})}catch{te.addListener(({matches:le})=>{try{ae(le?"dark":"light")}catch(pe){console.error(pe)}})}},[x]),fe.useEffect(()=>{K.length<=1&&P(!1)},[K]),fe.useEffect(()=>{const te=ie=>{var le;if(l.every(ce=>ie[ce]||ie.code===ce)){var me;P(!0),(me=ee.current)==null||me.focus()}ie.code==="Escape"&&(document.activeElement===ee.current||(le=ee.current)!=null&&le.contains(document.activeElement))&&P(!1)};return document.addEventListener("keydown",te),()=>document.removeEventListener("keydown",te)},[l]),fe.useEffect(()=>{if(ee.current)return()=>{U.current&&(U.current.focus({preventScroll:!0}),U.current=null,T.current=!1)}},[ee.current]),fe.createElement("section",{ref:n,"aria-label":`${Y} ${ye}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},M.map((te,ie)=>{var le;const[pe,me]=te.split("-");return C.length?fe.createElement("ol",{key:te,dir:F==="auto"?s1():F,tabIndex:-1,ref:ee,className:f,"data-sonner-toaster":!0,"data-sonner-theme":re,"data-y-position":pe,"data-x-position":me,style:{"--front-toast-height":`${((le=O[0])==null?void 0:le.height)||0}px`,"--width":`${GR}px`,"--gap":`${$}px`,...R,...ZR(g,y)},onBlur:ce=>{T.current&&!ce.currentTarget.contains(ce.relatedTarget)&&(T.current=!1,U.current&&(U.current.focus({preventScroll:!0}),U.current=null))},onFocus:ce=>{ce.target instanceof HTMLElement&&ce.target.dataset.dismissible==="false"||T.current||(T.current=!0,U.current=ce.relatedTarget)},onMouseEnter:()=>P(!0),onMouseMove:()=>P(!0),onMouseLeave:()=>{be||P(!1)},onDragEnd:()=>P(!1),onPointerDown:ce=>{ce.target instanceof HTMLElement&&ce.target.dataset.dismissible==="false"||ne(!0)},onPointerUp:()=>ne(!1)},C.filter(ce=>!ce.position&&ie===0||ce.position===te).map((ce,Ce)=>{var Fe,$e;return fe.createElement(JR,{key:ce.id,icons:Z,index:Ce,toast:ce,defaultRichColors:E,duration:(Fe=j?.duration)!=null?Fe:S,className:j?.className,descriptionClassName:j?.descriptionClassName,invert:s,visibleToasts:A,closeButton:($e=j?.closeButton)!=null?$e:h,interacting:be,position:te,style:j?.style,unstyled:j?.unstyled,classNames:j?.classNames,cancelButtonStyle:j?.cancelButtonStyle,actionButtonStyle:j?.actionButtonStyle,closeButtonAriaLabel:j?.closeButtonAriaLabel,removeToast:q,toasts:C.filter(He=>He.position==ce.position),heights:O.filter(He=>He.position==ce.position),setHeights:B,expandByDefault:d,gap:$,expanded:L,swipeDirections:e.swipeDirections})})):null}))}),Fy=N.createContext({});function El(t){const e=N.useRef(null);return e.current===null&&(e.current=t()),e.current}const xf=N.createContext(null),wf=N.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class tP extends N.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function nP({children:t,isPresent:e}){const n=N.useId(),r=N.useRef(null),s=N.useRef({width:0,height:0,top:0,left:0}),{nonce:a}=N.useContext(wf);return N.useInsertionEffect(()=>{const{width:l,height:d,top:h,left:f}=s.current;if(e||!r.current||!l||!d)return;r.current.dataset.motionPopId=n;const g=document.createElement("style");return a&&(g.nonce=a),document.head.appendChild(g),g.sheet&&g.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${l}px !important;
            height: ${d}px !important;
            top: ${h}px !important;
            left: ${f}px !important;
          }
        `),()=>{document.head.removeChild(g)}},[e]),c.jsx(tP,{isPresent:e,childRef:r,sizeRef:s,children:N.cloneElement(t,{ref:r})})}const rP=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:a,mode:l})=>{const d=El(sP),h=N.useId(),f=N.useCallback(y=>{d.set(y,!0);for(const x of d.values())if(!x)return;r&&r()},[d,r]),g=N.useMemo(()=>({id:h,initial:e,isPresent:n,custom:s,onExitComplete:f,register:y=>(d.set(y,!1),()=>d.delete(y))}),a?[Math.random(),f]:[n,f]);return N.useMemo(()=>{d.forEach((y,x)=>d.set(x,!1))},[n]),N.useEffect(()=>{!n&&!d.size&&r&&r()},[n]),l==="popLayout"&&(t=c.jsx(nP,{isPresent:n,children:t})),c.jsx(xf.Provider,{value:g,children:t})};function sP(){return new Map}function TT(t=!0){const e=N.useContext(xf);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,a=N.useId();N.useEffect(()=>{t&&s(a)},[t]);const l=N.useCallback(()=>t&&r&&r(a),[a,r,t]);return!n&&r?[!1,l]:[!0]}const nh=t=>t.key||"";function i1(t){const e=[];return N.Children.forEach(t,n=>{N.isValidElement(n)&&e.push(n)}),e}const Uy=typeof window<"u",bf=Uy?N.useLayoutEffect:N.useEffect,Dn=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:a="sync",propagate:l=!1})=>{const[d,h]=TT(l),f=N.useMemo(()=>i1(t),[t]),g=l&&!d?[]:f.map(nh),y=N.useRef(!0),x=N.useRef(f),E=El(()=>new Map),[S,R]=N.useState(f),[A,j]=N.useState(f);bf(()=>{y.current=!1,x.current=f;for(let Z=0;Z<A.length;Z++){const Y=nh(A[Z]);g.includes(Y)?E.delete(Y):E.get(Y)!==!0&&E.set(Y,!1)}},[A,g.length,g.join("-")]);const F=[];if(f!==S){let Z=[...f];for(let Y=0;Y<A.length;Y++){const K=A[Y],D=nh(K);g.includes(D)||(Z.splice(Y,0,K),F.push(K))}a==="wait"&&F.length&&(Z=F),j(i1(Z)),R(f);return}const{forceRender:$}=N.useContext(Fy);return c.jsx(c.Fragment,{children:A.map(Z=>{const Y=nh(Z),K=l&&!d?!1:f===A||g.includes(Y),D=()=>{if(E.has(Y))E.set(Y,!0);else return;let C=!0;E.forEach(M=>{M||(C=!1)}),C&&($?.(),j(x.current),l&&h?.(),r&&r())};return c.jsx(rP,{isPresent:K,initial:!y.current||n?void 0:!1,custom:K?void 0:e,presenceAffectsLayout:s,mode:a,onExitComplete:K?void 0:D,children:Z},Y)})})},Mn=t=>t;let iP=Mn,ST=Mn;function By(t){let e;return()=>(e===void 0&&(e=t()),e)}const Yo=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},Ys=t=>t*1e3,Xs=t=>t/1e3,oP={useManualTiming:!1};function aP(t){let e=new Set,n=new Set,r=!1,s=!1;const a=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function d(f){a.has(f)&&(h.schedule(f),t()),f(l)}const h={schedule:(f,g=!1,y=!1)=>{const E=y&&r?e:n;return g&&a.add(f),E.has(f)||E.add(f),f},cancel:f=>{n.delete(f),a.delete(f)},process:f=>{if(l=f,r){s=!0;return}r=!0,[e,n]=[n,e],e.forEach(d),e.clear(),r=!1,s&&(s=!1,h.process(f))}};return h}const rh=["read","resolveKeyframes","update","preRender","render","postRender"],lP=40;function IT(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,l=rh.reduce((j,F)=>(j[F]=aP(a),j),{}),{read:d,resolveKeyframes:h,update:f,preRender:g,render:y,postRender:x}=l,E=()=>{const j=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(j-s.timestamp,lP),1),s.timestamp=j,s.isProcessing=!0,d.process(s),h.process(s),f.process(s),g.process(s),y.process(s),x.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(E))},S=()=>{n=!0,r=!0,s.isProcessing||t(E)};return{schedule:rh.reduce((j,F)=>{const $=l[F];return j[F]=(Z,Y=!1,K=!1)=>(n||S(),$.schedule(Z,Y,K)),j},{}),cancel:j=>{for(let F=0;F<rh.length;F++)l[rh[F]].cancel(j)},state:s,steps:l}}const{schedule:st,cancel:Kr,state:tn,steps:Fp}=IT(typeof requestAnimationFrame<"u"?requestAnimationFrame:Mn,!0),CT=N.createContext({strict:!1}),o1={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},dl={};for(const t in o1)dl[t]={isEnabled:e=>o1[t].some(n=>!!e[n])};function cP(t){for(const e in t)dl[e]={...dl[e],...t[e]}}const uP=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function zh(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||uP.has(t)}let NT=t=>!zh(t);function dP(t){t&&(NT=e=>e.startsWith("on")?!zh(e):t(e))}try{dP(require("@emotion/is-prop-valid").default)}catch{}function hP(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(NT(s)||n===!0&&zh(s)||!e&&!zh(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}function fP(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,s)=>s==="create"?t:(e.has(s)||e.set(s,t(s)),e.get(s))})}const _f=N.createContext({});function nu(t){return typeof t=="string"||Array.isArray(t)}function Ef(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const zy=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],$y=["initial",...zy];function Tf(t){return Ef(t.animate)||$y.some(e=>nu(t[e]))}function AT(t){return!!(Tf(t)||t.variants)}function mP(t,e){if(Tf(t)){const{initial:n,animate:r}=t;return{initial:n===!1||nu(n)?n:void 0,animate:nu(r)?r:void 0}}return t.inherit!==!1?e:{}}function pP(t){const{initial:e,animate:n}=mP(t,N.useContext(_f));return N.useMemo(()=>({initial:e,animate:n}),[a1(e),a1(n)])}function a1(t){return Array.isArray(t)?t.join(" "):t}const gP=Symbol.for("motionComponentSymbol");function Ja(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function yP(t,e,n){return N.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Ja(n)&&(n.current=r))},[e])}const Hy=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),vP="framerAppearId",kT="data-"+Hy(vP),{schedule:qy}=IT(queueMicrotask,!1),RT=N.createContext({});function xP(t,e,n,r,s){var a,l;const{visualElement:d}=N.useContext(_f),h=N.useContext(CT),f=N.useContext(xf),g=N.useContext(wf).reducedMotion,y=N.useRef(null);r=r||h.renderer,!y.current&&r&&(y.current=r(t,{visualState:e,parent:d,props:n,presenceContext:f,blockInitialAnimation:f?f.initial===!1:!1,reducedMotionConfig:g}));const x=y.current,E=N.useContext(RT);x&&!x.projection&&s&&(x.type==="html"||x.type==="svg")&&wP(y.current,n,s,E);const S=N.useRef(!1);N.useInsertionEffect(()=>{x&&S.current&&x.update(n,f)});const R=n[kT],A=N.useRef(!!R&&!(!((a=window.MotionHandoffIsComplete)===null||a===void 0)&&a.call(window,R))&&((l=window.MotionHasOptimisedAnimation)===null||l===void 0?void 0:l.call(window,R)));return bf(()=>{x&&(S.current=!0,window.MotionIsMounted=!0,x.updateFeatures(),qy.render(x.render),A.current&&x.animationState&&x.animationState.animateChanges())}),N.useEffect(()=>{x&&(!A.current&&x.animationState&&x.animationState.animateChanges(),A.current&&(queueMicrotask(()=>{var j;(j=window.MotionHandoffMarkAsComplete)===null||j===void 0||j.call(window,R)}),A.current=!1))}),x}function wP(t,e,n,r){const{layoutId:s,layout:a,drag:l,dragConstraints:d,layoutScroll:h,layoutRoot:f}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:PT(t.parent)),t.projection.setOptions({layoutId:s,layout:a,alwaysMeasureLayout:!!l||d&&Ja(d),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,layoutScroll:h,layoutRoot:f})}function PT(t){if(t)return t.options.allowProjection!==!1?t.projection:PT(t.parent)}function bP({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:s}){var a,l;t&&cP(t);function d(f,g){let y;const x={...N.useContext(wf),...f,layoutId:_P(f)},{isStatic:E}=x,S=pP(f),R=r(f,E);if(!E&&Uy){EP();const A=TP(x);y=A.MeasureLayout,S.visualElement=xP(s,R,x,e,A.ProjectionNode)}return c.jsxs(_f.Provider,{value:S,children:[y&&S.visualElement?c.jsx(y,{visualElement:S.visualElement,...x}):null,n(s,f,yP(R,S.visualElement,g),R,E,S.visualElement)]})}d.displayName=`motion.${typeof s=="string"?s:`create(${(l=(a=s.displayName)!==null&&a!==void 0?a:s.name)!==null&&l!==void 0?l:""})`}`;const h=N.forwardRef(d);return h[gP]=s,h}function _P({layoutId:t}){const e=N.useContext(Fy).id;return e&&t!==void 0?e+"-"+t:t}function EP(t,e){N.useContext(CT).strict}function TP(t){const{drag:e,layout:n}=dl;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const SP=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Wy(t){return typeof t!="string"||t.includes("-")?!1:!!(SP.indexOf(t)>-1||/[A-Z]/u.test(t))}function l1(t){const e=[{},{}];return t?.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function Gy(t,e,n,r){if(typeof e=="function"){const[s,a]=l1(r);e=e(n!==void 0?n:t.custom,s,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,a]=l1(r);e=e(n!==void 0?n:t.custom,s,a)}return e}const Vg=t=>Array.isArray(t),IP=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),CP=t=>Vg(t)?t[t.length-1]||0:t,Sn=t=>!!(t&&t.getVelocity);function bh(t){const e=Sn(t)?t.get():t;return IP(e)?e.toValue():e}function NP({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},r,s,a){const l={latestValues:AP(r,s,a,t),renderState:e()};return n&&(l.onMount=d=>n({props:r,current:d,...l}),l.onUpdate=d=>n(d)),l}const jT=t=>(e,n)=>{const r=N.useContext(_f),s=N.useContext(xf),a=()=>NP(t,e,r,s);return n?a():El(a)};function AP(t,e,n,r){const s={},a=r(t,{});for(const x in a)s[x]=bh(a[x]);let{initial:l,animate:d}=t;const h=Tf(t),f=AT(t);e&&f&&!h&&t.inherit!==!1&&(l===void 0&&(l=e.initial),d===void 0&&(d=e.animate));let g=n?n.initial===!1:!1;g=g||l===!1;const y=g?d:l;if(y&&typeof y!="boolean"&&!Ef(y)){const x=Array.isArray(y)?y:[y];for(let E=0;E<x.length;E++){const S=Gy(t,x[E]);if(S){const{transitionEnd:R,transition:A,...j}=S;for(const F in j){let $=j[F];if(Array.isArray($)){const Z=g?$.length-1:0;$=$[Z]}$!==null&&(s[F]=$)}for(const F in R)s[F]=R[F]}}}return s}const Tl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],oa=new Set(Tl),DT=t=>e=>typeof e=="string"&&e.startsWith(t),MT=DT("--"),kP=DT("var(--"),Ky=t=>kP(t)?RP.test(t.split("/*")[0].trim()):!1,RP=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,OT=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Cs=(t,e,n)=>n>e?e:n<t?t:n,Sl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},ru={...Sl,transform:t=>Cs(0,1,t)},sh={...Sl,default:1},Su=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Di=Su("deg"),xs=Su("%"),De=Su("px"),PP=Su("vh"),jP=Su("vw"),c1={...xs,parse:t=>xs.parse(t)/100,transform:t=>xs.transform(t*100)},DP={borderWidth:De,borderTopWidth:De,borderRightWidth:De,borderBottomWidth:De,borderLeftWidth:De,borderRadius:De,radius:De,borderTopLeftRadius:De,borderTopRightRadius:De,borderBottomRightRadius:De,borderBottomLeftRadius:De,width:De,maxWidth:De,height:De,maxHeight:De,top:De,right:De,bottom:De,left:De,padding:De,paddingTop:De,paddingRight:De,paddingBottom:De,paddingLeft:De,margin:De,marginTop:De,marginRight:De,marginBottom:De,marginLeft:De,backgroundPositionX:De,backgroundPositionY:De},MP={rotate:Di,rotateX:Di,rotateY:Di,rotateZ:Di,scale:sh,scaleX:sh,scaleY:sh,scaleZ:sh,skew:Di,skewX:Di,skewY:Di,distance:De,translateX:De,translateY:De,translateZ:De,x:De,y:De,z:De,perspective:De,transformPerspective:De,opacity:ru,originX:c1,originY:c1,originZ:De},u1={...Sl,transform:Math.round},Qy={...DP,...MP,zIndex:u1,size:De,fillOpacity:ru,strokeOpacity:ru,numOctaves:u1},OP={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},LP=Tl.length;function VP(t,e,n){let r="",s=!0;for(let a=0;a<LP;a++){const l=Tl[a],d=t[l];if(d===void 0)continue;let h=!0;if(typeof d=="number"?h=d===(l.startsWith("scale")?1:0):h=parseFloat(d)===0,!h||n){const f=OT(d,Qy[l]);if(!h){s=!1;const g=OP[l]||l;r+=`${g}(${f}) `}n&&(e[l]=f)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function Yy(t,e,n){const{style:r,vars:s,transformOrigin:a}=t;let l=!1,d=!1;for(const h in e){const f=e[h];if(oa.has(h)){l=!0;continue}else if(MT(h)){s[h]=f;continue}else{const g=OT(f,Qy[h]);h.startsWith("origin")?(d=!0,a[h]=g):r[h]=g}}if(e.transform||(l||n?r.transform=VP(e,t.transform,n):r.transform&&(r.transform="none")),d){const{originX:h="50%",originY:f="50%",originZ:g=0}=a;r.transformOrigin=`${h} ${f} ${g}`}}const FP={offset:"stroke-dashoffset",array:"stroke-dasharray"},UP={offset:"strokeDashoffset",array:"strokeDasharray"};function BP(t,e,n=1,r=0,s=!0){t.pathLength=1;const a=s?FP:UP;t[a.offset]=De.transform(-r);const l=De.transform(e),d=De.transform(n);t[a.array]=`${l} ${d}`}function d1(t,e,n){return typeof t=="string"?t:De.transform(e+n*t)}function zP(t,e,n){const r=d1(e,t.x,t.width),s=d1(n,t.y,t.height);return`${r} ${s}`}function Xy(t,{attrX:e,attrY:n,attrScale:r,originX:s,originY:a,pathLength:l,pathSpacing:d=1,pathOffset:h=0,...f},g,y){if(Yy(t,f,y),g){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:x,style:E,dimensions:S}=t;x.transform&&(S&&(E.transform=x.transform),delete x.transform),S&&(s!==void 0||a!==void 0||E.transform)&&(E.transformOrigin=zP(S,s!==void 0?s:.5,a!==void 0?a:.5)),e!==void 0&&(x.x=e),n!==void 0&&(x.y=n),r!==void 0&&(x.scale=r),l!==void 0&&BP(x,l,d,h,!1)}const Jy=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),LT=()=>({...Jy(),attrs:{}}),Zy=t=>typeof t=="string"&&t.toLowerCase()==="svg";function VT(t,{style:e,vars:n},r,s){Object.assign(t.style,e,s&&s.getProjectionStyles(r));for(const a in n)t.style.setProperty(a,n[a])}const FT=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function UT(t,e,n,r){VT(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(FT.has(s)?s:Hy(s),e.attrs[s])}const $h={};function $P(t){Object.assign($h,t)}function BT(t,{layout:e,layoutId:n}){return oa.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!$h[t]||t==="opacity")}function e0(t,e,n){var r;const{style:s}=t,a={};for(const l in s)(Sn(s[l])||e.style&&Sn(e.style[l])||BT(l,t)||((r=n?.getValue(l))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(a[l]=s[l]);return a}function zT(t,e,n){const r=e0(t,e,n);for(const s in t)if(Sn(t[s])||Sn(e[s])){const a=Tl.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[a]=t[s]}return r}function HP(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const h1=["x","y","width","height","cx","cy","r"],qP={useVisualState:jT({scrapeMotionValuesFromProps:zT,createRenderState:LT,onUpdate:({props:t,prevProps:e,current:n,renderState:r,latestValues:s})=>{if(!n)return;let a=!!t.drag;if(!a){for(const d in s)if(oa.has(d)){a=!0;break}}if(!a)return;let l=!e;if(e)for(let d=0;d<h1.length;d++){const h=h1[d];t[h]!==e[h]&&(l=!0)}l&&st.read(()=>{HP(n,r),st.render(()=>{Xy(r,s,Zy(n.tagName),t.transformTemplate),UT(n,r)})})}})},WP={useVisualState:jT({scrapeMotionValuesFromProps:e0,createRenderState:Jy})};function $T(t,e,n){for(const r in e)!Sn(e[r])&&!BT(r,n)&&(t[r]=e[r])}function GP({transformTemplate:t},e){return N.useMemo(()=>{const n=Jy();return Yy(n,e,t),Object.assign({},n.vars,n.style)},[e])}function KP(t,e){const n=t.style||{},r={};return $T(r,n,t),Object.assign(r,GP(t,e)),r}function QP(t,e){const n={},r=KP(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}function YP(t,e,n,r){const s=N.useMemo(()=>{const a=LT();return Xy(a,e,Zy(r),t.transformTemplate),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};$T(a,t.style,t),s.style={...a,...s.style}}return s}function XP(t=!1){return(n,r,s,{latestValues:a},l)=>{const h=(Wy(n)?YP:QP)(r,a,l,n),f=hP(r,typeof n=="string",t),g=n!==N.Fragment?{...f,...h,ref:s}:{},{children:y}=r,x=N.useMemo(()=>Sn(y)?y.get():y,[y]);return N.createElement(n,{...g,children:x})}}function JP(t,e){return function(r,{forwardMotionProps:s}={forwardMotionProps:!1}){const l={...Wy(r)?qP:WP,preloadedFeatures:t,useRender:XP(s),createVisualElement:e,Component:r};return bP(l)}}function HT(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function Sf(t,e,n){const r=t.getProps();return Gy(r,e,n!==void 0?n:r.custom,t)}const qT=By(()=>window.ScrollTimeline!==void 0);class ZP{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(s=>{if(qT()&&s.attachTimeline)return s.attachTimeline(e);if(typeof n=="function")return n(s)});return()=>{r.forEach((s,a)=>{s&&s(),this.animations[a].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class e4 extends ZP{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function t0(t,e){return t?t[e]||t.default||t:void 0}const Fg=2e4;function WT(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Fg;)e+=n,r=t.next(e);return e>=Fg?1/0:e}function n0(t){return typeof t=="function"}function f1(t,e){t.timeline=e,t.onfinish=null}const r0=t=>Array.isArray(t)&&typeof t[0]=="number",t4={linearEasing:void 0};function n4(t,e){const n=By(t);return()=>{var r;return(r=t4[e])!==null&&r!==void 0?r:n()}}const Hh=n4(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),GT=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let a=0;a<s;a++)r+=t(Yo(0,s-1,a))+", ";return`linear(${r.substring(0,r.length-2)})`};function KT(t){return!!(typeof t=="function"&&Hh()||!t||typeof t=="string"&&(t in Ug||Hh())||r0(t)||Array.isArray(t)&&t.every(KT))}const kc=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,Ug={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:kc([0,.65,.55,1]),circOut:kc([.55,0,1,.45]),backIn:kc([.31,.01,.66,-.59]),backOut:kc([.33,1.53,.69,.99])};function QT(t,e){if(t)return typeof t=="function"&&Hh()?GT(t,e):r0(t)?kc(t):Array.isArray(t)?t.map(n=>QT(n,e)||Ug.easeOut):Ug[t]}const Hr={x:!1,y:!1};function YT(){return Hr.x||Hr.y}function s0(t,e,n){var r;if(t instanceof Element)return[t];if(typeof t=="string"){let s=document;const a=(r=void 0)!==null&&r!==void 0?r:s.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}function XT(t,e){const n=s0(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function m1(t){return e=>{e.pointerType==="touch"||YT()||t(e)}}function r4(t,e,n={}){const[r,s,a]=XT(t,n),l=m1(d=>{const{target:h}=d,f=e(d);if(typeof f!="function"||!h)return;const g=m1(y=>{f(y),h.removeEventListener("pointerleave",g)});h.addEventListener("pointerleave",g,s)});return r.forEach(d=>{d.addEventListener("pointerenter",l,s)}),a}const JT=(t,e)=>e?t===e?!0:JT(t,e.parentElement):!1,i0=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,s4=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function i4(t){return s4.has(t.tagName)||t.tabIndex!==-1}const Rc=new WeakSet;function p1(t){return e=>{e.key==="Enter"&&t(e)}}function Up(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const o4=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=p1(()=>{if(Rc.has(n))return;Up(n,"down");const s=p1(()=>{Up(n,"up")}),a=()=>Up(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",a,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function g1(t){return i0(t)&&!YT()}function a4(t,e,n={}){const[r,s,a]=XT(t,n),l=d=>{const h=d.currentTarget;if(!g1(d)||Rc.has(h))return;Rc.add(h);const f=e(d),g=(E,S)=>{window.removeEventListener("pointerup",y),window.removeEventListener("pointercancel",x),!(!g1(E)||!Rc.has(h))&&(Rc.delete(h),typeof f=="function"&&f(E,{success:S}))},y=E=>{g(E,n.useGlobalTarget||JT(h,E.target))},x=E=>{g(E,!1)};window.addEventListener("pointerup",y,s),window.addEventListener("pointercancel",x,s)};return r.forEach(d=>{!i4(d)&&d.getAttribute("tabindex")===null&&(d.tabIndex=0),(n.useGlobalTarget?window:d).addEventListener("pointerdown",l,s),d.addEventListener("focus",f=>o4(f,s),s)}),a}function l4(t){return t==="x"||t==="y"?Hr[t]?null:(Hr[t]=!0,()=>{Hr[t]=!1}):Hr.x||Hr.y?null:(Hr.x=Hr.y=!0,()=>{Hr.x=Hr.y=!1})}const ZT=new Set(["width","height","top","left","right","bottom",...Tl]);let _h;function c4(){_h=void 0}const ws={now:()=>(_h===void 0&&ws.set(tn.isProcessing||oP.useManualTiming?tn.timestamp:performance.now()),_h),set:t=>{_h=t,queueMicrotask(c4)}};function o0(t,e){t.indexOf(e)===-1&&t.push(e)}function a0(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class l0{constructor(){this.subscriptions=[]}add(e){return o0(this.subscriptions,e),()=>a0(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let a=0;a<s;a++){const l=this.subscriptions[a];l&&l(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function c0(t,e){return e?t*(1e3/e):0}const y1=30,u4=t=>!isNaN(parseFloat(t)),Bc={current:void 0};class d4{constructor(e,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,s=!0)=>{const a=ws.now();this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=ws.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=u4(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new l0);const r=this.events[e].add(n);return e==="change"?()=>{r(),st.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return Bc.current&&Bc.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=ws.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>y1)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,y1);return c0(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function vs(t,e){return new d4(t,e)}function h4(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,vs(n))}function f4(t,e){const n=Sf(t,e);let{transitionEnd:r={},transition:s={},...a}=n||{};a={...a,...r};for(const l in a){const d=CP(a[l]);h4(t,l,d)}}function m4(t){return!!(Sn(t)&&t.add)}function Bg(t,e){const n=t.getValue("willChange");if(m4(n))return n.add(e)}function e2(t){return t.props[kT]}const t2=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,p4=1e-7,g4=12;function y4(t,e,n,r,s){let a,l,d=0;do l=e+(n-e)/2,a=t2(l,r,s)-t,a>0?n=l:e=l;while(Math.abs(a)>p4&&++d<g4);return l}function Iu(t,e,n,r){if(t===e&&n===r)return Mn;const s=a=>y4(a,0,1,t,n);return a=>a===0||a===1?a:t2(s(a),e,r)}const n2=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,r2=t=>e=>1-t(1-e),s2=Iu(.33,1.53,.69,.99),u0=r2(s2),i2=n2(u0),o2=t=>(t*=2)<1?.5*u0(t):.5*(2-Math.pow(2,-10*(t-1))),d0=t=>1-Math.sin(Math.acos(t)),a2=r2(d0),l2=n2(d0),c2=t=>/^0[^.\s]+$/u.test(t);function v4(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||c2(t):!0}const zc=t=>Math.round(t*1e5)/1e5,h0=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function x4(t){return t==null}const w4=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,f0=(t,e)=>n=>!!(typeof n=="string"&&w4.test(n)&&n.startsWith(t)||e&&!x4(n)&&Object.prototype.hasOwnProperty.call(n,e)),u2=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,a,l,d]=r.match(h0);return{[t]:parseFloat(s),[e]:parseFloat(a),[n]:parseFloat(l),alpha:d!==void 0?parseFloat(d):1}},b4=t=>Cs(0,255,t),Bp={...Sl,transform:t=>Math.round(b4(t))},zo={test:f0("rgb","red"),parse:u2("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Bp.transform(t)+", "+Bp.transform(e)+", "+Bp.transform(n)+", "+zc(ru.transform(r))+")"};function _4(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const zg={test:f0("#"),parse:_4,transform:zo.transform},Za={test:f0("hsl","hue"),parse:u2("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+xs.transform(zc(e))+", "+xs.transform(zc(n))+", "+zc(ru.transform(r))+")"},bn={test:t=>zo.test(t)||zg.test(t)||Za.test(t),parse:t=>zo.test(t)?zo.parse(t):Za.test(t)?Za.parse(t):zg.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?zo.transform(t):Za.transform(t)},E4=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function T4(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(h0))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(E4))===null||n===void 0?void 0:n.length)||0)>0}const d2="number",h2="color",S4="var",I4="var(",v1="${}",C4=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function su(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let a=0;const d=e.replace(C4,h=>(bn.test(h)?(r.color.push(a),s.push(h2),n.push(bn.parse(h))):h.startsWith(I4)?(r.var.push(a),s.push(S4),n.push(h)):(r.number.push(a),s.push(d2),n.push(parseFloat(h))),++a,v1)).split(v1);return{values:n,split:d,indexes:r,types:s}}function f2(t){return su(t).values}function m2(t){const{split:e,types:n}=su(t),r=e.length;return s=>{let a="";for(let l=0;l<r;l++)if(a+=e[l],s[l]!==void 0){const d=n[l];d===d2?a+=zc(s[l]):d===h2?a+=bn.transform(s[l]):a+=s[l]}return a}}const N4=t=>typeof t=="number"?0:t;function A4(t){const e=f2(t);return m2(t)(e.map(N4))}const Gi={test:T4,parse:f2,createTransformer:m2,getAnimatableNone:A4},k4=new Set(["brightness","contrast","saturate","opacity"]);function R4(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(h0)||[];if(!r)return t;const s=n.replace(r,"");let a=k4.has(e)?1:0;return r!==n&&(a*=100),e+"("+a+s+")"}const P4=/\b([a-z-]*)\(.*?\)/gu,$g={...Gi,getAnimatableNone:t=>{const e=t.match(P4);return e?e.map(R4).join(" "):t}},j4={...Qy,color:bn,backgroundColor:bn,outlineColor:bn,fill:bn,stroke:bn,borderColor:bn,borderTopColor:bn,borderRightColor:bn,borderBottomColor:bn,borderLeftColor:bn,filter:$g,WebkitFilter:$g},m0=t=>j4[t];function p2(t,e){let n=m0(t);return n!==$g&&(n=Gi),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const D4=new Set(["auto","none","0"]);function M4(t,e,n){let r=0,s;for(;r<t.length&&!s;){const a=t[r];typeof a=="string"&&!D4.has(a)&&su(a).values.length&&(s=t[r]),r++}if(s&&n)for(const a of e)t[a]=p2(n,s)}const x1=t=>t===Sl||t===De,w1=(t,e)=>parseFloat(t.split(", ")[e]),b1=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/u);if(s)return w1(s[1],e);{const a=r.match(/^matrix\((.+)\)$/u);return a?w1(a[1],t):0}},O4=new Set(["x","y","z"]),L4=Tl.filter(t=>!O4.has(t));function V4(t){const e=[];return L4.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const hl={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:b1(4,13),y:b1(5,14)};hl.translateX=hl.x;hl.translateY=hl.y;const qo=new Set;let Hg=!1,qg=!1;function g2(){if(qg){const t=Array.from(qo).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=V4(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([a,l])=>{var d;(d=r.getValue(a))===null||d===void 0||d.set(l)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}qg=!1,Hg=!1,qo.forEach(t=>t.complete()),qo.clear()}function y2(){qo.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(qg=!0)})}function F4(){y2(),g2()}class p0{constructor(e,n,r,s,a,l=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=a,this.isAsync=l}scheduleResolve(){this.isScheduled=!0,this.isAsync?(qo.add(this),Hg||(Hg=!0,st.read(y2),st.resolveKeyframes(g2))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;for(let a=0;a<e.length;a++)if(e[a]===null)if(a===0){const l=s?.get(),d=e[e.length-1];if(l!==void 0)e[0]=l;else if(r&&n){const h=r.readValue(n,d);h!=null&&(e[0]=h)}e[0]===void 0&&(e[0]=d),s&&l===void 0&&s.set(e[0])}else e[a]=e[a-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),qo.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,qo.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const v2=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),U4=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function B4(t){const e=U4.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function x2(t,e,n=1){const[r,s]=B4(t);if(!r)return;const a=window.getComputedStyle(e).getPropertyValue(r);if(a){const l=a.trim();return v2(l)?parseFloat(l):l}return Ky(s)?x2(s,e,n+1):s}const w2=t=>e=>e.test(t),z4={test:t=>t==="auto",parse:t=>t},b2=[Sl,De,xs,Di,jP,PP,z4],_1=t=>b2.find(w2(t));class _2 extends p0{constructor(e,n,r,s,a){super(e,n,r,s,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let h=0;h<e.length;h++){let f=e[h];if(typeof f=="string"&&(f=f.trim(),Ky(f))){const g=x2(f,n.current);g!==void 0&&(e[h]=g),h===e.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!ZT.has(r)||e.length!==2)return;const[s,a]=e,l=_1(s),d=_1(a);if(l!==d)if(x1(l)&&x1(d))for(let h=0;h<e.length;h++){const f=e[h];typeof f=="string"&&(e[h]=parseFloat(f))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)v4(e[s])&&r.push(s);r.length&&M4(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=hl[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:s}=this;if(!n||!n.current)return;const a=n.getValue(r);a&&a.jump(this.measuredOrigin,!1);const l=s.length-1,d=s[l];s[l]=hl[r](n.measureViewportBox(),window.getComputedStyle(n.current)),d!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=d),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([h,f])=>{n.getValue(h).set(f)}),this.resolveNoneKeyframes()}}const E1=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Gi.test(t)||t==="0")&&!t.startsWith("url("));function $4(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function H4(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],l=E1(s,e),d=E1(a,e);return!l||!d?!1:$4(t)||(n==="spring"||n0(n))&&r}const q4=t=>t!==null;function If(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(q4),a=e&&n!=="loop"&&e%2===1?0:s.length-1;return!a||r===void 0?s[a]:r}const W4=40;class E2{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:a=0,repeatType:l="loop",...d}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=ws.now(),this.options={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:a,repeatType:l,...d},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>W4?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&F4(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=ws.now(),this.hasAttemptedResolve=!0;const{name:r,type:s,velocity:a,delay:l,onComplete:d,onUpdate:h,isGenerator:f}=this.options;if(!f&&!H4(e,r,s,a))if(l)this.options.duration=0;else{h&&h(If(e,this.options,n)),d&&d(),this.resolveFinishedPromise();return}const g=this.initPlayback(e,n);g!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...g},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const _t=(t,e,n)=>t+(e-t)*n;function zp(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function G4({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,a=0,l=0;if(!e)s=a=l=n;else{const d=n<.5?n*(1+e):n+e-n*e,h=2*n-d;s=zp(h,d,t+1/3),a=zp(h,d,t),l=zp(h,d,t-1/3)}return{red:Math.round(s*255),green:Math.round(a*255),blue:Math.round(l*255),alpha:r}}function qh(t,e){return n=>n>0?e:t}const $p=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},K4=[zg,zo,Za],Q4=t=>K4.find(e=>e.test(t));function T1(t){const e=Q4(t);if(!e)return!1;let n=e.parse(t);return e===Za&&(n=G4(n)),n}const S1=(t,e)=>{const n=T1(t),r=T1(e);if(!n||!r)return qh(t,e);const s={...n};return a=>(s.red=$p(n.red,r.red,a),s.green=$p(n.green,r.green,a),s.blue=$p(n.blue,r.blue,a),s.alpha=_t(n.alpha,r.alpha,a),zo.transform(s))},Y4=(t,e)=>n=>e(t(n)),Cu=(...t)=>t.reduce(Y4),Wg=new Set(["none","hidden"]);function X4(t,e){return Wg.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function J4(t,e){return n=>_t(t,e,n)}function g0(t){return typeof t=="number"?J4:typeof t=="string"?Ky(t)?qh:bn.test(t)?S1:tj:Array.isArray(t)?T2:typeof t=="object"?bn.test(t)?S1:Z4:qh}function T2(t,e){const n=[...t],r=n.length,s=t.map((a,l)=>g0(a)(a,e[l]));return a=>{for(let l=0;l<r;l++)n[l]=s[l](a);return n}}function Z4(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=g0(t[s])(t[s],e[s]));return s=>{for(const a in r)n[a]=r[a](s);return n}}function ej(t,e){var n;const r=[],s={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],d=t.indexes[l][s[l]],h=(n=t.values[d])!==null&&n!==void 0?n:0;r[a]=h,s[l]++}return r}const tj=(t,e)=>{const n=Gi.createTransformer(e),r=su(t),s=su(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?Wg.has(t)&&!s.values.length||Wg.has(e)&&!r.values.length?X4(t,e):Cu(T2(ej(r,s),s.values),n):qh(t,e)};function S2(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?_t(t,e,n):g0(t)(t,e)}const nj=5;function I2(t,e,n){const r=Math.max(e-nj,0);return c0(n-t(r),e-r)}const It={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Hp=.001;function rj({duration:t=It.duration,bounce:e=It.bounce,velocity:n=It.velocity,mass:r=It.mass}){let s,a,l=1-e;l=Cs(It.minDamping,It.maxDamping,l),t=Cs(It.minDuration,It.maxDuration,Xs(t)),l<1?(s=f=>{const g=f*l,y=g*t,x=g-n,E=Gg(f,l),S=Math.exp(-y);return Hp-x/E*S},a=f=>{const y=f*l*t,x=y*n+n,E=Math.pow(l,2)*Math.pow(f,2)*t,S=Math.exp(-y),R=Gg(Math.pow(f,2),l);return(-s(f)+Hp>0?-1:1)*((x-E)*S)/R}):(s=f=>{const g=Math.exp(-f*t),y=(f-n)*t+1;return-Hp+g*y},a=f=>{const g=Math.exp(-f*t),y=(n-f)*(t*t);return g*y});const d=5/t,h=ij(s,a,d);if(t=Ys(t),isNaN(h))return{stiffness:It.stiffness,damping:It.damping,duration:t};{const f=Math.pow(h,2)*r;return{stiffness:f,damping:l*2*Math.sqrt(r*f),duration:t}}}const sj=12;function ij(t,e,n){let r=n;for(let s=1;s<sj;s++)r=r-t(r)/e(r);return r}function Gg(t,e){return t*Math.sqrt(1-e*e)}const oj=["duration","bounce"],aj=["stiffness","damping","mass"];function I1(t,e){return e.some(n=>t[n]!==void 0)}function lj(t){let e={velocity:It.velocity,stiffness:It.stiffness,damping:It.damping,mass:It.mass,isResolvedFromDuration:!1,...t};if(!I1(t,aj)&&I1(t,oj))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,a=2*Cs(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:It.mass,stiffness:s,damping:a}}else{const n=rj(t);e={...e,...n,mass:It.mass},e.isResolvedFromDuration=!0}return e}function C2(t=It.visualDuration,e=It.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const a=n.keyframes[0],l=n.keyframes[n.keyframes.length-1],d={done:!1,value:a},{stiffness:h,damping:f,mass:g,duration:y,velocity:x,isResolvedFromDuration:E}=lj({...n,velocity:-Xs(n.velocity||0)}),S=x||0,R=f/(2*Math.sqrt(h*g)),A=l-a,j=Xs(Math.sqrt(h/g)),F=Math.abs(A)<5;r||(r=F?It.restSpeed.granular:It.restSpeed.default),s||(s=F?It.restDelta.granular:It.restDelta.default);let $;if(R<1){const Y=Gg(j,R);$=K=>{const D=Math.exp(-R*j*K);return l-D*((S+R*j*A)/Y*Math.sin(Y*K)+A*Math.cos(Y*K))}}else if(R===1)$=Y=>l-Math.exp(-j*Y)*(A+(S+j*A)*Y);else{const Y=j*Math.sqrt(R*R-1);$=K=>{const D=Math.exp(-R*j*K),C=Math.min(Y*K,300);return l-D*((S+R*j*A)*Math.sinh(C)+Y*A*Math.cosh(C))/Y}}const Z={calculatedDuration:E&&y||null,next:Y=>{const K=$(Y);if(E)d.done=Y>=y;else{let D=0;R<1&&(D=Y===0?Ys(S):I2($,Y,K));const C=Math.abs(D)<=r,M=Math.abs(l-K)<=s;d.done=C&&M}return d.value=d.done?l:K,d},toString:()=>{const Y=Math.min(WT(Z),Fg),K=GT(D=>Z.next(Y*D).value,Y,30);return Y+"ms "+K}};return Z}function C1({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:a=500,modifyTarget:l,min:d,max:h,restDelta:f=.5,restSpeed:g}){const y=t[0],x={done:!1,value:y},E=C=>d!==void 0&&C<d||h!==void 0&&C>h,S=C=>d===void 0?h:h===void 0||Math.abs(d-C)<Math.abs(h-C)?d:h;let R=n*e;const A=y+R,j=l===void 0?A:l(A);j!==A&&(R=j-y);const F=C=>-R*Math.exp(-C/r),$=C=>j+F(C),Z=C=>{const M=F(C),O=$(C);x.done=Math.abs(M)<=f,x.value=x.done?j:O};let Y,K;const D=C=>{E(x.value)&&(Y=C,K=C2({keyframes:[x.value,S(x.value)],velocity:I2($,C,x.value),damping:s,stiffness:a,restDelta:f,restSpeed:g}))};return D(0),{calculatedDuration:null,next:C=>{let M=!1;return!K&&Y===void 0&&(M=!0,Z(C),D(C)),Y!==void 0&&C>=Y?K.next(C-Y):(!M&&Z(C),x)}}}const cj=Iu(.42,0,1,1),uj=Iu(0,0,.58,1),N2=Iu(.42,0,.58,1),dj=t=>Array.isArray(t)&&typeof t[0]!="number",hj={linear:Mn,easeIn:cj,easeInOut:N2,easeOut:uj,circIn:d0,circInOut:l2,circOut:a2,backIn:u0,backInOut:i2,backOut:s2,anticipate:o2},N1=t=>{if(r0(t)){ST(t.length===4);const[e,n,r,s]=t;return Iu(e,n,r,s)}else if(typeof t=="string")return hj[t];return t};function fj(t,e,n){const r=[],s=n||S2,a=t.length-1;for(let l=0;l<a;l++){let d=s(t[l],t[l+1]);if(e){const h=Array.isArray(e)?e[l]||Mn:e;d=Cu(h,d)}r.push(d)}return r}function y0(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const a=t.length;if(ST(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const l=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const d=fj(e,r,s),h=d.length,f=g=>{if(l&&g<t[0])return e[0];let y=0;if(h>1)for(;y<t.length-2&&!(g<t[y+1]);y++);const x=Yo(t[y],t[y+1],g);return d[y](x)};return n?g=>f(Cs(t[0],t[a-1],g)):f}function mj(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=Yo(0,e,r);t.push(_t(n,1,s))}}function A2(t){const e=[0];return mj(e,t.length-1),e}function pj(t,e){return t.map(n=>n*e)}function gj(t,e){return t.map(()=>e||N2).splice(0,t.length-1)}function Wh({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=dj(r)?r.map(N1):N1(r),a={done:!1,value:e[0]},l=pj(n&&n.length===e.length?n:A2(e),t),d=y0(l,e,{ease:Array.isArray(s)?s:gj(e,s)});return{calculatedDuration:t,next:h=>(a.value=d(h),a.done=h>=t,a)}}const yj=t=>{const e=({timestamp:n})=>t(n);return{start:()=>st.update(e,!0),stop:()=>Kr(e),now:()=>tn.isProcessing?tn.timestamp:ws.now()}},vj={decay:C1,inertia:C1,tween:Wh,keyframes:Wh,spring:C2},xj=t=>t/100;class v0 extends E2{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:h}=this.options;h&&h()};const{name:n,motionValue:r,element:s,keyframes:a}=this.options,l=s?.KeyframeResolver||p0,d=(h,f)=>this.onKeyframesResolved(h,f);this.resolver=new l(a,d,n,r,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:a,velocity:l=0}=this.options,d=n0(n)?n:vj[n]||Wh;let h,f;d!==Wh&&typeof e[0]!="number"&&(h=Cu(xj,S2(e[0],e[1])),e=[0,100]);const g=d({...this.options,keyframes:e});a==="mirror"&&(f=d({...this.options,keyframes:[...e].reverse(),velocity:-l})),g.calculatedDuration===null&&(g.calculatedDuration=WT(g));const{calculatedDuration:y}=g,x=y+s,E=x*(r+1)-s;return{generator:g,mirroredGenerator:f,mapPercentToKeyframes:h,calculatedDuration:y,resolvedDuration:x,totalDuration:E}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:C}=this.options;return{done:!0,value:C[C.length-1]}}const{finalKeyframe:s,generator:a,mirroredGenerator:l,mapPercentToKeyframes:d,keyframes:h,calculatedDuration:f,totalDuration:g,resolvedDuration:y}=r;if(this.startTime===null)return a.next(0);const{delay:x,repeat:E,repeatType:S,repeatDelay:R,onUpdate:A}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-g/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const j=this.currentTime-x*(this.speed>=0?1:-1),F=this.speed>=0?j<0:j>g;this.currentTime=Math.max(j,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=g);let $=this.currentTime,Z=a;if(E){const C=Math.min(this.currentTime,g)/y;let M=Math.floor(C),O=C%1;!O&&C>=1&&(O=1),O===1&&M--,M=Math.min(M,E+1),M%2&&(S==="reverse"?(O=1-O,R&&(O-=R/y)):S==="mirror"&&(Z=l)),$=Cs(0,1,O)*y}const Y=F?{done:!1,value:h[0]}:Z.next($);d&&(Y.value=d(Y.value));let{done:K}=Y;!F&&f!==null&&(K=this.speed>=0?this.currentTime>=g:this.currentTime<=0);const D=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&K);return D&&s!==void 0&&(Y.value=If(h,this.options,s)),A&&A(Y.value),D&&this.finish(),Y}get duration(){const{resolved:e}=this;return e?Xs(e.calculatedDuration):0}get time(){return Xs(this.currentTime)}set time(e){e=Ys(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Xs(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=yj,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),n&&n();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const wj=new Set(["opacity","clipPath","filter","transform"]);function bj(t,e,n,{delay:r=0,duration:s=300,repeat:a=0,repeatType:l="loop",ease:d="easeInOut",times:h}={}){const f={[e]:n};h&&(f.offset=h);const g=QT(d,s);return Array.isArray(g)&&(f.easing=g),t.animate(f,{delay:r,duration:s,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:a+1,direction:l==="reverse"?"alternate":"normal"})}const _j=By(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Gh=10,Ej=2e4;function Tj(t){return n0(t.type)||t.type==="spring"||!KT(t.ease)}function Sj(t,e){const n=new v0({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const s=[];let a=0;for(;!r.done&&a<Ej;)r=n.sample(a),s.push(r.value),a+=Gh;return{times:void 0,keyframes:s,duration:a-Gh,ease:"linear"}}const k2={anticipate:o2,backInOut:i2,circInOut:l2};function Ij(t){return t in k2}class A1 extends E2{constructor(e){super(e);const{name:n,motionValue:r,element:s,keyframes:a}=this.options;this.resolver=new _2(a,(l,d)=>this.onKeyframesResolved(l,d),n,r,s),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:r=300,times:s,ease:a,type:l,motionValue:d,name:h,startTime:f}=this.options;if(!d.owner||!d.owner.current)return!1;if(typeof a=="string"&&Hh()&&Ij(a)&&(a=k2[a]),Tj(this.options)){const{onComplete:y,onUpdate:x,motionValue:E,element:S,...R}=this.options,A=Sj(e,R);e=A.keyframes,e.length===1&&(e[1]=e[0]),r=A.duration,s=A.times,a=A.ease,l="keyframes"}const g=bj(d.owner.current,h,e,{...this.options,duration:r,times:s,ease:a});return g.startTime=f??this.calcStartTime(),this.pendingTimeline?(f1(g,this.pendingTimeline),this.pendingTimeline=void 0):g.onfinish=()=>{const{onComplete:y}=this.options;d.set(If(e,this.options,n)),y&&y(),this.cancel(),this.resolveFinishedPromise()},{animation:g,duration:r,times:s,type:l,ease:a,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return Xs(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return Xs(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=Ys(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return Mn;const{animation:r}=n;f1(r,e)}return Mn}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:s,type:a,ease:l,times:d}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:f,onUpdate:g,onComplete:y,element:x,...E}=this.options,S=new v0({...E,keyframes:r,duration:s,type:a,ease:l,times:d,isGenerator:!0}),R=Ys(this.time);f.setWithVelocity(S.sample(R-Gh).value,S.sample(R).value,Gh)}const{onStop:h}=this.options;h&&h(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:s,repeatType:a,damping:l,type:d}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:h,transformTemplate:f}=n.owner.getProps();return _j()&&r&&wj.has(r)&&!h&&!f&&!s&&a!=="mirror"&&l!==0&&d!=="inertia"}}const Cj={type:"spring",stiffness:500,damping:25,restSpeed:10},Nj=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Aj={type:"keyframes",duration:.8},kj={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Rj=(t,{keyframes:e})=>e.length>2?Aj:oa.has(t)?t.startsWith("scale")?Nj(e[1]):Cj:kj;function Pj({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:a,repeatType:l,repeatDelay:d,from:h,elapsed:f,...g}){return!!Object.keys(g).length}const x0=(t,e,n,r={},s,a)=>l=>{const d=t0(r,t)||{},h=d.delay||r.delay||0;let{elapsed:f=0}=r;f=f-Ys(h);let g={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...d,delay:-f,onUpdate:x=>{e.set(x),d.onUpdate&&d.onUpdate(x)},onComplete:()=>{l(),d.onComplete&&d.onComplete()},name:t,motionValue:e,element:a?void 0:s};Pj(d)||(g={...g,...Rj(t,g)}),g.duration&&(g.duration=Ys(g.duration)),g.repeatDelay&&(g.repeatDelay=Ys(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let y=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(g.duration=0,g.delay===0&&(y=!0)),y&&!a&&e.get()!==void 0){const x=If(g.keyframes,d);if(x!==void 0)return st.update(()=>{g.onUpdate(x),g.onComplete()}),new e4([])}return!a&&A1.supports(g)?new A1(g):new v0(g)};function jj({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function R2(t,e,{delay:n=0,transitionOverride:r,type:s}={}){var a;let{transition:l=t.getDefaultTransition(),transitionEnd:d,...h}=e;r&&(l=r);const f=[],g=s&&t.animationState&&t.animationState.getState()[s];for(const y in h){const x=t.getValue(y,(a=t.latestValues[y])!==null&&a!==void 0?a:null),E=h[y];if(E===void 0||g&&jj(g,y))continue;const S={delay:n,...t0(l||{},y)};let R=!1;if(window.MotionHandoffAnimation){const j=e2(t);if(j){const F=window.MotionHandoffAnimation(j,y,st);F!==null&&(S.startTime=F,R=!0)}}Bg(t,y),x.start(x0(y,x,E,t.shouldReduceMotion&&ZT.has(y)?{type:!1}:S,t,R));const A=x.animation;A&&f.push(A)}return d&&Promise.all(f).then(()=>{st.update(()=>{d&&f4(t,d)})}),f}function Kg(t,e,n={}){var r;const s=Sf(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(a=n.transitionOverride);const l=s?()=>Promise.all(R2(t,s,n)):()=>Promise.resolve(),d=t.variantChildren&&t.variantChildren.size?(f=0)=>{const{delayChildren:g=0,staggerChildren:y,staggerDirection:x}=a;return Dj(t,e,g+f,y,x,n)}:()=>Promise.resolve(),{when:h}=a;if(h){const[f,g]=h==="beforeChildren"?[l,d]:[d,l];return f().then(()=>g())}else return Promise.all([l(),d(n.delay)])}function Dj(t,e,n=0,r=0,s=1,a){const l=[],d=(t.variantChildren.size-1)*r,h=s===1?(f=0)=>f*r:(f=0)=>d-f*r;return Array.from(t.variantChildren).sort(Mj).forEach((f,g)=>{f.notify("AnimationStart",e),l.push(Kg(f,e,{...a,delay:n+h(g)}).then(()=>f.notify("AnimationComplete",e)))}),Promise.all(l)}function Mj(t,e){return t.sortNodePosition(e)}function Oj(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(a=>Kg(t,a,n));r=Promise.all(s)}else if(typeof e=="string")r=Kg(t,e,n);else{const s=typeof e=="function"?Sf(t,e,n.custom):e;r=Promise.all(R2(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const Lj=$y.length;function P2(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?P2(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<Lj;n++){const r=$y[n],s=t.props[r];(nu(s)||s===!1)&&(e[r]=s)}return e}const Vj=[...zy].reverse(),Fj=zy.length;function Uj(t){return e=>Promise.all(e.map(({animation:n,options:r})=>Oj(t,n,r)))}function Bj(t){let e=Uj(t),n=k1(),r=!0;const s=h=>(f,g)=>{var y;const x=Sf(t,g,h==="exit"?(y=t.presenceContext)===null||y===void 0?void 0:y.custom:void 0);if(x){const{transition:E,transitionEnd:S,...R}=x;f={...f,...R,...S}}return f};function a(h){e=h(t)}function l(h){const{props:f}=t,g=P2(t.parent)||{},y=[],x=new Set;let E={},S=1/0;for(let A=0;A<Fj;A++){const j=Vj[A],F=n[j],$=f[j]!==void 0?f[j]:g[j],Z=nu($),Y=j===h?F.isActive:null;Y===!1&&(S=A);let K=$===g[j]&&$!==f[j]&&Z;if(K&&r&&t.manuallyAnimateOnMount&&(K=!1),F.protectedKeys={...E},!F.isActive&&Y===null||!$&&!F.prevProp||Ef($)||typeof $=="boolean")continue;const D=zj(F.prevProp,$);let C=D||j===h&&F.isActive&&!K&&Z||A>S&&Z,M=!1;const O=Array.isArray($)?$:[$];let B=O.reduce(s(j),{});Y===!1&&(B={});const{prevResolvedValues:L={}}=F,P={...L,...B},be=ae=>{C=!0,x.has(ae)&&(M=!0,x.delete(ae)),F.needsAnimating[ae]=!0;const ee=t.getValue(ae);ee&&(ee.liveStyle=!1)};for(const ae in P){const ee=B[ae],ye=L[ae];if(E.hasOwnProperty(ae))continue;let U=!1;Vg(ee)&&Vg(ye)?U=!HT(ee,ye):U=ee!==ye,U?ee!=null?be(ae):x.add(ae):ee!==void 0&&x.has(ae)?be(ae):F.protectedKeys[ae]=!0}F.prevProp=$,F.prevResolvedValues=B,F.isActive&&(E={...E,...B}),r&&t.blockInitialAnimation&&(C=!1),C&&(!(K&&D)||M)&&y.push(...O.map(ae=>({animation:ae,options:{type:j}})))}if(x.size){const A={};x.forEach(j=>{const F=t.getBaseTarget(j),$=t.getValue(j);$&&($.liveStyle=!0),A[j]=F??null}),y.push({animation:A})}let R=!!y.length;return r&&(f.initial===!1||f.initial===f.animate)&&!t.manuallyAnimateOnMount&&(R=!1),r=!1,R?e(y):Promise.resolve()}function d(h,f){var g;if(n[h].isActive===f)return Promise.resolve();(g=t.variantChildren)===null||g===void 0||g.forEach(x=>{var E;return(E=x.animationState)===null||E===void 0?void 0:E.setActive(h,f)}),n[h].isActive=f;const y=l(h);for(const x in n)n[x].protectedKeys={};return y}return{animateChanges:l,setActive:d,setAnimateFunction:a,getState:()=>n,reset:()=>{n=k1(),r=!0}}}function zj(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!HT(e,t):!1}function Lo(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function k1(){return{animate:Lo(!0),whileInView:Lo(),whileHover:Lo(),whileTap:Lo(),whileDrag:Lo(),whileFocus:Lo(),exit:Lo()}}class ro{constructor(e){this.isMounted=!1,this.node=e}update(){}}class $j extends ro{constructor(e){super(e),e.animationState||(e.animationState=Bj(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Ef(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let Hj=0;class qj extends ro{constructor(){super(...arguments),this.id=Hj++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const Wj={animation:{Feature:$j},exit:{Feature:qj}};function iu(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Nu(t){return{point:{x:t.pageX,y:t.pageY}}}const Gj=t=>e=>i0(e)&&t(e,Nu(e));function $c(t,e,n,r){return iu(t,e,Gj(n),r)}const R1=(t,e)=>Math.abs(t-e);function Kj(t,e){const n=R1(t.x,e.x),r=R1(t.y,e.y);return Math.sqrt(n**2+r**2)}class j2{constructor(e,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=Wp(this.lastMoveEventInfo,this.history),x=this.startEvent!==null,E=Kj(y.offset,{x:0,y:0})>=3;if(!x&&!E)return;const{point:S}=y,{timestamp:R}=tn;this.history.push({...S,timestamp:R});const{onStart:A,onMove:j}=this.handlers;x||(A&&A(this.lastMoveEvent,y),this.startEvent=this.lastMoveEvent),j&&j(this.lastMoveEvent,y)},this.handlePointerMove=(y,x)=>{this.lastMoveEvent=y,this.lastMoveEventInfo=qp(x,this.transformPagePoint),st.update(this.updatePoint,!0)},this.handlePointerUp=(y,x)=>{this.end();const{onEnd:E,onSessionEnd:S,resumeAnimation:R}=this.handlers;if(this.dragSnapToOrigin&&R&&R(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const A=Wp(y.type==="pointercancel"?this.lastMoveEventInfo:qp(x,this.transformPagePoint),this.history);this.startEvent&&E&&E(y,A),S&&S(y,A)},!i0(e))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const l=Nu(e),d=qp(l,this.transformPagePoint),{point:h}=d,{timestamp:f}=tn;this.history=[{...h,timestamp:f}];const{onSessionStart:g}=n;g&&g(e,Wp(d,this.history)),this.removeListeners=Cu($c(this.contextWindow,"pointermove",this.handlePointerMove),$c(this.contextWindow,"pointerup",this.handlePointerUp),$c(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Kr(this.updatePoint)}}function qp(t,e){return e?{point:e(t.point)}:t}function P1(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Wp({point:t},e){return{point:t,delta:P1(t,D2(e)),offset:P1(t,Qj(e)),velocity:Yj(e,.1)}}function Qj(t){return t[0]}function D2(t){return t[t.length-1]}function Yj(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=D2(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>Ys(e)));)n--;if(!r)return{x:0,y:0};const a=Xs(s.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const l={x:(s.x-r.x)/a,y:(s.y-r.y)/a};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}const M2=1e-4,Xj=1-M2,Jj=1+M2,O2=.01,Zj=0-O2,eD=0+O2;function ur(t){return t.max-t.min}function tD(t,e,n){return Math.abs(t-e)<=n}function j1(t,e,n,r=.5){t.origin=r,t.originPoint=_t(e.min,e.max,t.origin),t.scale=ur(n)/ur(e),t.translate=_t(n.min,n.max,t.origin)-t.originPoint,(t.scale>=Xj&&t.scale<=Jj||isNaN(t.scale))&&(t.scale=1),(t.translate>=Zj&&t.translate<=eD||isNaN(t.translate))&&(t.translate=0)}function Hc(t,e,n,r){j1(t.x,e.x,n.x,r?r.originX:void 0),j1(t.y,e.y,n.y,r?r.originY:void 0)}function D1(t,e,n){t.min=n.min+e.min,t.max=t.min+ur(e)}function nD(t,e,n){D1(t.x,e.x,n.x),D1(t.y,e.y,n.y)}function M1(t,e,n){t.min=e.min-n.min,t.max=t.min+ur(e)}function qc(t,e,n){M1(t.x,e.x,n.x),M1(t.y,e.y,n.y)}function rD(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?_t(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?_t(n,t,r.max):Math.min(t,n)),t}function O1(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function sD(t,{top:e,left:n,bottom:r,right:s}){return{x:O1(t.x,n,s),y:O1(t.y,e,r)}}function L1(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function iD(t,e){return{x:L1(t.x,e.x),y:L1(t.y,e.y)}}function oD(t,e){let n=.5;const r=ur(t),s=ur(e);return s>r?n=Yo(e.min,e.max-r,t.min):r>s&&(n=Yo(t.min,t.max-s,e.min)),Cs(0,1,n)}function aD(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Qg=.35;function lD(t=Qg){return t===!1?t=0:t===!0&&(t=Qg),{x:V1(t,"left","right"),y:V1(t,"top","bottom")}}function V1(t,e,n){return{min:F1(t,e),max:F1(t,n)}}function F1(t,e){return typeof t=="number"?t:t[e]||0}const U1=()=>({translate:0,scale:1,origin:0,originPoint:0}),el=()=>({x:U1(),y:U1()}),B1=()=>({min:0,max:0}),Dt=()=>({x:B1(),y:B1()});function Ir(t){return[t("x"),t("y")]}function L2({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function cD({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function uD(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Gp(t){return t===void 0||t===1}function Yg({scale:t,scaleX:e,scaleY:n}){return!Gp(t)||!Gp(e)||!Gp(n)}function Vo(t){return Yg(t)||V2(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function V2(t){return z1(t.x)||z1(t.y)}function z1(t){return t&&t!=="0%"}function Kh(t,e,n){const r=t-n,s=e*r;return n+s}function $1(t,e,n,r,s){return s!==void 0&&(t=Kh(t,s,r)),Kh(t,n,r)+e}function Xg(t,e=0,n=1,r,s){t.min=$1(t.min,e,n,r,s),t.max=$1(t.max,e,n,r,s)}function F2(t,{x:e,y:n}){Xg(t.x,e.translate,e.scale,e.originPoint),Xg(t.y,n.translate,n.scale,n.originPoint)}const H1=.999999999999,q1=1.0000000000001;function dD(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let a,l;for(let d=0;d<s;d++){a=n[d],l=a.projectionDelta;const{visualElement:h}=a.options;h&&h.props.style&&h.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&nl(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,F2(t,l)),r&&Vo(a.latestValues)&&nl(t,a.latestValues))}e.x<q1&&e.x>H1&&(e.x=1),e.y<q1&&e.y>H1&&(e.y=1)}function tl(t,e){t.min=t.min+e,t.max=t.max+e}function W1(t,e,n,r,s=.5){const a=_t(t.min,t.max,s);Xg(t,e,n,a,r)}function nl(t,e){W1(t.x,e.x,e.scaleX,e.scale,e.originX),W1(t.y,e.y,e.scaleY,e.scale,e.originY)}function U2(t,e){return L2(uD(t.getBoundingClientRect(),e))}function hD(t,e,n){const r=U2(t,n),{scroll:s}=e;return s&&(tl(r.x,s.offset.x),tl(r.y,s.offset.y)),r}const B2=({current:t})=>t?t.ownerDocument.defaultView:null,fD=new WeakMap;class mD{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Dt(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=g=>{const{dragSnapToOrigin:y}=this.getProps();y?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Nu(g).point)},a=(g,y)=>{const{drag:x,dragPropagation:E,onDragStart:S}=this.getProps();if(x&&!E&&(this.openDragLock&&this.openDragLock(),this.openDragLock=l4(x),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ir(A=>{let j=this.getAxisMotionValue(A).get()||0;if(xs.test(j)){const{projection:F}=this.visualElement;if(F&&F.layout){const $=F.layout.layoutBox[A];$&&(j=ur($)*(parseFloat(j)/100))}}this.originPoint[A]=j}),S&&st.postRender(()=>S(g,y)),Bg(this.visualElement,"transform");const{animationState:R}=this.visualElement;R&&R.setActive("whileDrag",!0)},l=(g,y)=>{const{dragPropagation:x,dragDirectionLock:E,onDirectionLock:S,onDrag:R}=this.getProps();if(!x&&!this.openDragLock)return;const{offset:A}=y;if(E&&this.currentDirection===null){this.currentDirection=pD(A),this.currentDirection!==null&&S&&S(this.currentDirection);return}this.updateAxis("x",y.point,A),this.updateAxis("y",y.point,A),this.visualElement.render(),R&&R(g,y)},d=(g,y)=>this.stop(g,y),h=()=>Ir(g=>{var y;return this.getAnimationState(g)==="paused"&&((y=this.getAxisMotionValue(g).animation)===null||y===void 0?void 0:y.play())}),{dragSnapToOrigin:f}=this.getProps();this.panSession=new j2(e,{onSessionStart:s,onStart:a,onMove:l,onSessionEnd:d,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,contextWindow:B2(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:a}=this.getProps();a&&st.postRender(()=>a(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!ih(e,s,this.currentDirection))return;const a=this.getAxisMotionValue(e);let l=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(l=rD(l,this.constraints[e],this.elastic[e])),a.set(l)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,a=this.constraints;n&&Ja(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=sD(s.layoutBox,n):this.constraints=!1,this.elastic=lD(r),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Ir(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=aD(s.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Ja(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const a=hD(r,s.root,this.visualElement.getTransformPagePoint());let l=iD(s.layout.layoutBox,a);if(n){const d=n(cD(l));this.hasMutatedConstraints=!!d,d&&(l=L2(d))}return l}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:a,dragSnapToOrigin:l,onDragTransitionEnd:d}=this.getProps(),h=this.constraints||{},f=Ir(g=>{if(!ih(g,n,this.currentDirection))return;let y=h&&h[g]||{};l&&(y={min:0,max:0});const x=s?200:1e6,E=s?40:1e7,S={type:"inertia",velocity:r?e[g]:0,bounceStiffness:x,bounceDamping:E,timeConstant:750,restDelta:1,restSpeed:10,...a,...y};return this.startAxisValueAnimation(g,S)});return Promise.all(f).then(d)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return Bg(this.visualElement,e),r.start(x0(e,r,0,n,this.visualElement,!1))}stopAnimation(){Ir(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Ir(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Ir(n=>{const{drag:r}=this.getProps();if(!ih(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,a=this.getAxisMotionValue(n);if(s&&s.layout){const{min:l,max:d}=s.layout.layoutBox[n];a.set(e[n]-_t(l,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Ja(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Ir(l=>{const d=this.getAxisMotionValue(l);if(d&&this.constraints!==!1){const h=d.get();s[l]=oD({min:h,max:h},this.constraints[l])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Ir(l=>{if(!ih(l,e,null))return;const d=this.getAxisMotionValue(l),{min:h,max:f}=this.constraints[l];d.set(_t(h,f,s[l]))})}addListeners(){if(!this.visualElement.current)return;fD.set(this.visualElement,this);const e=this.visualElement.current,n=$c(e,"pointerdown",h=>{const{drag:f,dragListener:g=!0}=this.getProps();f&&g&&this.start(h)}),r=()=>{const{dragConstraints:h}=this.getProps();Ja(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,a=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),st.read(r);const l=iu(window,"resize",()=>this.scalePositionWithinConstraints()),d=s.addEventListener("didUpdate",(({delta:h,hasLayoutChanged:f})=>{this.isDragging&&f&&(Ir(g=>{const y=this.getAxisMotionValue(g);y&&(this.originPoint[g]+=h[g].translate,y.set(y.get()+h[g].translate))}),this.visualElement.render())}));return()=>{l(),n(),a(),d&&d()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:a=!1,dragElastic:l=Qg,dragMomentum:d=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:a,dragElastic:l,dragMomentum:d}}}function ih(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function pD(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class gD extends ro{constructor(e){super(e),this.removeGroupControls=Mn,this.removeListeners=Mn,this.controls=new mD(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Mn}unmount(){this.removeGroupControls(),this.removeListeners()}}const G1=t=>(e,n)=>{t&&st.postRender(()=>t(e,n))};class yD extends ro{constructor(){super(...arguments),this.removePointerDownListener=Mn}onPointerDown(e){this.session=new j2(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:B2(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:G1(e),onStart:G1(n),onMove:r,onEnd:(a,l)=>{delete this.session,s&&st.postRender(()=>s(a,l))}}}mount(){this.removePointerDownListener=$c(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Eh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function K1(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Cc={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(De.test(t))t=parseFloat(t);else return t;const n=K1(t,e.target.x),r=K1(t,e.target.y);return`${n}% ${r}%`}},vD={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=Gi.parse(t);if(s.length>5)return r;const a=Gi.createTransformer(t),l=typeof s[0]!="number"?1:0,d=n.x.scale*e.x,h=n.y.scale*e.y;s[0+l]/=d,s[1+l]/=h;const f=_t(d,h,.5);return typeof s[2+l]=="number"&&(s[2+l]/=f),typeof s[3+l]=="number"&&(s[3+l]/=f),a(s)}};class xD extends N.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:a}=e;$P(wD),a&&(n.group&&n.group.add(a),r&&r.register&&s&&r.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Eh.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:a}=this.props,l=r.projection;return l&&(l.isPresent=a,s||e.layoutDependency!==n||n===void 0?l.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?l.promote():l.relegate()||st.postRender(()=>{const d=l.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),qy.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function z2(t){const[e,n]=TT(),r=N.useContext(Fy);return c.jsx(xD,{...t,layoutGroup:r,switchLayoutGroup:N.useContext(RT),isPresent:e,safeToRemove:n})}const wD={borderRadius:{...Cc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Cc,borderTopRightRadius:Cc,borderBottomLeftRadius:Cc,borderBottomRightRadius:Cc,boxShadow:vD};function bD(t,e,n){const r=Sn(t)?t:vs(t);return r.start(x0("",r,e,n)),r.animation}function _D(t){return t instanceof SVGElement&&t.tagName!=="svg"}const ED=(t,e)=>t.depth-e.depth;class TD{constructor(){this.children=[],this.isDirty=!1}add(e){o0(this.children,e),this.isDirty=!0}remove(e){a0(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(ED),this.isDirty=!1,this.children.forEach(e)}}function SD(t,e){const n=ws.now(),r=({timestamp:s})=>{const a=s-n;a>=e&&(Kr(r),t(a-e))};return st.read(r,!0),()=>Kr(r)}const $2=["TopLeft","TopRight","BottomLeft","BottomRight"],ID=$2.length,Q1=t=>typeof t=="string"?parseFloat(t):t,Y1=t=>typeof t=="number"||De.test(t);function CD(t,e,n,r,s,a){s?(t.opacity=_t(0,n.opacity!==void 0?n.opacity:1,ND(r)),t.opacityExit=_t(e.opacity!==void 0?e.opacity:1,0,AD(r))):a&&(t.opacity=_t(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let l=0;l<ID;l++){const d=`border${$2[l]}Radius`;let h=X1(e,d),f=X1(n,d);if(h===void 0&&f===void 0)continue;h||(h=0),f||(f=0),h===0||f===0||Y1(h)===Y1(f)?(t[d]=Math.max(_t(Q1(h),Q1(f),r),0),(xs.test(f)||xs.test(h))&&(t[d]+="%")):t[d]=f}(e.rotate||n.rotate)&&(t.rotate=_t(e.rotate||0,n.rotate||0,r))}function X1(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const ND=H2(0,.5,a2),AD=H2(.5,.95,Mn);function H2(t,e,n){return r=>r<t?0:r>e?1:n(Yo(t,e,r))}function J1(t,e){t.min=e.min,t.max=e.max}function Sr(t,e){J1(t.x,e.x),J1(t.y,e.y)}function Z1(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function eb(t,e,n,r,s){return t-=e,t=Kh(t,1/n,r),s!==void 0&&(t=Kh(t,1/s,r)),t}function kD(t,e=0,n=1,r=.5,s,a=t,l=t){if(xs.test(e)&&(e=parseFloat(e),e=_t(l.min,l.max,e/100)-l.min),typeof e!="number")return;let d=_t(a.min,a.max,r);t===a&&(d-=e),t.min=eb(t.min,e,n,d,s),t.max=eb(t.max,e,n,d,s)}function tb(t,e,[n,r,s],a,l){kD(t,e[n],e[r],e[s],e.scale,a,l)}const RD=["x","scaleX","originX"],PD=["y","scaleY","originY"];function nb(t,e,n,r){tb(t.x,e,RD,n?n.x:void 0,r?r.x:void 0),tb(t.y,e,PD,n?n.y:void 0,r?r.y:void 0)}function rb(t){return t.translate===0&&t.scale===1}function q2(t){return rb(t.x)&&rb(t.y)}function sb(t,e){return t.min===e.min&&t.max===e.max}function jD(t,e){return sb(t.x,e.x)&&sb(t.y,e.y)}function ib(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function W2(t,e){return ib(t.x,e.x)&&ib(t.y,e.y)}function ob(t){return ur(t.x)/ur(t.y)}function ab(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class DD{constructor(){this.members=[]}add(e){o0(this.members,e),e.scheduleRender()}remove(e){if(a0(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const a=this.members[s];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function MD(t,e,n){let r="";const s=t.x.translate/e.x,a=t.y.translate/e.y,l=n?.z||0;if((s||a||l)&&(r=`translate3d(${s}px, ${a}px, ${l}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:f,rotate:g,rotateX:y,rotateY:x,skewX:E,skewY:S}=n;f&&(r=`perspective(${f}px) ${r}`),g&&(r+=`rotate(${g}deg) `),y&&(r+=`rotateX(${y}deg) `),x&&(r+=`rotateY(${x}deg) `),E&&(r+=`skewX(${E}deg) `),S&&(r+=`skewY(${S}deg) `)}const d=t.x.scale*e.x,h=t.y.scale*e.y;return(d!==1||h!==1)&&(r+=`scale(${d}, ${h})`),r||"none"}const Fo={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Pc=typeof window<"u"&&window.MotionDebug!==void 0,Kp=["","X","Y","Z"],OD={visibility:"hidden"},lb=1e3;let LD=0;function Qp(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function G2(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=e2(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",st,!(s||a))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&G2(r)}function K2({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(l={},d=e?.()){this.id=LD++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Pc&&(Fo.totalNodes=Fo.resolvedTargetDeltas=Fo.recalculatedProjection=0),this.nodes.forEach(UD),this.nodes.forEach(qD),this.nodes.forEach(WD),this.nodes.forEach(BD),Pc&&window.MotionDebug.record(Fo)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new TD)}addEventListener(l,d){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new l0),this.eventHandlers.get(l).add(d)}notifyListeners(l,...d){const h=this.eventHandlers.get(l);h&&h.notify(...d)}hasListeners(l){return this.eventHandlers.has(l)}mount(l,d=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=_D(l),this.instance=l;const{layoutId:h,layout:f,visualElement:g}=this.options;if(g&&!g.current&&g.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),d&&(f||h)&&(this.isLayoutDirty=!0),t){let y;const x=()=>this.root.updateBlockedByResize=!1;t(l,()=>{this.root.updateBlockedByResize=!0,y&&y(),y=SD(x,250),Eh.hasAnimatedSinceResize&&(Eh.hasAnimatedSinceResize=!1,this.nodes.forEach(ub))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&g&&(h||f)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:x,hasRelativeTargetChanged:E,layout:S})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const R=this.options.transition||g.getDefaultTransition()||XD,{onLayoutAnimationStart:A,onLayoutAnimationComplete:j}=g.getProps(),F=!this.targetLayout||!W2(this.targetLayout,S)||E,$=!x&&E;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||$||x&&(F||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(y,$);const Z={...t0(R,"layout"),onPlay:A,onComplete:j};(g.shouldReduceMotion||this.options.layoutRoot)&&(Z.delay=0,Z.type=!1),this.startAnimation(Z)}else x||ub(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=S})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Kr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(GD),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&G2(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const y=this.path[g];y.shouldResetTransform=!0,y.updateScroll("snapshot"),y.options.layoutRoot&&y.willUpdate(!1)}const{layoutId:d,layout:h}=this.options;if(d===void 0&&!h)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(cb);return}this.isUpdating||this.nodes.forEach($D),this.isUpdating=!1,this.nodes.forEach(HD),this.nodes.forEach(VD),this.nodes.forEach(FD),this.clearAllSnapshots();const d=ws.now();tn.delta=Cs(0,1e3/60,d-tn.timestamp),tn.timestamp=d,tn.isProcessing=!0,Fp.update.process(tn),Fp.preRender.process(tn),Fp.render.process(tn),tn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,qy.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(zD),this.sharedNodes.forEach(KD)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,st.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){st.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Dt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(d=!1),d){const h=r(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:h,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:h}}}resetTransform(){if(!s)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!q2(this.projectionDelta),h=this.getTransformTemplate(),f=h?h(this.latestValues,""):void 0,g=f!==this.prevTransformTemplateValue;l&&(d||Vo(this.latestValues)||g)&&(s(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const d=this.measurePageBox();let h=this.removeElementScroll(d);return l&&(h=this.removeTransform(h)),JD(h),{animationId:this.root.animationId,measuredBox:d,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){var l;const{visualElement:d}=this.options;if(!d)return Dt();const h=d.measureViewportBox();if(!(((l=this.scroll)===null||l===void 0?void 0:l.wasRoot)||this.path.some(ZD))){const{scroll:g}=this.root;g&&(tl(h.x,g.offset.x),tl(h.y,g.offset.y))}return h}removeElementScroll(l){var d;const h=Dt();if(Sr(h,l),!((d=this.scroll)===null||d===void 0)&&d.wasRoot)return h;for(let f=0;f<this.path.length;f++){const g=this.path[f],{scroll:y,options:x}=g;g!==this.root&&y&&x.layoutScroll&&(y.wasRoot&&Sr(h,l),tl(h.x,y.offset.x),tl(h.y,y.offset.y))}return h}applyTransform(l,d=!1){const h=Dt();Sr(h,l);for(let f=0;f<this.path.length;f++){const g=this.path[f];!d&&g.options.layoutScroll&&g.scroll&&g!==g.root&&nl(h,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),Vo(g.latestValues)&&nl(h,g.latestValues)}return Vo(this.latestValues)&&nl(h,this.latestValues),h}removeTransform(l){const d=Dt();Sr(d,l);for(let h=0;h<this.path.length;h++){const f=this.path[h];if(!f.instance||!Vo(f.latestValues))continue;Yg(f.latestValues)&&f.updateSnapshot();const g=Dt(),y=f.measurePageBox();Sr(g,y),nb(d,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,g)}return Vo(this.latestValues)&&nb(d,this.latestValues),d}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==tn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var d;const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==h;if(!(l||f&&this.isSharedProjectionDirty||this.isProjectionDirty||!((d=this.parent)===null||d===void 0)&&d.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:x}=this.options;if(!(!this.layout||!(y||x))){if(this.resolvedRelativeTargetAt=tn.timestamp,!this.targetDelta&&!this.relativeTarget){const E=this.getClosestProjectingParent();E&&E.layout&&this.animationProgress!==1?(this.relativeParent=E,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Dt(),this.relativeTargetOrigin=Dt(),qc(this.relativeTargetOrigin,this.layout.layoutBox,E.layout.layoutBox),Sr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Dt(),this.targetWithTransforms=Dt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),nD(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Sr(this.target,this.layout.layoutBox),F2(this.target,this.targetDelta)):Sr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const E=this.getClosestProjectingParent();E&&!!E.resumingFrom==!!this.resumingFrom&&!E.options.layoutScroll&&E.target&&this.animationProgress!==1?(this.relativeParent=E,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Dt(),this.relativeTargetOrigin=Dt(),qc(this.relativeTargetOrigin,this.target,E.target),Sr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Pc&&Fo.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Yg(this.parent.latestValues)||V2(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var l;const d=this.getLead(),h=!!this.resumingFrom||this!==d;let f=!0;if((this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty)&&(f=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===tn.timestamp&&(f=!1),f)return;const{layout:g,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||y))return;Sr(this.layoutCorrected,this.layout.layoutBox);const x=this.treeScale.x,E=this.treeScale.y;dD(this.layoutCorrected,this.treeScale,this.path,h),d.layout&&!d.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(d.target=d.layout.layoutBox,d.targetWithTransforms=Dt());const{target:S}=d;if(!S){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Z1(this.prevProjectionDelta.x,this.projectionDelta.x),Z1(this.prevProjectionDelta.y,this.projectionDelta.y)),Hc(this.projectionDelta,this.layoutCorrected,S,this.latestValues),(this.treeScale.x!==x||this.treeScale.y!==E||!ab(this.projectionDelta.x,this.prevProjectionDelta.x)||!ab(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",S)),Pc&&Fo.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){var d;if((d=this.options.visualElement)===null||d===void 0||d.scheduleRender(),l){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=el(),this.projectionDelta=el(),this.projectionDeltaWithTransform=el()}setAnimationOrigin(l,d=!1){const h=this.snapshot,f=h?h.latestValues:{},g={...this.latestValues},y=el();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const x=Dt(),E=h?h.source:void 0,S=this.layout?this.layout.source:void 0,R=E!==S,A=this.getStack(),j=!A||A.members.length<=1,F=!!(R&&!j&&this.options.crossfade===!0&&!this.path.some(YD));this.animationProgress=0;let $;this.mixTargetDelta=Z=>{const Y=Z/1e3;db(y.x,l.x,Y),db(y.y,l.y,Y),this.setTargetDelta(y),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(qc(x,this.layout.layoutBox,this.relativeParent.layout.layoutBox),QD(this.relativeTarget,this.relativeTargetOrigin,x,Y),$&&jD(this.relativeTarget,$)&&(this.isProjectionDirty=!1),$||($=Dt()),Sr($,this.relativeTarget)),R&&(this.animationValues=g,CD(g,f,this.latestValues,Y,F,j)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=Y},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Kr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=st.update(()=>{Eh.hasAnimatedSinceResize=!0,this.currentAnimation=bD(0,lb,{...l,onUpdate:d=>{this.mixTargetDelta(d),l.onUpdate&&l.onUpdate(d)},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(lb),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:d,target:h,layout:f,latestValues:g}=l;if(!(!d||!h||!f)){if(this!==l&&this.layout&&f&&Q2(this.options.animationType,this.layout.layoutBox,f.layoutBox)){h=this.target||Dt();const y=ur(this.layout.layoutBox.x);h.x.min=l.target.x.min,h.x.max=h.x.min+y;const x=ur(this.layout.layoutBox.y);h.y.min=l.target.y.min,h.y.max=h.y.min+x}Sr(d,h),nl(d,g),Hc(this.projectionDeltaWithTransform,this.layoutCorrected,d,g)}}registerSharedNode(l,d){this.sharedNodes.has(l)||this.sharedNodes.set(l,new DD),this.sharedNodes.get(l).add(d);const f=d.options.initialPromotionConfig;d.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(d):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var l;const{layoutId:d}=this.options;return d?((l=this.getStack())===null||l===void 0?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:d}=this.options;return d?(l=this.getStack())===null||l===void 0?void 0:l.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:d,preserveFollowOpacity:h}={}){const f=this.getStack();f&&f.promote(this,h),l&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let d=!1;const{latestValues:h}=l;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(d=!0),!d)return;const f={};h.z&&Qp("z",l,f,this.animationValues);for(let g=0;g<Kp.length;g++)Qp(`rotate${Kp[g]}`,l,f,this.animationValues),Qp(`skew${Kp[g]}`,l,f,this.animationValues);l.render();for(const g in f)l.setStaticValue(g,f[g]),this.animationValues&&(this.animationValues[g]=f[g]);l.scheduleRender()}getProjectionStyles(l){var d,h;if(!this.instance||this.isSVG)return;if(!this.isVisible)return OD;const f={visibility:""},g=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,f.opacity="",f.pointerEvents=bh(l?.pointerEvents)||"",f.transform=g?g(this.latestValues,""):"none",f;const y=this.getLead();if(!this.projectionDelta||!this.layout||!y.target){const R={};return this.options.layoutId&&(R.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,R.pointerEvents=bh(l?.pointerEvents)||""),this.hasProjected&&!Vo(this.latestValues)&&(R.transform=g?g({},""):"none",this.hasProjected=!1),R}const x=y.animationValues||y.latestValues;this.applyTransformsToTarget(),f.transform=MD(this.projectionDeltaWithTransform,this.treeScale,x),g&&(f.transform=g(x,f.transform));const{x:E,y:S}=this.projectionDelta;f.transformOrigin=`${E.origin*100}% ${S.origin*100}% 0`,y.animationValues?f.opacity=y===this?(h=(d=x.opacity)!==null&&d!==void 0?d:this.latestValues.opacity)!==null&&h!==void 0?h:1:this.preserveOpacity?this.latestValues.opacity:x.opacityExit:f.opacity=y===this?x.opacity!==void 0?x.opacity:"":x.opacityExit!==void 0?x.opacityExit:0;for(const R in $h){if(x[R]===void 0)continue;const{correct:A,applyTo:j}=$h[R],F=f.transform==="none"?x[R]:A(x[R],y);if(j){const $=j.length;for(let Z=0;Z<$;Z++)f[j[Z]]=F}else f[R]=F}return this.options.layoutId&&(f.pointerEvents=y===this?bh(l?.pointerEvents)||"":"none"),f}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var d;return(d=l.currentAnimation)===null||d===void 0?void 0:d.stop()}),this.root.nodes.forEach(cb),this.root.sharedNodes.clear()}}}function VD(t){t.updateLayout()}function FD(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:a}=t.options,l=n.source!==t.layout.source;a==="size"?Ir(y=>{const x=l?n.measuredBox[y]:n.layoutBox[y],E=ur(x);x.min=r[y].min,x.max=x.min+E}):Q2(a,n.layoutBox,r)&&Ir(y=>{const x=l?n.measuredBox[y]:n.layoutBox[y],E=ur(r[y]);x.max=x.min+E,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[y].max=t.relativeTarget[y].min+E)});const d=el();Hc(d,r,n.layoutBox);const h=el();l?Hc(h,t.applyTransform(s,!0),n.measuredBox):Hc(h,r,n.layoutBox);const f=!q2(d);let g=!1;if(!t.resumeFrom){const y=t.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:x,layout:E}=y;if(x&&E){const S=Dt();qc(S,n.layoutBox,x.layoutBox);const R=Dt();qc(R,r,E.layoutBox),W2(S,R)||(g=!0),y.options.layoutRoot&&(t.relativeTarget=R,t.relativeTargetOrigin=S,t.relativeParent=y)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:h,layoutDelta:d,hasLayoutChanged:f,hasRelativeTargetChanged:g})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function UD(t){Pc&&Fo.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function BD(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function zD(t){t.clearSnapshot()}function cb(t){t.clearMeasurements()}function $D(t){t.isLayoutDirty=!1}function HD(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function ub(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function qD(t){t.resolveTargetDelta()}function WD(t){t.calcProjection()}function GD(t){t.resetSkewAndRotation()}function KD(t){t.removeLeadSnapshot()}function db(t,e,n){t.translate=_t(e.translate,0,n),t.scale=_t(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function hb(t,e,n,r){t.min=_t(e.min,n.min,r),t.max=_t(e.max,n.max,r)}function QD(t,e,n,r){hb(t.x,e.x,n.x,r),hb(t.y,e.y,n.y,r)}function YD(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const XD={duration:.45,ease:[.4,0,.1,1]},fb=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),mb=fb("applewebkit/")&&!fb("chrome/")?Math.round:Mn;function pb(t){t.min=mb(t.min),t.max=mb(t.max)}function JD(t){pb(t.x),pb(t.y)}function Q2(t,e,n){return t==="position"||t==="preserve-aspect"&&!tD(ob(e),ob(n),.2)}function ZD(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const e5=K2({attachResizeListener:(t,e)=>iu(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Yp={current:void 0},Y2=K2({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Yp.current){const t=new e5({});t.mount(window),t.setOptions({layoutScroll:!0}),Yp.current=t}return Yp.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),t5={pan:{Feature:yD},drag:{Feature:gD,ProjectionNode:Y2,MeasureLayout:z2}};function gb(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,a=r[s];a&&st.postRender(()=>a(e,Nu(e)))}class n5 extends ro{mount(){const{current:e}=this.node;e&&(this.unmount=r4(e,n=>(gb(this.node,n,"Start"),r=>gb(this.node,r,"End"))))}unmount(){}}class r5 extends ro{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Cu(iu(this.node.current,"focus",()=>this.onFocus()),iu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function yb(t,e,n){const{props:r}=t;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),a=r[s];a&&st.postRender(()=>a(e,Nu(e)))}class s5 extends ro{mount(){const{current:e}=this.node;e&&(this.unmount=a4(e,n=>(yb(this.node,n,"Start"),(r,{success:s})=>yb(this.node,r,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Jg=new WeakMap,Xp=new WeakMap,i5=t=>{const e=Jg.get(t.target);e&&e(t)},o5=t=>{t.forEach(i5)};function a5({root:t,...e}){const n=t||document;Xp.has(n)||Xp.set(n,{});const r=Xp.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(o5,{root:t,...e})),r[s]}function l5(t,e,n){const r=a5(e);return Jg.set(t,n),r.observe(t),()=>{Jg.delete(t),r.unobserve(t)}}const c5={some:0,all:1};class u5 extends ro{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:a}=e,l={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:c5[s]},d=h=>{const{isIntersecting:f}=h;if(this.isInView===f||(this.isInView=f,a&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:g,onViewportLeave:y}=this.node.getProps(),x=f?g:y;x&&x(h)};return l5(this.node.current,l,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(d5(e,n))&&this.startObserver()}unmount(){}}function d5({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const h5={inView:{Feature:u5},tap:{Feature:s5},focus:{Feature:r5},hover:{Feature:n5}},f5={layout:{ProjectionNode:Y2,MeasureLayout:z2}},Zg={current:null},X2={current:!1};function m5(){if(X2.current=!0,!!Uy)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Zg.current=t.matches;t.addListener(e),e()}else Zg.current=!1}const p5=[...b2,bn,Gi],g5=t=>p5.find(w2(t)),vb=new WeakMap;function y5(t,e,n){for(const r in e){const s=e[r],a=n[r];if(Sn(s))t.addValue(r,s);else if(Sn(a))t.addValue(r,vs(s,{owner:t}));else if(a!==s)if(t.hasValue(r)){const l=t.getValue(r);l.liveStyle===!0?l.jump(s):l.hasAnimated||l.set(s)}else{const l=t.getStaticValue(r);t.addValue(r,vs(l!==void 0?l:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const xb=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class v5{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:a,visualState:l},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=p0,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const E=ws.now();this.renderScheduledAt<E&&(this.renderScheduledAt=E,st.render(this.render,!1,!0))};const{latestValues:h,renderState:f,onUpdate:g}=l;this.onUpdate=g,this.latestValues=h,this.baseTarget={...h},this.initialValues=n.initial?{...h}:{},this.renderState=f,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=d,this.blockInitialAnimation=!!a,this.isControllingVariants=Tf(n),this.isVariantNode=AT(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:y,...x}=this.scrapeMotionValuesFromProps(n,{},this);for(const E in x){const S=x[E];h[E]!==void 0&&Sn(S)&&S.set(h[E],!1)}}mount(e){this.current=e,vb.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),X2.current||m5(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Zg.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){vb.delete(this.current),this.projection&&this.projection.unmount(),Kr(this.notifyUpdate),Kr(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=oa.has(e),s=n.on("change",d=>{this.latestValues[e]=d,this.props.onUpdate&&st.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),a=n.on("renderRequest",this.scheduleRender);let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in dl){const n=dl[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Dt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<xb.length;r++){const s=xb[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const a="on"+s,l=e[a];l&&(this.propEventSubscriptions[s]=this.on(s,l))}this.prevMotionValues=y5(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=vs(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(v2(s)||c2(s))?s=parseFloat(s):!g5(s)&&Gi.test(n)&&(s=p2(e,n)),this.setBaseTarget(e,Sn(s)?s.get():s)),Sn(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let s;if(typeof r=="string"||typeof r=="object"){const l=Gy(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);l&&(s=l[e])}if(r&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!Sn(a)?a:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new l0),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class J2 extends v5{constructor(){super(...arguments),this.KeyframeResolver=_2}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Sn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function x5(t){return window.getComputedStyle(t)}class w5 extends J2{constructor(){super(...arguments),this.type="html",this.renderInstance=VT}readValueFromInstance(e,n){if(oa.has(n)){const r=m0(n);return r&&r.default||0}else{const r=x5(e),s=(MT(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return U2(e,n)}build(e,n,r){Yy(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return e0(e,n,r)}}class b5 extends J2{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Dt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(oa.has(n)){const r=m0(n);return r&&r.default||0}return n=FT.has(n)?n:Hy(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return zT(e,n,r)}build(e,n,r){Xy(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,s){UT(e,n,r,s)}mount(e){this.isSVGTag=Zy(e.tagName),super.mount(e)}}const _5=(t,e)=>Wy(t)?new b5(e):new w5(e,{allowProjection:t!==N.Fragment}),E5=JP({...Wj,...h5,...t5,...f5},_5),xe=fP(E5);function Z2(t,e){let n;const r=()=>{const{currentTime:s}=e,l=(s===null?0:s.value)/100;n!==l&&t(l),n=l};return st.update(r,!0),()=>Kr(r)}const Th=new WeakMap;let Mi;function T5(t,e){if(e){const{inlineSize:n,blockSize:r}=e[0];return{width:n,height:r}}else return t instanceof SVGElement&&"getBBox"in t?t.getBBox():{width:t.offsetWidth,height:t.offsetHeight}}function S5({target:t,contentRect:e,borderBoxSize:n}){var r;(r=Th.get(t))===null||r===void 0||r.forEach(s=>{s({target:t,contentSize:e,get size(){return T5(t,n)}})})}function I5(t){t.forEach(S5)}function C5(){typeof ResizeObserver>"u"||(Mi=new ResizeObserver(I5))}function N5(t,e){Mi||C5();const n=s0(t);return n.forEach(r=>{let s=Th.get(r);s||(s=new Set,Th.set(r,s)),s.add(e),Mi?.observe(r)}),()=>{n.forEach(r=>{const s=Th.get(r);s?.delete(e),s?.size||Mi?.unobserve(r)})}}const Sh=new Set;let Wc;function A5(){Wc=()=>{const t={width:window.innerWidth,height:window.innerHeight},e={target:window,size:t,contentSize:t};Sh.forEach(n=>n(e))},window.addEventListener("resize",Wc)}function k5(t){return Sh.add(t),Wc||A5(),()=>{Sh.delete(t),!Sh.size&&Wc&&(Wc=void 0)}}function R5(t,e){return typeof t=="function"?k5(t):N5(t,e)}const P5=50,wb=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),j5=()=>({time:0,x:wb(),y:wb()}),D5={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function bb(t,e,n,r){const s=n[e],{length:a,position:l}=D5[e],d=s.current,h=n.time;s.current=t[`scroll${l}`],s.scrollLength=t[`scroll${a}`]-t[`client${a}`],s.offset.length=0,s.offset[0]=0,s.offset[1]=s.scrollLength,s.progress=Yo(0,s.scrollLength,s.current);const f=r-h;s.velocity=f>P5?0:c0(s.current-d,f)}function M5(t,e,n){bb(t,"x",e,n),bb(t,"y",e,n),e.time=n}function O5(t,e){const n={x:0,y:0};let r=t;for(;r&&r!==e;)if(r instanceof HTMLElement)n.x+=r.offsetLeft,n.y+=r.offsetTop,r=r.offsetParent;else if(r.tagName==="svg"){const s=r.getBoundingClientRect();r=r.parentElement;const a=r.getBoundingClientRect();n.x+=s.left-a.left,n.y+=s.top-a.top}else if(r instanceof SVGGraphicsElement){const{x:s,y:a}=r.getBBox();n.x+=s,n.y+=a;let l=null,d=r.parentNode;for(;!l;)d.tagName==="svg"&&(l=d),d=r.parentNode;r=l}else break;return n}const ey={start:0,center:.5,end:1};function _b(t,e,n=0){let r=0;if(t in ey&&(t=ey[t]),typeof t=="string"){const s=parseFloat(t);t.endsWith("px")?r=s:t.endsWith("%")?t=s/100:t.endsWith("vw")?r=s/100*document.documentElement.clientWidth:t.endsWith("vh")?r=s/100*document.documentElement.clientHeight:t=s}return typeof t=="number"&&(r=e*t),n+r}const L5=[0,0];function V5(t,e,n,r){let s=Array.isArray(t)?t:L5,a=0,l=0;return typeof t=="number"?s=[t,t]:typeof t=="string"&&(t=t.trim(),t.includes(" ")?s=t.split(" "):s=[t,ey[t]?t:"0"]),a=_b(s[0],n,r),l=_b(s[1],e),a-l}const F5={All:[[0,0],[1,1]]},U5={x:0,y:0};function B5(t){return"getBBox"in t&&t.tagName!=="svg"?t.getBBox():{width:t.clientWidth,height:t.clientHeight}}function z5(t,e,n){const{offset:r=F5.All}=n,{target:s=t,axis:a="y"}=n,l=a==="y"?"height":"width",d=s!==t?O5(s,t):U5,h=s===t?{width:t.scrollWidth,height:t.scrollHeight}:B5(s),f={width:t.clientWidth,height:t.clientHeight};e[a].offset.length=0;let g=!e[a].interpolate;const y=r.length;for(let x=0;x<y;x++){const E=V5(r[x],f[l],h[l],d[a]);!g&&E!==e[a].interpolatorOffsets[x]&&(g=!0),e[a].offset[x]=E}g&&(e[a].interpolate=y0(e[a].offset,A2(r),{clamp:!1}),e[a].interpolatorOffsets=[...e[a].offset]),e[a].progress=Cs(0,1,e[a].interpolate(e[a].current))}function $5(t,e=t,n){if(n.x.targetOffset=0,n.y.targetOffset=0,e!==t){let r=e;for(;r&&r!==t;)n.x.targetOffset+=r.offsetLeft,n.y.targetOffset+=r.offsetTop,r=r.offsetParent}n.x.targetLength=e===t?e.scrollWidth:e.clientWidth,n.y.targetLength=e===t?e.scrollHeight:e.clientHeight,n.x.containerLength=t.clientWidth,n.y.containerLength=t.clientHeight}function H5(t,e,n,r={}){return{measure:()=>$5(t,r.target,n),update:s=>{M5(t,n,s),(r.offset||r.target)&&z5(t,n,r)},notify:()=>e(n)}}const Nc=new WeakMap,Eb=new WeakMap,Jp=new WeakMap,Tb=t=>t===document.documentElement?window:t;function w0(t,{container:e=document.documentElement,...n}={}){let r=Jp.get(e);r||(r=new Set,Jp.set(e,r));const s=j5(),a=H5(e,t,s,n);if(r.add(a),!Nc.has(e)){const d=()=>{for(const x of r)x.measure()},h=()=>{for(const x of r)x.update(tn.timestamp)},f=()=>{for(const x of r)x.notify()},g=()=>{st.read(d,!1,!0),st.read(h,!1,!0),st.update(f,!1,!0)};Nc.set(e,g);const y=Tb(e);window.addEventListener("resize",g,{passive:!0}),e!==document.documentElement&&Eb.set(e,R5(e,g)),y.addEventListener("scroll",g,{passive:!0})}const l=Nc.get(e);return st.read(l,!1,!0),()=>{var d;Kr(l);const h=Jp.get(e);if(!h||(h.delete(a),h.size))return;const f=Nc.get(e);Nc.delete(e),f&&(Tb(e).removeEventListener("scroll",f),(d=Eb.get(e))===null||d===void 0||d(),window.removeEventListener("resize",f))}}function q5({source:t,container:e,axis:n="y"}){t&&(e=t);const r={value:0},s=w0(a=>{r.value=a[n].progress*100},{container:e,axis:n});return{currentTime:r,cancel:s}}const Zp=new Map;function eS({source:t,container:e=document.documentElement,axis:n="y"}={}){t&&(e=t),Zp.has(e)||Zp.set(e,{});const r=Zp.get(e);return r[n]||(r[n]=qT()?new ScrollTimeline({source:e,axis:n}):q5({source:e,axis:n})),r[n]}function W5(t){return t.length===2}function tS(t){return t&&(t.target||t.offset)}function G5(t,e){return W5(t)||tS(e)?w0(n=>{t(n[e.axis].progress,n)},e):Z2(t,eS(e))}function K5(t,e){if(t.flatten(),tS(e))return t.pause(),w0(n=>{t.time=t.duration*n[e.axis].progress},e);{const n=eS(e);return t.attachTimeline?t.attachTimeline(n,r=>(r.pause(),Z2(s=>{r.time=r.duration*s},n))):Mn}}function Q5(t,{axis:e="y",...n}={}){const r={axis:e,...n};return typeof t=="function"?G5(t,r):K5(t,r)}function Sb(t,e){iP(!!(!e||e.current))}const Y5=()=>({scrollX:vs(0),scrollY:vs(0),scrollXProgress:vs(0),scrollYProgress:vs(0)});function X5({container:t,target:e,layoutEffect:n=!0,...r}={}){const s=El(Y5);return(n?bf:N.useEffect)(()=>(Sb("target",e),Sb("container",t),Q5((l,{x:d,y:h})=>{s.scrollX.set(d.current),s.scrollXProgress.set(d.progress),s.scrollY.set(h.current),s.scrollYProgress.set(h.progress)},{...r,container:t?.current||void 0,target:e?.current||void 0})),[t,e,JSON.stringify(r.offset)]),s}function J5(t){const e=El(()=>vs(t)),{isStatic:n}=N.useContext(wf);if(n){const[,r]=N.useState(t);N.useEffect(()=>e.on("change",r),[])}return e}function nS(t,e){const n=J5(e()),r=()=>n.set(e());return r(),bf(()=>{const s=()=>st.preRender(r,!1,!0),a=t.map(l=>l.on("change",s));return()=>{a.forEach(l=>l()),Kr(r)}}),n}const Z5=t=>t&&typeof t=="object"&&t.mix,eM=t=>Z5(t)?t.mix:void 0;function tM(...t){const e=!Array.isArray(t[0]),n=e?0:-1,r=t[0+n],s=t[1+n],a=t[2+n],l=t[3+n],d=y0(s,a,{mixer:eM(a[0]),...l});return e?d(r):d}function nM(t){Bc.current=[],t();const e=nS(Bc.current,t);return Bc.current=void 0,e}function Ib(t,e,n,r){if(typeof t=="function")return nM(t);const s=typeof e=="function"?e:tM(e,n,r);return Array.isArray(t)?Cb(t,s):Cb([t],([a])=>s(a))}function Cb(t,e){const n=El(()=>[]);return nS(t,()=>{n.length=0;const r=t.length;for(let s=0;s<r;s++)n[s]=t[s].get();return e(n)})}const rM={some:0,all:1};function sM(t,e,{root:n,margin:r,amount:s="some"}={}){const a=s0(t),l=new WeakMap,d=f=>{f.forEach(g=>{const y=l.get(g.target);if(g.isIntersecting!==!!y)if(g.isIntersecting){const x=e(g);typeof x=="function"?l.set(g.target,x):h.unobserve(g.target)}else typeof y=="function"&&(y(g),l.delete(g.target))})},h=new IntersectionObserver(d,{root:n,rootMargin:r,threshold:typeof s=="number"?s:rM[s]});return a.forEach(f=>h.observe(f)),()=>h.disconnect()}function rS(t,{root:e,margin:n,amount:r,once:s=!1}={}){const[a,l]=N.useState(!1);return N.useEffect(()=>{if(!t.current||s&&a)return;const d=()=>(l(!0),s?void 0:()=>l(!1)),h={root:e&&e.current||void 0,margin:n,amount:r};return sM(t.current,d,h)},[e,t,n,s,r]),a}const iM=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),sS=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");var oM={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const aM=N.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:a,iconNode:l,...d},h)=>N.createElement("svg",{ref:h,...oM,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:sS("lucide",s),...d},[...l.map(([f,g])=>N.createElement(f,g)),...Array.isArray(a)?a:[a]]));const Se=(t,e)=>{const n=N.forwardRef(({className:r,...s},a)=>N.createElement(aM,{ref:a,iconNode:e,className:sS(`lucide-${iM(t)}`,r),...s}));return n.displayName=`${t}`,n};const lM=Se("Aperture",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m14.31 8 5.74 9.94",key:"1y6ab4"}],["path",{d:"M9.69 8h11.48",key:"1wxppr"}],["path",{d:"m7.38 12 5.74-9.94",key:"1grp0k"}],["path",{d:"M9.69 16 3.95 6.06",key:"libnyf"}],["path",{d:"M14.31 16H2.83",key:"x5fava"}],["path",{d:"m16.62 12-5.74 9.94",key:"1vwawt"}]]);const Au=Se("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);const cM=Se("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);const uM=Se("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);const ku=Se("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);const dM=Se("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);const cr=Se("ChefHat",[["path",{d:"M17 21a1 1 0 0 0 1-1v-5.35c0-.457.316-.844.727-1.041a4 4 0 0 0-2.134-7.589 5 5 0 0 0-9.186 0 4 4 0 0 0-2.134 7.588c.411.198.727.585.727 1.041V20a1 1 0 0 0 1 1Z",key:"1qvrer"}],["path",{d:"M6 17h12",key:"1jwigz"}]]);const hM=Se("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);const Qh=Se("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);const fM=Se("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);const iS=Se("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);const un=Se("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);const jc=Se("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const mM=Se("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const b0=Se("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);const Nb=Se("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);const Uo=Se("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);const _0=Se("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);const oS=Se("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);const aS=Se("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);const pM=Se("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);const lS=Se("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const gM=Se("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);const yM=Se("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);const vM=Se("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);const cS=Se("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);const xM=Se("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);const wM=Se("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);const rn=Se("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);const Yh=Se("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);const Cf=Se("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);const Ih=Se("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);const bM=Se("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);const _M=Se("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);const EM=Se("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);const TM=Se("MousePointer2",[["path",{d:"m4 4 7.07 17 2.51-7.39L21 11.07z",key:"1vqm48"}]]);const SM=Se("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);const IM=Se("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);const ou=Se("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);const uS=Se("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);const CM=Se("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);const dS=Se("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);const Ab=Se("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);const NM=Se("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);const AM=Se("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);const kM=Se("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);const RM=Se("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const hS=Se("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);const kb=Se("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);const PM=Se("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);const qs=Se("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);const jM=Se("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);const ty=Se("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);const E0=Se("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);const Xh=Se("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const DM=Se("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);const fS=Se("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);const bs=Se("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);const MM=Se("UtensilsCrossed",[["path",{d:"m16 2-2.3 2.3a3 3 0 0 0 0 4.2l1.8 1.8a3 3 0 0 0 4.2 0L22 8",key:"n7qcjb"}],["path",{d:"M15 15 3.3 3.3a4.2 4.2 0 0 0 0 6l7.3 7.3c.7.7 2 .7 2.8 0L15 15Zm0 0 7 7",key:"d0u48b"}],["path",{d:"m2.1 21.8 6.4-6.3",key:"yn04lh"}],["path",{d:"m19 5-7 7",key:"194lzd"}]]);const Xo=Se("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]]);const OM=Se("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]);const LM=Se("VolumeX",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);const VM=Se("WandSparkles",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);const Nf=Se("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);const Wo=Se("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),FM=()=>{};var Rb={};const mS=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},UM=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const a=t[n++];e[r++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=t[n++],l=t[n++],d=t[n++],h=((s&7)<<18|(a&63)<<12|(l&63)<<6|d&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const a=t[n++],l=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(a&63)<<6|l&63)}}return e.join("")},pS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const a=t[s],l=s+1<t.length,d=l?t[s+1]:0,h=s+2<t.length,f=h?t[s+2]:0,g=a>>2,y=(a&3)<<4|d>>4;let x=(d&15)<<2|f>>6,E=f&63;h||(E=64,l||(x=64)),r.push(n[g],n[y],n[x],n[E])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(mS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):UM(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const a=n[t.charAt(s++)],d=s<t.length?n[t.charAt(s)]:0;++s;const f=s<t.length?n[t.charAt(s)]:64;++s;const y=s<t.length?n[t.charAt(s)]:64;if(++s,a==null||d==null||f==null||y==null)throw new BM;const x=a<<2|d>>4;if(r.push(x),f!==64){const E=d<<4&240|f>>2;if(r.push(E),y!==64){const S=f<<6&192|y;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class BM extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const zM=function(t){const e=mS(t);return pS.encodeByteArray(e,!0)},Jh=function(t){return zM(t).replace(/\./g,"")},gS=function(t){try{return pS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function $M(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const HM=()=>$M().__FIREBASE_DEFAULTS__,qM=()=>{if(typeof process>"u"||typeof Rb>"u")return;const t=Rb.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},WM=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&gS(t[1]);return e&&JSON.parse(e)},Af=()=>{try{return FM()||HM()||qM()||WM()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},yS=t=>Af()?.emulatorHosts?.[t],GM=t=>{const e=yS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},vS=()=>Af()?.config,xS=t=>Af()?.[`_${t}`];class KM{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function Il(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function wS(t){return(await fetch(t,{credentials:"include"})).ok}function QM(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Jh(JSON.stringify(n)),Jh(JSON.stringify(l)),""].join(".")}const Gc={};function YM(){const t={prod:[],emulator:[]};for(const e of Object.keys(Gc))Gc[e]?t.emulator.push(e):t.prod.push(e);return t}function XM(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Pb=!1;function bS(t,e){if(typeof window>"u"||typeof document>"u"||!Il(window.location.host)||Gc[t]===e||Gc[t]||Pb)return;Gc[t]=e;function n(x){return`__firebase__banner__${x}`}const r="__firebase__banner",a=YM().prod.length>0;function l(){const x=document.getElementById(r);x&&x.remove()}function d(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function h(x,E){x.setAttribute("width","24"),x.setAttribute("id",E),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function f(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{Pb=!0,l()},x}function g(x,E){x.setAttribute("id",E),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function y(){const x=XM(r),E=n("text"),S=document.getElementById(E)||document.createElement("span"),R=n("learnmore"),A=document.getElementById(R)||document.createElement("a"),j=n("preprendIcon"),F=document.getElementById(j)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const $=x.element;d($),g(A,R);const Z=f();h(F,j),$.append(F,S,A,Z),document.body.appendChild($)}a?(S.innerText="Preview backend disconnected.",F.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(F.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",E)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",y):y()}function Cn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function JM(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Cn())}function ZM(){const t=Af()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function eO(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function tO(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function nO(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function rO(){const t=Cn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function sO(){return!ZM()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function iO(){try{return typeof indexedDB=="object"}catch{return!1}}function oO(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{e(s.error?.message||"")}}catch(n){e(n)}})}const aO="FirebaseError";class li extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=aO,Object.setPrototypeOf(this,li.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ru.prototype.create)}}class Ru{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,a=this.errors[e],l=a?lO(a,r):"Error",d=`${this.serviceName}: ${l} (${s}).`;return new li(s,d,r)}}function lO(t,e){return t.replace(cO,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const cO=/\{\$([^}]+)}/g;function uO(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Jo(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const a=t[s],l=e[s];if(jb(a)&&jb(l)){if(!Jo(a,l))return!1}else if(a!==l)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function jb(t){return t!==null&&typeof t=="object"}function Pu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Dc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,a]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(a)}}),e}function Mc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function dO(t,e){const n=new hO(t,e);return n.subscribe.bind(n)}class hO{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");fO(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=eg),s.error===void 0&&(s.error=eg),s.complete===void 0&&(s.complete=eg);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function fO(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function eg(){}function Gt(t){return t&&t._delegate?t._delegate:t}class Zo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Bo="[DEFAULT]";class mO{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new KM;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(gO(e))try{this.getOrInitializeService({instanceIdentifier:Bo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:s});r.resolve(a)}catch{}}}}clearInstance(e=Bo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Bo){return this.instances.has(e)}getOptions(e=Bo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,l]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(a);r===d&&l.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const a=this.instances.get(r);return a&&e(a,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:pO(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Bo){return this.component?this.component.multipleInstances?e:Bo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function pO(t){return t===Bo?void 0:t}function gO(t){return t.instantiationMode==="EAGER"}class yO{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new mO(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Ke;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ke||(Ke={}));const vO={debug:Ke.DEBUG,verbose:Ke.VERBOSE,info:Ke.INFO,warn:Ke.WARN,error:Ke.ERROR,silent:Ke.SILENT},xO=Ke.INFO,wO={[Ke.DEBUG]:"log",[Ke.VERBOSE]:"log",[Ke.INFO]:"info",[Ke.WARN]:"warn",[Ke.ERROR]:"error"},bO=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=wO[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class T0{constructor(e){this.name=e,this._logLevel=xO,this._logHandler=bO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?vO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ke.DEBUG,...e),this._logHandler(this,Ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ke.VERBOSE,...e),this._logHandler(this,Ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ke.INFO,...e),this._logHandler(this,Ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ke.WARN,...e),this._logHandler(this,Ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ke.ERROR,...e),this._logHandler(this,Ke.ERROR,...e)}}const _O=(t,e)=>e.some(n=>t instanceof n);let Db,Mb;function EO(){return Db||(Db=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function TO(){return Mb||(Mb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const _S=new WeakMap,ny=new WeakMap,ES=new WeakMap,tg=new WeakMap,S0=new WeakMap;function SO(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",a),t.removeEventListener("error",l)},a=()=>{n(Bi(t.result)),s()},l=()=>{r(t.error),s()};t.addEventListener("success",a),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&_S.set(n,t)}).catch(()=>{}),S0.set(e,t),e}function IO(t){if(ny.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",l),t.removeEventListener("abort",l)},a=()=>{n(),s()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",a),t.addEventListener("error",l),t.addEventListener("abort",l)});ny.set(t,e)}let ry={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return ny.get(t);if(e==="objectStoreNames")return t.objectStoreNames||ES.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Bi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function CO(t){ry=t(ry)}function NO(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(ng(this),e,...n);return ES.set(r,e.sort?e.sort():[e]),Bi(r)}:TO().includes(t)?function(...e){return t.apply(ng(this),e),Bi(_S.get(this))}:function(...e){return Bi(t.apply(ng(this),e))}}function AO(t){return typeof t=="function"?NO(t):(t instanceof IDBTransaction&&IO(t),_O(t,EO())?new Proxy(t,ry):t)}function Bi(t){if(t instanceof IDBRequest)return SO(t);if(tg.has(t))return tg.get(t);const e=AO(t);return e!==t&&(tg.set(t,e),S0.set(e,t)),e}const ng=t=>S0.get(t);function kO(t,e,{blocked:n,upgrade:r,blocking:s,terminated:a}={}){const l=indexedDB.open(t,e),d=Bi(l);return r&&l.addEventListener("upgradeneeded",h=>{r(Bi(l.result),h.oldVersion,h.newVersion,Bi(l.transaction),h)}),n&&l.addEventListener("blocked",h=>n(h.oldVersion,h.newVersion,h)),d.then(h=>{a&&h.addEventListener("close",()=>a()),s&&h.addEventListener("versionchange",f=>s(f.oldVersion,f.newVersion,f))}).catch(()=>{}),d}const RO=["get","getKey","getAll","getAllKeys","count"],PO=["put","add","delete","clear"],rg=new Map;function Ob(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(rg.get(e))return rg.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=PO.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||RO.includes(n)))return;const a=async function(l,...d){const h=this.transaction(l,s?"readwrite":"readonly");let f=h.store;return r&&(f=f.index(d.shift())),(await Promise.all([f[n](...d),s&&h.done]))[0]};return rg.set(e,a),a}CO(t=>({...t,get:(e,n,r)=>Ob(e,n)||t.get(e,n,r),has:(e,n)=>!!Ob(e,n)||t.has(e,n)}));class jO{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(DO(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function DO(t){return t.getComponent()?.type==="VERSION"}const sy="@firebase/app",Lb="0.14.6";const ni=new T0("@firebase/app"),MO="@firebase/app-compat",OO="@firebase/analytics-compat",LO="@firebase/analytics",VO="@firebase/app-check-compat",FO="@firebase/app-check",UO="@firebase/auth",BO="@firebase/auth-compat",zO="@firebase/database",$O="@firebase/data-connect",HO="@firebase/database-compat",qO="@firebase/functions",WO="@firebase/functions-compat",GO="@firebase/installations",KO="@firebase/installations-compat",QO="@firebase/messaging",YO="@firebase/messaging-compat",XO="@firebase/performance",JO="@firebase/performance-compat",ZO="@firebase/remote-config",e3="@firebase/remote-config-compat",t3="@firebase/storage",n3="@firebase/storage-compat",r3="@firebase/firestore",s3="@firebase/ai",i3="@firebase/firestore-compat",o3="firebase",a3="12.6.0";const iy="[DEFAULT]",l3={[sy]:"fire-core",[MO]:"fire-core-compat",[LO]:"fire-analytics",[OO]:"fire-analytics-compat",[FO]:"fire-app-check",[VO]:"fire-app-check-compat",[UO]:"fire-auth",[BO]:"fire-auth-compat",[zO]:"fire-rtdb",[$O]:"fire-data-connect",[HO]:"fire-rtdb-compat",[qO]:"fire-fn",[WO]:"fire-fn-compat",[GO]:"fire-iid",[KO]:"fire-iid-compat",[QO]:"fire-fcm",[YO]:"fire-fcm-compat",[XO]:"fire-perf",[JO]:"fire-perf-compat",[ZO]:"fire-rc",[e3]:"fire-rc-compat",[t3]:"fire-gcs",[n3]:"fire-gcs-compat",[r3]:"fire-fst",[i3]:"fire-fst-compat",[s3]:"fire-vertex","fire-js":"fire-js",[o3]:"fire-js-all"};const Zh=new Map,c3=new Map,oy=new Map;function Vb(t,e){try{t.container.addComponent(e)}catch(n){ni.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function fl(t){const e=t.name;if(oy.has(e))return ni.debug(`There were multiple attempts to register component ${e}.`),!1;oy.set(e,t);for(const n of Zh.values())Vb(n,t);for(const n of c3.values())Vb(n,t);return!0}function I0(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ar(t){return t==null?!1:t.settings!==void 0}const u3={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},zi=new Ru("app","Firebase",u3);class d3{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Zo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw zi.create("app-deleted",{appName:this._name})}}const Cl=a3;function TS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:iy,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw zi.create("bad-app-name",{appName:String(s)});if(n||(n=vS()),!n)throw zi.create("no-options");const a=Zh.get(s);if(a){if(Jo(n,a.options)&&Jo(r,a.config))return a;throw zi.create("duplicate-app",{appName:s})}const l=new yO(s);for(const h of oy.values())l.addComponent(h);const d=new d3(n,r,l);return Zh.set(s,d),d}function SS(t=iy){const e=Zh.get(t);if(!e&&t===iy&&vS())return TS();if(!e)throw zi.create("no-app",{appName:t});return e}function $i(t,e,n){let r=l3[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const l=[`Unable to register library "${r}" with version "${e}":`];s&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&a&&l.push("and"),a&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ni.warn(l.join(" "));return}fl(new Zo(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const h3="firebase-heartbeat-database",f3=1,au="firebase-heartbeat-store";let sg=null;function IS(){return sg||(sg=kO(h3,f3,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(au)}catch(n){console.warn(n)}}}}).catch(t=>{throw zi.create("idb-open",{originalErrorMessage:t.message})})),sg}async function m3(t){try{const n=(await IS()).transaction(au),r=await n.objectStore(au).get(CS(t));return await n.done,r}catch(e){if(e instanceof li)ni.warn(e.message);else{const n=zi.create("idb-get",{originalErrorMessage:e?.message});ni.warn(n.message)}}}async function Fb(t,e){try{const r=(await IS()).transaction(au,"readwrite");await r.objectStore(au).put(e,CS(t)),await r.done}catch(n){if(n instanceof li)ni.warn(n.message);else{const r=zi.create("idb-set",{originalErrorMessage:n?.message});ni.warn(r.message)}}}function CS(t){return`${t.name}!${t.options.appId}`}const p3=1024,g3=30;class y3{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new x3(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Ub();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>g3){const s=w3(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ni.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Ub(),{heartbeatsToSend:n,unsentEntries:r}=v3(this._heartbeatsCache.heartbeats),s=Jh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(e){return ni.warn(e),""}}}function Ub(){return new Date().toISOString().substring(0,10)}function v3(t,e=p3){const n=[];let r=t.slice();for(const s of t){const a=n.find(l=>l.agent===s.agent);if(a){if(a.dates.push(s.date),Bb(n)>e){a.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Bb(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class x3{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return iO()?oO().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await m3(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Fb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Fb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Bb(t){return Jh(JSON.stringify({version:2,heartbeats:t})).length}function w3(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function b3(t){fl(new Zo("platform-logger",e=>new jO(e),"PRIVATE")),fl(new Zo("heartbeat",e=>new y3(e),"PRIVATE")),$i(sy,Lb,t),$i(sy,Lb,"esm2020"),$i("fire-js","")}b3("");function NS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const _3=NS,AS=new Ru("auth","Firebase",NS());const ef=new T0("@firebase/auth");function E3(t,...e){ef.logLevel<=Ke.WARN&&ef.warn(`Auth (${Cl}): ${t}`,...e)}function Ch(t,...e){ef.logLevel<=Ke.ERROR&&ef.error(`Auth (${Cl}): ${t}`,...e)}function Rr(t,...e){throw N0(t,...e)}function Gr(t,...e){return N0(t,...e)}function C0(t,e,n){const r={..._3(),[e]:n};return new Ru("auth","Firebase",r).create(e,{appName:t.name})}function Js(t){return C0(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function T3(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Rr(t,"argument-error"),C0(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function N0(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return AS.create(t,...e)}function Me(t,e,...n){if(!t)throw N0(e,...n)}function Gs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Ch(e),new Error(e)}function ri(t,e){t||Gs(e)}function ay(){return typeof self<"u"&&self.location?.href||""}function S3(){return zb()==="http:"||zb()==="https:"}function zb(){return typeof self<"u"&&self.location?.protocol||null}function I3(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(S3()||tO()||"connection"in navigator)?navigator.onLine:!0}function C3(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class ju{constructor(e,n){this.shortDelay=e,this.longDelay=n,ri(n>e,"Short delay should be less than long delay!"),this.isMobile=JM()||nO()}get(){return I3()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function A0(t,e){ri(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class kS{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Gs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Gs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Gs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const N3={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const A3=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],k3=new ju(3e4,6e4);function so(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function io(t,e,n,r,s={}){return RS(t,s,async()=>{let a={},l={};r&&(e==="GET"?l=r:a={body:JSON.stringify(r)});const d=Pu({key:t.config.apiKey,...l}).slice(1),h=await t._getAdditionalHeaders();h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode);const f={method:e,headers:h,...a};return eO()||(f.referrerPolicy="no-referrer"),t.emulatorConfig&&Il(t.emulatorConfig.host)&&(f.credentials="include"),kS.fetch()(await PS(t,t.config.apiHost,n,d),f)})}async function RS(t,e,n){t._canInitEmulator=!1;const r={...N3,...e};try{const s=new P3(t),a=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw oh(t,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const d=a.ok?l.errorMessage:l.error.message,[h,f]=d.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw oh(t,"credential-already-in-use",l);if(h==="EMAIL_EXISTS")throw oh(t,"email-already-in-use",l);if(h==="USER_DISABLED")throw oh(t,"user-disabled",l);const g=r[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw C0(t,g,f);Rr(t,g)}}catch(s){if(s instanceof li)throw s;Rr(t,"network-request-failed",{message:String(s)})}}async function Du(t,e,n,r,s={}){const a=await io(t,e,n,r,s);return"mfaPendingCredential"in a&&Rr(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function PS(t,e,n,r){const s=`${e}${n}?${r}`,a=t,l=a.config.emulator?A0(t.config,s):`${t.config.apiScheme}://${s}`;return A3.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(l).toString():l}function R3(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class P3{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Gr(this.auth,"network-request-failed")),k3.get())})}}function oh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Gr(t,e,r);return s.customData._tokenResponse=n,s}function $b(t){return t!==void 0&&t.enterprise!==void 0}class j3{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return R3(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function D3(t,e){return io(t,"GET","/v2/recaptchaConfig",so(t,e))}async function M3(t,e){return io(t,"POST","/v1/accounts:delete",e)}async function tf(t,e){return io(t,"POST","/v1/accounts:lookup",e)}function Kc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function O3(t,e=!1){const n=Gt(t),r=await n.getIdToken(e),s=k0(r);Me(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const a=typeof s.firebase=="object"?s.firebase:void 0,l=a?.sign_in_provider;return{claims:s,token:r,authTime:Kc(ig(s.auth_time)),issuedAtTime:Kc(ig(s.iat)),expirationTime:Kc(ig(s.exp)),signInProvider:l||null,signInSecondFactor:a?.sign_in_second_factor||null}}function ig(t){return Number(t)*1e3}function k0(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Ch("JWT malformed, contained fewer than 3 sections"),null;try{const s=gS(n);return s?JSON.parse(s):(Ch("Failed to decode base64 JWT payload"),null)}catch(s){return Ch("Caught error parsing JWT payload as JSON",s?.toString()),null}}function Hb(t){const e=k0(t);return Me(e,"internal-error"),Me(typeof e.exp<"u","internal-error"),Me(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function lu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof li&&L3(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function L3({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class V3{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class ly{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Kc(this.lastLoginAt),this.creationTime=Kc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function nf(t){const e=t.auth,n=await t.getIdToken(),r=await lu(t,tf(e,{idToken:n}));Me(r?.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const a=s.providerUserInfo?.length?jS(s.providerUserInfo):[],l=U3(t.providerData,a),d=t.isAnonymous,h=!(t.email&&s.passwordHash)&&!l?.length,f=d?h:!1,g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new ly(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(t,g)}async function F3(t){const e=Gt(t);await nf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function U3(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function jS(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function B3(t,e){const n=await RS(t,{},async()=>{const r=Pu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:a}=t.config,l=await PS(t,s,"/v1/token",`key=${a}`),d=await t._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const h={method:"POST",headers:d,body:r};return t.emulatorConfig&&Il(t.emulatorConfig.host)&&(h.credentials="include"),kS.fetch()(l,h)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function z3(t,e){return io(t,"POST","/v2/accounts:revokeToken",so(t,e))}class il{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Me(e.idToken,"internal-error"),Me(typeof e.idToken<"u","internal-error"),Me(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Hb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Me(e.length!==0,"internal-error");const n=Hb(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Me(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:a}=await B3(e,n);this.updateTokensAndExpiration(r,s,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:a}=n,l=new il;return r&&(Me(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),s&&(Me(typeof s=="string","internal-error",{appName:e}),l.accessToken=s),a&&(Me(typeof a=="number","internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new il,this.toJSON())}_performRefresh(){return Gs("not implemented")}}function ji(t,e){Me(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Wr{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new V3(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new ly(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await lu(this,this.stsTokenManager.getToken(this.auth,e));return Me(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return O3(this,e)}reload(){return F3(this)}_assign(e){this!==e&&(Me(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Wr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Me(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await nf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ar(this.auth.app))return Promise.reject(Js(this.auth));const e=await this.getIdToken();return await lu(this,M3(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,a=n.phoneNumber??void 0,l=n.photoURL??void 0,d=n.tenantId??void 0,h=n._redirectEventId??void 0,f=n.createdAt??void 0,g=n.lastLoginAt??void 0,{uid:y,emailVerified:x,isAnonymous:E,providerData:S,stsTokenManager:R}=n;Me(y&&R,e,"internal-error");const A=il.fromJSON(this.name,R);Me(typeof y=="string",e,"internal-error"),ji(r,e.name),ji(s,e.name),Me(typeof x=="boolean",e,"internal-error"),Me(typeof E=="boolean",e,"internal-error"),ji(a,e.name),ji(l,e.name),ji(d,e.name),ji(h,e.name),ji(f,e.name),ji(g,e.name);const j=new Wr({uid:y,auth:e,email:s,emailVerified:x,displayName:r,isAnonymous:E,photoURL:l,phoneNumber:a,tenantId:d,stsTokenManager:A,createdAt:f,lastLoginAt:g});return S&&Array.isArray(S)&&(j.providerData=S.map(F=>({...F}))),h&&(j._redirectEventId=h),j}static async _fromIdTokenResponse(e,n,r=!1){const s=new il;s.updateFromServerResponse(n);const a=new Wr({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await nf(a),a}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];Me(s.localId!==void 0,"internal-error");const a=s.providerUserInfo!==void 0?jS(s.providerUserInfo):[],l=!(s.email&&s.passwordHash)&&!a?.length,d=new il;d.updateFromIdToken(r);const h=new Wr({uid:s.localId,auth:e,stsTokenManager:d,isAnonymous:l}),f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new ly(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!a?.length};return Object.assign(h,f),h}}const qb=new Map;function Ks(t){ri(t instanceof Function,"Expected a class definition");let e=qb.get(t);return e?(ri(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,qb.set(t,e),e)}class DS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}DS.type="NONE";const Wb=DS;function Nh(t,e,n){return`firebase:${t}:${e}:${n}`}class ol{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:a}=this.auth;this.fullUserKey=Nh(this.userKey,s.apiKey,a),this.fullPersistenceKey=Nh("persistence",s.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await tf(this.auth,{idToken:e}).catch(()=>{});return n?Wr._fromGetAccountInfoResponse(this.auth,n,e):null}return Wr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ol(Ks(Wb),e,r);const s=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let a=s[0]||Ks(Wb);const l=Nh(r,e.config.apiKey,e.name);let d=null;for(const f of n)try{const g=await f._get(l);if(g){let y;if(typeof g=="string"){const x=await tf(e,{idToken:g}).catch(()=>{});if(!x)break;y=await Wr._fromGetAccountInfoResponse(e,x,g)}else y=Wr._fromJSON(e,g);f!==a&&(d=y),a=f;break}}catch{}const h=s.filter(f=>f._shouldAllowMigration);return!a._shouldAllowMigration||!h.length?new ol(a,e,r):(a=h[0],d&&await a._set(l,d.toJSON()),await Promise.all(n.map(async f=>{if(f!==a)try{await f._remove(l)}catch{}})),new ol(a,e,r))}}function Gb(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(VS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(MS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(US(e))return"Blackberry";if(BS(e))return"Webos";if(OS(e))return"Safari";if((e.includes("chrome/")||LS(e))&&!e.includes("edge/"))return"Chrome";if(FS(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function MS(t=Cn()){return/firefox\//i.test(t)}function OS(t=Cn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function LS(t=Cn()){return/crios\//i.test(t)}function VS(t=Cn()){return/iemobile/i.test(t)}function FS(t=Cn()){return/android/i.test(t)}function US(t=Cn()){return/blackberry/i.test(t)}function BS(t=Cn()){return/webos/i.test(t)}function R0(t=Cn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function $3(t=Cn()){return R0(t)&&!!window.navigator?.standalone}function H3(){return rO()&&document.documentMode===10}function zS(t=Cn()){return R0(t)||FS(t)||BS(t)||US(t)||/windows phone/i.test(t)||VS(t)}function $S(t,e=[]){let n;switch(t){case"Browser":n=Gb(Cn());break;case"Worker":n=`${Gb(Cn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Cl}/${r}`}class q3{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((l,d)=>{try{const h=e(a);l(h)}catch(h){d(h)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function W3(t,e={}){return io(t,"GET","/v2/passwordPolicy",so(t,e))}const G3=6;class K3{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??G3,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}class Q3{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Kb(this),this.idTokenSubscription=new Kb(this),this.beforeStateQueue=new q3(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=AS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ks(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await ol.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await tf(this,{idToken:e}),r=await Wr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ar(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=this.redirectUser?._redirectEventId,l=r?._redirectEventId,d=await this.tryRedirectSignIn(e);(!a||a===l)&&d?.user&&(r=d.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Me(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await nf(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=C3()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ar(this.app))return Promise.reject(Js(this));const n=e?Gt(e):null;return n&&Me(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Me(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ar(this.app)?Promise.reject(Js(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ar(this.app)?Promise.reject(Js(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ks(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await W3(this),n=new K3(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ru("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await z3(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ks(e)||this._popupRedirectResolver;Me(n,this,"argument-error"),this.redirectPersistenceManager=await ol.create(this,[Ks(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let l=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Me(d,this,"internal-error"),d.then(()=>{l||a(this.currentUser)}),typeof n=="function"){const h=e.addObserver(n,r,s);return()=>{l=!0,h()}}else{const h=e.addObserver(n);return()=>{l=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Me(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=$S(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(ar(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&E3(`Error while retrieving App Check token: ${e.error}`),e?.token}}function oo(t){return Gt(t)}class Kb{constructor(e){this.auth=e,this.observer=null,this.addObserver=dO(n=>this.observer=n)}get next(){return Me(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let kf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Y3(t){kf=t}function HS(t){return kf.loadJS(t)}function X3(){return kf.recaptchaEnterpriseScript}function J3(){return kf.gapiScript}function Z3(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class eL{constructor(){this.enterprise=new tL}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class tL{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const nL="recaptcha-enterprise",qS="NO_RECAPTCHA";class rL{constructor(e){this.type=nL,this.auth=oo(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(l,d)=>{D3(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const f=new j3(h);return a.tenantId==null?a._agentRecaptchaConfig=f:a._tenantRecaptchaConfigs[a.tenantId]=f,l(f.siteKey)}}).catch(h=>{d(h)})})}function s(a,l,d){const h=window.grecaptcha;$b(h)?h.enterprise.ready(()=>{h.enterprise.execute(a,{action:e}).then(f=>{l(f)}).catch(()=>{l(qS)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new eL().execute("siteKey",{action:"verify"}):new Promise((a,l)=>{r(this.auth).then(d=>{if(!n&&$b(window.grecaptcha))s(d,a,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let h=X3();h.length!==0&&(h+=d),HS(h).then(()=>{s(d,a,l)}).catch(f=>{l(f)})}}).catch(d=>{l(d)})})}}async function Qb(t,e,n,r=!1,s=!1){const a=new rL(t);let l;if(s)l=qS;else try{l=await a.verify(n)}catch{l=await a.verify(n,!0)}const d={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const h=d.phoneEnrollmentInfo.phoneNumber,f=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:f,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const h=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return r?Object.assign(d,{captchaResp:l}):Object.assign(d,{captchaResponse:l}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function cy(t,e,n,r,s){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await Qb(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await Qb(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(a)})}function sL(t,e){const n=I0(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),a=n.getOptions();if(Jo(a,e??{}))return s;Rr(s,"already-initialized")}return n.initialize({options:e})}function iL(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Ks);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function oL(t,e,n){const r=oo(t);Me(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,a=WS(e),{host:l,port:d}=aL(e),h=d===null?"":`:${d}`,f={url:`${a}//${l}${h}/`},g=Object.freeze({host:l,port:d,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Me(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Me(Jo(f,r.config.emulator)&&Jo(g,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=f,r.emulatorConfig=g,r.settings.appVerificationDisabledForTesting=!0,Il(l)?(wS(`${a}//${l}${h}`),bS("Auth",!0)):lL()}function WS(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function aL(t){const e=WS(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const a=s[1];return{host:a,port:Yb(r.substr(a.length+1))}}else{const[a,l]=r.split(":");return{host:a,port:Yb(l)}}}function Yb(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function lL(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class P0{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Gs("not implemented")}_getIdTokenResponse(e){return Gs("not implemented")}_linkToIdToken(e,n){return Gs("not implemented")}_getReauthenticationResolver(e){return Gs("not implemented")}}async function cL(t,e){return io(t,"POST","/v1/accounts:signUp",e)}async function uL(t,e){return Du(t,"POST","/v1/accounts:signInWithPassword",so(t,e))}async function dL(t,e){return Du(t,"POST","/v1/accounts:signInWithEmailLink",so(t,e))}async function hL(t,e){return Du(t,"POST","/v1/accounts:signInWithEmailLink",so(t,e))}class cu extends P0{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new cu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new cu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return cy(e,n,"signInWithPassword",uL);case"emailLink":return dL(e,{email:this._email,oobCode:this._password});default:Rr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return cy(e,r,"signUpPassword",cL);case"emailLink":return hL(e,{idToken:n,email:this._email,oobCode:this._password});default:Rr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function al(t,e){return Du(t,"POST","/v1/accounts:signInWithIdp",so(t,e))}const fL="http://localhost";class ea extends P0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ea(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Rr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...a}=n;if(!r||!s)return null;const l=new ea(r,s);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return al(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,al(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,al(e,n)}buildRequest(){const e={requestUri:fL,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Pu(n)}return e}}function mL(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function pL(t){const e=Dc(Mc(t)).link,n=e?Dc(Mc(e)).deep_link_id:null,r=Dc(Mc(t)).deep_link_id;return(r?Dc(Mc(r)).link:null)||r||n||e||t}class j0{constructor(e){const n=Dc(Mc(e)),r=n.apiKey??null,s=n.oobCode??null,a=mL(n.mode??null);Me(r&&s&&a,"argument-error"),this.apiKey=r,this.operation=a,this.code=s,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=pL(e);try{return new j0(n)}catch{return null}}}class Nl{constructor(){this.providerId=Nl.PROVIDER_ID}static credential(e,n){return cu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=j0.parseLink(n);return Me(r,"argument-error"),cu._fromEmailAndCode(e,r.code,r.tenantId)}}Nl.PROVIDER_ID="password";Nl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Nl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class D0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Mu extends D0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Li extends Mu{constructor(){super("facebook.com")}static credential(e){return ea._fromParams({providerId:Li.PROVIDER_ID,signInMethod:Li.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Li.credentialFromTaggedObject(e)}static credentialFromError(e){return Li.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Li.credential(e.oauthAccessToken)}catch{return null}}}Li.FACEBOOK_SIGN_IN_METHOD="facebook.com";Li.PROVIDER_ID="facebook.com";class Ws extends Mu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ea._fromParams({providerId:Ws.PROVIDER_ID,signInMethod:Ws.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ws.credentialFromTaggedObject(e)}static credentialFromError(e){return Ws.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ws.credential(n,r)}catch{return null}}}Ws.GOOGLE_SIGN_IN_METHOD="google.com";Ws.PROVIDER_ID="google.com";class Vi extends Mu{constructor(){super("github.com")}static credential(e){return ea._fromParams({providerId:Vi.PROVIDER_ID,signInMethod:Vi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Vi.credentialFromTaggedObject(e)}static credentialFromError(e){return Vi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Vi.credential(e.oauthAccessToken)}catch{return null}}}Vi.GITHUB_SIGN_IN_METHOD="github.com";Vi.PROVIDER_ID="github.com";class Fi extends Mu{constructor(){super("twitter.com")}static credential(e,n){return ea._fromParams({providerId:Fi.PROVIDER_ID,signInMethod:Fi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Fi.credentialFromTaggedObject(e)}static credentialFromError(e){return Fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Fi.credential(n,r)}catch{return null}}}Fi.TWITTER_SIGN_IN_METHOD="twitter.com";Fi.PROVIDER_ID="twitter.com";async function gL(t,e){return Du(t,"POST","/v1/accounts:signUp",so(t,e))}class ta{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const a=await Wr._fromIdTokenResponse(e,r,s),l=Xb(r);return new ta({user:a,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=Xb(r);return new ta({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function Xb(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class rf extends li{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,rf.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new rf(e,n,r,s)}}function GS(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?rf._fromErrorAndOperation(t,a,e,r):a})}async function yL(t,e,n=!1){const r=await lu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ta._forOperation(t,"link",r)}async function vL(t,e,n=!1){const{auth:r}=t;if(ar(r.app))return Promise.reject(Js(r));const s="reauthenticate";try{const a=await lu(t,GS(r,s,e,t),n);Me(a.idToken,r,"internal-error");const l=k0(a.idToken);Me(l,r,"internal-error");const{sub:d}=l;return Me(t.uid===d,r,"user-mismatch"),ta._forOperation(t,s,a)}catch(a){throw a?.code==="auth/user-not-found"&&Rr(r,"user-mismatch"),a}}async function KS(t,e,n=!1){if(ar(t.app))return Promise.reject(Js(t));const r="signIn",s=await GS(t,r,e),a=await ta._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(a.user),a}async function xL(t,e){return KS(oo(t),e)}async function QS(t){const e=oo(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function wL(t,e,n){if(ar(t.app))return Promise.reject(Js(t));const r=oo(t),l=await cy(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",gL).catch(h=>{throw h.code==="auth/password-does-not-meet-requirements"&&QS(t),h}),d=await ta._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(d.user),d}function bL(t,e,n){return ar(t.app)?Promise.reject(Js(t)):xL(Gt(t),Nl.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&QS(t),r})}function _L(t,e,n,r){return Gt(t).onIdTokenChanged(e,n,r)}function EL(t,e,n){return Gt(t).beforeAuthStateChanged(e,n)}function TL(t,e,n,r){return Gt(t).onAuthStateChanged(e,n,r)}function SL(t){return Gt(t).signOut()}const sf="__sak";class YS{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(sf,"1"),this.storage.removeItem(sf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const IL=1e3,CL=10;class XS extends YS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=zS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,d,h)=>{this.notifyListeners(l,h)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},a=this.storage.getItem(r);H3()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,CL):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},IL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}XS.type="LOCAL";const NL=XS;class JS extends YS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}JS.type="SESSION";const ZS=JS;function AL(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Rf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Rf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:a}=n.data,l=this.handlersMap[s];if(!l?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const d=Array.from(l).map(async f=>f(n.origin,a)),h=await AL(d);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:h})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Rf.receivers=[];function M0(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}class kL{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,l;return new Promise((d,h)=>{const f=M0("",20);s.port1.start();const g=setTimeout(()=>{h(new Error("unsupported_event"))},r);l={messageChannel:s,onMessage(y){const x=y;if(x.data.eventId===f)switch(x.data.status){case"ack":clearTimeout(g),a=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),d(x.data.response);break;default:clearTimeout(g),clearTimeout(a),h(new Error("invalid_response"));break}}},this.handlers.add(l),s.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[s.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}function _s(){return window}function RL(t){_s().location.href=t}function eI(){return typeof _s().WorkerGlobalScope<"u"&&typeof _s().importScripts=="function"}async function PL(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function jL(){return navigator?.serviceWorker?.controller||null}function DL(){return eI()?self:null}const tI="firebaseLocalStorageDb",ML=1,of="firebaseLocalStorage",nI="fbase_key";class Ou{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Pf(t,e){return t.transaction([of],e?"readwrite":"readonly").objectStore(of)}function OL(){const t=indexedDB.deleteDatabase(tI);return new Ou(t).toPromise()}function uy(){const t=indexedDB.open(tI,ML);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(of,{keyPath:nI})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(of)?e(r):(r.close(),await OL(),e(await uy()))})})}async function Jb(t,e,n){const r=Pf(t,!0).put({[nI]:e,value:n});return new Ou(r).toPromise()}async function LL(t,e){const n=Pf(t,!1).get(e),r=await new Ou(n).toPromise();return r===void 0?null:r.value}function Zb(t,e){const n=Pf(t,!0).delete(e);return new Ou(n).toPromise()}const VL=800,FL=3;class rI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await uy(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>FL)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return eI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Rf._getInstance(DL()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await PL(),!this.activeServiceWorker)return;this.sender=new kL(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||jL()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await uy();return await Jb(e,sf,"1"),await Zb(e,sf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Jb(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>LL(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Zb(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const a=Pf(s,!1).getAll();return new Ou(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:a}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),VL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}rI.type="LOCAL";const UL=rI;new ju(3e4,6e4);function sI(t,e){return e?Ks(e):(Me(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class O0 extends P0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return al(e,this._buildIdpRequest())}_linkToIdToken(e,n){return al(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return al(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function BL(t){return KS(t.auth,new O0(t),t.bypassAuthState)}function zL(t){const{auth:e,user:n}=t;return Me(n,e,"internal-error"),vL(n,new O0(t),t.bypassAuthState)}async function $L(t){const{auth:e,user:n}=t;return Me(n,e,"internal-error"),yL(n,new O0(t),t.bypassAuthState)}class iI{constructor(e,n,r,s,a=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:a,error:l,type:d}=e;if(l){this.reject(l);return}const h={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(h))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return BL;case"linkViaPopup":case"linkViaRedirect":return $L;case"reauthViaPopup":case"reauthViaRedirect":return zL;default:Rr(this.auth,"internal-error")}}resolve(e){ri(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ri(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const HL=new ju(2e3,1e4);async function qL(t,e,n){if(ar(t.app))return Promise.reject(Gr(t,"operation-not-supported-in-this-environment"));const r=oo(t);T3(t,e,D0);const s=sI(r,n);return new $o(r,"signInViaPopup",e,s).executeNotNull()}class $o extends iI{constructor(e,n,r,s,a){super(e,n,s,a),this.provider=r,this.authWindow=null,this.pollId=null,$o.currentPopupAction&&$o.currentPopupAction.cancel(),$o.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Me(e,this.auth,"internal-error"),e}async onExecution(){ri(this.filter.length===1,"Popup operations only handle one event");const e=M0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Gr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Gr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,$o.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Gr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,HL.get())};e()}}$o.currentPopupAction=null;const WL="pendingRedirect",Ah=new Map;class GL extends iI{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Ah.get(this.auth._key());if(!e){try{const r=await KL(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Ah.set(this.auth._key(),e)}return this.bypassAuthState||Ah.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function KL(t,e){const n=XL(e),r=YL(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function QL(t,e){Ah.set(t._key(),e)}function YL(t){return Ks(t._redirectPersistence)}function XL(t){return Nh(WL,t.config.apiKey,t.name)}async function JL(t,e,n=!1){if(ar(t.app))return Promise.reject(Js(t));const r=oo(t),s=sI(r,e),l=await new GL(r,s,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}const ZL=600*1e3;class e6{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!t6(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!oI(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Gr(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=ZL&&this.cachedEventUids.clear(),this.cachedEventUids.has(e_(e))}saveEventToCache(e){this.cachedEventUids.add(e_(e)),this.lastProcessedEventTime=Date.now()}}function e_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function oI({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function t6(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return oI(t);default:return!1}}async function n6(t,e={}){return io(t,"GET","/v1/projects",e)}const r6=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,s6=/^https?/;async function i6(t){if(t.config.emulator)return;const{authorizedDomains:e}=await n6(t);for(const n of e)try{if(o6(n))return}catch{}Rr(t,"unauthorized-domain")}function o6(t){const e=ay(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!s6.test(n))return!1;if(r6.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}const a6=new ju(3e4,6e4);function t_(){const t=_s().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function l6(t){return new Promise((e,n)=>{function r(){t_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{t_(),n(Gr(t,"network-request-failed"))},timeout:a6.get()})}if(_s().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(_s().gapi?.load)r();else{const s=Z3("iframefcb");return _s()[s]=()=>{gapi.load?r():n(Gr(t,"network-request-failed"))},HS(`${J3()}?onload=${s}`).catch(a=>n(a))}}).catch(e=>{throw kh=null,e})}let kh=null;function c6(t){return kh=kh||l6(t),kh}const u6=new ju(5e3,15e3),d6="__/auth/iframe",h6="emulator/auth/iframe",f6={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},m6=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function p6(t){const e=t.config;Me(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?A0(e,h6):`https://${t.config.authDomain}/${d6}`,r={apiKey:e.apiKey,appName:t.name,v:Cl},s=m6.get(t.config.apiHost);s&&(r.eid=s);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${Pu(r).slice(1)}`}async function g6(t){const e=await c6(t),n=_s().gapi;return Me(n,t,"internal-error"),e.open({where:document.body,url:p6(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:f6,dontclear:!0},r=>new Promise(async(s,a)=>{await r.restyle({setHideOnLeave:!1});const l=Gr(t,"network-request-failed"),d=_s().setTimeout(()=>{a(l)},u6.get());function h(){_s().clearTimeout(d),s(r)}r.ping(h).then(h,()=>{a(l)})}))}const y6={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},v6=500,x6=600,w6="_blank",b6="http://localhost";class n_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function _6(t,e,n,r=v6,s=x6){const a=Math.max((window.screen.availHeight-s)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let d="";const h={...y6,width:r.toString(),height:s.toString(),top:a,left:l},f=Cn().toLowerCase();n&&(d=LS(f)?w6:n),MS(f)&&(e=e||b6,h.scrollbars="yes");const g=Object.entries(h).reduce((x,[E,S])=>`${x}${E}=${S},`,"");if($3(f)&&d!=="_self")return E6(e||"",d),new n_(null);const y=window.open(e||"",d,g);Me(y,t,"popup-blocked");try{y.focus()}catch{}return new n_(y)}function E6(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const T6="__/auth/handler",S6="emulator/auth/handler",I6=encodeURIComponent("fac");async function r_(t,e,n,r,s,a){Me(t.config.authDomain,t,"auth-domain-config-required"),Me(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Cl,eventId:s};if(e instanceof D0){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",uO(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,y]of Object.entries({}))l[g]=y}if(e instanceof Mu){const g=e.getScopes().filter(y=>y!=="");g.length>0&&(l.scopes=g.join(","))}t.tenantId&&(l.tid=t.tenantId);const d=l;for(const g of Object.keys(d))d[g]===void 0&&delete d[g];const h=await t._getAppCheckToken(),f=h?`#${I6}=${encodeURIComponent(h)}`:"";return`${C6(t)}?${Pu(d).slice(1)}${f}`}function C6({config:t}){return t.emulator?A0(t,S6):`https://${t.authDomain}/${T6}`}const og="webStorageSupport";class N6{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ZS,this._completeRedirectFn=JL,this._overrideRedirectResult=QL}async _openPopup(e,n,r,s){ri(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const a=await r_(e,n,r,ay(),s);return _6(e,a,M0())}async _openRedirect(e,n,r,s){await this._originValidation(e);const a=await r_(e,n,r,ay(),s);return RL(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:a}=this.eventManagers[n];return s?Promise.resolve(s):(ri(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await g6(e),r=new e6(e);return n.register("authEvent",s=>(Me(s?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(og,{type:og},s=>{const a=s?.[0]?.[og];a!==void 0&&n(!!a),Rr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=i6(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return zS()||OS()||R0()}}const A6=N6;var s_="@firebase/auth",i_="1.12.0";class k6{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Me(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function R6(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function P6(t){fl(new Zo("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:l,authDomain:d}=r.options;Me(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const h={apiKey:l,authDomain:d,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:$S(t)},f=new Q3(r,s,a,h);return iL(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),fl(new Zo("auth-internal",e=>{const n=oo(e.getProvider("auth").getImmediate());return(r=>new k6(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),$i(s_,i_,R6(t)),$i(s_,i_,"esm2020")}const j6=300,D6=xS("authIdTokenMaxAge")||j6;let o_=null;const M6=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>D6)return;const s=n?.token;o_!==s&&(o_=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function O6(t=SS()){const e=I0(t,"auth");if(e.isInitialized())return e.getImmediate();const n=sL(t,{popupRedirectResolver:A6,persistence:[UL,NL,ZS]}),r=xS("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const l=M6(a.toString());EL(n,l,()=>l(n.currentUser)),_L(n,d=>l(d))}}const s=yS("auth");return s&&oL(n,`http://${s}`),n}function L6(){return document.getElementsByTagName("head")?.[0]??document}Y3({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const a=Gr("internal-error");a.customData=s,n(a)},r.type="text/javascript",r.charset="UTF-8",L6().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});P6("Browser");var a_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Hi,aI;(function(){var t;function e(D,C){function M(){}M.prototype=C.prototype,D.F=C.prototype,D.prototype=new M,D.prototype.constructor=D,D.D=function(O,B,L){for(var P=Array(arguments.length-2),be=2;be<arguments.length;be++)P[be-2]=arguments[be];return C.prototype[B].apply(O,P)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(D,C,M){M||(M=0);const O=Array(16);if(typeof C=="string")for(var B=0;B<16;++B)O[B]=C.charCodeAt(M++)|C.charCodeAt(M++)<<8|C.charCodeAt(M++)<<16|C.charCodeAt(M++)<<24;else for(B=0;B<16;++B)O[B]=C[M++]|C[M++]<<8|C[M++]<<16|C[M++]<<24;C=D.g[0],M=D.g[1],B=D.g[2];let L=D.g[3],P;P=C+(L^M&(B^L))+O[0]+3614090360&4294967295,C=M+(P<<7&4294967295|P>>>25),P=L+(B^C&(M^B))+O[1]+3905402710&4294967295,L=C+(P<<12&4294967295|P>>>20),P=B+(M^L&(C^M))+O[2]+606105819&4294967295,B=L+(P<<17&4294967295|P>>>15),P=M+(C^B&(L^C))+O[3]+3250441966&4294967295,M=B+(P<<22&4294967295|P>>>10),P=C+(L^M&(B^L))+O[4]+4118548399&4294967295,C=M+(P<<7&4294967295|P>>>25),P=L+(B^C&(M^B))+O[5]+1200080426&4294967295,L=C+(P<<12&4294967295|P>>>20),P=B+(M^L&(C^M))+O[6]+2821735955&4294967295,B=L+(P<<17&4294967295|P>>>15),P=M+(C^B&(L^C))+O[7]+4249261313&4294967295,M=B+(P<<22&4294967295|P>>>10),P=C+(L^M&(B^L))+O[8]+1770035416&4294967295,C=M+(P<<7&4294967295|P>>>25),P=L+(B^C&(M^B))+O[9]+2336552879&4294967295,L=C+(P<<12&4294967295|P>>>20),P=B+(M^L&(C^M))+O[10]+4294925233&4294967295,B=L+(P<<17&4294967295|P>>>15),P=M+(C^B&(L^C))+O[11]+2304563134&4294967295,M=B+(P<<22&4294967295|P>>>10),P=C+(L^M&(B^L))+O[12]+1804603682&4294967295,C=M+(P<<7&4294967295|P>>>25),P=L+(B^C&(M^B))+O[13]+4254626195&4294967295,L=C+(P<<12&4294967295|P>>>20),P=B+(M^L&(C^M))+O[14]+2792965006&4294967295,B=L+(P<<17&4294967295|P>>>15),P=M+(C^B&(L^C))+O[15]+1236535329&4294967295,M=B+(P<<22&4294967295|P>>>10),P=C+(B^L&(M^B))+O[1]+4129170786&4294967295,C=M+(P<<5&4294967295|P>>>27),P=L+(M^B&(C^M))+O[6]+3225465664&4294967295,L=C+(P<<9&4294967295|P>>>23),P=B+(C^M&(L^C))+O[11]+643717713&4294967295,B=L+(P<<14&4294967295|P>>>18),P=M+(L^C&(B^L))+O[0]+3921069994&4294967295,M=B+(P<<20&4294967295|P>>>12),P=C+(B^L&(M^B))+O[5]+3593408605&4294967295,C=M+(P<<5&4294967295|P>>>27),P=L+(M^B&(C^M))+O[10]+38016083&4294967295,L=C+(P<<9&4294967295|P>>>23),P=B+(C^M&(L^C))+O[15]+3634488961&4294967295,B=L+(P<<14&4294967295|P>>>18),P=M+(L^C&(B^L))+O[4]+3889429448&4294967295,M=B+(P<<20&4294967295|P>>>12),P=C+(B^L&(M^B))+O[9]+568446438&4294967295,C=M+(P<<5&4294967295|P>>>27),P=L+(M^B&(C^M))+O[14]+3275163606&4294967295,L=C+(P<<9&4294967295|P>>>23),P=B+(C^M&(L^C))+O[3]+4107603335&4294967295,B=L+(P<<14&4294967295|P>>>18),P=M+(L^C&(B^L))+O[8]+1163531501&4294967295,M=B+(P<<20&4294967295|P>>>12),P=C+(B^L&(M^B))+O[13]+2850285829&4294967295,C=M+(P<<5&4294967295|P>>>27),P=L+(M^B&(C^M))+O[2]+4243563512&4294967295,L=C+(P<<9&4294967295|P>>>23),P=B+(C^M&(L^C))+O[7]+1735328473&4294967295,B=L+(P<<14&4294967295|P>>>18),P=M+(L^C&(B^L))+O[12]+2368359562&4294967295,M=B+(P<<20&4294967295|P>>>12),P=C+(M^B^L)+O[5]+4294588738&4294967295,C=M+(P<<4&4294967295|P>>>28),P=L+(C^M^B)+O[8]+2272392833&4294967295,L=C+(P<<11&4294967295|P>>>21),P=B+(L^C^M)+O[11]+1839030562&4294967295,B=L+(P<<16&4294967295|P>>>16),P=M+(B^L^C)+O[14]+4259657740&4294967295,M=B+(P<<23&4294967295|P>>>9),P=C+(M^B^L)+O[1]+2763975236&4294967295,C=M+(P<<4&4294967295|P>>>28),P=L+(C^M^B)+O[4]+1272893353&4294967295,L=C+(P<<11&4294967295|P>>>21),P=B+(L^C^M)+O[7]+4139469664&4294967295,B=L+(P<<16&4294967295|P>>>16),P=M+(B^L^C)+O[10]+3200236656&4294967295,M=B+(P<<23&4294967295|P>>>9),P=C+(M^B^L)+O[13]+681279174&4294967295,C=M+(P<<4&4294967295|P>>>28),P=L+(C^M^B)+O[0]+3936430074&4294967295,L=C+(P<<11&4294967295|P>>>21),P=B+(L^C^M)+O[3]+3572445317&4294967295,B=L+(P<<16&4294967295|P>>>16),P=M+(B^L^C)+O[6]+76029189&4294967295,M=B+(P<<23&4294967295|P>>>9),P=C+(M^B^L)+O[9]+3654602809&4294967295,C=M+(P<<4&4294967295|P>>>28),P=L+(C^M^B)+O[12]+3873151461&4294967295,L=C+(P<<11&4294967295|P>>>21),P=B+(L^C^M)+O[15]+530742520&4294967295,B=L+(P<<16&4294967295|P>>>16),P=M+(B^L^C)+O[2]+3299628645&4294967295,M=B+(P<<23&4294967295|P>>>9),P=C+(B^(M|~L))+O[0]+4096336452&4294967295,C=M+(P<<6&4294967295|P>>>26),P=L+(M^(C|~B))+O[7]+1126891415&4294967295,L=C+(P<<10&4294967295|P>>>22),P=B+(C^(L|~M))+O[14]+2878612391&4294967295,B=L+(P<<15&4294967295|P>>>17),P=M+(L^(B|~C))+O[5]+4237533241&4294967295,M=B+(P<<21&4294967295|P>>>11),P=C+(B^(M|~L))+O[12]+1700485571&4294967295,C=M+(P<<6&4294967295|P>>>26),P=L+(M^(C|~B))+O[3]+2399980690&4294967295,L=C+(P<<10&4294967295|P>>>22),P=B+(C^(L|~M))+O[10]+4293915773&4294967295,B=L+(P<<15&4294967295|P>>>17),P=M+(L^(B|~C))+O[1]+2240044497&4294967295,M=B+(P<<21&4294967295|P>>>11),P=C+(B^(M|~L))+O[8]+1873313359&4294967295,C=M+(P<<6&4294967295|P>>>26),P=L+(M^(C|~B))+O[15]+4264355552&4294967295,L=C+(P<<10&4294967295|P>>>22),P=B+(C^(L|~M))+O[6]+2734768916&4294967295,B=L+(P<<15&4294967295|P>>>17),P=M+(L^(B|~C))+O[13]+1309151649&4294967295,M=B+(P<<21&4294967295|P>>>11),P=C+(B^(M|~L))+O[4]+4149444226&4294967295,C=M+(P<<6&4294967295|P>>>26),P=L+(M^(C|~B))+O[11]+3174756917&4294967295,L=C+(P<<10&4294967295|P>>>22),P=B+(C^(L|~M))+O[2]+718787259&4294967295,B=L+(P<<15&4294967295|P>>>17),P=M+(L^(B|~C))+O[9]+3951481745&4294967295,D.g[0]=D.g[0]+C&4294967295,D.g[1]=D.g[1]+(B+(P<<21&4294967295|P>>>11))&4294967295,D.g[2]=D.g[2]+B&4294967295,D.g[3]=D.g[3]+L&4294967295}r.prototype.v=function(D,C){C===void 0&&(C=D.length);const M=C-this.blockSize,O=this.C;let B=this.h,L=0;for(;L<C;){if(B==0)for(;L<=M;)s(this,D,L),L+=this.blockSize;if(typeof D=="string"){for(;L<C;)if(O[B++]=D.charCodeAt(L++),B==this.blockSize){s(this,O),B=0;break}}else for(;L<C;)if(O[B++]=D[L++],B==this.blockSize){s(this,O),B=0;break}}this.h=B,this.o+=C},r.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var C=1;C<D.length-8;++C)D[C]=0;C=this.o*8;for(var M=D.length-8;M<D.length;++M)D[M]=C&255,C/=256;for(this.v(D),D=Array(16),C=0,M=0;M<4;++M)for(let O=0;O<32;O+=8)D[C++]=this.g[M]>>>O&255;return D};function a(D,C){var M=d;return Object.prototype.hasOwnProperty.call(M,D)?M[D]:M[D]=C(D)}function l(D,C){this.h=C;const M=[];let O=!0;for(let B=D.length-1;B>=0;B--){const L=D[B]|0;O&&L==C||(M[B]=L,O=!1)}this.g=M}var d={};function h(D){return-128<=D&&D<128?a(D,function(C){return new l([C|0],C<0?-1:0)}):new l([D|0],D<0?-1:0)}function f(D){if(isNaN(D)||!isFinite(D))return y;if(D<0)return A(f(-D));const C=[];let M=1;for(let O=0;D>=M;O++)C[O]=D/M|0,M*=4294967296;return new l(C,0)}function g(D,C){if(D.length==0)throw Error("number format error: empty string");if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(D.charAt(0)=="-")return A(g(D.substring(1),C));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const M=f(Math.pow(C,8));let O=y;for(let L=0;L<D.length;L+=8){var B=Math.min(8,D.length-L);const P=parseInt(D.substring(L,L+B),C);B<8?(B=f(Math.pow(C,B)),O=O.j(B).add(f(P))):(O=O.j(M),O=O.add(f(P)))}return O}var y=h(0),x=h(1),E=h(16777216);t=l.prototype,t.m=function(){if(R(this))return-A(this).m();let D=0,C=1;for(let M=0;M<this.g.length;M++){const O=this.i(M);D+=(O>=0?O:4294967296+O)*C,C*=4294967296}return D},t.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(S(this))return"0";if(R(this))return"-"+A(this).toString(D);const C=f(Math.pow(D,6));var M=this;let O="";for(;;){const B=Z(M,C).g;M=j(M,B.j(C));let L=((M.g.length>0?M.g[0]:M.h)>>>0).toString(D);if(M=B,S(M))return L+O;for(;L.length<6;)L="0"+L;O=L+O}},t.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function S(D){if(D.h!=0)return!1;for(let C=0;C<D.g.length;C++)if(D.g[C]!=0)return!1;return!0}function R(D){return D.h==-1}t.l=function(D){return D=j(this,D),R(D)?-1:S(D)?0:1};function A(D){const C=D.g.length,M=[];for(let O=0;O<C;O++)M[O]=~D.g[O];return new l(M,~D.h).add(x)}t.abs=function(){return R(this)?A(this):this},t.add=function(D){const C=Math.max(this.g.length,D.g.length),M=[];let O=0;for(let B=0;B<=C;B++){let L=O+(this.i(B)&65535)+(D.i(B)&65535),P=(L>>>16)+(this.i(B)>>>16)+(D.i(B)>>>16);O=P>>>16,L&=65535,P&=65535,M[B]=P<<16|L}return new l(M,M[M.length-1]&-2147483648?-1:0)};function j(D,C){return D.add(A(C))}t.j=function(D){if(S(this)||S(D))return y;if(R(this))return R(D)?A(this).j(A(D)):A(A(this).j(D));if(R(D))return A(this.j(A(D)));if(this.l(E)<0&&D.l(E)<0)return f(this.m()*D.m());const C=this.g.length+D.g.length,M=[];for(var O=0;O<2*C;O++)M[O]=0;for(O=0;O<this.g.length;O++)for(let B=0;B<D.g.length;B++){const L=this.i(O)>>>16,P=this.i(O)&65535,be=D.i(B)>>>16,ne=D.i(B)&65535;M[2*O+2*B]+=P*ne,F(M,2*O+2*B),M[2*O+2*B+1]+=L*ne,F(M,2*O+2*B+1),M[2*O+2*B+1]+=P*be,F(M,2*O+2*B+1),M[2*O+2*B+2]+=L*be,F(M,2*O+2*B+2)}for(D=0;D<C;D++)M[D]=M[2*D+1]<<16|M[2*D];for(D=C;D<2*C;D++)M[D]=0;return new l(M,0)};function F(D,C){for(;(D[C]&65535)!=D[C];)D[C+1]+=D[C]>>>16,D[C]&=65535,C++}function $(D,C){this.g=D,this.h=C}function Z(D,C){if(S(C))throw Error("division by zero");if(S(D))return new $(y,y);if(R(D))return C=Z(A(D),C),new $(A(C.g),A(C.h));if(R(C))return C=Z(D,A(C)),new $(A(C.g),C.h);if(D.g.length>30){if(R(D)||R(C))throw Error("slowDivide_ only works with positive integers.");for(var M=x,O=C;O.l(D)<=0;)M=Y(M),O=Y(O);var B=K(M,1),L=K(O,1);for(O=K(O,2),M=K(M,2);!S(O);){var P=L.add(O);P.l(D)<=0&&(B=B.add(M),L=P),O=K(O,1),M=K(M,1)}return C=j(D,B.j(C)),new $(B,C)}for(B=y;D.l(C)>=0;){for(M=Math.max(1,Math.floor(D.m()/C.m())),O=Math.ceil(Math.log(M)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),L=f(M),P=L.j(C);R(P)||P.l(D)>0;)M-=O,L=f(M),P=L.j(C);S(L)&&(L=x),B=B.add(L),D=j(D,P)}return new $(B,D)}t.B=function(D){return Z(this,D).h},t.and=function(D){const C=Math.max(this.g.length,D.g.length),M=[];for(let O=0;O<C;O++)M[O]=this.i(O)&D.i(O);return new l(M,this.h&D.h)},t.or=function(D){const C=Math.max(this.g.length,D.g.length),M=[];for(let O=0;O<C;O++)M[O]=this.i(O)|D.i(O);return new l(M,this.h|D.h)},t.xor=function(D){const C=Math.max(this.g.length,D.g.length),M=[];for(let O=0;O<C;O++)M[O]=this.i(O)^D.i(O);return new l(M,this.h^D.h)};function Y(D){const C=D.g.length+1,M=[];for(let O=0;O<C;O++)M[O]=D.i(O)<<1|D.i(O-1)>>>31;return new l(M,D.h)}function K(D,C){const M=C>>5;C%=32;const O=D.g.length-M,B=[];for(let L=0;L<O;L++)B[L]=C>0?D.i(L+M)>>>C|D.i(L+M+1)<<32-C:D.i(L+M);return new l(B,D.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,aI=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.B,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=f,l.fromString=g,Hi=l}).apply(typeof a_<"u"?a_:typeof self<"u"?self:typeof window<"u"?window:{});var ah=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var lI,Oc,cI,Rh,dy,uI,dI,hI;(function(){var t,e=Object.defineProperty;function n(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof ah=="object"&&ah];for(var b=0;b<m.length;++b){var _=m[b];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=n(this);function s(m,b){if(b)e:{var _=r;m=m.split(".");for(var k=0;k<m.length-1;k++){var G=m[k];if(!(G in _))break e;_=_[G]}m=m[m.length-1],k=_[m],b=b(k),b!=k&&b!=null&&e(_,m,{configurable:!0,writable:!0,value:b})}}s("Symbol.dispose",function(m){return m||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(m){return m||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(m){return m||function(b){var _=[],k;for(k in b)Object.prototype.hasOwnProperty.call(b,k)&&_.push([k,b[k]]);return _}});var a=a||{},l=this||self;function d(m){var b=typeof m;return b=="object"&&m!=null||b=="function"}function h(m,b,_){return m.call.apply(m.bind,arguments)}function f(m,b,_){return f=h,f.apply(null,arguments)}function g(m,b){var _=Array.prototype.slice.call(arguments,1);return function(){var k=_.slice();return k.push.apply(k,arguments),m.apply(this,k)}}function y(m,b){function _(){}_.prototype=b.prototype,m.Z=b.prototype,m.prototype=new _,m.prototype.constructor=m,m.Ob=function(k,G,J){for(var ve=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)ve[Be-2]=arguments[Be];return b.prototype[G].apply(k,ve)}}var x=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?m=>m&&AsyncContext.Snapshot.wrap(m):m=>m;function E(m){const b=m.length;if(b>0){const _=Array(b);for(let k=0;k<b;k++)_[k]=m[k];return _}return[]}function S(m,b){for(let k=1;k<arguments.length;k++){const G=arguments[k];var _=typeof G;if(_=_!="object"?_:G?Array.isArray(G)?"array":_:"null",_=="array"||_=="object"&&typeof G.length=="number"){_=m.length||0;const J=G.length||0;m.length=_+J;for(let ve=0;ve<J;ve++)m[_+ve]=G[ve]}else m.push(G)}}class R{constructor(b,_){this.i=b,this.j=_,this.h=0,this.g=null}get(){let b;return this.h>0?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function A(m){l.setTimeout(()=>{throw m},0)}function j(){var m=D;let b=null;return m.g&&(b=m.g,m.g=m.g.next,m.g||(m.h=null),b.next=null),b}class F{constructor(){this.h=this.g=null}add(b,_){const k=$.get();k.set(b,_),this.h?this.h.next=k:this.g=k,this.h=k}}var $=new R(()=>new Z,m=>m.reset());class Z{constructor(){this.next=this.g=this.h=null}set(b,_){this.h=b,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let Y,K=!1,D=new F,C=()=>{const m=Promise.resolve(void 0);Y=()=>{m.then(M)}};function M(){for(var m;m=j();){try{m.h.call(m.g)}catch(_){A(_)}var b=$;b.j(m),b.h<100&&(b.h++,m.next=b.g,b.g=m)}K=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function B(m,b){this.type=m,this.g=this.target=b,this.defaultPrevented=!1}B.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var m=!1,b=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const _=()=>{};l.addEventListener("test",_,b),l.removeEventListener("test",_,b)}catch{}return m})();function P(m){return/^[\s\xa0]*$/.test(m)}function be(m,b){B.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m&&this.init(m,b)}y(be,B),be.prototype.init=function(m,b){const _=this.type=m.type,k=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;this.target=m.target||m.srcElement,this.g=b,b=m.relatedTarget,b||(_=="mouseover"?b=m.fromElement:_=="mouseout"&&(b=m.toElement)),this.relatedTarget=b,k?(this.clientX=k.clientX!==void 0?k.clientX:k.pageX,this.clientY=k.clientY!==void 0?k.clientY:k.pageY,this.screenX=k.screenX||0,this.screenY=k.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=m.pointerType,this.state=m.state,this.i=m,m.defaultPrevented&&be.Z.h.call(this)},be.prototype.h=function(){be.Z.h.call(this);const m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var ne="closure_listenable_"+(Math.random()*1e6|0),re=0;function ae(m,b,_,k,G){this.listener=m,this.proxy=null,this.src=b,this.type=_,this.capture=!!k,this.ha=G,this.key=++re,this.da=this.fa=!1}function ee(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function ye(m,b,_){for(const k in m)b.call(_,m[k],k,m)}function U(m,b){for(const _ in m)b.call(void 0,m[_],_,m)}function T(m){const b={};for(const _ in m)b[_]=m[_];return b}const q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function te(m,b){let _,k;for(let G=1;G<arguments.length;G++){k=arguments[G];for(_ in k)m[_]=k[_];for(let J=0;J<q.length;J++)_=q[J],Object.prototype.hasOwnProperty.call(k,_)&&(m[_]=k[_])}}function ie(m){this.src=m,this.g={},this.h=0}ie.prototype.add=function(m,b,_,k,G){const J=m.toString();m=this.g[J],m||(m=this.g[J]=[],this.h++);const ve=pe(m,b,k,G);return ve>-1?(b=m[ve],_||(b.fa=!1)):(b=new ae(b,this.src,J,!!k,G),b.fa=_,m.push(b)),b};function le(m,b){const _=b.type;if(_ in m.g){var k=m.g[_],G=Array.prototype.indexOf.call(k,b,void 0),J;(J=G>=0)&&Array.prototype.splice.call(k,G,1),J&&(ee(b),m.g[_].length==0&&(delete m.g[_],m.h--))}}function pe(m,b,_,k){for(let G=0;G<m.length;++G){const J=m[G];if(!J.da&&J.listener==b&&J.capture==!!_&&J.ha==k)return G}return-1}var me="closure_lm_"+(Math.random()*1e6|0),ce={};function Ce(m,b,_,k,G){if(Array.isArray(b)){for(let J=0;J<b.length;J++)Ce(m,b[J],_,k,G);return null}return _=Kt(_),m&&m[ne]?m.J(b,_,d(k)?!!k.capture:!1,G):Fe(m,b,_,!1,k,G)}function Fe(m,b,_,k,G,J){if(!b)throw Error("Invalid event type");const ve=d(G)?!!G.capture:!!G;let Be=At(m);if(Be||(m[me]=Be=new ie(m)),_=Be.add(b,_,k,ve,J),_.proxy)return _;if(k=$e(),_.proxy=k,k.src=m,k.listener=_,m.addEventListener)L||(G=ve),G===void 0&&(G=!1),m.addEventListener(b.toString(),k,G);else if(m.attachEvent)m.attachEvent(Le(b.toString()),k);else if(m.addListener&&m.removeListener)m.addListener(k);else throw Error("addEventListener and attachEvent are unavailable.");return _}function $e(){function m(_){return b.call(m.src,m.listener,_)}const b=ct;return m}function He(m,b,_,k,G){if(Array.isArray(b))for(var J=0;J<b.length;J++)He(m,b[J],_,k,G);else k=d(k)?!!k.capture:!!k,_=Kt(_),m&&m[ne]?(m=m.i,J=String(b).toString(),J in m.g&&(b=m.g[J],_=pe(b,_,k,G),_>-1&&(ee(b[_]),Array.prototype.splice.call(b,_,1),b.length==0&&(delete m.g[J],m.h--)))):m&&(m=At(m))&&(b=m.g[b.toString()],m=-1,b&&(m=pe(b,_,k,G)),(_=m>-1?b[m]:null)&&tt(_))}function tt(m){if(typeof m!="number"&&m&&!m.da){var b=m.src;if(b&&b[ne])le(b.i,m);else{var _=m.type,k=m.proxy;b.removeEventListener?b.removeEventListener(_,k,m.capture):b.detachEvent?b.detachEvent(Le(_),k):b.addListener&&b.removeListener&&b.removeListener(k),(_=At(b))?(le(_,m),_.h==0&&(_.src=null,b[me]=null)):ee(m)}}}function Le(m){return m in ce?ce[m]:ce[m]="on"+m}function ct(m,b){if(m.da)m=!0;else{b=new be(b,this);const _=m.listener,k=m.ha||m.src;m.fa&&tt(m),m=_.call(k,b)}return m}function At(m){return m=m[me],m instanceof ie?m:null}var ht="__closure_events_fn_"+(Math.random()*1e9>>>0);function Kt(m){return typeof m=="function"?m:(m[ht]||(m[ht]=function(b){return m.handleEvent(b)}),m[ht])}function qe(){O.call(this),this.i=new ie(this),this.M=this,this.G=null}y(qe,O),qe.prototype[ne]=!0,qe.prototype.removeEventListener=function(m,b,_,k){He(this,m,b,_,k)};function Je(m,b){var _,k=m.G;if(k)for(_=[];k;k=k.G)_.push(k);if(m=m.M,k=b.type||b,typeof b=="string")b=new B(b,m);else if(b instanceof B)b.target=b.target||m;else{var G=b;b=new B(k,m),te(b,G)}G=!0;let J,ve;if(_)for(ve=_.length-1;ve>=0;ve--)J=b.g=_[ve],G=Nn(J,k,!0,b)&&G;if(J=b.g=m,G=Nn(J,k,!0,b)&&G,G=Nn(J,k,!1,b)&&G,_)for(ve=0;ve<_.length;ve++)J=b.g=_[ve],G=Nn(J,k,!1,b)&&G}qe.prototype.N=function(){if(qe.Z.N.call(this),this.i){var m=this.i;for(const b in m.g){const _=m.g[b];for(let k=0;k<_.length;k++)ee(_[k]);delete m.g[b],m.h--}}this.G=null},qe.prototype.J=function(m,b,_,k){return this.i.add(String(m),b,!1,_,k)},qe.prototype.K=function(m,b,_,k){return this.i.add(String(m),b,!0,_,k)};function Nn(m,b,_,k){if(b=m.i.g[String(b)],!b)return!0;b=b.concat();let G=!0;for(let J=0;J<b.length;++J){const ve=b[J];if(ve&&!ve.da&&ve.capture==_){const Be=ve.listener,Pt=ve.ha||ve.src;ve.fa&&le(m.i,ve),G=Be.call(Pt,k)!==!1&&G}}return G&&!k.defaultPrevented}function kt(m,b){if(typeof m!="function")if(m&&typeof m.handleEvent=="function")m=f(m.handleEvent,m);else throw Error("Invalid listener argument");return Number(b)>2147483647?-1:l.setTimeout(m,b||0)}function On(m){m.g=kt(()=>{m.g=null,m.i&&(m.i=!1,On(m))},m.l);const b=m.h;m.h=null,m.m.apply(null,b)}class As extends O{constructor(b,_){super(),this.m=b,this.l=_,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:On(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function fr(m){O.call(this),this.h=m,this.g={}}y(fr,O);var Kn=[];function Xr(m){ye(m.g,function(b,_){this.g.hasOwnProperty(_)&&tt(b)},m),m.g={}}fr.prototype.N=function(){fr.Z.N.call(this),Xr(this)},fr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Qn=l.JSON.stringify,jr=l.JSON.parse,sn=class{stringify(m){return l.JSON.stringify(m,void 0)}parse(m){return l.JSON.parse(m,void 0)}};function An(){}function Yn(){}var mr={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ci(){B.call(this,"d")}y(ci,B);function ui(){B.call(this,"c")}y(ui,B);var Ln={},di=null;function pr(){return di=di||new qe}Ln.Ia="serverreachability";function kn(m){B.call(this,Ln.Ia,m)}y(kn,B);function Dr(m){const b=pr();Je(b,new kn(b))}Ln.STAT_EVENT="statevent";function Mr(m,b){B.call(this,Ln.STAT_EVENT,m),this.stat=b}y(Mr,B);function ft(m){const b=pr();Je(b,new Mr(b,m))}Ln.Ja="timingevent";function hi(m,b){B.call(this,Ln.Ja,m),this.size=b}y(hi,B);function je(m,b){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){m()},b)}function at(){this.g=!0}at.prototype.ua=function(){this.g=!1};function Rt(m,b,_,k,G,J){m.info(function(){if(m.g)if(J){var ve="",Be=J.split("&");for(let ot=0;ot<Be.length;ot++){var Pt=Be[ot].split("=");if(Pt.length>1){const Vt=Pt[0];Pt=Pt[1];const rr=Vt.split("_");ve=rr.length>=2&&rr[1]=="type"?ve+(Vt+"="+Pt+"&"):ve+(Vt+"=redacted&")}}}else ve=null;else ve=J;return"XMLHTTP REQ ("+k+") [attempt "+G+"]: "+b+`
`+_+`
`+ve})}function Qt(m,b,_,k,G,J,ve){m.info(function(){return"XMLHTTP RESP ("+k+") [ attempt "+G+"]: "+b+`
`+_+`
`+J+" "+ve})}function Rn(m,b,_,k){m.info(function(){return"XMLHTTP TEXT ("+b+"): "+Ot(m,_)+(k?" "+k:"")})}function Tt(m,b){m.info(function(){return"TIMEOUT: "+b})}at.prototype.info=function(){};function Ot(m,b){if(!m.g)return b;if(!b)return null;try{const J=JSON.parse(b);if(J){for(m=0;m<J.length;m++)if(Array.isArray(J[m])){var _=J[m];if(!(_.length<2)){var k=_[1];if(Array.isArray(k)&&!(k.length<1)){var G=k[0];if(G!="noop"&&G!="stop"&&G!="close")for(let ve=1;ve<k.length;ve++)k[ve]=""}}}}return Qn(J)}catch{return b}}var Xn={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Lt={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},mn;function gr(){}y(gr,An),gr.prototype.g=function(){return new XMLHttpRequest},mn=new gr;function Yt(m){return encodeURIComponent(String(m))}function ho(m){var b=1;m=m.split(":");const _=[];for(;b>0&&m.length;)_.push(m.shift()),b--;return m.length&&_.push(m.join(":")),_}function yr(m,b,_,k){this.j=m,this.i=b,this.l=_,this.S=k||1,this.V=new fr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new qu}function qu(){this.i=null,this.g="",this.h=!1}var Wu={},Ol={};function Or(m,b,_){m.M=1,m.A=Rs(vr(b)),m.u=_,m.R=!0,Ll(m,null)}function Ll(m,b){m.F=Date.now(),fo(m),m.B=vr(m.A);var _=m.B,k=m.S;Array.isArray(k)||(k=[String(k)]),Gl(_.i,"t",k),m.C=0,_=m.j.L,m.h=new qu,m.g=nd(m.j,_?b:null,!m.u),m.P>0&&(m.O=new As(f(m.Y,m,m.g),m.P)),b=m.V,_=m.g,k=m.ba;var G="readystatechange";Array.isArray(G)||(G&&(Kn[0]=G.toString()),G=Kn);for(let J=0;J<G.length;J++){const ve=Ce(_,G[J],k||b.handleEvent,!1,b.h||b);if(!ve)break;b.g[ve.key]=ve}b=m.J?T(m.J):{},m.u?(m.v||(m.v="POST"),b["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.B,m.v,m.u,b)):(m.v="GET",m.g.ea(m.B,m.v,null,b)),Dr(),Rt(m.i,m.v,m.B,m.l,m.S,m.u)}yr.prototype.ba=function(m){m=m.target;const b=this.O;b&&ss(m)==3?b.j():this.Y(m)},yr.prototype.Y=function(m){try{if(m==this.g)e:{const Be=ss(this.g),Pt=this.g.ya(),ot=this.g.ca();if(!(Be<3)&&(Be!=3||this.g&&(this.h.h||this.g.la()||ed(this.g)))){this.K||Be!=4||Pt==7||(Pt==8||ot<=0?Dr(3):Dr(2)),ca(this);var b=this.g.ca();this.X=b;var _=Gu(this);if(this.o=b==200,Qt(this.i,this.v,this.B,this.l,this.S,Be,b),this.o){if(this.U&&!this.L){t:{if(this.g){var k,G=this.g;if((k=G.g?G.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!P(k)){var J=k;break t}}J=null}if(m=J)Rn(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,mt(this,m);else{this.o=!1,this.m=3,ft(12),ks(this),mo(this);break e}}if(this.R){m=!0;let Vt;for(;!this.K&&this.C<_.length;)if(Vt=Qu(this,_),Vt==Ol){Be==4&&(this.m=4,ft(14),m=!1),Rn(this.i,this.l,null,"[Incomplete Response]");break}else if(Vt==Wu){this.m=4,ft(15),Rn(this.i,this.l,_,"[Invalid Chunk]"),m=!1;break}else Rn(this.i,this.l,Vt,null),mt(this,Vt);if(Ku(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Be!=4||_.length!=0||this.h.h||(this.m=1,ft(16),m=!1),this.o=this.o&&m,!m)Rn(this.i,this.l,_,"[Invalid Chunked Response]"),ks(this),mo(this);else if(_.length>0&&!this.W){this.W=!0;var ve=this.j;ve.g==this&&ve.aa&&!ve.P&&(ve.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),Eo(ve),ve.P=!0,ft(11))}}else Rn(this.i,this.l,_,null),mt(this,_);Be==4&&ks(this),this.o&&!this.K&&(Be==4?xa(this.j,this):(this.o=!1,fo(this)))}else Ql(this.g),b==400&&_.indexOf("Unknown SID")>0?(this.m=3,ft(12)):(this.m=0,ft(13)),ks(this),mo(this)}}}catch{}};function Gu(m){if(!Ku(m))return m.g.la();const b=ed(m.g);if(b==="")return"";let _="";const k=b.length,G=ss(m.g)==4;if(!m.h.i){if(typeof TextDecoder>"u")return ks(m),mo(m),"";m.h.i=new l.TextDecoder}for(let J=0;J<k;J++)m.h.h=!0,_+=m.h.i.decode(b[J],{stream:!(G&&J==k-1)});return b.length=0,m.h.g+=_,m.C=0,m.h.g}function Ku(m){return m.g?m.v=="GET"&&m.M!=2&&m.j.Aa:!1}function Qu(m,b){var _=m.C,k=b.indexOf(`
`,_);return k==-1?Ol:(_=Number(b.substring(_,k)),isNaN(_)?Wu:(k+=1,k+_>b.length?Ol:(b=b.slice(k,k+_),m.C=k+_,b)))}yr.prototype.cancel=function(){this.K=!0,ks(this)};function fo(m){m.T=Date.now()+m.H,Vl(m,m.H)}function Vl(m,b){if(m.D!=null)throw Error("WatchDog timer not null");m.D=je(f(m.aa,m),b)}function ca(m){m.D&&(l.clearTimeout(m.D),m.D=null)}yr.prototype.aa=function(){this.D=null;const m=Date.now();m-this.T>=0?(Tt(this.i,this.B),this.M!=2&&(Dr(),ft(17)),ks(this),this.m=2,mo(this)):Vl(this,this.T-m)};function mo(m){m.j.I==0||m.K||xa(m.j,m)}function ks(m){ca(m);var b=m.O;b&&typeof b.dispose=="function"&&b.dispose(),m.O=null,Xr(m.V),m.g&&(b=m.g,m.g=null,b.abort(),b.dispose())}function mt(m,b){try{var _=m.j;if(_.I!=0&&(_.g==m||Ul(_.h,m))){if(!m.L&&Ul(_.h,m)&&_.I==3){try{var k=_.Ba.g.parse(b)}catch{k=null}if(Array.isArray(k)&&k.length==3){var G=k;if(G[0]==0){e:if(!_.v){if(_.g)if(_.g.F+3e3<m.F)va(_),tr(_);else break e;as(_),ft(18)}}else _.xa=G[1],0<_.xa-_.K&&G[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=je(f(_.Va,_),6e3));po(_.h)<=1&&_.ta&&(_.ta=void 0)}else nr(_,11)}else if((m.L||_.g==m)&&va(_),!P(b))for(G=_.Ba.g.parse(b),b=0;b<G.length;b++){let ot=G[b];const Vt=ot[0];if(!(Vt<=_.K))if(_.K=Vt,ot=ot[1],_.I==2)if(ot[0]=="c"){_.M=ot[1],_.ba=ot[2];const rr=ot[3];rr!=null&&(_.ka=rr,_.j.info("VER="+_.ka));const Os=ot[4];Os!=null&&(_.za=Os,_.j.info("SVER="+_.za));const ls=ot[5];ls!=null&&typeof ls=="number"&&ls>0&&(k=1.5*ls,_.O=k,_.j.info("backChannelRequestTimeoutMs_="+k)),k=_;const cs=m.g;if(cs){const _a=cs.g?cs.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_a){var J=k.h;J.g||_a.indexOf("spdy")==-1&&_a.indexOf("quic")==-1&&_a.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(da(J,J.h),J.h=null))}if(k.G){const Jl=cs.g?cs.g.getResponseHeader("X-HTTP-Session-Id"):null;Jl&&(k.wa=Jl,rt(k.J,k.G,Jl))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-m.F,_.j.info("Handshake RTT: "+_.T+"ms")),k=_;var ve=m;if(k.na=Xl(k,k.L?k.ba:null,k.W),ve.L){go(k.h,ve);var Be=ve,Pt=k.O;Pt&&(Be.H=Pt),Be.D&&(ca(Be),fo(Be)),k.g=ve}else pn(k);_.i.length>0&&Ms(_)}else ot[0]!="stop"&&ot[0]!="close"||nr(_,7);else _.I==3&&(ot[0]=="stop"||ot[0]=="close"?ot[0]=="stop"?nr(_,7):ga(_):ot[0]!="noop"&&_.l&&_.l.qa(ot),_.A=0)}}Dr(4)}catch{}}var nm=class{constructor(m,b){this.g=m,this.map=b}};function ua(m){this.l=m||10,l.PerformanceNavigationTiming?(m=l.performance.getEntriesByType("navigation"),m=m.length>0&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Fl(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function po(m){return m.h?1:m.g?m.g.size:0}function Ul(m,b){return m.h?m.h==b:m.g?m.g.has(b):!1}function da(m,b){m.g?m.g.add(b):m.h=b}function go(m,b){m.h&&m.h==b?m.h=null:m.g&&m.g.has(b)&&m.g.delete(b)}ua.prototype.cancel=function(){if(this.i=Jn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function Jn(m){if(m.h!=null)return m.i.concat(m.h.G);if(m.g!=null&&m.g.size!==0){let b=m.i;for(const _ of m.g.values())b=b.concat(_.G);return b}return E(m.i)}var Yu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Zn(m,b){if(m){m=m.split("&");for(let _=0;_<m.length;_++){const k=m[_].indexOf("=");let G,J=null;k>=0?(G=m[_].substring(0,k),J=m[_].substring(k+1)):G=m[_],b(G,J?decodeURIComponent(J.replace(/\+/g," ")):"")}}}function Jr(m){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let b;m instanceof Jr?(this.l=m.l,yo(this,m.j),this.o=m.o,this.g=m.g,Zr(this,m.u),this.h=m.h,fi(this,Kl(m.i)),this.m=m.m):m&&(b=String(m).match(Yu))?(this.l=!1,yo(this,b[1]||"",!0),this.o=vo(b[2]||""),this.g=vo(b[3]||"",!0),Zr(this,b[4]),this.h=vo(b[5]||"",!0),fi(this,b[6]||"",!0),this.m=vo(b[7]||"")):(this.l=!1,this.i=new Xe(null,this.l))}Jr.prototype.toString=function(){const m=[];var b=this.j;b&&m.push(xo(b,zl,!0),":");var _=this.g;return(_||b=="file")&&(m.push("//"),(b=this.o)&&m.push(xo(b,zl,!0),"@"),m.push(Yt(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&m.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&m.push("/"),m.push(xo(_,_.charAt(0)=="/"?wo:$l,!0))),(_=this.i.toString())&&m.push("?",_),(_=this.m)&&m.push("#",xo(_,Hl)),m.join("")},Jr.prototype.resolve=function(m){const b=vr(this);let _=!!m.j;_?yo(b,m.j):_=!!m.o,_?b.o=m.o:_=!!m.g,_?b.g=m.g:_=m.u!=null;var k=m.h;if(_)Zr(b,m.u);else if(_=!!m.h){if(k.charAt(0)!="/")if(this.g&&!this.h)k="/"+k;else{var G=b.h.lastIndexOf("/");G!=-1&&(k=b.h.slice(0,G+1)+k)}if(G=k,G==".."||G==".")k="";else if(G.indexOf("./")!=-1||G.indexOf("/.")!=-1){k=G.lastIndexOf("/",0)==0,G=G.split("/");const J=[];for(let ve=0;ve<G.length;){const Be=G[ve++];Be=="."?k&&ve==G.length&&J.push(""):Be==".."?((J.length>1||J.length==1&&J[0]!="")&&J.pop(),k&&ve==G.length&&J.push("")):(J.push(Be),k=!0)}k=J.join("/")}else k=G}return _?b.h=k:_=m.i.toString()!=="",_?fi(b,Kl(m.i)):_=!!m.m,_&&(b.m=m.m),b};function vr(m){return new Jr(m)}function yo(m,b,_){m.j=_?vo(b,!0):b,m.j&&(m.j=m.j.replace(/:$/,""))}function Zr(m,b){if(b){if(b=Number(b),isNaN(b)||b<0)throw Error("Bad port number "+b);m.u=b}else m.u=null}function fi(m,b,_){b instanceof Xe?(m.i=b,fa(m.i,m.l)):(_||(b=xo(b,rm)),m.i=new Xe(b,m.l))}function rt(m,b,_){m.i.set(b,_)}function Rs(m){return rt(m,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),m}function vo(m,b){return m?b?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function xo(m,b,_){return typeof m=="string"?(m=encodeURI(m).replace(b,Bl),_&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function Bl(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var zl=/[#\/\?@]/g,$l=/[#\?:]/g,wo=/[#\?]/g,rm=/[#\?@]/g,Hl=/#/g;function Xe(m,b){this.h=this.g=null,this.i=m||null,this.j=!!b}function es(m){m.g||(m.g=new Map,m.h=0,m.i&&Zn(m.i,function(b,_){m.add(decodeURIComponent(b.replace(/\+/g," ")),_)}))}t=Xe.prototype,t.add=function(m,b){es(this),this.i=null,m=ts(this,m);let _=this.g.get(m);return _||this.g.set(m,_=[]),_.push(b),this.h+=1,this};function ql(m,b){es(m),b=ts(m,b),m.g.has(b)&&(m.i=null,m.h-=m.g.get(b).length,m.g.delete(b))}function ha(m,b){return es(m),b=ts(m,b),m.g.has(b)}t.forEach=function(m,b){es(this),this.g.forEach(function(_,k){_.forEach(function(G){m.call(b,G,k,this)},this)},this)};function Wl(m,b){es(m);let _=[];if(typeof b=="string")ha(m,b)&&(_=_.concat(m.g.get(ts(m,b))));else for(m=Array.from(m.g.values()),b=0;b<m.length;b++)_=_.concat(m[b]);return _}t.set=function(m,b){return es(this),this.i=null,m=ts(this,m),ha(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[b]),this.h+=1,this},t.get=function(m,b){return m?(m=Wl(this,m),m.length>0?String(m[0]):b):b};function Gl(m,b,_){ql(m,b),_.length>0&&(m.i=null,m.g.set(ts(m,b),E(_)),m.h+=_.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],b=Array.from(this.g.keys());for(let k=0;k<b.length;k++){var _=b[k];const G=Yt(_);_=Wl(this,_);for(let J=0;J<_.length;J++){let ve=G;_[J]!==""&&(ve+="="+Yt(_[J])),m.push(ve)}}return this.i=m.join("&")};function Kl(m){const b=new Xe;return b.i=m.i,m.g&&(b.g=new Map(m.g),b.h=m.h),b}function ts(m,b){return b=String(b),m.j&&(b=b.toLowerCase()),b}function fa(m,b){b&&!m.j&&(es(m),m.i=null,m.g.forEach(function(_,k){const G=k.toLowerCase();k!=G&&(ql(this,k),Gl(this,G,_))},m)),m.j=b}function ns(m,b){const _=new at;if(l.Image){const k=new Image;k.onload=g(on,_,"TestLoadImage: loaded",!0,b,k),k.onerror=g(on,_,"TestLoadImage: error",!1,b,k),k.onabort=g(on,_,"TestLoadImage: abort",!1,b,k),k.ontimeout=g(on,_,"TestLoadImage: timeout",!1,b,k),l.setTimeout(function(){k.ontimeout&&k.ontimeout()},1e4),k.src=m}else b(!1)}function rs(m,b){const _=new at,k=new AbortController,G=setTimeout(()=>{k.abort(),on(_,"TestPingServer: timeout",!1,b)},1e4);fetch(m,{signal:k.signal}).then(J=>{clearTimeout(G),J.ok?on(_,"TestPingServer: ok",!0,b):on(_,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(G),on(_,"TestPingServer: error",!1,b)})}function on(m,b,_,k,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),k(_)}catch{}}function bo(){this.g=new sn}function Ps(m){this.i=m.Sb||null,this.h=m.ab||!1}y(Ps,An),Ps.prototype.g=function(){return new er(this.i,this.h)};function er(m,b){qe.call(this),this.H=m,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}y(er,qe),t=er.prototype,t.open=function(m,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=m,this.D=b,this.readyState=1,Lr(this)},t.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const b={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};m&&(b.body=m),(this.H||l).fetch(new Request(this.D,b)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,mi(this)),this.readyState=0},t.Pa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,Lr(this)),this.g&&(this.readyState=3,Lr(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Xu(this)}else m.text().then(this.Oa.bind(this),this.ga.bind(this))};function Xu(m){m.j.read().then(m.Ma.bind(m)).catch(m.ga.bind(m))}t.Ma=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var b=m.value?m.value:new Uint8Array(0);(b=this.B.decode(b,{stream:!m.done}))&&(this.response=this.responseText+=b)}m.done?mi(this):Lr(this),this.readyState==3&&Xu(this)}},t.Oa=function(m){this.g&&(this.response=this.responseText=m,mi(this))},t.Na=function(m){this.g&&(this.response=m,mi(this))},t.ga=function(){this.g&&mi(this)};function mi(m){m.readyState=4,m.l=null,m.j=null,m.B=null,Lr(m)}t.setRequestHeader=function(m,b){this.A.append(m,b)},t.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],b=this.h.entries();for(var _=b.next();!_.done;)_=_.value,m.push(_[0]+": "+_[1]),_=b.next();return m.join(`\r
`)};function Lr(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(er.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function Ju(m){let b="";return ye(m,function(_,k){b+=k,b+=":",b+=_,b+=`\r
`}),b}function ma(m,b,_){e:{for(k in _){var k=!1;break e}k=!0}k||(_=Ju(_),typeof m=="string"?_!=null&&Yt(_):rt(m,b,_))}function lt(m){qe.call(this),this.headers=new Map,this.L=m||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}y(lt,qe);var Zu=/^https?$/i,sm=["POST","PUT"];t=lt.prototype,t.Fa=function(m){this.H=m},t.ea=function(m,b,_,k){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);b=b?b.toUpperCase():"GET",this.D=m,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():mn.g(),this.g.onreadystatechange=x(f(this.Ca,this));try{this.B=!0,this.g.open(b,String(m),!0),this.B=!1}catch(J){pi(this,J);return}if(m=_||"",_=new Map(this.headers),k)if(Object.getPrototypeOf(k)===Object.prototype)for(var G in k)_.set(G,k[G]);else if(typeof k.keys=="function"&&typeof k.get=="function")for(const J of k.keys())_.set(J,k.get(J));else throw Error("Unknown input type for opt_headers: "+String(k));k=Array.from(_.keys()).find(J=>J.toLowerCase()=="content-type"),G=l.FormData&&m instanceof l.FormData,!(Array.prototype.indexOf.call(sm,b,void 0)>=0)||k||G||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,ve]of _)this.g.setRequestHeader(J,ve);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(m),this.v=!1}catch(J){pi(this,J)}};function pi(m,b){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=b,m.o=5,gi(m),Ds(m)}function gi(m){m.A||(m.A=!0,Je(m,"complete"),Je(m,"error"))}t.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=m||7,Je(this,"complete"),Je(this,"abort"),Ds(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ds(this,!0)),lt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?js(this):this.Xa())},t.Xa=function(){js(this)};function js(m){if(m.h&&typeof a<"u"){if(m.v&&ss(m)==4)setTimeout(m.Ca.bind(m),0);else if(Je(m,"readystatechange"),ss(m)==4){m.h=!1;try{const J=m.ca();e:switch(J){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break e;default:b=!1}var _;if(!(_=b)){var k;if(k=J===0){let ve=String(m.D).match(Yu)[1]||null;!ve&&l.self&&l.self.location&&(ve=l.self.location.protocol.slice(0,-1)),k=!Zu.test(ve?ve.toLowerCase():"")}_=k}if(_)Je(m,"complete"),Je(m,"success");else{m.o=6;try{var G=ss(m)>2?m.g.statusText:""}catch{G=""}m.l=G+" ["+m.ca()+"]",gi(m)}}finally{Ds(m)}}}}function Ds(m,b){if(m.g){m.m&&(clearTimeout(m.m),m.m=null);const _=m.g;m.g=null,b||Je(m,"ready");try{_.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function ss(m){return m.g?m.g.readyState:0}t.ca=function(){try{return ss(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(m){if(this.g){var b=this.g.responseText;return m&&b.indexOf(m)==0&&(b=b.substring(m.length)),jr(b)}};function ed(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.F){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function Ql(m){const b={};m=(m.g&&ss(m)>=2&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let k=0;k<m.length;k++){if(P(m[k]))continue;var _=ho(m[k]);const G=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const J=b[G]||[];b[G]=J,J.push(_)}U(b,function(k){return k.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function is(m,b,_){return _&&_.internalChannelParams&&_.internalChannelParams[m]||b}function pa(m){this.za=0,this.i=[],this.j=new at,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=is("failFast",!1,m),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=is("baseRetryDelayMs",5e3,m),this.Za=is("retryDelaySeedMs",1e4,m),this.Ta=is("forwardChannelMaxRetries",2,m),this.va=is("forwardChannelRequestTimeoutMs",2e4,m),this.ma=m&&m.xmlHttpFactory||void 0,this.Ua=m&&m.Rb||void 0,this.Aa=m&&m.useFetchStreams||!1,this.O=void 0,this.L=m&&m.supportsCrossDomainXhr||!1,this.M="",this.h=new ua(m&&m.concurrentRequestLimit),this.Ba=new bo,this.S=m&&m.fastHandshake||!1,this.R=m&&m.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=m&&m.Pb||!1,m&&m.ua&&this.j.ua(),m&&m.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&m&&m.detectBufferingProxy||!1,this.ia=void 0,m&&m.longPollingTimeout&&m.longPollingTimeout>0&&(this.ia=m.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=pa.prototype,t.ka=8,t.I=1,t.connect=function(m,b,_,k){ft(0),this.W=m,this.H=b||{},_&&k!==void 0&&(this.H.OSID=_,this.H.OAID=k),this.F=this.X,this.J=Xl(this,null,this.W),Ms(this)};function ga(m){if(ya(m),m.I==3){var b=m.V++,_=vr(m.J);if(rt(_,"SID",m.M),rt(_,"RID",b),rt(_,"TYPE","terminate"),os(m,_),b=new yr(m,m.j,b),b.M=2,b.A=Rs(vr(_)),_=!1,l.navigator&&l.navigator.sendBeacon)try{_=l.navigator.sendBeacon(b.A.toString(),"")}catch{}!_&&l.Image&&(new Image().src=b.A,_=!0),_||(b.g=nd(b.j,null),b.g.ea(b.A)),b.F=Date.now(),fo(b)}To(m)}function tr(m){m.g&&(Eo(m),m.g.cancel(),m.g=null)}function ya(m){tr(m),m.v&&(l.clearTimeout(m.v),m.v=null),va(m),m.h.cancel(),m.m&&(typeof m.m=="number"&&l.clearTimeout(m.m),m.m=null)}function Ms(m){if(!Fl(m.h)&&!m.m){m.m=!0;var b=m.Ea;Y||C(),K||(Y(),K=!0),D.add(b,m),m.D=0}}function td(m,b){return po(m.h)>=m.h.j-(m.m?1:0)?!1:m.m?(m.i=b.G.concat(m.i),!0):m.I==1||m.I==2||m.D>=(m.Sa?0:m.Ta)?!1:(m.m=je(f(m.Ea,m,b),wa(m,m.D)),m.D++,!0)}t.Ea=function(m){if(this.m)if(this.m=null,this.I==1){if(!m){this.V=Math.floor(Math.random()*1e5),m=this.V++;const G=new yr(this,this.j,m);let J=this.o;if(this.U&&(J?(J=T(J),te(J,this.U)):J=this.U),this.u!==null||this.R||(G.J=J,J=null),this.S)e:{for(var b=0,_=0;_<this.i.length;_++){t:{var k=this.i[_];if("__data__"in k.map&&(k=k.map.__data__,typeof k=="string")){k=k.length;break t}k=void 0}if(k===void 0)break;if(b+=k,b>4096){b=_;break e}if(b===4096||_===this.i.length-1){b=_+1;break e}}b=1e3}else b=1e3;b=Yl(this,G,b),_=vr(this.J),rt(_,"RID",m),rt(_,"CVER",22),this.G&&rt(_,"X-HTTP-Session-Id",this.G),os(this,_),J&&(this.R?b="headers="+Yt(Ju(J))+"&"+b:this.u&&ma(_,this.u,J)),da(this.h,G),this.Ra&&rt(_,"TYPE","init"),this.S?(rt(_,"$req",b),rt(_,"SID","null"),G.U=!0,Or(G,_,null)):Or(G,_,b),this.I=2}}else this.I==3&&(m?_o(this,m):this.i.length==0||Fl(this.h)||_o(this))};function _o(m,b){var _;b?_=b.l:_=m.V++;const k=vr(m.J);rt(k,"SID",m.M),rt(k,"RID",_),rt(k,"AID",m.K),os(m,k),m.u&&m.o&&ma(k,m.u,m.o),_=new yr(m,m.j,_,m.D+1),m.u===null&&(_.J=m.o),b&&(m.i=b.G.concat(m.i)),b=Yl(m,_,1e3),_.H=Math.round(m.va*.5)+Math.round(m.va*.5*Math.random()),da(m.h,_),Or(_,k,b)}function os(m,b){m.H&&ye(m.H,function(_,k){rt(b,k,_)}),m.l&&ye({},function(_,k){rt(b,k,_)})}function Yl(m,b,_){_=Math.min(m.i.length,_);const k=m.l?f(m.l.Ka,m.l,m):null;e:{var G=m.i;let Be=-1;for(;;){const Pt=["count="+_];Be==-1?_>0?(Be=G[0].g,Pt.push("ofs="+Be)):Be=0:Pt.push("ofs="+Be);let ot=!0;for(let Vt=0;Vt<_;Vt++){var J=G[Vt].g;const rr=G[Vt].map;if(J-=Be,J<0)Be=Math.max(0,G[Vt].g-100),ot=!1;else try{J="req"+J+"_"||"";try{var ve=rr instanceof Map?rr:Object.entries(rr);for(const[Os,ls]of ve){let cs=ls;d(ls)&&(cs=Qn(ls)),Pt.push(J+Os+"="+encodeURIComponent(cs))}}catch(Os){throw Pt.push(J+"type="+encodeURIComponent("_badmap")),Os}}catch{k&&k(rr)}}if(ot){ve=Pt.join("&");break e}}ve=void 0}return m=m.i.splice(0,_),b.G=m,ve}function pn(m){if(!m.g&&!m.v){m.Y=1;var b=m.Da;Y||C(),K||(Y(),K=!0),D.add(b,m),m.A=0}}function as(m){return m.g||m.v||m.A>=3?!1:(m.Y++,m.v=je(f(m.Da,m),wa(m,m.A)),m.A++,!0)}t.Da=function(){if(this.v=null,yi(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var m=4*this.T;this.j.info("BP detection timer enabled: "+m),this.B=je(f(this.Wa,this),m)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ft(10),tr(this),yi(this))};function Eo(m){m.B!=null&&(l.clearTimeout(m.B),m.B=null)}function yi(m){m.g=new yr(m,m.j,"rpc",m.Y),m.u===null&&(m.g.J=m.o),m.g.P=0;var b=vr(m.na);rt(b,"RID","rpc"),rt(b,"SID",m.M),rt(b,"AID",m.K),rt(b,"CI",m.F?"0":"1"),!m.F&&m.ia&&rt(b,"TO",m.ia),rt(b,"TYPE","xmlhttp"),os(m,b),m.u&&m.o&&ma(b,m.u,m.o),m.O&&(m.g.H=m.O);var _=m.g;m=m.ba,_.M=1,_.A=Rs(vr(b)),_.u=null,_.R=!0,Ll(_,m)}t.Va=function(){this.C!=null&&(this.C=null,tr(this),as(this),ft(19))};function va(m){m.C!=null&&(l.clearTimeout(m.C),m.C=null)}function xa(m,b){var _=null;if(m.g==b){va(m),Eo(m),m.g=null;var k=2}else if(Ul(m.h,b))_=b.G,go(m.h,b),k=1;else return;if(m.I!=0){if(b.o)if(k==1){_=b.u?b.u.length:0,b=Date.now()-b.F;var G=m.D;k=pr(),Je(k,new hi(k,_)),Ms(m)}else pn(m);else if(G=b.m,G==3||G==0&&b.X>0||!(k==1&&td(m,b)||k==2&&as(m)))switch(_&&_.length>0&&(b=m.h,b.i=b.i.concat(_)),G){case 1:nr(m,5);break;case 4:nr(m,10);break;case 3:nr(m,6);break;default:nr(m,2)}}}function wa(m,b){let _=m.Qa+Math.floor(Math.random()*m.Za);return m.isActive()||(_*=2),_*b}function nr(m,b){if(m.j.info("Error code "+b),b==2){var _=f(m.bb,m),k=m.Ua;const G=!k;k=new Jr(k||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||yo(k,"https"),Rs(k),G?ns(k.toString(),_):rs(k.toString(),_)}else ft(2);m.I=0,m.l&&m.l.pa(b),To(m),ya(m)}t.bb=function(m){m?(this.j.info("Successfully pinged google.com"),ft(2)):(this.j.info("Failed to ping google.com"),ft(1))};function To(m){if(m.I=0,m.ja=[],m.l){const b=Jn(m.h);(b.length!=0||m.i.length!=0)&&(S(m.ja,b),S(m.ja,m.i),m.h.i.length=0,E(m.i),m.i.length=0),m.l.oa()}}function Xl(m,b,_){var k=_ instanceof Jr?vr(_):new Jr(_);if(k.g!="")b&&(k.g=b+"."+k.g),Zr(k,k.u);else{var G=l.location;k=G.protocol,b=b?b+"."+G.hostname:G.hostname,G=+G.port;const J=new Jr(null);k&&yo(J,k),b&&(J.g=b),G&&Zr(J,G),_&&(J.h=_),k=J}return _=m.G,b=m.wa,_&&b&&rt(k,_,b),rt(k,"VER",m.ka),os(m,k),k}function nd(m,b,_){if(b&&!m.L)throw Error("Can't create secondary domain capable XhrIo object.");return b=m.Aa&&!m.ma?new lt(new Ps({ab:_})):new lt(m.ma),b.Fa(m.L),b}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function rd(){}t=rd.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function ba(){}ba.prototype.g=function(m,b){return new an(m,b)};function an(m,b){qe.call(this),this.g=new pa(b),this.l=m,this.h=b&&b.messageUrlParams||null,m=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(m?m["X-WebChannel-Content-Type"]=b.messageContentType:m={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.sa&&(m?m["X-WebChannel-Client-Profile"]=b.sa:m={"X-WebChannel-Client-Profile":b.sa}),this.g.U=m,(m=b&&b.Qb)&&!P(m)&&(this.g.u=m),this.A=b&&b.supportsCrossDomainXhr||!1,this.v=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!P(b)&&(this.g.G=b,m=this.h,m!==null&&b in m&&(m=this.h,b in m&&delete m[b])),this.j=new vi(this)}y(an,qe),an.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},an.prototype.close=function(){ga(this.g)},an.prototype.o=function(m){var b=this.g;if(typeof m=="string"){var _={};_.__data__=m,m=_}else this.v&&(_={},_.__data__=Qn(m),m=_);b.i.push(new nm(b.Ya++,m)),b.I==3&&Ms(b)},an.prototype.N=function(){this.g.l=null,delete this.j,ga(this.g),delete this.g,an.Z.N.call(this)};function sd(m){ci.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var b=m.__sm__;if(b){e:{for(const _ in b){m=_;break e}m=void 0}(this.i=m)&&(m=this.i,b=b!==null&&m in b?b[m]:void 0),this.data=b}else this.data=m}y(sd,ci);function id(){ui.call(this),this.status=1}y(id,ui);function vi(m){this.g=m}y(vi,rd),vi.prototype.ra=function(){Je(this.g,"a")},vi.prototype.qa=function(m){Je(this.g,new sd(m))},vi.prototype.pa=function(m){Je(this.g,new id)},vi.prototype.oa=function(){Je(this.g,"b")},ba.prototype.createWebChannel=ba.prototype.g,an.prototype.send=an.prototype.o,an.prototype.open=an.prototype.m,an.prototype.close=an.prototype.close,hI=function(){return new ba},dI=function(){return pr()},uI=Ln,dy={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Xn.NO_ERROR=0,Xn.TIMEOUT=8,Xn.HTTP_ERROR=6,Rh=Xn,Lt.COMPLETE="complete",cI=Lt,Yn.EventType=mr,mr.OPEN="a",mr.CLOSE="b",mr.ERROR="c",mr.MESSAGE="d",qe.prototype.listen=qe.prototype.J,Oc=Yn,lt.prototype.listenOnce=lt.prototype.K,lt.prototype.getLastError=lt.prototype.Ha,lt.prototype.getLastErrorCode=lt.prototype.ya,lt.prototype.getStatus=lt.prototype.ca,lt.prototype.getResponseJson=lt.prototype.La,lt.prototype.getResponseText=lt.prototype.la,lt.prototype.send=lt.prototype.ea,lt.prototype.setWithCredentials=lt.prototype.Fa,lI=lt}).apply(typeof ah<"u"?ah:typeof self<"u"?self:typeof window<"u"?window:{});const l_="@firebase/firestore",c_="4.9.3";class _n{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}_n.UNAUTHENTICATED=new _n(null),_n.GOOGLE_CREDENTIALS=new _n("google-credentials-uid"),_n.FIRST_PARTY=new _n("first-party-uid"),_n.MOCK_USER=new _n("mock-user");let Al="12.7.0";const na=new T0("@firebase/firestore");function Ga(){return na.logLevel}function Ee(t,...e){if(na.logLevel<=Ke.DEBUG){const n=e.map(L0);na.debug(`Firestore (${Al}): ${t}`,...n)}}function si(t,...e){if(na.logLevel<=Ke.ERROR){const n=e.map(L0);na.error(`Firestore (${Al}): ${t}`,...n)}}function ml(t,...e){if(na.logLevel<=Ke.WARN){const n=e.map(L0);na.warn(`Firestore (${Al}): ${t}`,...n)}}function L0(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function Oe(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,fI(t,r,n)}function fI(t,e,n){let r=`FIRESTORE (${Al}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw si(r),new Error(r)}function it(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||fI(e,s,r)}function ze(t,e){return t}const se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class we extends li{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Zs{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class mI{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class V6{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(_n.UNAUTHENTICATED)))}shutdown(){}}class F6{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class U6{constructor(e){this.t=e,this.currentUser=_n.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){it(this.o===void 0,42304);let r=this.i;const s=h=>this.i!==r?(r=this.i,n(h)):Promise.resolve();let a=new Zs;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Zs,e.enqueueRetryable((()=>s(this.currentUser)))};const l=()=>{const h=a;e.enqueueRetryable((async()=>{await h.promise,await s(this.currentUser)}))},d=h=>{Ee("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((h=>d(h))),setTimeout((()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?d(h):(Ee("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Zs)}}),0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(Ee("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(it(typeof r.accessToken=="string",31837,{l:r}),new mI(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return it(e===null||typeof e=="string",2055,{h:e}),new _n(e)}}class B6{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=_n.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class z6{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new B6(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(_n.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class u_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class $6{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ar(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){it(this.o===void 0,3512);const r=a=>{a.error!=null&&Ee("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.m;return this.m=a.token,Ee("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>r(a)))};const s=a=>{Ee("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>s(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?s(a):Ee("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new u_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(it(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new u_(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function H6(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class V0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=H6(40);for(let a=0;a<s.length;++a)r.length<20&&s[a]<n&&(r+=e.charAt(s[a]%62))}return r}}function Qe(t,e){return t<e?-1:t>e?1:0}function hy(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),a=e.charAt(r);if(s!==a)return ag(s)===ag(a)?Qe(s,a):ag(s)?1:-1}return Qe(t.length,e.length)}const q6=55296,W6=57343;function ag(t){const e=t.charCodeAt(0);return e>=q6&&e<=W6}function pl(t,e,n){return t.length===e.length&&t.every(((r,s)=>n(r,e[s])))}const d_="__name__";class ps{constructor(e,n,r){n===void 0?n=0:n>e.length&&Oe(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Oe(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ps.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ps?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const a=ps.compareSegments(e.get(s),n.get(s));if(a!==0)return a}return Qe(e.length,n.length)}static compareSegments(e,n){const r=ps.isNumericId(e),s=ps.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?ps.extractNumericId(e).compare(ps.extractNumericId(n)):hy(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Hi.fromString(e.substring(4,e.length-2))}}class dt extends ps{construct(e,n,r){return new dt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new we(se.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((s=>s.length>0)))}return new dt(n)}static emptyPath(){return new dt([])}}const G6=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class hn extends ps{construct(e,n,r){return new hn(e,n,r)}static isValidIdentifier(e){return G6.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),hn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===d_}static keyField(){return new hn([d_])}static fromServerFormat(e){const n=[];let r="",s=0;const a=()=>{if(r.length===0)throw new we(se.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;s<e.length;){const d=e[s];if(d==="\\"){if(s+1===e.length)throw new we(se.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[s+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new we(se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,s+=2}else d==="`"?(l=!l,s++):d!=="."||l?(r+=d,s++):(a(),s++)}if(a(),l)throw new we(se.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new hn(n)}static emptyPath(){return new hn([])}}class ke{constructor(e){this.path=e}static fromPath(e){return new ke(dt.fromString(e))}static fromName(e){return new ke(dt.fromString(e).popFirst(5))}static empty(){return new ke(dt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&dt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return dt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ke(new dt(e.slice()))}}function pI(t,e,n){if(!n)throw new we(se.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function K6(t,e,n,r){if(e===!0&&r===!0)throw new we(se.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function h_(t){if(!ke.isDocumentKey(t))throw new we(se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function f_(t){if(ke.isDocumentKey(t))throw new we(se.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function gI(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function jf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Oe(12329,{type:typeof t})}function Gn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new we(se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=jf(t);throw new we(se.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function $t(t,e){const n={typeString:t};return e&&(n.value=e),n}function Lu(t,e){if(!gI(t))throw new we(se.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const l=t[r];if(s&&typeof l!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(a!==void 0&&l!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new we(se.INVALID_ARGUMENT,n);return!0}const m_=-62135596800,p_=1e6;class Ge{static now(){return Ge.fromMillis(Date.now())}static fromDate(e){return Ge.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*p_);return new Ge(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new we(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new we(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<m_)throw new we(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new we(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/p_}_compareTo(e){return this.seconds===e.seconds?Qe(this.nanoseconds,e.nanoseconds):Qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ge._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Lu(e,Ge._jsonSchema))return new Ge(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-m_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ge._jsonSchemaVersion="firestore/timestamp/1.0",Ge._jsonSchema={type:$t("string",Ge._jsonSchemaVersion),seconds:$t("number"),nanoseconds:$t("number")};class Ue{static fromTimestamp(e){return new Ue(e)}static min(){return new Ue(new Ge(0,0))}static max(){return new Ue(new Ge(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const uu=-1;function Q6(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Ue.fromTimestamp(r===1e9?new Ge(n+1,0):new Ge(n,r));return new Ki(s,ke.empty(),e)}function Y6(t){return new Ki(t.readTime,t.key,uu)}class Ki{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ki(Ue.min(),ke.empty(),uu)}static max(){return new Ki(Ue.max(),ke.empty(),uu)}}function X6(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ke.comparator(t.documentKey,e.documentKey),n!==0?n:Qe(t.largestBatchId,e.largestBatchId))}const J6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Z6{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function kl(t){if(t.code!==se.FAILED_PRECONDITION||t.message!==J6)throw t;Ee("LocalStore","Unexpectedly lost primary lease")}class oe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Oe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new oe(((r,s)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,s)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,s)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof oe?n:oe.resolve(n)}catch(n){return oe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):oe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):oe.reject(n)}static resolve(e){return new oe(((n,r)=>{n(e)}))}static reject(e){return new oe(((n,r)=>{r(e)}))}static waitFor(e){return new oe(((n,r)=>{let s=0,a=0,l=!1;e.forEach((d=>{++s,d.next((()=>{++a,l&&a===s&&n()}),(h=>r(h)))})),l=!0,a===s&&n()}))}static or(e){let n=oe.resolve(!1);for(const r of e)n=n.next((s=>s?oe.resolve(s):r()));return n}static forEach(e,n){const r=[];return e.forEach(((s,a)=>{r.push(n.call(this,s,a))})),this.waitFor(r)}static mapArray(e,n){return new oe(((r,s)=>{const a=e.length,l=new Array(a);let d=0;for(let h=0;h<a;h++){const f=h;n(e[f]).next((g=>{l[f]=g,++d,d===a&&r(l)}),(g=>s(g)))}}))}static doWhile(e,n){return new oe(((r,s)=>{const a=()=>{e()===!0?n().next((()=>{a()}),s):r()};a()}))}}function eV(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Rl(t){return t.name==="IndexedDbTransactionError"}class Df{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Df.ce=-1;const F0=-1;function Mf(t){return t==null}function af(t){return t===0&&1/t==-1/0}function tV(t){return typeof t=="number"&&Number.isInteger(t)&&!af(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const yI="";function nV(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=g_(e)),e=rV(t.get(n),e);return g_(e)}function rV(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const a=t.charAt(s);switch(a){case"\0":n+="";break;case yI:n+="";break;default:n+=a}}return n}function g_(t){return t+yI+""}function y_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ao(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function vI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Et{constructor(e,n){this.comparator=e,this.root=n||dn.EMPTY}insert(e,n){return new Et(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,dn.BLACK,null,null))}remove(e){return new Et(this.comparator,this.root.remove(e,this.comparator).copy(null,null,dn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new lh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new lh(this.root,e,this.comparator,!1)}getReverseIterator(){return new lh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new lh(this.root,e,this.comparator,!0)}}class lh{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&s&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class dn{constructor(e,n,r,s,a){this.key=e,this.value=n,this.color=r??dn.RED,this.left=s??dn.EMPTY,this.right=a??dn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,a){return new dn(e??this.key,n??this.value,r??this.color,s??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const a=r(e,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(e,n,r),null):a===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return dn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return dn.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,dn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,dn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Oe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Oe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Oe(27949);return e+(this.isRed()?0:1)}}dn.EMPTY=null,dn.RED=!0,dn.BLACK=!1;dn.EMPTY=new class{constructor(){this.size=0}get key(){throw Oe(57766)}get value(){throw Oe(16141)}get color(){throw Oe(16727)}get left(){throw Oe(29726)}get right(){throw Oe(36894)}copy(e,n,r,s,a){return this}insert(e,n,r){return new dn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Wt{constructor(e){this.comparator=e,this.data=new Et(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new v_(this.data.getIterator())}getIteratorFrom(e){return new v_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Wt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,a=r.getNext().key;if(this.comparator(s,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Wt(this.comparator);return n.data=e,n}}class v_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class lr{constructor(e){this.fields=e,e.sort(hn.comparator)}static empty(){return new lr([])}unionWith(e){let n=new Wt(hn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new lr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return pl(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}class xI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class fn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new xI("Invalid base64 string: "+a):a}})(e);return new fn(n)}static fromUint8Array(e){const n=(function(s){let a="";for(let l=0;l<s.length;++l)a+=String.fromCharCode(s[l]);return a})(e);return new fn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}fn.EMPTY_BYTE_STRING=new fn("");const sV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qi(t){if(it(!!t,39018),typeof t=="string"){let e=0;const n=sV.exec(t);if(it(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Mt(t.seconds),nanos:Mt(t.nanos)}}function Mt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Yi(t){return typeof t=="string"?fn.fromBase64String(t):fn.fromUint8Array(t)}const wI="server_timestamp",bI="__type__",_I="__previous_value__",EI="__local_write_time__";function U0(t){return(t?.mapValue?.fields||{})[bI]?.stringValue===wI}function Of(t){const e=t.mapValue.fields[_I];return U0(e)?Of(e):e}function du(t){const e=Qi(t.mapValue.fields[EI].timestampValue);return new Ge(e.seconds,e.nanos)}class iV{constructor(e,n,r,s,a,l,d,h,f,g){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=d,this.longPollingOptions=h,this.useFetchStreams=f,this.isUsingEmulator=g}}const lf="(default)";class hu{constructor(e,n){this.projectId=e,this.database=n||lf}static empty(){return new hu("","")}get isDefaultDatabase(){return this.database===lf}isEqual(e){return e instanceof hu&&e.projectId===this.projectId&&e.database===this.database}}const TI="__type__",oV="__max__",ch={mapValue:{}},SI="__vector__",cf="value";function Xi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?U0(t)?4:lV(t)?9007199254740991:aV(t)?10:11:Oe(28295,{value:t})}function Ns(t,e){if(t===e)return!0;const n=Xi(t);if(n!==Xi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return du(t).isEqual(du(e));case 3:return(function(s,a){if(typeof s.timestampValue=="string"&&typeof a.timestampValue=="string"&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const l=Qi(s.timestampValue),d=Qi(a.timestampValue);return l.seconds===d.seconds&&l.nanos===d.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(s,a){return Yi(s.bytesValue).isEqual(Yi(a.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(s,a){return Mt(s.geoPointValue.latitude)===Mt(a.geoPointValue.latitude)&&Mt(s.geoPointValue.longitude)===Mt(a.geoPointValue.longitude)})(t,e);case 2:return(function(s,a){if("integerValue"in s&&"integerValue"in a)return Mt(s.integerValue)===Mt(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const l=Mt(s.doubleValue),d=Mt(a.doubleValue);return l===d?af(l)===af(d):isNaN(l)&&isNaN(d)}return!1})(t,e);case 9:return pl(t.arrayValue.values||[],e.arrayValue.values||[],Ns);case 10:case 11:return(function(s,a){const l=s.mapValue.fields||{},d=a.mapValue.fields||{};if(y_(l)!==y_(d))return!1;for(const h in l)if(l.hasOwnProperty(h)&&(d[h]===void 0||!Ns(l[h],d[h])))return!1;return!0})(t,e);default:return Oe(52216,{left:t})}}function fu(t,e){return(t.values||[]).find((n=>Ns(n,e)))!==void 0}function gl(t,e){if(t===e)return 0;const n=Xi(t),r=Xi(e);if(n!==r)return Qe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Qe(t.booleanValue,e.booleanValue);case 2:return(function(a,l){const d=Mt(a.integerValue||a.doubleValue),h=Mt(l.integerValue||l.doubleValue);return d<h?-1:d>h?1:d===h?0:isNaN(d)?isNaN(h)?0:-1:1})(t,e);case 3:return x_(t.timestampValue,e.timestampValue);case 4:return x_(du(t),du(e));case 5:return hy(t.stringValue,e.stringValue);case 6:return(function(a,l){const d=Yi(a),h=Yi(l);return d.compareTo(h)})(t.bytesValue,e.bytesValue);case 7:return(function(a,l){const d=a.split("/"),h=l.split("/");for(let f=0;f<d.length&&f<h.length;f++){const g=Qe(d[f],h[f]);if(g!==0)return g}return Qe(d.length,h.length)})(t.referenceValue,e.referenceValue);case 8:return(function(a,l){const d=Qe(Mt(a.latitude),Mt(l.latitude));return d!==0?d:Qe(Mt(a.longitude),Mt(l.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return w_(t.arrayValue,e.arrayValue);case 10:return(function(a,l){const d=a.fields||{},h=l.fields||{},f=d[cf]?.arrayValue,g=h[cf]?.arrayValue,y=Qe(f?.values?.length||0,g?.values?.length||0);return y!==0?y:w_(f,g)})(t.mapValue,e.mapValue);case 11:return(function(a,l){if(a===ch.mapValue&&l===ch.mapValue)return 0;if(a===ch.mapValue)return 1;if(l===ch.mapValue)return-1;const d=a.fields||{},h=Object.keys(d),f=l.fields||{},g=Object.keys(f);h.sort(),g.sort();for(let y=0;y<h.length&&y<g.length;++y){const x=hy(h[y],g[y]);if(x!==0)return x;const E=gl(d[h[y]],f[g[y]]);if(E!==0)return E}return Qe(h.length,g.length)})(t.mapValue,e.mapValue);default:throw Oe(23264,{he:n})}}function x_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Qe(t,e);const n=Qi(t),r=Qi(e),s=Qe(n.seconds,r.seconds);return s!==0?s:Qe(n.nanos,r.nanos)}function w_(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const a=gl(n[s],r[s]);if(a)return a}return Qe(n.length,r.length)}function yl(t){return fy(t)}function fy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=Qi(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Yi(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return ke.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",s=!0;for(const a of n.values||[])s?s=!1:r+=",",r+=fy(a);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let s="{",a=!0;for(const l of r)a?a=!1:s+=",",s+=`${l}:${fy(n.fields[l])}`;return s+"}"})(t.mapValue):Oe(61005,{value:t})}function Ph(t){switch(Xi(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Of(t);return e?16+Ph(e):16;case 5:return 2*t.stringValue.length;case 6:return Yi(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((s,a)=>s+Ph(a)),0)})(t.arrayValue);case 10:case 11:return(function(r){let s=0;return ao(r.fields,((a,l)=>{s+=a.length+Ph(l)})),s})(t.mapValue);default:throw Oe(13486,{value:t})}}function b_(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function my(t){return!!t&&"integerValue"in t}function B0(t){return!!t&&"arrayValue"in t}function __(t){return!!t&&"nullValue"in t}function E_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function jh(t){return!!t&&"mapValue"in t}function aV(t){return(t?.mapValue?.fields||{})[TI]?.stringValue===SI}function Qc(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return ao(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Qc(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Qc(t.arrayValue.values[n]);return e}return{...t}}function lV(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===oV}class Wn{constructor(e){this.value=e}static empty(){return new Wn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!jh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Qc(n)}setAll(e){let n=hn.emptyPath(),r={},s=[];e.forEach(((l,d)=>{if(!n.isImmediateParentOf(d)){const h=this.getFieldsMap(n);this.applyChanges(h,r,s),r={},s=[],n=d.popLast()}l?r[d.lastSegment()]=Qc(l):s.push(d.lastSegment())}));const a=this.getFieldsMap(n);this.applyChanges(a,r,s)}delete(e){const n=this.field(e.popLast());jh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ns(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];jh(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){ao(n,((s,a)=>e[s]=a));for(const s of r)delete e[s]}clone(){return new Wn(Qc(this.value))}}function II(t){const e=[];return ao(t.fields,((n,r)=>{const s=new hn([n]);if(jh(r)){const a=II(r.mapValue).fields;if(a.length===0)e.push(s);else for(const l of a)e.push(s.child(l))}else e.push(s)})),new lr(e)}class En{constructor(e,n,r,s,a,l,d){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=a,this.data=l,this.documentState=d}static newInvalidDocument(e){return new En(e,0,Ue.min(),Ue.min(),Ue.min(),Wn.empty(),0)}static newFoundDocument(e,n,r,s){return new En(e,1,n,Ue.min(),r,s,0)}static newNoDocument(e,n){return new En(e,2,n,Ue.min(),Ue.min(),Wn.empty(),0)}static newUnknownDocument(e,n){return new En(e,3,n,Ue.min(),Ue.min(),Wn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ue.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Wn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Wn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ue.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof En&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new En(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class uf{constructor(e,n){this.position=e,this.inclusive=n}}function T_(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const a=e[s],l=t.position[s];if(a.field.isKeyField()?r=ke.comparator(ke.fromName(l.referenceValue),n.key):r=gl(l,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function S_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ns(t.position[n],e.position[n]))return!1;return!0}class mu{constructor(e,n="asc"){this.field=e,this.dir=n}}function cV(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class CI{}class zt extends CI{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new dV(e,n,r):n==="array-contains"?new mV(e,r):n==="in"?new pV(e,r):n==="not-in"?new gV(e,r):n==="array-contains-any"?new yV(e,r):new zt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new hV(e,r):new fV(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(gl(n,this.value)):n!==null&&Xi(this.value)===Xi(n)&&this.matchesComparison(gl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Oe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Qr extends CI{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Qr(e,n)}matches(e){return NI(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function NI(t){return t.op==="and"}function AI(t){return uV(t)&&NI(t)}function uV(t){for(const e of t.filters)if(e instanceof Qr)return!1;return!0}function py(t){if(t instanceof zt)return t.field.canonicalString()+t.op.toString()+yl(t.value);if(AI(t))return t.filters.map((e=>py(e))).join(",");{const e=t.filters.map((n=>py(n))).join(",");return`${t.op}(${e})`}}function kI(t,e){return t instanceof zt?(function(r,s){return s instanceof zt&&r.op===s.op&&r.field.isEqual(s.field)&&Ns(r.value,s.value)})(t,e):t instanceof Qr?(function(r,s){return s instanceof Qr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce(((a,l,d)=>a&&kI(l,s.filters[d])),!0):!1})(t,e):void Oe(19439)}function RI(t){return t instanceof zt?(function(n){return`${n.field.canonicalString()} ${n.op} ${yl(n.value)}`})(t):t instanceof Qr?(function(n){return n.op.toString()+" {"+n.getFilters().map(RI).join(" ,")+"}"})(t):"Filter"}class dV extends zt{constructor(e,n,r){super(e,n,r),this.key=ke.fromName(r.referenceValue)}matches(e){const n=ke.comparator(e.key,this.key);return this.matchesComparison(n)}}class hV extends zt{constructor(e,n){super(e,"in",n),this.keys=PI("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class fV extends zt{constructor(e,n){super(e,"not-in",n),this.keys=PI("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function PI(t,e){return(e.arrayValue?.values||[]).map((n=>ke.fromName(n.referenceValue)))}class mV extends zt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return B0(n)&&fu(n.arrayValue,this.value)}}class pV extends zt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&fu(this.value.arrayValue,n)}}class gV extends zt{constructor(e,n){super(e,"not-in",n)}matches(e){if(fu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!fu(this.value.arrayValue,n)}}class yV extends zt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!B0(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>fu(this.value.arrayValue,r)))}}class vV{constructor(e,n=null,r=[],s=[],a=null,l=null,d=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=a,this.startAt=l,this.endAt=d,this.Te=null}}function I_(t,e=null,n=[],r=[],s=null,a=null,l=null){return new vV(t,e,n,r,s,a,l)}function z0(t){const e=ze(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>py(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(a){return a.field.canonicalString()+a.dir})(r))).join(","),Mf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>yl(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>yl(r))).join(",")),e.Te=n}return e.Te}function $0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!cV(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!kI(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!S_(t.startAt,e.startAt)&&S_(t.endAt,e.endAt)}function gy(t){return ke.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class Pl{constructor(e,n=null,r=[],s=[],a=null,l="F",d=null,h=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=a,this.limitType=l,this.startAt=d,this.endAt=h,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function xV(t,e,n,r,s,a,l,d){return new Pl(t,e,n,r,s,a,l,d)}function Lf(t){return new Pl(t)}function C_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function jI(t){return t.collectionGroup!==null}function Yc(t){const e=ze(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let d=new Wt(hn.comparator);return l.filters.forEach((h=>{h.getFlattenedFilters().forEach((f=>{f.isInequality()&&(d=d.add(f.field))}))})),d})(e).forEach((a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new mu(a,r))})),n.has(hn.keyField().canonicalString())||e.Ie.push(new mu(hn.keyField(),r))}return e.Ie}function Es(t){const e=ze(t);return e.Ee||(e.Ee=wV(e,Yc(t))),e.Ee}function wV(t,e){if(t.limitType==="F")return I_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((s=>{const a=s.dir==="desc"?"asc":"desc";return new mu(s.field,a)}));const n=t.endAt?new uf(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new uf(t.startAt.position,t.startAt.inclusive):null;return I_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function yy(t,e){const n=t.filters.concat([e]);return new Pl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function vy(t,e,n){return new Pl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Vf(t,e){return $0(Es(t),Es(e))&&t.limitType===e.limitType}function DI(t){return`${z0(Es(t))}|lt:${t.limitType}`}function Ka(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((s=>RI(s))).join(", ")}]`),Mf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((s=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(s))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((s=>yl(s))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((s=>yl(s))).join(",")),`Target(${r})`})(Es(t))}; limitType=${t.limitType})`}function Ff(t,e){return e.isFoundDocument()&&(function(r,s){const a=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):ke.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)})(t,e)&&(function(r,s){for(const a of Yc(r))if(!a.field.isKeyField()&&s.data.field(a.field)===null)return!1;return!0})(t,e)&&(function(r,s){for(const a of r.filters)if(!a.matches(s))return!1;return!0})(t,e)&&(function(r,s){return!(r.startAt&&!(function(l,d,h){const f=T_(l,d,h);return l.inclusive?f<=0:f<0})(r.startAt,Yc(r),s)||r.endAt&&!(function(l,d,h){const f=T_(l,d,h);return l.inclusive?f>=0:f>0})(r.endAt,Yc(r),s))})(t,e)}function bV(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function MI(t){return(e,n)=>{let r=!1;for(const s of Yc(t)){const a=_V(s,e,n);if(a!==0)return a;r=r||s.field.isKeyField()}return 0}}function _V(t,e,n){const r=t.field.isKeyField()?ke.comparator(e.key,n.key):(function(a,l,d){const h=l.data.field(a),f=d.data.field(a);return h!==null&&f!==null?gl(h,f):Oe(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Oe(19790,{direction:t.dir})}}class aa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,a]of r)if(this.equalsFn(s,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return void(s[a]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){ao(this.inner,((n,r)=>{for(const[s,a]of r)e(s,a)}))}isEmpty(){return vI(this.inner)}size(){return this.innerSize}}const EV=new Et(ke.comparator);function ii(){return EV}const OI=new Et(ke.comparator);function Lc(...t){let e=OI;for(const n of t)e=e.insert(n.key,n);return e}function LI(t){let e=OI;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Ho(){return Xc()}function VI(){return Xc()}function Xc(){return new aa((t=>t.toString()),((t,e)=>t.isEqual(e)))}const TV=new Et(ke.comparator),SV=new Wt(ke.comparator);function Ye(...t){let e=SV;for(const n of t)e=e.add(n);return e}const IV=new Wt(Qe);function CV(){return IV}function H0(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:af(e)?"-0":e}}function FI(t){return{integerValue:""+t}}function UI(t,e){return tV(e)?FI(e):H0(t,e)}class Uf{constructor(){this._=void 0}}function NV(t,e,n){return t instanceof pu?(function(s,a){const l={fields:{[bI]:{stringValue:wI},[EI]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&U0(a)&&(a=Of(a)),a&&(l.fields[_I]=a),{mapValue:l}})(n,e):t instanceof gu?zI(t,e):t instanceof yu?$I(t,e):(function(s,a){const l=BI(s,a),d=N_(l)+N_(s.Ae);return my(l)&&my(s.Ae)?FI(d):H0(s.serializer,d)})(t,e)}function AV(t,e,n){return t instanceof gu?zI(t,e):t instanceof yu?$I(t,e):n}function BI(t,e){return t instanceof vu?(function(r){return my(r)||(function(a){return!!a&&"doubleValue"in a})(r)})(e)?e:{integerValue:0}:null}class pu extends Uf{}class gu extends Uf{constructor(e){super(),this.elements=e}}function zI(t,e){const n=HI(e);for(const r of t.elements)n.some((s=>Ns(s,r)))||n.push(r);return{arrayValue:{values:n}}}class yu extends Uf{constructor(e){super(),this.elements=e}}function $I(t,e){let n=HI(e);for(const r of t.elements)n=n.filter((s=>!Ns(s,r)));return{arrayValue:{values:n}}}class vu extends Uf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function N_(t){return Mt(t.integerValue||t.doubleValue)}function HI(t){return B0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class qI{constructor(e,n){this.field=e,this.transform=n}}function kV(t,e){return t.field.isEqual(e.field)&&(function(r,s){return r instanceof gu&&s instanceof gu||r instanceof yu&&s instanceof yu?pl(r.elements,s.elements,Ns):r instanceof vu&&s instanceof vu?Ns(r.Ae,s.Ae):r instanceof pu&&s instanceof pu})(t.transform,e.transform)}class RV{constructor(e,n){this.version=e,this.transformResults=n}}class Ar{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ar}static exists(e){return new Ar(void 0,e)}static updateTime(e){return new Ar(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Dh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Bf{}function WI(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new q0(t.key,Ar.none()):new Vu(t.key,t.data,Ar.none());{const n=t.data,r=Wn.empty();let s=new Wt(hn.comparator);for(let a of e.fields)if(!s.has(a)){let l=n.field(a);l===null&&a.length>1&&(a=a.popLast(),l=n.field(a)),l===null?r.delete(a):r.set(a,l),s=s.add(a)}return new lo(t.key,r,new lr(s.toArray()),Ar.none())}}function PV(t,e,n){t instanceof Vu?(function(s,a,l){const d=s.value.clone(),h=k_(s.fieldTransforms,a,l.transformResults);d.setAll(h),a.convertToFoundDocument(l.version,d).setHasCommittedMutations()})(t,e,n):t instanceof lo?(function(s,a,l){if(!Dh(s.precondition,a))return void a.convertToUnknownDocument(l.version);const d=k_(s.fieldTransforms,a,l.transformResults),h=a.data;h.setAll(GI(s)),h.setAll(d),a.convertToFoundDocument(l.version,h).setHasCommittedMutations()})(t,e,n):(function(s,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,n)}function Jc(t,e,n,r){return t instanceof Vu?(function(a,l,d,h){if(!Dh(a.precondition,l))return d;const f=a.value.clone(),g=R_(a.fieldTransforms,h,l);return f.setAll(g),l.convertToFoundDocument(l.version,f).setHasLocalMutations(),null})(t,e,n,r):t instanceof lo?(function(a,l,d,h){if(!Dh(a.precondition,l))return d;const f=R_(a.fieldTransforms,h,l),g=l.data;return g.setAll(GI(a)),g.setAll(f),l.convertToFoundDocument(l.version,g).setHasLocalMutations(),d===null?null:d.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((y=>y.field)))})(t,e,n,r):(function(a,l,d){return Dh(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):d})(t,e,n)}function jV(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),a=BI(r.transform,s||null);a!=null&&(n===null&&(n=Wn.empty()),n.set(r.field,a))}return n||null}function A_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&pl(r,s,((a,l)=>kV(a,l)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Vu extends Bf{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class lo extends Bf{constructor(e,n,r,s,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function GI(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function k_(t,e,n){const r=new Map;it(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const a=t[s],l=a.transform,d=e.data.field(a.field);r.set(a.field,AV(l,d,n[s]))}return r}function R_(t,e,n){const r=new Map;for(const s of t){const a=s.transform,l=n.data.field(s.field);r.set(s.field,NV(a,l,e))}return r}class q0 extends Bf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class DV extends Bf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class MV{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const a=this.mutations[s];a.key.isEqual(e.key)&&PV(a,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Jc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Jc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=VI();return this.mutations.forEach((s=>{const a=e.get(s.key),l=a.overlayedDocument;let d=this.applyToLocalView(l,a.mutatedFields);d=n.has(s.key)?null:d;const h=WI(l,d);h!==null&&r.set(s.key,h),l.isValidDocument()||l.convertToNoDocument(Ue.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ye())}isEqual(e){return this.batchId===e.batchId&&pl(this.mutations,e.mutations,((n,r)=>A_(n,r)))&&pl(this.baseMutations,e.baseMutations,((n,r)=>A_(n,r)))}}class W0{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){it(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=(function(){return TV})();const a=e.mutations;for(let l=0;l<a.length;l++)s=s.insert(a[l].key,r[l].version);return new W0(e,n,r,s)}}class OV{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class LV{constructor(e,n){this.count=e,this.unchangedNames=n}}var Ut,Ze;function VV(t){switch(t){case se.OK:return Oe(64938);case se.CANCELLED:case se.UNKNOWN:case se.DEADLINE_EXCEEDED:case se.RESOURCE_EXHAUSTED:case se.INTERNAL:case se.UNAVAILABLE:case se.UNAUTHENTICATED:return!1;case se.INVALID_ARGUMENT:case se.NOT_FOUND:case se.ALREADY_EXISTS:case se.PERMISSION_DENIED:case se.FAILED_PRECONDITION:case se.ABORTED:case se.OUT_OF_RANGE:case se.UNIMPLEMENTED:case se.DATA_LOSS:return!0;default:return Oe(15467,{code:t})}}function KI(t){if(t===void 0)return si("GRPC error has no .code"),se.UNKNOWN;switch(t){case Ut.OK:return se.OK;case Ut.CANCELLED:return se.CANCELLED;case Ut.UNKNOWN:return se.UNKNOWN;case Ut.DEADLINE_EXCEEDED:return se.DEADLINE_EXCEEDED;case Ut.RESOURCE_EXHAUSTED:return se.RESOURCE_EXHAUSTED;case Ut.INTERNAL:return se.INTERNAL;case Ut.UNAVAILABLE:return se.UNAVAILABLE;case Ut.UNAUTHENTICATED:return se.UNAUTHENTICATED;case Ut.INVALID_ARGUMENT:return se.INVALID_ARGUMENT;case Ut.NOT_FOUND:return se.NOT_FOUND;case Ut.ALREADY_EXISTS:return se.ALREADY_EXISTS;case Ut.PERMISSION_DENIED:return se.PERMISSION_DENIED;case Ut.FAILED_PRECONDITION:return se.FAILED_PRECONDITION;case Ut.ABORTED:return se.ABORTED;case Ut.OUT_OF_RANGE:return se.OUT_OF_RANGE;case Ut.UNIMPLEMENTED:return se.UNIMPLEMENTED;case Ut.DATA_LOSS:return se.DATA_LOSS;default:return Oe(39323,{code:t})}}(Ze=Ut||(Ut={}))[Ze.OK=0]="OK",Ze[Ze.CANCELLED=1]="CANCELLED",Ze[Ze.UNKNOWN=2]="UNKNOWN",Ze[Ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ze[Ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ze[Ze.NOT_FOUND=5]="NOT_FOUND",Ze[Ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ze[Ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ze[Ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ze[Ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ze[Ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ze[Ze.ABORTED=10]="ABORTED",Ze[Ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ze[Ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ze[Ze.INTERNAL=13]="INTERNAL",Ze[Ze.UNAVAILABLE=14]="UNAVAILABLE",Ze[Ze.DATA_LOSS=15]="DATA_LOSS";function FV(){return new TextEncoder}const UV=new Hi([4294967295,4294967295],0);function P_(t){const e=FV().encode(t),n=new aI;return n.update(e),new Uint8Array(n.digest())}function j_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Hi([n,r],0),new Hi([s,a],0)]}class G0{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Vc(`Invalid padding: ${n}`);if(r<0)throw new Vc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Vc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Vc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Hi.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(Hi.fromNumber(r)));return s.compare(UV)===1&&(s=new Hi([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=P_(e),[r,s]=j_(n);for(let a=0;a<this.hashCount;a++){const l=this.ye(r,s,a);if(!this.we(l))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new G0(a,s,n);return r.forEach((d=>l.insert(d))),l}insert(e){if(this.ge===0)return;const n=P_(e),[r,s]=j_(n);for(let a=0;a<this.hashCount;a++){const l=this.ye(r,s,a);this.Se(l)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Vc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class zf{constructor(e,n,r,s,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Fu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new zf(Ue.min(),s,new Et(Qe),ii(),Ye())}}class Fu{constructor(e,n,r,s,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Fu(r,n,Ye(),Ye(),Ye())}}class Mh{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class QI{constructor(e,n){this.targetId=e,this.Ce=n}}class YI{constructor(e,n,r=fn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class D_{constructor(){this.ve=0,this.Fe=M_(),this.Me=fn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ye(),n=Ye(),r=Ye();return this.Fe.forEach(((s,a)=>{switch(a){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Oe(38017,{changeType:a})}})),new Fu(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=M_()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,it(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class BV{constructor(e){this.Ge=e,this.ze=new Map,this.je=ii(),this.Je=uh(),this.He=uh(),this.Ye=new Et(Qe)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Oe(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,s)=>{this.rt(s)&&n(s)}))}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const a=s.target;if(gy(a))if(r===0){const l=new ke(a.path);this.et(n,l,En.newNoDocument(l,Ue.min()))}else it(r===1,20013,{expectedCount:r});else{const l=this._t(n);if(l!==r){const d=this.ut(e),h=d?this.ct(d,e,l):1;if(h!==0){this.it(n);const f=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,f)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:a=0}=n;let l,d;try{l=Yi(r).toUint8Array()}catch(h){if(h instanceof xI)return ml("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{d=new G0(l,s,a)}catch(h){return ml(h instanceof Vc?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return d.ge===0?null:d}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach((a=>{const l=this.Ge.ht(),d=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;e.mightContain(d)||(this.et(n,a,null),s++)})),s}Tt(e){const n=new Map;this.ze.forEach(((a,l)=>{const d=this.ot(l);if(d){if(a.current&&gy(d.target)){const h=new ke(d.target.path);this.It(h).has(l)||this.Et(l,h)||this.et(l,h,En.newNoDocument(h,e))}a.Be&&(n.set(l,a.ke()),a.qe())}}));let r=Ye();this.He.forEach(((a,l)=>{let d=!0;l.forEachWhile((h=>{const f=this.ot(h);return!f||f.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(r=r.add(a))})),this.je.forEach(((a,l)=>l.setReadTime(e)));const s=new zf(e,n,this.Ye,this.je,r);return this.je=ii(),this.Je=uh(),this.He=uh(),this.Ye=new Et(Qe),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new D_,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Wt(Qe),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Wt(Qe),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Ee("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new D_),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function uh(){return new Et(ke.comparator)}function M_(){return new Et(ke.comparator)}const zV={asc:"ASCENDING",desc:"DESCENDING"},$V={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},HV={and:"AND",or:"OR"};class qV{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function xy(t,e){return t.useProto3Json||Mf(e)?e:{value:e}}function df(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function XI(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function WV(t,e){return df(t,e.toTimestamp())}function Ts(t){return it(!!t,49232),Ue.fromTimestamp((function(n){const r=Qi(n);return new Ge(r.seconds,r.nanos)})(t))}function K0(t,e){return wy(t,e).canonicalString()}function wy(t,e){const n=(function(s){return new dt(["projects",s.projectId,"databases",s.database])})(t).child("documents");return e===void 0?n:n.child(e)}function JI(t){const e=dt.fromString(t);return it(rC(e),10190,{key:e.toString()}),e}function by(t,e){return K0(t.databaseId,e.path)}function lg(t,e){const n=JI(e);if(n.get(1)!==t.databaseId.projectId)throw new we(se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new we(se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ke(eC(n))}function ZI(t,e){return K0(t.databaseId,e)}function GV(t){const e=JI(t);return e.length===4?dt.emptyPath():eC(e)}function _y(t){return new dt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function eC(t){return it(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function O_(t,e,n){return{name:by(t,e),fields:n.value.mapValue.fields}}function KV(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:Oe(39313,{state:f})})(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],a=(function(f,g){return f.useProto3Json?(it(g===void 0||typeof g=="string",58123),fn.fromBase64String(g||"")):(it(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),fn.fromUint8Array(g||new Uint8Array))})(t,e.targetChange.resumeToken),l=e.targetChange.cause,d=l&&(function(f){const g=f.code===void 0?se.UNKNOWN:KI(f.code);return new we(g,f.message||"")})(l);n=new YI(r,s,a,d||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=lg(t,r.document.name),a=Ts(r.document.updateTime),l=r.document.createTime?Ts(r.document.createTime):Ue.min(),d=new Wn({mapValue:{fields:r.document.fields}}),h=En.newFoundDocument(s,a,l,d),f=r.targetIds||[],g=r.removedTargetIds||[];n=new Mh(f,g,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=lg(t,r.document),a=r.readTime?Ts(r.readTime):Ue.min(),l=En.newNoDocument(s,a),d=r.removedTargetIds||[];n=new Mh([],d,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=lg(t,r.document),a=r.removedTargetIds||[];n=new Mh([],a,s,null)}else{if(!("filter"in e))return Oe(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:a}=r,l=new LV(s,a),d=r.targetId;n=new QI(d,l)}}return n}function QV(t,e){let n;if(e instanceof Vu)n={update:O_(t,e.key,e.value)};else if(e instanceof q0)n={delete:by(t,e.key)};else if(e instanceof lo)n={update:O_(t,e.key,e.data),updateMask:sF(e.fieldMask)};else{if(!(e instanceof DV))return Oe(16599,{Vt:e.type});n={verify:by(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(a,l){const d=l.transform;if(d instanceof pu)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof gu)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof yu)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof vu)return{fieldPath:l.field.canonicalString(),increment:d.Ae};throw Oe(20930,{transform:l.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(s,a){return a.updateTime!==void 0?{updateTime:WV(s,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Oe(27497)})(t,e.precondition)),n}function YV(t,e){return t&&t.length>0?(it(e!==void 0,14353),t.map((n=>(function(s,a){let l=s.updateTime?Ts(s.updateTime):Ts(a);return l.isEqual(Ue.min())&&(l=Ts(a)),new RV(l,s.transformResults||[])})(n,e)))):[]}function XV(t,e){return{documents:[ZI(t,e.path)]}}function JV(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=ZI(t,s);const a=(function(f){if(f.length!==0)return nC(Qr.create(f,"and"))})(e.filters);a&&(n.structuredQuery.where=a);const l=(function(f){if(f.length!==0)return f.map((g=>(function(x){return{field:Qa(x.field),direction:tF(x.dir)}})(g)))})(e.orderBy);l&&(n.structuredQuery.orderBy=l);const d=xy(t,e.limit);return d!==null&&(n.structuredQuery.limit=d),e.startAt&&(n.structuredQuery.startAt=(function(f){return{before:f.inclusive,values:f.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(f){return{before:!f.inclusive,values:f.position}})(e.endAt)),{ft:n,parent:s}}function ZV(t){let e=GV(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){it(r===1,65062);const g=n.from[0];g.allDescendants?s=g.collectionId:e=e.child(g.collectionId)}let a=[];n.where&&(a=(function(y){const x=tC(y);return x instanceof Qr&&AI(x)?x.getFilters():[x]})(n.where));let l=[];n.orderBy&&(l=(function(y){return y.map((x=>(function(S){return new mu(Ya(S.field),(function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(S.direction))})(x)))})(n.orderBy));let d=null;n.limit&&(d=(function(y){let x;return x=typeof y=="object"?y.value:y,Mf(x)?null:x})(n.limit));let h=null;n.startAt&&(h=(function(y){const x=!!y.before,E=y.values||[];return new uf(E,x)})(n.startAt));let f=null;return n.endAt&&(f=(function(y){const x=!y.before,E=y.values||[];return new uf(E,x)})(n.endAt)),xV(e,s,l,a,d,"F",h,f)}function eF(t,e){const n=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Oe(28987,{purpose:s})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function tC(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ya(n.unaryFilter.field);return zt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Ya(n.unaryFilter.field);return zt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Ya(n.unaryFilter.field);return zt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Ya(n.unaryFilter.field);return zt.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Oe(61313);default:return Oe(60726)}})(t):t.fieldFilter!==void 0?(function(n){return zt.create(Ya(n.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Oe(58110);default:return Oe(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Qr.create(n.compositeFilter.filters.map((r=>tC(r))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Oe(1026)}})(n.compositeFilter.op))})(t):Oe(30097,{filter:t})}function tF(t){return zV[t]}function nF(t){return $V[t]}function rF(t){return HV[t]}function Qa(t){return{fieldPath:t.canonicalString()}}function Ya(t){return hn.fromServerFormat(t.fieldPath)}function nC(t){return t instanceof zt?(function(n){if(n.op==="=="){if(E_(n.value))return{unaryFilter:{field:Qa(n.field),op:"IS_NAN"}};if(__(n.value))return{unaryFilter:{field:Qa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(E_(n.value))return{unaryFilter:{field:Qa(n.field),op:"IS_NOT_NAN"}};if(__(n.value))return{unaryFilter:{field:Qa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Qa(n.field),op:nF(n.op),value:n.value}}})(t):t instanceof Qr?(function(n){const r=n.getFilters().map((s=>nC(s)));return r.length===1?r[0]:{compositeFilter:{op:rF(n.op),filters:r}}})(t):Oe(54877,{filter:t})}function sF(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function rC(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}class Ui{constructor(e,n,r,s,a=Ue.min(),l=Ue.min(),d=fn.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=d,this.expectedCount=h}withSequenceNumber(e){return new Ui(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ui(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ui(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ui(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class iF{constructor(e){this.yt=e}}function oF(t){const e=ZV({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?vy(e,e.limit,"L"):e}class aF{constructor(){this.Cn=new lF}addToCollectionParentIndex(e,n){return this.Cn.add(n),oe.resolve()}getCollectionParents(e,n){return oe.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return oe.resolve()}deleteFieldIndex(e,n){return oe.resolve()}deleteAllFieldIndexes(e){return oe.resolve()}createTargetIndexes(e,n){return oe.resolve()}getDocumentsMatchingTarget(e,n){return oe.resolve(null)}getIndexType(e,n){return oe.resolve(0)}getFieldIndexes(e,n){return oe.resolve([])}getNextCollectionGroupToUpdate(e){return oe.resolve(null)}getMinOffset(e,n){return oe.resolve(Ki.min())}getMinOffsetFromCollectionGroup(e,n){return oe.resolve(Ki.min())}updateCollectionGroup(e,n,r){return oe.resolve()}updateIndexEntries(e,n){return oe.resolve()}}class lF{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Wt(dt.comparator),a=!s.has(r);return this.index[n]=s.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Wt(dt.comparator)).toArray()}}const L_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},sC=41943040;class qn{static withCacheSize(e){return new qn(e,qn.DEFAULT_COLLECTION_PERCENTILE,qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}qn.DEFAULT_COLLECTION_PERCENTILE=10,qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,qn.DEFAULT=new qn(sC,qn.DEFAULT_COLLECTION_PERCENTILE,qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),qn.DISABLED=new qn(-1,0,0);class vl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new vl(0)}static cr(){return new vl(-1)}}const V_="LruGarbageCollector",cF=1048576;function F_([t,e],[n,r]){const s=Qe(t,n);return s===0?Qe(e,r):s}class uF{constructor(e){this.Ir=e,this.buffer=new Wt(F_),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();F_(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class dF{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Ee(V_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Rl(n)?Ee(V_,"Ignoring IndexedDB error during garbage collection: ",n):await kl(n)}await this.Vr(3e5)}))}}class hF{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return oe.resolve(Df.ce);const r=new uF(n);return this.mr.forEachTarget(e,(s=>r.Ar(s.sequenceNumber))).next((()=>this.mr.pr(e,(s=>r.Ar(s))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Ee("LruGarbageCollector","Garbage collection skipped; disabled"),oe.resolve(L_)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(Ee("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),L_):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,a,l,d,h,f;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((y=>(y>this.params.maximumSequenceNumbersToCollect?(Ee("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${y}`),s=this.params.maximumSequenceNumbersToCollect):s=y,l=Date.now(),this.nthSequenceNumber(e,s)))).next((y=>(r=y,d=Date.now(),this.removeTargets(e,r,n)))).next((y=>(a=y,h=Date.now(),this.removeOrphanedDocuments(e,r)))).next((y=>(f=Date.now(),Ga()<=Ke.DEBUG&&Ee("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-g}ms
	Determined least recently used ${s} in `+(d-l)+`ms
	Removed ${a} targets in `+(h-d)+`ms
	Removed ${y} documents in `+(f-h)+`ms
Total Duration: ${f-g}ms`),oe.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:a,documentsRemoved:y}))))}}function fF(t,e){return new hF(t,e)}class mF{constructor(){this.changes=new aa((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,En.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?oe.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class pF{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class gF{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((s=>(r=s,this.remoteDocumentCache.getEntry(e,n)))).next((s=>(r!==null&&Jc(r.mutation,s,lr.empty(),Ge.now()),s)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Ye()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Ye()){const s=Ho();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,r).next((a=>{let l=Lc();return a.forEach(((d,h)=>{l=l.insert(d,h.overlayedDocument)})),l}))))}getOverlayedDocuments(e,n){const r=Ho();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Ye())))}populateOverlays(e,n,r){const s=[];return r.forEach((a=>{n.has(a)||s.push(a)})),this.documentOverlayCache.getOverlays(e,s).next((a=>{a.forEach(((l,d)=>{n.set(l,d)}))}))}computeViews(e,n,r,s){let a=ii();const l=Xc(),d=(function(){return Xc()})();return n.forEach(((h,f)=>{const g=r.get(f.key);s.has(f.key)&&(g===void 0||g.mutation instanceof lo)?a=a.insert(f.key,f):g!==void 0?(l.set(f.key,g.mutation.getFieldMask()),Jc(g.mutation,f,g.mutation.getFieldMask(),Ge.now())):l.set(f.key,lr.empty())})),this.recalculateAndSaveOverlays(e,a).next((h=>(h.forEach(((f,g)=>l.set(f,g))),n.forEach(((f,g)=>d.set(f,new pF(g,l.get(f)??null)))),d)))}recalculateAndSaveOverlays(e,n){const r=Xc();let s=new Et(((l,d)=>l-d)),a=Ye();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((l=>{for(const d of l)d.keys().forEach((h=>{const f=n.get(h);if(f===null)return;let g=r.get(h)||lr.empty();g=d.applyToLocalView(f,g),r.set(h,g);const y=(s.get(d.batchId)||Ye()).add(h);s=s.insert(d.batchId,y)}))})).next((()=>{const l=[],d=s.getReverseIterator();for(;d.hasNext();){const h=d.getNext(),f=h.key,g=h.value,y=VI();g.forEach((x=>{if(!a.has(x)){const E=WI(n.get(x),r.get(x));E!==null&&y.set(x,E),a=a.add(x)}})),l.push(this.documentOverlayCache.saveOverlays(e,f,y))}return oe.waitFor(l)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,s){return(function(l){return ke.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):jI(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next((a=>{const l=s-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-a.size):oe.resolve(Ho());let d=uu,h=a;return l.next((f=>oe.forEach(f,((g,y)=>(d<y.largestBatchId&&(d=y.largestBatchId),a.get(g)?oe.resolve():this.remoteDocumentCache.getEntry(e,g).next((x=>{h=h.insert(g,x)}))))).next((()=>this.populateOverlays(e,f,a))).next((()=>this.computeViews(e,h,f,Ye()))).next((g=>({batchId:d,changes:LI(g)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ke(n)).next((r=>{let s=Lc();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const a=n.collectionGroup;let l=Lc();return this.indexManager.getCollectionParents(e,a).next((d=>oe.forEach(d,(h=>{const f=(function(y,x){return new Pl(x,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)})(n,h.child(a));return this.getDocumentsMatchingCollectionQuery(e,f,r,s).next((g=>{g.forEach(((y,x)=>{l=l.insert(y,x)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,n,r,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,s)))).next((l=>{a.forEach(((h,f)=>{const g=f.getKey();l.get(g)===null&&(l=l.insert(g,En.newInvalidDocument(g)))}));let d=Lc();return l.forEach(((h,f)=>{const g=a.get(h);g!==void 0&&Jc(g.mutation,f,lr.empty(),Ge.now()),Ff(n,f)&&(d=d.insert(h,f))})),d}))}}class yF{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return oe.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(s){return{id:s.id,version:s.version,createTime:Ts(s.createTime)}})(n)),oe.resolve()}getNamedQuery(e,n){return oe.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(s){return{name:s.name,query:oF(s.bundledQuery),readTime:Ts(s.readTime)}})(n)),oe.resolve()}}class vF{constructor(){this.overlays=new Et(ke.comparator),this.qr=new Map}getOverlay(e,n){return oe.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ho();return oe.forEach(n,(s=>this.getOverlay(e,s).next((a=>{a!==null&&r.set(s,a)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((s,a)=>{this.St(e,n,a)})),oe.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach((a=>this.overlays=this.overlays.remove(a))),this.qr.delete(r)),oe.resolve()}getOverlaysForCollection(e,n,r){const s=Ho(),a=n.length+1,l=new ke(n.child("")),d=this.overlays.getIteratorFrom(l);for(;d.hasNext();){const h=d.getNext().value,f=h.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===a&&h.largestBatchId>r&&s.set(h.getKey(),h)}return oe.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let a=new Et(((f,g)=>f-g));const l=this.overlays.getIterator();for(;l.hasNext();){const f=l.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>r){let g=a.get(f.largestBatchId);g===null&&(g=Ho(),a=a.insert(f.largestBatchId,g)),g.set(f.getKey(),f)}}const d=Ho(),h=a.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach(((f,g)=>d.set(f,g))),!(d.size()>=s)););return oe.resolve(d)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const l=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new OV(n,r));let a=this.qr.get(n);a===void 0&&(a=Ye(),this.qr.set(n,a)),this.qr.set(n,a.add(r.key))}}class xF{constructor(){this.sessionToken=fn.EMPTY_BYTE_STRING}getSessionToken(e){return oe.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,oe.resolve()}}class Q0{constructor(){this.Qr=new Wt(nn.$r),this.Ur=new Wt(nn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new nn(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new nn(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new ke(new dt([])),r=new nn(n,e),s=new nn(n,e+1),a=[];return this.Ur.forEachInRange([r,s],(l=>{this.Gr(l),a.push(l.key)})),a}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ke(new dt([])),r=new nn(n,e),s=new nn(n,e+1);let a=Ye();return this.Ur.forEachInRange([r,s],(l=>{a=a.add(l.key)})),a}containsKey(e){const n=new nn(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class nn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ke.comparator(e.key,n.key)||Qe(e.Yr,n.Yr)}static Kr(e,n){return Qe(e.Yr,n.Yr)||ke.comparator(e.key,n.key)}}class wF{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Wt(nn.$r)}checkEmpty(e){return oe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new MV(a,n,r,s);this.mutationQueue.push(l);for(const d of s)this.Zr=this.Zr.add(new nn(d.key,a)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return oe.resolve(l)}lookupMutationBatch(e,n){return oe.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),a=s<0?0:s;return oe.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return oe.resolve(this.mutationQueue.length===0?F0:this.tr-1)}getAllMutationBatches(e){return oe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new nn(n,0),s=new nn(n,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([r,s],(l=>{const d=this.Xr(l.Yr);a.push(d)})),oe.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Wt(Qe);return n.forEach((s=>{const a=new nn(s,0),l=new nn(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,l],(d=>{r=r.add(d.Yr)}))})),oe.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let a=r;ke.isDocumentKey(a)||(a=a.child(""));const l=new nn(new ke(a),0);let d=new Wt(Qe);return this.Zr.forEachWhile((h=>{const f=h.key.path;return!!r.isPrefixOf(f)&&(f.length===s&&(d=d.add(h.Yr)),!0)}),l),oe.resolve(this.ti(d))}ti(e){const n=[];return e.forEach((r=>{const s=this.Xr(r);s!==null&&n.push(s)})),n}removeMutationBatch(e,n){it(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return oe.forEach(n.mutations,(s=>{const a=new nn(s.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new nn(n,0),s=this.Zr.firstAfterOrEqual(r);return oe.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,oe.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class bF{constructor(e){this.ri=e,this.docs=(function(){return new Et(ke.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),a=s?s.size:0,l=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return oe.resolve(r?r.document.mutableCopy():En.newInvalidDocument(n))}getEntries(e,n){let r=ii();return n.forEach((s=>{const a=this.docs.get(s);r=r.insert(s,a?a.document.mutableCopy():En.newInvalidDocument(s))})),oe.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let a=ii();const l=n.path,d=new ke(l.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(d);for(;h.hasNext();){const{key:f,value:{document:g}}=h.getNext();if(!l.isPrefixOf(f.path))break;f.path.length>l.length+1||X6(Y6(g),r)<=0||(s.has(g.key)||Ff(n,g))&&(a=a.insert(g.key,g.mutableCopy()))}return oe.resolve(a)}getAllFromCollectionGroup(e,n,r,s){Oe(9500)}ii(e,n){return oe.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new _F(this)}getSize(e){return oe.resolve(this.size)}}class _F extends mF{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)})),oe.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class EF{constructor(e){this.persistence=e,this.si=new aa((n=>z0(n)),$0),this.lastRemoteSnapshotVersion=Ue.min(),this.highestTargetId=0,this.oi=0,this._i=new Q0,this.targetCount=0,this.ai=vl.ur()}forEachTarget(e,n){return this.si.forEach(((r,s)=>n(s))),oe.resolve()}getLastRemoteSnapshotVersion(e){return oe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return oe.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),oe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),oe.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new vl(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,oe.resolve()}updateTargetData(e,n){return this.Pr(n),oe.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,oe.resolve()}removeTargets(e,n,r){let s=0;const a=[];return this.si.forEach(((l,d)=>{d.sequenceNumber<=n&&r.get(d.targetId)===null&&(this.si.delete(l),a.push(this.removeMatchingKeysForTargetId(e,d.targetId)),s++)})),oe.waitFor(a).next((()=>s))}getTargetCount(e){return oe.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return oe.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),oe.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,a=[];return s&&n.forEach((l=>{a.push(s.markPotentiallyOrphaned(e,l))})),oe.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),oe.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return oe.resolve(r)}containsKey(e,n){return oe.resolve(this._i.containsKey(n))}}class iC{constructor(e,n){this.ui={},this.overlays={},this.ci=new Df(0),this.li=!1,this.li=!0,this.hi=new xF,this.referenceDelegate=e(this),this.Pi=new EF(this),this.indexManager=new aF,this.remoteDocumentCache=(function(s){return new bF(s)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new iF(n),this.Ii=new yF(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new vF,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new wF(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){Ee("MemoryPersistence","Starting transaction:",e);const s=new TF(this.ci.next());return this.referenceDelegate.Ei(),r(s).next((a=>this.referenceDelegate.di(s).next((()=>a)))).toPromise().then((a=>(s.raiseOnCommittedEvent(),a)))}Ai(e,n){return oe.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class TF extends Z6{constructor(e){super(),this.currentSequenceNumber=e}}class Y0{constructor(e){this.persistence=e,this.Ri=new Q0,this.Vi=null}static mi(e){return new Y0(e)}get fi(){if(this.Vi)return this.Vi;throw Oe(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),oe.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),oe.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),oe.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((s=>this.fi.add(s.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((s=>{s.forEach((a=>this.fi.add(a.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return oe.forEach(this.fi,(r=>{const s=ke.fromPath(r);return this.gi(e,s).next((a=>{a||n.removeEntry(s,Ue.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return oe.or([()=>oe.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class hf{constructor(e,n){this.persistence=e,this.pi=new aa((r=>nV(r.path)),((r,s)=>r.isEqual(s))),this.garbageCollector=fF(this,n)}static mi(e,n){return new hf(e,n)}Ei(){}di(e){return oe.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((s=>r+s))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return oe.forEach(this.pi,((r,s)=>this.br(e,r,s).next((a=>a?oe.resolve():n(s)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),a=s.newChangeBuffer();return s.ii(e,(l=>this.br(e,l,n).next((d=>{d||(r++,a.removeEntry(l,Ue.min()))})))).next((()=>a.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),oe.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),oe.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),oe.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),oe.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Ph(e.data.value)),n}br(e,n,r){return oe.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return oe.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class X0{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=Ye(),s=Ye();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:s=s.add(a.doc.key)}return new X0(e,n.fromCache,r,s)}}class SF{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class IF{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return sO()?8:eV(Cn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const a={result:null};return this.ys(e,n).next((l=>{a.result=l})).next((()=>{if(!a.result)return this.ws(e,n,s,r).next((l=>{a.result=l}))})).next((()=>{if(a.result)return;const l=new SF;return this.Ss(e,n,l).next((d=>{if(a.result=d,this.Vs)return this.bs(e,n,l,d.size)}))})).next((()=>a.result))}bs(e,n,r,s){return r.documentReadCount<this.fs?(Ga()<=Ke.DEBUG&&Ee("QueryEngine","SDK will not create cache indexes for query:",Ka(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),oe.resolve()):(Ga()<=Ke.DEBUG&&Ee("QueryEngine","Query:",Ka(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(Ga()<=Ke.DEBUG&&Ee("QueryEngine","The SDK decides to create cache indexes for query:",Ka(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Es(n))):oe.resolve())}ys(e,n){if(C_(n))return oe.resolve(null);let r=Es(n);return this.indexManager.getIndexType(e,r).next((s=>s===0?null:(n.limit!==null&&s===1&&(n=vy(n,null,"F"),r=Es(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((a=>{const l=Ye(...a);return this.ps.getDocuments(e,l).next((d=>this.indexManager.getMinOffset(e,r).next((h=>{const f=this.Ds(n,d);return this.Cs(n,f,l,h.readTime)?this.ys(e,vy(n,null,"F")):this.vs(e,f,n,h)}))))})))))}ws(e,n,r,s){return C_(n)||s.isEqual(Ue.min())?oe.resolve(null):this.ps.getDocuments(e,r).next((a=>{const l=this.Ds(n,a);return this.Cs(n,l,r,s)?oe.resolve(null):(Ga()<=Ke.DEBUG&&Ee("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Ka(n)),this.vs(e,l,n,Q6(s,uu)).next((d=>d)))}))}Ds(e,n){let r=new Wt(MI(e));return n.forEach(((s,a)=>{Ff(e,a)&&(r=r.add(a))})),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(s)>0)}Ss(e,n,r){return Ga()<=Ke.DEBUG&&Ee("QueryEngine","Using full collection scan to execute query:",Ka(n)),this.ps.getDocumentsMatchingQuery(e,n,Ki.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next((a=>(n.forEach((l=>{a=a.insert(l.key,l)})),a)))}}const J0="LocalStore",CF=3e8;class NF{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new Et(Qe),this.xs=new aa((a=>z0(a)),$0),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new gF(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function AF(t,e,n,r){return new NF(t,e,n,r)}async function oC(t,e){const n=ze(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next((a=>(s=a,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((a=>{const l=[],d=[];let h=Ye();for(const f of s){l.push(f.batchId);for(const g of f.mutations)h=h.add(g.key)}for(const f of a){d.push(f.batchId);for(const g of f.mutations)h=h.add(g.key)}return n.localDocuments.getDocuments(r,h).next((f=>({Ls:f,removedBatchIds:l,addedBatchIds:d})))}))}))}function kF(t,e){const n=ze(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const s=e.batch.keys(),a=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(d,h,f,g){const y=f.batch,x=y.keys();let E=oe.resolve();return x.forEach((S=>{E=E.next((()=>g.getEntry(h,S))).next((R=>{const A=f.docVersions.get(S);it(A!==null,48541),R.version.compareTo(A)<0&&(y.applyToRemoteDocument(R,f),R.isValidDocument()&&(R.setReadTime(f.commitVersion),g.addEntry(R)))}))})),E.next((()=>d.mutationQueue.removeMutationBatch(h,y)))})(n,r,e,a).next((()=>a.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(d){let h=Ye();for(let f=0;f<d.mutationResults.length;++f)d.mutationResults[f].transformResults.length>0&&(h=h.add(d.batch.mutations[f].key));return h})(e)))).next((()=>n.localDocuments.getDocuments(r,s)))}))}function aC(t){const e=ze(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function RF(t,e){const n=ze(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const l=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const d=[];e.targetChanges.forEach(((g,y)=>{const x=s.get(y);if(!x)return;d.push(n.Pi.removeMatchingKeys(a,g.removedDocuments,y).next((()=>n.Pi.addMatchingKeys(a,g.addedDocuments,y))));let E=x.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(y)!==null?E=E.withResumeToken(fn.EMPTY_BYTE_STRING,Ue.min()).withLastLimboFreeSnapshotVersion(Ue.min()):g.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(g.resumeToken,r)),s=s.insert(y,E),(function(R,A,j){return R.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=CF?!0:j.addedDocuments.size+j.modifiedDocuments.size+j.removedDocuments.size>0})(x,E,g)&&d.push(n.Pi.updateTargetData(a,E))}));let h=ii(),f=Ye();if(e.documentUpdates.forEach((g=>{e.resolvedLimboDocuments.has(g)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(a,g))})),d.push(PF(a,l,e.documentUpdates).next((g=>{h=g.ks,f=g.qs}))),!r.isEqual(Ue.min())){const g=n.Pi.getLastRemoteSnapshotVersion(a).next((y=>n.Pi.setTargetsMetadata(a,a.currentSequenceNumber,r)));d.push(g)}return oe.waitFor(d).next((()=>l.apply(a))).next((()=>n.localDocuments.getLocalViewOfDocuments(a,h,f))).next((()=>h))})).then((a=>(n.Ms=s,a)))}function PF(t,e,n){let r=Ye(),s=Ye();return n.forEach((a=>r=r.add(a))),e.getEntries(t,r).next((a=>{let l=ii();return n.forEach(((d,h)=>{const f=a.get(d);h.isFoundDocument()!==f.isFoundDocument()&&(s=s.add(d)),h.isNoDocument()&&h.version.isEqual(Ue.min())?(e.removeEntry(d,h.readTime),l=l.insert(d,h)):!f.isValidDocument()||h.version.compareTo(f.version)>0||h.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(h),l=l.insert(d,h)):Ee(J0,"Ignoring outdated watch update for ",d,". Current version:",f.version," Watch version:",h.version)})),{ks:l,qs:s}}))}function jF(t,e){const n=ze(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=F0),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function DF(t,e){const n=ze(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let s;return n.Pi.getTargetData(r,e).next((a=>a?(s=a,oe.resolve(s)):n.Pi.allocateTargetId(r).next((l=>(s=new Ui(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next((()=>s)))))))})).then((r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function Ey(t,e,n){const r=ze(t),s=r.Ms.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,(l=>r.persistence.referenceDelegate.removeTarget(l,s)))}catch(l){if(!Rl(l))throw l;Ee(J0,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function U_(t,e,n){const r=ze(t);let s=Ue.min(),a=Ye();return r.persistence.runTransaction("Execute query","readwrite",(l=>(function(h,f,g){const y=ze(h),x=y.xs.get(g);return x!==void 0?oe.resolve(y.Ms.get(x)):y.Pi.getTargetData(f,g)})(r,l,Es(e)).next((d=>{if(d)return s=d.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(l,d.targetId).next((h=>{a=h}))})).next((()=>r.Fs.getDocumentsMatchingQuery(l,e,n?s:Ue.min(),n?a:Ye()))).next((d=>(MF(r,bV(e),d),{documents:d,Qs:a})))))}function MF(t,e,n){let r=t.Os.get(e)||Ue.min();n.forEach(((s,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)})),t.Os.set(e,r)}class B_{constructor(){this.activeTargetIds=CV()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class OF{constructor(){this.Mo=new B_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new B_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class LF{Oo(e){}shutdown(){}}const z_="ConnectivityMonitor";class $_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Ee(z_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Ee(z_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let dh=null;function Ty(){return dh===null?dh=(function(){return 268435456+Math.round(2147483648*Math.random())})():dh++,"0x"+dh.toString(16)}const cg="RestConnection",VF={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class FF{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===lf?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,a){const l=Ty(),d=this.zo(e,n.toUriEncodedString());Ee(cg,`Sending RPC '${e}' ${l}:`,d,r);const h={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(h,s,a);const{host:f}=new URL(d),g=Il(f);return this.Jo(e,d,h,r,g).then((y=>(Ee(cg,`Received RPC '${e}' ${l}: `,y),y)),(y=>{throw ml(cg,`RPC '${e}' ${l} failed with error: `,y,"url: ",d,"request:",r),y}))}Ho(e,n,r,s,a,l){return this.Go(e,n,r,s,a)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Al})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((s,a)=>e[a]=s)),r&&r.headers.forEach(((s,a)=>e[a]=s))}zo(e,n){const r=VF[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}class UF{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const wn="WebChannelConnection";class BF extends FF{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,a){const l=Ty();return new Promise(((d,h)=>{const f=new lI;f.setWithCredentials(!0),f.listenOnce(cI.COMPLETE,(()=>{try{switch(f.getLastErrorCode()){case Rh.NO_ERROR:const y=f.getResponseJson();Ee(wn,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(y)),d(y);break;case Rh.TIMEOUT:Ee(wn,`RPC '${e}' ${l} timed out`),h(new we(se.DEADLINE_EXCEEDED,"Request time out"));break;case Rh.HTTP_ERROR:const x=f.getStatus();if(Ee(wn,`RPC '${e}' ${l} failed with status:`,x,"response text:",f.getResponseText()),x>0){let E=f.getResponseJson();Array.isArray(E)&&(E=E[0]);const S=E?.error;if(S&&S.status&&S.message){const R=(function(j){const F=j.toLowerCase().replace(/_/g,"-");return Object.values(se).indexOf(F)>=0?F:se.UNKNOWN})(S.status);h(new we(R,S.message))}else h(new we(se.UNKNOWN,"Server responded with status "+f.getStatus()))}else h(new we(se.UNAVAILABLE,"Connection failed."));break;default:Oe(9055,{l_:e,streamId:l,h_:f.getLastErrorCode(),P_:f.getLastError()})}}finally{Ee(wn,`RPC '${e}' ${l} completed.`)}}));const g=JSON.stringify(s);Ee(wn,`RPC '${e}' ${l} sending request:`,s),f.send(n,"POST",g,r,15)}))}T_(e,n,r){const s=Ty(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=hI(),d=dI(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(h.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(h.useFetchStreams=!0),this.jo(h.initMessageHeaders,n,r),h.encodeInitMessageHeaders=!0;const g=a.join("");Ee(wn,`Creating RPC '${e}' stream ${s}: ${g}`,h);const y=l.createWebChannel(g,h);this.I_(y);let x=!1,E=!1;const S=new UF({Yo:A=>{E?Ee(wn,`Not sending because RPC '${e}' stream ${s} is closed:`,A):(x||(Ee(wn,`Opening RPC '${e}' stream ${s} transport.`),y.open(),x=!0),Ee(wn,`RPC '${e}' stream ${s} sending:`,A),y.send(A))},Zo:()=>y.close()}),R=(A,j,F)=>{A.listen(j,($=>{try{F($)}catch(Z){setTimeout((()=>{throw Z}),0)}}))};return R(y,Oc.EventType.OPEN,(()=>{E||(Ee(wn,`RPC '${e}' stream ${s} transport opened.`),S.o_())})),R(y,Oc.EventType.CLOSE,(()=>{E||(E=!0,Ee(wn,`RPC '${e}' stream ${s} transport closed`),S.a_(),this.E_(y))})),R(y,Oc.EventType.ERROR,(A=>{E||(E=!0,ml(wn,`RPC '${e}' stream ${s} transport errored. Name:`,A.name,"Message:",A.message),S.a_(new we(se.UNAVAILABLE,"The operation could not be completed")))})),R(y,Oc.EventType.MESSAGE,(A=>{if(!E){const j=A.data[0];it(!!j,16349);const F=j,$=F?.error||F[0]?.error;if($){Ee(wn,`RPC '${e}' stream ${s} received error:`,$);const Z=$.status;let Y=(function(C){const M=Ut[C];if(M!==void 0)return KI(M)})(Z),K=$.message;Y===void 0&&(Y=se.INTERNAL,K="Unknown error status: "+Z+" with message "+$.message),E=!0,S.a_(new we(Y,K)),y.close()}else Ee(wn,`RPC '${e}' stream ${s} received:`,j),S.u_(j)}})),R(d,uI.STAT_EVENT,(A=>{A.stat===dy.PROXY?Ee(wn,`RPC '${e}' stream ${s} detected buffering proxy`):A.stat===dy.NOPROXY&&Ee(wn,`RPC '${e}' stream ${s} detected no buffering proxy`)})),setTimeout((()=>{S.__()}),0),S}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function ug(){return typeof document<"u"?document:null}function $f(t){return new qV(t,!0)}class lC{constructor(e,n,r=1e3,s=1.5,a=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&Ee("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const H_="PersistentStream";class cC{constructor(e,n,r,s,a,l,d,h){this.Mi=e,this.S_=r,this.b_=s,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=d,this.listener=h,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new lC(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===se.RESOURCE_EXHAUSTED?(si(n.toString()),si("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===se.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,s])=>{this.D_===n&&this.G_(r,s)}),(r=>{e((()=>{const s=new we(se.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((s=>{r((()=>this.z_(s)))})),this.stream.onMessage((s=>{r((()=>++this.F_==1?this.J_(s):this.onNext(s)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Ee(H_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(Ee(H_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class zF extends cC{constructor(e,n,r,s,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,l),this.serializer=a}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=KV(this.serializer,e),r=(function(a){if(!("targetChange"in a))return Ue.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?Ue.min():l.readTime?Ts(l.readTime):Ue.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=_y(this.serializer),n.addTarget=(function(a,l){let d;const h=l.target;if(d=gy(h)?{documents:XV(a,h)}:{query:JV(a,h).ft},d.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){d.resumeToken=XI(a,l.resumeToken);const f=xy(a,l.expectedCount);f!==null&&(d.expectedCount=f)}else if(l.snapshotVersion.compareTo(Ue.min())>0){d.readTime=df(a,l.snapshotVersion.toTimestamp());const f=xy(a,l.expectedCount);f!==null&&(d.expectedCount=f)}return d})(this.serializer,e);const r=eF(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=_y(this.serializer),n.removeTarget=e,this.q_(n)}}class $F extends cC{constructor(e,n,r,s,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,l),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return it(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,it(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){it(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=YV(e.writeResults,e.commitTime),r=Ts(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=_y(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>QV(this.serializer,r)))};this.q_(n)}}class HF{}class qF extends HF{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new we(se.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,l])=>this.connection.Go(e,wy(n,r),s,a,l))).catch((a=>{throw a.name==="FirebaseError"?(a.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new we(se.UNKNOWN,a.toString())}))}Ho(e,n,r,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,d])=>this.connection.Ho(e,wy(n,r),s,l,d,a))).catch((l=>{throw l.name==="FirebaseError"?(l.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new we(se.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class WF{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(si(n),this.aa=!1):Ee("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ra="RemoteStore";class GF{constructor(e,n,r,s,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo((l=>{r.enqueueAndForget((async()=>{la(this)&&(Ee(ra,"Restarting streams for network reachability change."),await(async function(h){const f=ze(h);f.Ea.add(4),await Uu(f),f.Ra.set("Unknown"),f.Ea.delete(4),await Hf(f)})(this))}))})),this.Ra=new WF(r,s)}}async function Hf(t){if(la(t))for(const e of t.da)await e(!0)}async function Uu(t){for(const e of t.da)await e(!1)}function uC(t,e){const n=ze(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),nv(n)?tv(n):jl(n).O_()&&ev(n,e))}function Z0(t,e){const n=ze(t),r=jl(n);n.Ia.delete(e),r.O_()&&dC(n,e),n.Ia.size===0&&(r.O_()?r.L_():la(n)&&n.Ra.set("Unknown"))}function ev(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ue.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}jl(t).Y_(e)}function dC(t,e){t.Va.Ue(e),jl(t).Z_(e)}function tv(t){t.Va=new BV({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),jl(t).start(),t.Ra.ua()}function nv(t){return la(t)&&!jl(t).x_()&&t.Ia.size>0}function la(t){return ze(t).Ea.size===0}function hC(t){t.Va=void 0}async function KF(t){t.Ra.set("Online")}async function QF(t){t.Ia.forEach(((e,n)=>{ev(t,e)}))}async function YF(t,e){hC(t),nv(t)?(t.Ra.ha(e),tv(t)):t.Ra.set("Unknown")}async function XF(t,e,n){if(t.Ra.set("Online"),e instanceof YI&&e.state===2&&e.cause)try{await(async function(s,a){const l=a.cause;for(const d of a.targetIds)s.Ia.has(d)&&(await s.remoteSyncer.rejectListen(d,l),s.Ia.delete(d),s.Va.removeTarget(d))})(t,e)}catch(r){Ee(ra,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await ff(t,r)}else if(e instanceof Mh?t.Va.Ze(e):e instanceof QI?t.Va.st(e):t.Va.tt(e),!n.isEqual(Ue.min()))try{const r=await aC(t.localStore);n.compareTo(r)>=0&&await(function(a,l){const d=a.Va.Tt(l);return d.targetChanges.forEach(((h,f)=>{if(h.resumeToken.approximateByteSize()>0){const g=a.Ia.get(f);g&&a.Ia.set(f,g.withResumeToken(h.resumeToken,l))}})),d.targetMismatches.forEach(((h,f)=>{const g=a.Ia.get(h);if(!g)return;a.Ia.set(h,g.withResumeToken(fn.EMPTY_BYTE_STRING,g.snapshotVersion)),dC(a,h);const y=new Ui(g.target,h,f,g.sequenceNumber);ev(a,y)})),a.remoteSyncer.applyRemoteEvent(d)})(t,n)}catch(r){Ee(ra,"Failed to raise snapshot:",r),await ff(t,r)}}async function ff(t,e,n){if(!Rl(e))throw e;t.Ea.add(1),await Uu(t),t.Ra.set("Offline"),n||(n=()=>aC(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Ee(ra,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Hf(t)}))}function fC(t,e){return e().catch((n=>ff(t,n,e)))}async function qf(t){const e=ze(t),n=Ji(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:F0;for(;JF(e);)try{const s=await jF(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,ZF(e,s)}catch(s){await ff(e,s)}mC(e)&&pC(e)}function JF(t){return la(t)&&t.Ta.length<10}function ZF(t,e){t.Ta.push(e);const n=Ji(t);n.O_()&&n.X_&&n.ea(e.mutations)}function mC(t){return la(t)&&!Ji(t).x_()&&t.Ta.length>0}function pC(t){Ji(t).start()}async function e9(t){Ji(t).ra()}async function t9(t){const e=Ji(t);for(const n of t.Ta)e.ea(n.mutations)}async function n9(t,e,n){const r=t.Ta.shift(),s=W0.from(r,e,n);await fC(t,(()=>t.remoteSyncer.applySuccessfulWrite(s))),await qf(t)}async function r9(t,e){e&&Ji(t).X_&&await(async function(r,s){if((function(l){return VV(l)&&l!==se.ABORTED})(s.code)){const a=r.Ta.shift();Ji(r).B_(),await fC(r,(()=>r.remoteSyncer.rejectFailedWrite(a.batchId,s))),await qf(r)}})(t,e),mC(t)&&pC(t)}async function q_(t,e){const n=ze(t);n.asyncQueue.verifyOperationInProgress(),Ee(ra,"RemoteStore received new credentials");const r=la(n);n.Ea.add(3),await Uu(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Hf(n)}async function s9(t,e){const n=ze(t);e?(n.Ea.delete(2),await Hf(n)):e||(n.Ea.add(2),await Uu(n),n.Ra.set("Unknown"))}function jl(t){return t.ma||(t.ma=(function(n,r,s){const a=ze(n);return a.sa(),new zF(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)})(t.datastore,t.asyncQueue,{Xo:KF.bind(null,t),t_:QF.bind(null,t),r_:YF.bind(null,t),H_:XF.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),nv(t)?tv(t):t.Ra.set("Unknown")):(await t.ma.stop(),hC(t))}))),t.ma}function Ji(t){return t.fa||(t.fa=(function(n,r,s){const a=ze(n);return a.sa(),new $F(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:e9.bind(null,t),r_:r9.bind(null,t),ta:t9.bind(null,t),na:n9.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await qf(t)):(await t.fa.stop(),t.Ta.length>0&&(Ee(ra,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class rv{constructor(e,n,r,s,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=a,this.deferred=new Zs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,a){const l=Date.now()+r,d=new rv(e,n,l,s,a);return d.start(r),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new we(se.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function sv(t,e){if(si("AsyncQueue",`${e}: ${t}`),Rl(t))return new we(se.UNAVAILABLE,`${e}: ${t}`);throw t}class ll{static emptySet(e){return new ll(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ke.comparator(n.key,r.key):(n,r)=>ke.comparator(n.key,r.key),this.keyedMap=Lc(),this.sortedSet=new Et(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ll)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,a=r.getNext().key;if(!s.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new ll;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class W_{constructor(){this.ga=new Et(ke.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Oe(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class xl{constructor(e,n,r,s,a,l,d,h,f){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=d,this.excludesMetadataChanges=h,this.hasCachedResults=f}static fromInitialDocuments(e,n,r,s,a){const l=[];return n.forEach((d=>{l.push({type:0,doc:d})})),new xl(e,n,ll.emptySet(n),l,r,s,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Vf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}class i9{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class o9{constructor(){this.queries=G_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=ze(n),a=s.queries;s.queries=G_(),a.forEach(((l,d)=>{for(const h of d.Sa)h.onError(r)}))})(this,new we(se.ABORTED,"Firestore shutting down"))}}function G_(){return new aa((t=>DI(t)),Vf)}async function iv(t,e){const n=ze(t);let r=3;const s=e.query;let a=n.queries.get(s);a?!a.ba()&&e.Da()&&(r=2):(a=new i9,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await n.onListen(s,!0);break;case 1:a.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(l){const d=sv(l,`Initialization of query '${Ka(e.query)}' failed`);return void e.onError(d)}n.queries.set(s,a),a.Sa.push(e),e.va(n.onlineState),a.wa&&e.Fa(a.wa)&&av(n)}async function ov(t,e){const n=ze(t),r=e.query;let s=3;const a=n.queries.get(r);if(a){const l=a.Sa.indexOf(e);l>=0&&(a.Sa.splice(l,1),a.Sa.length===0?s=e.Da()?0:1:!a.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function a9(t,e){const n=ze(t);let r=!1;for(const s of e){const a=s.query,l=n.queries.get(a);if(l){for(const d of l.Sa)d.Fa(s)&&(r=!0);l.wa=s}}r&&av(n)}function l9(t,e,n){const r=ze(t),s=r.queries.get(e);if(s)for(const a of s.Sa)a.onError(n);r.queries.delete(e)}function av(t){t.Ca.forEach((e=>{e.next()}))}var Sy,K_;(K_=Sy||(Sy={})).Ma="default",K_.Cache="cache";class lv{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new xl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=xl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Sy.Cache}}class gC{constructor(e){this.key=e}}class yC{constructor(e){this.key=e}}class c9{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ye(),this.mutatedKeys=Ye(),this.eu=MI(e),this.tu=new ll(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new W_,s=n?n.tu:this.tu;let a=n?n.mutatedKeys:this.mutatedKeys,l=s,d=!1;const h=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,f=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((g,y)=>{const x=s.get(g),E=Ff(this.query,y)?y:null,S=!!x&&this.mutatedKeys.has(x.key),R=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let A=!1;x&&E?x.data.isEqual(E.data)?S!==R&&(r.track({type:3,doc:E}),A=!0):this.su(x,E)||(r.track({type:2,doc:E}),A=!0,(h&&this.eu(E,h)>0||f&&this.eu(E,f)<0)&&(d=!0)):!x&&E?(r.track({type:0,doc:E}),A=!0):x&&!E&&(r.track({type:1,doc:x}),A=!0,(h||f)&&(d=!0)),A&&(E?(l=l.add(E),a=R?a.add(g):a.delete(g)):(l=l.delete(g),a=a.delete(g)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const g=this.query.limitType==="F"?l.last():l.first();l=l.delete(g.key),a=a.delete(g.key),r.track({type:1,doc:g})}return{tu:l,iu:r,Cs:d,mutatedKeys:a}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort(((g,y)=>(function(E,S){const R=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Oe(20277,{Rt:A})}};return R(E)-R(S)})(g.type,y.type)||this.eu(g.doc,y.doc))),this.ou(r),s=s??!1;const d=n&&!s?this._u():[],h=this.Xa.size===0&&this.current&&!s?1:0,f=h!==this.Za;return this.Za=h,l.length!==0||f?{snapshot:new xl(this.query,e.tu,a,l,e.mutatedKeys,h===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new W_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ye(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new yC(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new gC(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=Ye();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return xl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const cv="SyncEngine";class u9{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class d9{constructor(e){this.key=e,this.hu=!1}}class h9{constructor(e,n,r,s,a,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new aa((d=>DI(d)),Vf),this.Iu=new Map,this.Eu=new Set,this.du=new Et(ke.comparator),this.Au=new Map,this.Ru=new Q0,this.Vu={},this.mu=new Map,this.fu=vl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function f9(t,e,n=!0){const r=EC(t);let s;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),s=a.view.lu()):s=await vC(r,e,n,!0),s}async function m9(t,e){const n=EC(t);await vC(n,e,!0,!1)}async function vC(t,e,n,r){const s=await DF(t.localStore,Es(e)),a=s.targetId,l=t.sharedClientState.addLocalQueryTarget(a,n);let d;return r&&(d=await p9(t,e,a,l==="current",s.resumeToken)),t.isPrimaryClient&&n&&uC(t.remoteStore,s),d}async function p9(t,e,n,r,s){t.pu=(y,x,E)=>(async function(R,A,j,F){let $=A.view.ru(j);$.Cs&&($=await U_(R.localStore,A.query,!1).then((({documents:D})=>A.view.ru(D,$))));const Z=F&&F.targetChanges.get(A.targetId),Y=F&&F.targetMismatches.get(A.targetId)!=null,K=A.view.applyChanges($,R.isPrimaryClient,Z,Y);return Y_(R,A.targetId,K.au),K.snapshot})(t,y,x,E);const a=await U_(t.localStore,e,!0),l=new c9(e,a.Qs),d=l.ru(a.documents),h=Fu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),f=l.applyChanges(d,t.isPrimaryClient,h);Y_(t,n,f.au);const g=new u9(e,n,l);return t.Tu.set(e,g),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),f.snapshot}async function g9(t,e,n){const r=ze(t),s=r.Tu.get(e),a=r.Iu.get(s.targetId);if(a.length>1)return r.Iu.set(s.targetId,a.filter((l=>!Vf(l,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Ey(r.localStore,s.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Z0(r.remoteStore,s.targetId),Iy(r,s.targetId)})).catch(kl)):(Iy(r,s.targetId),await Ey(r.localStore,s.targetId,!0))}async function y9(t,e){const n=ze(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Z0(n.remoteStore,r.targetId))}async function v9(t,e,n){const r=S9(t);try{const s=await(function(l,d){const h=ze(l),f=Ge.now(),g=d.reduce(((E,S)=>E.add(S.key)),Ye());let y,x;return h.persistence.runTransaction("Locally write mutations","readwrite",(E=>{let S=ii(),R=Ye();return h.Ns.getEntries(E,g).next((A=>{S=A,S.forEach(((j,F)=>{F.isValidDocument()||(R=R.add(j))}))})).next((()=>h.localDocuments.getOverlayedDocuments(E,S))).next((A=>{y=A;const j=[];for(const F of d){const $=jV(F,y.get(F.key).overlayedDocument);$!=null&&j.push(new lo(F.key,$,II($.value.mapValue),Ar.exists(!0)))}return h.mutationQueue.addMutationBatch(E,f,j,d)})).next((A=>{x=A;const j=A.applyToLocalDocumentSet(y,R);return h.documentOverlayCache.saveOverlays(E,A.batchId,j)}))})).then((()=>({batchId:x.batchId,changes:LI(y)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),(function(l,d,h){let f=l.Vu[l.currentUser.toKey()];f||(f=new Et(Qe)),f=f.insert(d,h),l.Vu[l.currentUser.toKey()]=f})(r,s.batchId,n),await Bu(r,s.changes),await qf(r.remoteStore)}catch(s){const a=sv(s,"Failed to persist write");n.reject(a)}}async function xC(t,e){const n=ze(t);try{const r=await RF(n.localStore,e);e.targetChanges.forEach(((s,a)=>{const l=n.Au.get(a);l&&(it(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?l.hu=!0:s.modifiedDocuments.size>0?it(l.hu,14607):s.removedDocuments.size>0&&(it(l.hu,42227),l.hu=!1))})),await Bu(n,r,e)}catch(r){await kl(r)}}function Q_(t,e,n){const r=ze(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach(((a,l)=>{const d=l.view.va(e);d.snapshot&&s.push(d.snapshot)})),(function(l,d){const h=ze(l);h.onlineState=d;let f=!1;h.queries.forEach(((g,y)=>{for(const x of y.Sa)x.va(d)&&(f=!0)})),f&&av(h)})(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function x9(t,e,n){const r=ze(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),a=s&&s.key;if(a){let l=new Et(ke.comparator);l=l.insert(a,En.newNoDocument(a,Ue.min()));const d=Ye().add(a),h=new zf(Ue.min(),new Map,new Et(Qe),l,d);await xC(r,h),r.du=r.du.remove(a),r.Au.delete(e),uv(r)}else await Ey(r.localStore,e,!1).then((()=>Iy(r,e,n))).catch(kl)}async function w9(t,e){const n=ze(t),r=e.batch.batchId;try{const s=await kF(n.localStore,e);bC(n,r,null),wC(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Bu(n,s)}catch(s){await kl(s)}}async function b9(t,e,n){const r=ze(t);try{const s=await(function(l,d){const h=ze(l);return h.persistence.runTransaction("Reject batch","readwrite-primary",(f=>{let g;return h.mutationQueue.lookupMutationBatch(f,d).next((y=>(it(y!==null,37113),g=y.keys(),h.mutationQueue.removeMutationBatch(f,y)))).next((()=>h.mutationQueue.performConsistencyCheck(f))).next((()=>h.documentOverlayCache.removeOverlaysForBatchId(f,g,d))).next((()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,g))).next((()=>h.localDocuments.getDocuments(f,g)))}))})(r.localStore,e);bC(r,e,n),wC(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Bu(r,s)}catch(s){await kl(s)}}function wC(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function bC(t,e,n){const r=ze(t);let s=r.Vu[r.currentUser.toKey()];if(s){const a=s.get(e);a&&(n?a.reject(n):a.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function Iy(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||_C(t,r)}))}function _C(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Z0(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),uv(t))}function Y_(t,e,n){for(const r of n)r instanceof gC?(t.Ru.addReference(r.key,e),_9(t,r)):r instanceof yC?(Ee(cv,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||_C(t,r.key)):Oe(19791,{wu:r})}function _9(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(Ee(cv,"New document in limbo: "+n),t.Eu.add(r),uv(t))}function uv(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new ke(dt.fromString(e)),r=t.fu.next();t.Au.set(r,new d9(n)),t.du=t.du.insert(n,r),uC(t.remoteStore,new Ui(Es(Lf(n.path)),r,"TargetPurposeLimboResolution",Df.ce))}}async function Bu(t,e,n){const r=ze(t),s=[],a=[],l=[];r.Tu.isEmpty()||(r.Tu.forEach(((d,h)=>{l.push(r.pu(h,e,n).then((f=>{if((f||n)&&r.isPrimaryClient){const g=f?!f.fromCache:n?.targetChanges.get(h.targetId)?.current;r.sharedClientState.updateQueryState(h.targetId,g?"current":"not-current")}if(f){s.push(f);const g=X0.As(h.targetId,f);a.push(g)}})))})),await Promise.all(l),r.Pu.H_(s),await(async function(h,f){const g=ze(h);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",(y=>oe.forEach(f,(x=>oe.forEach(x.Es,(E=>g.persistence.referenceDelegate.addReference(y,x.targetId,E))).next((()=>oe.forEach(x.ds,(E=>g.persistence.referenceDelegate.removeReference(y,x.targetId,E)))))))))}catch(y){if(!Rl(y))throw y;Ee(J0,"Failed to update sequence numbers: "+y)}for(const y of f){const x=y.targetId;if(!y.fromCache){const E=g.Ms.get(x),S=E.snapshotVersion,R=E.withLastLimboFreeSnapshotVersion(S);g.Ms=g.Ms.insert(x,R)}}})(r.localStore,a))}async function E9(t,e){const n=ze(t);if(!n.currentUser.isEqual(e)){Ee(cv,"User change. New user:",e.toKey());const r=await oC(n.localStore,e);n.currentUser=e,(function(a,l){a.mu.forEach((d=>{d.forEach((h=>{h.reject(new we(se.CANCELLED,l))}))})),a.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Bu(n,r.Ls)}}function T9(t,e){const n=ze(t),r=n.Au.get(e);if(r&&r.hu)return Ye().add(r.key);{let s=Ye();const a=n.Iu.get(e);if(!a)return s;for(const l of a){const d=n.Tu.get(l);s=s.unionWith(d.view.nu)}return s}}function EC(t){const e=ze(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=xC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=T9.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=x9.bind(null,e),e.Pu.H_=a9.bind(null,e.eventManager),e.Pu.yu=l9.bind(null,e.eventManager),e}function S9(t){const e=ze(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=w9.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=b9.bind(null,e),e}class mf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=$f(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return AF(this.persistence,new IF,e.initialUser,this.serializer)}Cu(e){return new iC(Y0.mi,this.serializer)}Du(e){return new OF}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}mf.provider={build:()=>new mf};class I9 extends mf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){it(this.persistence.referenceDelegate instanceof hf,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new dF(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?qn.withCacheSize(this.cacheSizeBytes):qn.DEFAULT;return new iC((r=>hf.mi(r,n)),this.serializer)}}class Cy{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Q_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=E9.bind(null,this.syncEngine),await s9(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new o9})()}createDatastore(e){const n=$f(e.databaseInfo.databaseId),r=(function(a){return new BF(a)})(e.databaseInfo);return(function(a,l,d,h){return new qF(a,l,d,h)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,s,a,l,d){return new GF(r,s,a,l,d)})(this.localStore,this.datastore,e.asyncQueue,(n=>Q_(this.syncEngine,n,0)),(function(){return $_.v()?new $_:new LF})())}createSyncEngine(e,n){return(function(s,a,l,d,h,f,g){const y=new h9(s,a,l,d,h,f);return g&&(y.gu=!0),y})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=ze(n);Ee(ra,"RemoteStore shutting down."),r.Ea.add(5),await Uu(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Cy.provider={build:()=>new Cy};class dv{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):si("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const Zi="FirestoreClient";class C9{constructor(e,n,r,s,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=_n.UNAUTHENTICATED,this.clientId=V0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,(async l=>{Ee(Zi,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(r,(l=>(Ee(Zi,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Zs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=sv(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function dg(t,e){t.asyncQueue.verifyOperationInProgress(),Ee(Zi,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async s=>{r.isEqual(s)||(await oC(e.localStore,s),r=s)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function X_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await N9(t);Ee(Zi,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>q_(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,s)=>q_(e.remoteStore,s))),t._onlineComponents=e}async function N9(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ee(Zi,"Using user provided OfflineComponentProvider");try{await dg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(s){return s.name==="FirebaseError"?s.code===se.FAILED_PRECONDITION||s.code===se.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(n))throw n;ml("Error using user provided cache. Falling back to memory cache: "+n),await dg(t,new mf)}}else Ee(Zi,"Using default OfflineComponentProvider"),await dg(t,new I9(void 0));return t._offlineComponents}async function TC(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ee(Zi,"Using user provided OnlineComponentProvider"),await X_(t,t._uninitializedComponentsProvider._online)):(Ee(Zi,"Using default OnlineComponentProvider"),await X_(t,new Cy))),t._onlineComponents}function A9(t){return TC(t).then((e=>e.syncEngine))}async function pf(t){const e=await TC(t),n=e.eventManager;return n.onListen=f9.bind(null,e.syncEngine),n.onUnlisten=g9.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=m9.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=y9.bind(null,e.syncEngine),n}function k9(t,e,n={}){const r=new Zs;return t.asyncQueue.enqueueAndForget((async()=>(function(a,l,d,h,f){const g=new dv({next:x=>{g.Nu(),l.enqueueAndForget((()=>ov(a,y)));const E=x.docs.has(d);!E&&x.fromCache?f.reject(new we(se.UNAVAILABLE,"Failed to get document because the client is offline.")):E&&x.fromCache&&h&&h.source==="server"?f.reject(new we(se.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(x)},error:x=>f.reject(x)}),y=new lv(Lf(d.path),g,{includeMetadataChanges:!0,qa:!0});return iv(a,y)})(await pf(t),t.asyncQueue,e,n,r))),r.promise}function R9(t,e,n={}){const r=new Zs;return t.asyncQueue.enqueueAndForget((async()=>(function(a,l,d,h,f){const g=new dv({next:x=>{g.Nu(),l.enqueueAndForget((()=>ov(a,y))),x.fromCache&&h.source==="server"?f.reject(new we(se.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(x)},error:x=>f.reject(x)}),y=new lv(d,g,{includeMetadataChanges:!0,qa:!0});return iv(a,y)})(await pf(t),t.asyncQueue,e,n,r))),r.promise}function SC(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const J_=new Map;const IC="firestore.googleapis.com",Z_=!0;class eE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new we(se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=IC,this.ssl=Z_}else this.host=e.host,this.ssl=e.ssl??Z_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=sC;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<cF)throw new we(se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}K6("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=SC(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new we(se.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new we(se.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new we(se.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,s){return r.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Wf{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new eE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new we(se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new we(se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new eE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new V6;switch(r.type){case"firstParty":return new z6(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new we(se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=J_.get(n);r&&(Ee("ComponentProvider","Removing Datastore"),J_.delete(n),r.terminate())})(this),Promise.resolve()}}function P9(t,e,n,r={}){t=Gn(t,Wf);const s=Il(e),a=t._getSettings(),l={...a,emulatorOptions:t._getEmulatorOptions()},d=`${e}:${n}`;s&&(wS(`https://${d}`),bS("Firestore",!0)),a.host!==IC&&a.host!==d&&ml("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h={...a,host:d,ssl:s,emulatorOptions:r};if(!Jo(h,l)&&(t._setSettings(h),r.mockUserToken)){let f,g;if(typeof r.mockUserToken=="string")f=r.mockUserToken,g=_n.MOCK_USER;else{f=QM(r.mockUserToken,t._app?.options.projectId);const y=r.mockUserToken.sub||r.mockUserToken.user_id;if(!y)throw new we(se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new _n(y)}t._authCredentials=new F6(new mI(f,g))}}class co{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new co(this.firestore,e,this._query)}}class Ct{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new qi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ct(this.firestore,e,this._key)}toJSON(){return{type:Ct._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Lu(n,Ct._jsonSchema))return new Ct(e,r||null,new ke(dt.fromString(n.referencePath)))}}Ct._jsonSchemaVersion="firestore/documentReference/1.0",Ct._jsonSchema={type:$t("string",Ct._jsonSchemaVersion),referencePath:$t("string")};class qi extends co{constructor(e,n,r){super(e,n,Lf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ct(this.firestore,null,new ke(e))}withConverter(e){return new qi(this.firestore,e,this._path)}}function eo(t,e,...n){if(t=Gt(t),pI("collection","path",e),t instanceof Wf){const r=dt.fromString(e,...n);return f_(r),new qi(t,null,r)}{if(!(t instanceof Ct||t instanceof qi))throw new we(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(dt.fromString(e,...n));return f_(r),new qi(t.firestore,null,r)}}function In(t,e,...n){if(t=Gt(t),arguments.length===1&&(e=V0.newId()),pI("doc","path",e),t instanceof Wf){const r=dt.fromString(e,...n);return h_(r),new Ct(t,null,new ke(r))}{if(!(t instanceof Ct||t instanceof qi))throw new we(se.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(dt.fromString(e,...n));return h_(r),new Ct(t.firestore,t instanceof qi?t.converter:null,new ke(r))}}const tE="AsyncQueue";class nE{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new lC(this,"async_queue_retry"),this._c=()=>{const r=ug();r&&Ee(tE,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=ug();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=ug();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Zs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Rl(e))throw e;Ee(tE,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,si("INTERNAL UNHANDLED ERROR: ",rE(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=rv.createAndSchedule(this,e,n,r,(a=>this.hc(a)));return this.tc.push(s),s}uc(){this.nc&&Oe(47125,{Pc:rE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function rE(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}function sE(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const a of r)if(a in s&&typeof s[a]=="function")return!0;return!1})(t,["next","error","complete"])}class oi extends Wf{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new nE,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new nE(e),this._firestoreClient=void 0,await e}}}function j9(t,e){const n=typeof t=="object"?t:SS(),r=typeof t=="string"?t:lf,s=I0(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const a=GM("firestore");a&&P9(s,...a)}return s}function Gf(t){if(t._terminated)throw new we(se.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||D9(t),t._firestoreClient}function D9(t){const e=t._freezeSettings(),n=(function(s,a,l,d){return new iV(s,a,l,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,SC(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new C9(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(s){const a=s?._online.build();return{_offline:s?._offline.build(a),_online:a}})(t._componentsProvider))}class Nr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Nr(fn.fromBase64String(e))}catch(n){throw new we(se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Nr(fn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Nr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Lu(e,Nr._jsonSchema))return Nr.fromBase64String(e.bytes)}}Nr._jsonSchemaVersion="firestore/bytes/1.0",Nr._jsonSchema={type:$t("string",Nr._jsonSchemaVersion),bytes:$t("string")};class Kf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new we(se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new hn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class zu{constructor(e){this._methodName=e}}class Ss{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new we(se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new we(se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Qe(this._lat,e._lat)||Qe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ss._jsonSchemaVersion}}static fromJSON(e){if(Lu(e,Ss._jsonSchema))return new Ss(e.latitude,e.longitude)}}Ss._jsonSchemaVersion="firestore/geoPoint/1.0",Ss._jsonSchema={type:$t("string",Ss._jsonSchemaVersion),latitude:$t("number"),longitude:$t("number")};class Is{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,s){if(r.length!==s.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==s[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Is._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Lu(e,Is._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Is(e.vectorValues);throw new we(se.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Is._jsonSchemaVersion="firestore/vectorValue/1.0",Is._jsonSchema={type:$t("string",Is._jsonSchemaVersion),vectorValues:$t("object")};const M9=/^__.*__$/;class O9{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new lo(e,this.data,this.fieldMask,n,this.fieldTransforms):new Vu(e,this.data,n,this.fieldTransforms)}}class CC{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new lo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function NC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Oe(40011,{Ac:t})}}class hv{constructor(e,n,r,s,a,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new hv({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return gf(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(NC(this.Ac)&&M9.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class L9{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||$f(e)}Cc(e,n,r,s=!1){return new hv({Ac:e,methodName:n,Dc:r,path:hn.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Qf(t){const e=t._freezeSettings(),n=$f(t._databaseId);return new L9(t._databaseId,!!e.ignoreUndefinedProperties,n)}function AC(t,e,n,r,s,a={}){const l=t.Cc(a.merge||a.mergeFields?2:0,e,n,s);pv("Data must be an object, but it was:",l,r);const d=kC(r,l);let h,f;if(a.merge)h=new lr(l.fieldMask),f=l.fieldTransforms;else if(a.mergeFields){const g=[];for(const y of a.mergeFields){const x=Ny(e,y,n);if(!l.contains(x))throw new we(se.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);PC(g,x)||g.push(x)}h=new lr(g),f=l.fieldTransforms.filter((y=>h.covers(y.field)))}else h=null,f=l.fieldTransforms;return new O9(new Wn(d),h,f)}class Yf extends zu{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Yf}}class fv extends zu{_toFieldTransform(e){return new qI(e.path,new pu)}isEqual(e){return e instanceof fv}}class mv extends zu{constructor(e,n){super(e),this.Fc=n}_toFieldTransform(e){const n=new vu(e.serializer,UI(e.serializer,this.Fc));return new qI(e.path,n)}isEqual(e){return e instanceof mv&&this.Fc===e.Fc}}function V9(t,e,n,r){const s=t.Cc(1,e,n);pv("Data must be an object, but it was:",s,r);const a=[],l=Wn.empty();ao(r,((h,f)=>{const g=gv(e,h,n);f=Gt(f);const y=s.yc(g);if(f instanceof Yf)a.push(g);else{const x=$u(f,y);x!=null&&(a.push(g),l.set(g,x))}}));const d=new lr(a);return new CC(l,d,s.fieldTransforms)}function F9(t,e,n,r,s,a){const l=t.Cc(1,e,n),d=[Ny(e,r,n)],h=[s];if(a.length%2!=0)throw new we(se.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<a.length;x+=2)d.push(Ny(e,a[x])),h.push(a[x+1]);const f=[],g=Wn.empty();for(let x=d.length-1;x>=0;--x)if(!PC(f,d[x])){const E=d[x];let S=h[x];S=Gt(S);const R=l.yc(E);if(S instanceof Yf)f.push(E);else{const A=$u(S,R);A!=null&&(f.push(E),g.set(E,A))}}const y=new lr(f);return new CC(g,y,l.fieldTransforms)}function U9(t,e,n,r=!1){return $u(n,t.Cc(r?4:3,e))}function $u(t,e){if(RC(t=Gt(t)))return pv("Unsupported field value:",e,t),kC(t,e);if(t instanceof zu)return(function(r,s){if(!NC(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(s);a&&s.fieldTransforms.push(a)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,s){const a=[];let l=0;for(const d of r){let h=$u(d,s.wc(l));h==null&&(h={nullValue:"NULL_VALUE"}),a.push(h),l++}return{arrayValue:{values:a}}})(t,e)}return(function(r,s){if((r=Gt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return UI(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=Ge.fromDate(r);return{timestampValue:df(s.serializer,a)}}if(r instanceof Ge){const a=new Ge(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:df(s.serializer,a)}}if(r instanceof Ss)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Nr)return{bytesValue:XI(s.serializer,r._byteString)};if(r instanceof Ct){const a=s.databaseId,l=r.firestore._databaseId;if(!l.isEqual(a))throw s.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:K0(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Is)return(function(l,d){return{mapValue:{fields:{[TI]:{stringValue:SI},[cf]:{arrayValue:{values:l.toArray().map((f=>{if(typeof f!="number")throw d.Sc("VectorValues must only contain numeric values.");return H0(d.serializer,f)}))}}}}}})(r,s);throw s.Sc(`Unsupported field value: ${jf(r)}`)})(t,e)}function kC(t,e){const n={};return vI(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ao(t,((r,s)=>{const a=$u(s,e.mc(r));a!=null&&(n[r]=a)})),{mapValue:{fields:n}}}function RC(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ge||t instanceof Ss||t instanceof Nr||t instanceof Ct||t instanceof zu||t instanceof Is)}function pv(t,e,n){if(!RC(n)||!gI(n)){const r=jf(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function Ny(t,e,n){if((e=Gt(e))instanceof Kf)return e._internalPath;if(typeof e=="string")return gv(t,e);throw gf("Field path arguments must be of type string or ",t,!1,void 0,n)}const B9=new RegExp("[~\\*/\\[\\]]");function gv(t,e,n){if(e.search(B9)>=0)throw gf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Kf(...e.split("."))._internalPath}catch{throw gf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function gf(t,e,n,r,s){const a=r&&!r.isEmpty(),l=s!==void 0;let d=`Function ${e}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let h="";return(a||l)&&(h+=" (found",a&&(h+=` in field ${r}`),l&&(h+=` in document ${s}`),h+=")"),new we(se.INVALID_ARGUMENT,d+t+h)}function PC(t,e){return t.some((n=>n.isEqual(e)))}class jC{constructor(e,n,r,s,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Ct(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new z9(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Xf("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class z9 extends jC{data(){return super.data()}}function Xf(t,e){return typeof e=="string"?gv(t,e):e instanceof Kf?e._internalPath:e._delegate._internalPath}function DC(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new we(se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class yv{}class MC extends yv{}function Dl(t,e,...n){let r=[];e instanceof yv&&r.push(e),r=r.concat(n),(function(a){const l=a.filter((h=>h instanceof vv)).length,d=a.filter((h=>h instanceof Jf)).length;if(l>1||l>0&&d>0)throw new we(se.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const s of r)t=s._apply(t);return t}class Jf extends MC{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Jf(e,n,r)}_apply(e){const n=this._parse(e);return OC(e._query,n),new co(e.firestore,e.converter,yy(e._query,n))}_parse(e){const n=Qf(e.firestore);return(function(a,l,d,h,f,g,y){let x;if(f.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new we(se.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){oE(y,g);const S=[];for(const R of y)S.push(iE(h,a,R));x={arrayValue:{values:S}}}else x=iE(h,a,y)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||oE(y,g),x=U9(d,l,y,g==="in"||g==="not-in");return zt.create(f,g,x)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function ei(t,e,n){const r=e,s=Xf("where",t);return Jf._create(s,r,n)}class vv extends yv{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new vv(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:Qr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(s,a){let l=s;const d=a.getFlattenedFilters();for(const h of d)OC(l,h),l=yy(l,h)})(e._query,n),new co(e.firestore,e.converter,yy(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class xv extends MC{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new xv(e,n)}_apply(e){const n=(function(s,a,l){if(s.startAt!==null)throw new we(se.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new we(se.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new mu(a,l)})(e._query,this._field,this._direction);return new co(e.firestore,e.converter,(function(s,a){const l=s.explicitOrderBy.concat([a]);return new Pl(s.path,s.collectionGroup,l,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)})(e._query,n))}}function $9(t,e="asc"){const n=e,r=Xf("orderBy",t);return xv._create(r,n)}function iE(t,e,n){if(typeof(n=Gt(n))=="string"){if(n==="")throw new we(se.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!jI(e)&&n.indexOf("/")!==-1)throw new we(se.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(dt.fromString(n));if(!ke.isDocumentKey(r))throw new we(se.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return b_(t,new ke(r))}if(n instanceof Ct)return b_(t,n._key);throw new we(se.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${jf(n)}.`)}function oE(t,e){if(!Array.isArray(t)||t.length===0)throw new we(se.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function OC(t,e){const n=(function(s,a){for(const l of s)for(const d of l.getFlattenedFilters())if(a.indexOf(d.op)>=0)return d.op;return null})(t.filters,(function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new we(se.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new we(se.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class H9{convertValue(e,n="none"){switch(Xi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Mt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Yi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Oe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ao(e,((s,a)=>{r[s]=this.convertValue(a,n)})),r}convertVectorValue(e){const n=e.fields?.[cf].arrayValue?.values?.map((r=>Mt(r.doubleValue)));return new Is(n)}convertGeoPoint(e){return new Ss(Mt(e.latitude),Mt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Of(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(du(e));default:return null}}convertTimestamp(e){const n=Qi(e);return new Ge(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=dt.fromString(e);it(rC(r),9688,{name:e});const s=new hu(r.get(1),r.get(3)),a=new ke(r.popFirst(5));return s.isEqual(n)||si(`Document ${a} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}function LC(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class Fc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Go extends jC{constructor(e,n,r,s,a,l){super(e,n,r,s,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Oh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Xf("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new we(se.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Go._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Go._jsonSchemaVersion="firestore/documentSnapshot/1.0",Go._jsonSchema={type:$t("string",Go._jsonSchemaVersion),bundleSource:$t("string","DocumentSnapshot"),bundleName:$t("string"),bundle:$t("string")};class Oh extends Go{data(e={}){return super.data(e)}}class Ko{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Fc(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Oh(this._firestore,this._userDataWriter,r.key,r,new Fc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new we(se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(s,a){if(s._snapshot.oldDocs.isEmpty()){let l=0;return s._snapshot.docChanges.map((d=>{const h=new Oh(s._firestore,s._userDataWriter,d.doc.key,d.doc,new Fc(s._snapshot.mutatedKeys.has(d.doc.key),s._snapshot.fromCache),s.query.converter);return d.doc,{type:"added",doc:h,oldIndex:-1,newIndex:l++}}))}{let l=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((d=>a||d.type!==3)).map((d=>{const h=new Oh(s._firestore,s._userDataWriter,d.doc.key,d.doc,new Fc(s._snapshot.mutatedKeys.has(d.doc.key),s._snapshot.fromCache),s.query.converter);let f=-1,g=-1;return d.type!==0&&(f=l.indexOf(d.doc.key),l=l.delete(d.doc.key)),d.type!==1&&(l=l.add(d.doc),g=l.indexOf(d.doc.key)),{type:q9(d.type),doc:h,oldIndex:f,newIndex:g}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new we(se.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ko._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=V0.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach((a=>{a._document!==null&&(n.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),s.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function q9(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Oe(61501,{type:t})}}function Lh(t){t=Gn(t,Ct);const e=Gn(t.firestore,oi);return k9(Gf(e),t._key).then((n=>FC(e,t,n)))}Ko._jsonSchemaVersion="firestore/querySnapshot/1.0",Ko._jsonSchema={type:$t("string",Ko._jsonSchemaVersion),bundleSource:$t("string","QuerySnapshot"),bundleName:$t("string"),bundle:$t("string")};class wv extends H9{constructor(e){super(),this.firestore=e}convertBytes(e){return new Nr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ct(this.firestore,null,n)}}function Zf(t){t=Gn(t,co);const e=Gn(t.firestore,oi),n=Gf(e),r=new wv(e);return DC(t._query),R9(n,t._query).then((s=>new Ko(e,r,t,s)))}function Zc(t,e,n){t=Gn(t,Ct);const r=Gn(t.firestore,oi),s=LC(t.converter,e);return em(r,[AC(Qf(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Ar.none())])}function to(t,e,n,...r){t=Gn(t,Ct);const s=Gn(t.firestore,oi),a=Qf(s);let l;return l=typeof(e=Gt(e))=="string"||e instanceof Kf?F9(a,"updateDoc",t._key,e,n,r):V9(a,"updateDoc",t._key,e),em(s,[l.toMutation(t._key,Ar.exists(!0))])}function W9(t){return em(Gn(t.firestore,oi),[new q0(t._key,Ar.none())])}function G9(t,e){const n=Gn(t.firestore,oi),r=In(t),s=LC(t.converter,e);return em(n,[AC(Qf(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,Ar.exists(!1))]).then((()=>r))}function VC(t,...e){t=Gt(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||sE(e[r])||(n=e[r++]);const s={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(sE(e[r])){const h=e[r];e[r]=h.next?.bind(h),e[r+1]=h.error?.bind(h),e[r+2]=h.complete?.bind(h)}let a,l,d;if(t instanceof Ct)l=Gn(t.firestore,oi),d=Lf(t._key.path),a={next:h=>{e[r]&&e[r](FC(l,t,h))},error:e[r+1],complete:e[r+2]};else{const h=Gn(t,co);l=Gn(h.firestore,oi),d=h._query;const f=new wv(l);a={next:g=>{e[r]&&e[r](new Ko(l,f,h,g))},error:e[r+1],complete:e[r+2]},DC(t._query)}return(function(f,g,y,x){const E=new dv(x),S=new lv(g,E,y);return f.asyncQueue.enqueueAndForget((async()=>iv(await pf(f),S))),()=>{E.Nu(),f.asyncQueue.enqueueAndForget((async()=>ov(await pf(f),S)))}})(Gf(l),d,s,a)}function em(t,e){return(function(r,s){const a=new Zs;return r.asyncQueue.enqueueAndForget((async()=>v9(await A9(r),s,a))),a.promise})(Gf(t),e)}function FC(t,e,n){const r=n.docs.get(e._key),s=new wv(t);return new Go(t,s,e._key,r,new Fc(n.hasPendingWrites,n.fromCache),e.converter)}function cl(){return new fv("serverTimestamp")}function aE(t){return new mv("increment",t)}(function(e,n=!0){(function(s){Al=s})(Cl),fl(new Zo("firestore",((r,{instanceIdentifier:s,options:a})=>{const l=r.getProvider("app").getImmediate(),d=new oi(new U6(r.getProvider("auth-internal")),new $6(l,r.getProvider("app-check-internal")),(function(f,g){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new we(se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new hu(f.options.projectId,g)})(l,s),l);return a={useFetchStreams:n,...a},d._setSettings(a),d}),"PUBLIC").setMultipleInstances(!0)),$i(l_,c_,e),$i(l_,c_,"esm2020")})();var K9="firebase",Q9="12.7.0";$i(K9,Q9,"app");const Y9={apiKey:"AIzaSyBS3uUgFUWmuT17ygx-ff2fUQhVpOXUUrU",authDomain:"emprataai.firebaseapp.com",projectId:"emprataai",storageBucket:"emprataai.firebasestorage.app",messagingSenderId:"648305596142",appId:"1:648305596142:web:aff6c1539823e12e8bc5ff"},UC=TS(Y9),Xa=O6(UC),Nt=j9(UC),lE=t=>{let e;const n=new Set,r=(f,g)=>{const y=typeof f=="function"?f(e):f;if(!Object.is(y,e)){const x=e;e=g??(typeof y!="object"||y===null)?y:Object.assign({},e,y),n.forEach(E=>E(e,x))}},s=()=>e,d={setState:r,getState:s,getInitialState:()=>h,subscribe:f=>(n.add(f),()=>n.delete(f))},h=e=t(r,s,d);return d},X9=(t=>t?lE(t):lE),J9=t=>t;function Z9(t,e=J9){const n=fe.useSyncExternalStore(t.subscribe,fe.useCallback(()=>e(t.getState()),[t,e]),fe.useCallback(()=>e(t.getInitialState()),[t,e]));return fe.useDebugValue(n),n}const cE=t=>{const e=X9(t),n=r=>Z9(e,r);return Object.assign(n,e),n},e8=(t=>t?cE(t):cE),t8=()=>{const t=localStorage.getItem("emprata_user_id");if(t)return t;const e=crypto.randomUUID();return localStorage.setItem("emprata_user_id",e),e},Ml=e8((t,e)=>({userId:t8(),plan:"FREE",credits:3,originalImage:null,originalFile:null,generatedImage:null,selectedVibe:"rustico",selectedPerspective:"diagonal",lightIntensity:50,isGenerating:!1,setUserId:n=>{localStorage.setItem("emprata_user_id",n),t({userId:n})},setPlan:n=>t({plan:n}),setCredits:n=>t({credits:n}),setOriginalImage:(n,r=null)=>t({originalImage:n,originalFile:r,generatedImage:null}),setGeneratedImage:n=>t({generatedImage:n}),setVibe:n=>t({selectedVibe:n}),setPerspective:n=>t({selectedPerspective:n}),setLightIntensity:n=>t({lightIntensity:n}),setIsGenerating:n=>t({isGenerating:n}),resetEditor:()=>t({originalImage:null,originalFile:null,generatedImage:null,selectedVibe:"rustico",selectedPerspective:"diagonal",lightIntensity:50,isGenerating:!1}),useCredit:()=>{const{credits:n,plan:r}=e();return r==="PRO"?!0:n>0?(t({credits:n-1}),!0):!1},decrementCredit:()=>{const{credits:n,plan:r}=e();r!=="PRO"&&n>0&&t({credits:n-1})},refundCredit:()=>t(n=>({credits:n.credits+1}))}));function hr(){const[t,e]=N.useState(null),[n,r]=N.useState(null),[s,a]=N.useState(!0),[l,d]=N.useState(null),{setPlan:h,setCredits:f,setUserId:g}=Ml(),y=new Ws;return y.setCustomParameters({prompt:"select_account"}),N.useEffect(()=>{console.log(" [useAuth] Setting up auth listener...");const j=TL(Xa,async F=>{console.log(" [useAuth] Auth State Changed:",F?.email||"No user");try{if(e(F),F){console.log(" [useAuth] Fetching Firestore data for:",F.uid);const $=In(Nt,"users",F.uid),Z=await Lh($);if(Z.exists()){const Y=Z.data();console.log(" [useAuth] User data loaded:",Y.plan,Y.credits),r(Y),h(Y.plan||"FREE"),f(Y.credits??3),g(F.uid)}else{console.warn(" [useAuth] User has no Firestore profile, creating one...");const Y={uid:F.uid,email:F.email||"",name:F.displayName||"",plan:"FREE",credits:3,createdAt:cl()};await Zc($,Y),r(Y),h("FREE"),f(3),g(F.uid),console.log(" [useAuth] Created missing Firestore profile")}}else console.log(" [useAuth] No user, resetting to guest state"),r(null),h("FREE"),f(3),g("")}catch($){console.error(" [useAuth] Critical error in auth listener:",$),d($?.message||"Authentication error"),r(null),h("FREE"),f(3),g("")}finally{console.log(" [useAuth] Loading complete"),a(!1)}});return()=>{console.log(" [useAuth] Cleaning up auth listener"),j()}},[h,f,g]),{user:t,userData:n,loading:s,error:l,loginWithGoogle:async()=>{try{d(null),a(!0);const F=(await qL(Xa,y)).user,$=In(Nt,"users",F.uid),Z=await Lh($);if(Z.exists()){const Y=Z.data();r(Y),h(Y.plan||"FREE"),f(Y.credits??3),g(F.uid),console.log(" [useAuth] Existing Google user logged in:",F.uid)}else{const Y={uid:F.uid,email:F.email||"",name:F.displayName||"",plan:"FREE",credits:3,createdAt:cl()};await Zc($,Y),console.log(" [useAuth] New Google user created:",F.uid),r(Y),h("FREE"),f(3),g(F.uid)}return F}catch(j){throw console.error(" [useAuth] Google Sign-In error:",j),d(j.message),j}finally{a(!1)}},signIn:async(j,F)=>{try{return d(null),a(!0),(await bL(Xa,j,F)).user}catch($){throw d($.message),$}finally{a(!1)}},signUp:async(j,F,$)=>{try{d(null),a(!0);const Z=await wL(Xa,j,F),Y={uid:Z.user.uid,email:Z.user.email||"",name:$||"",plan:"FREE",credits:3,createdAt:cl()};return await Zc(In(Nt,"users",Z.user.uid),Y),console.log(" [useAuth] New email user created:",Z.user.uid),Z.user}catch(Z){throw d(Z.message),Z}finally{a(!1)}},signOut:async()=>{try{d(null),await SL(Xa),r(null),console.log(" [useAuth] User signed out")}catch(j){throw d(j.message),j}},refreshUser:async()=>{if(t)try{const j=In(Nt,"users",t.uid),F=await Lh(j);if(F.exists()){const $=F.data();r($),h($.plan||"FREE"),f($.credits??3),console.log(" [useAuth] User data refreshed:",$.plan,$.credits)}}catch(j){console.error(" [useAuth] Error refreshing user data:",j)}},isAuthenticated:!!t,isPro:n?.plan?.toLowerCase()==="pro"||n?.plan?.toLowerCase()==="starter"}}function BC({}){const[t,e]=N.useState(!1),n=N.useRef(null),{user:r,userData:s,signOut:a}=hr(),l=Yr();N.useEffect(()=>{const g=y=>{n.current&&!n.current.contains(y.target)&&e(!1)};return document.addEventListener("mousedown",g),()=>document.removeEventListener("mousedown",g)},[]);const d=()=>{l("/profile"),e(!1)},h=async()=>{await a(),l("/"),e(!1)},f=()=>s?.name?s.name.charAt(0).toUpperCase():r?.email?r.email.charAt(0).toUpperCase():"U";return c.jsxs("div",{className:"relative",ref:n,children:[c.jsxs("button",{onClick:()=>e(!t),className:"flex items-center gap-2 px-3 py-2 rounded-xl bg-white/5 hover:bg-white/10 border border-white/10 transition-all group",children:[c.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-primary to-orange-600 flex items-center justify-center text-sm font-black",children:r?.photoURL?c.jsx("img",{src:r.photoURL,alt:"Avatar",className:"w-full h-full rounded-full object-cover"}):c.jsx("span",{children:f()})}),c.jsx("span",{className:"hidden md:block text-sm font-bold text-white/80 max-w-[120px] truncate",children:s?.name||"Usurio"}),c.jsx(hM,{className:`w-4 h-4 text-white/40 transition-transform ${t?"rotate-180":""}`})]}),c.jsx(Dn,{children:t&&c.jsxs(xe.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.15},className:"absolute right-0 mt-2 w-56 bg-zinc-900 border border-white/10 rounded-2xl shadow-2xl overflow-hidden z-50",children:[c.jsxs("div",{className:"p-4 border-b border-white/10 bg-white/5",children:[c.jsx("p",{className:"text-sm font-bold text-white truncate",children:s?.name||"Usurio"}),c.jsx("p",{className:"text-xs text-white/40 font-medium truncate",children:r?.email})]}),c.jsxs("div",{className:"py-2",children:[c.jsxs("button",{onClick:d,className:"w-full px-4 py-3 flex items-center gap-3 hover:bg-white/5 transition-colors text-left",children:[c.jsx(fS,{className:"w-4 h-4 text-white/60"}),c.jsx("span",{className:"text-sm font-bold text-white",children:"Meu Perfil"})]}),c.jsxs("button",{onClick:h,className:"w-full px-4 py-3 flex items-center gap-3 hover:bg-red-500/10 transition-colors text-left border-t border-white/5",children:[c.jsx(Cf,{className:"w-4 h-4 text-red-400"}),c.jsx("span",{className:"text-sm font-bold text-red-400",children:"Sair"})]})]})]})})]})}const n8=[{path:"/dashboard",label:"Dashboard",icon:c.jsx(wM,{className:"w-5 h-5"})},{path:"/studio",label:"Estdio IA",icon:c.jsx(ku,{className:"w-5 h-5"})},{path:"/menu-builder",label:"Cardpio",icon:c.jsx(MM,{className:"w-5 h-5"})},{path:"/staff",label:"Equipe",icon:c.jsx(bs,{className:"w-5 h-5"}),ownerOnly:!0},{path:"/profile",label:"Configuraes",icon:c.jsx(RM,{className:"w-5 h-5"})}],r8={"/dashboard":"Dashboard","/studio":"Estdio de Criao","/menu-builder":"Construtor de Cardpio","/staff":"Gesto de Equipe","/profile":"Configuraes"};function s8({items:t}){return c.jsxs("aside",{className:"hidden lg:flex fixed left-0 top-0 bottom-0 w-64 flex-col bg-[#0a0a0a]/80 backdrop-blur-xl border-r border-white/5 z-40",children:[c.jsx("div",{className:"h-20 flex items-center px-6 border-b border-white/5",children:c.jsx(Uc,{to:"/dashboard",className:"flex items-center gap-2",children:c.jsxs("span",{className:"text-2xl font-black italic tracking-tighter",children:["Emprata",c.jsx("span",{className:"text-primary",children:".ai"})]})})}),c.jsx("nav",{className:"flex-1 py-6 px-3 space-y-1",children:t.map(e=>c.jsx(Uc,{to:e.path,className:({isActive:n})=>`
              flex items-center gap-3 px-4 py-3 rounded-xl font-bold text-sm
              transition-all group relative
              ${n?"bg-primary/10 text-primary":"text-white/50 hover:text-white hover:bg-white/5"}
            `,children:({isActive:n})=>c.jsxs(c.Fragment,{children:[n&&c.jsx(xe.div,{layoutId:"sidebar-indicator",className:"absolute right-0 top-1/2 -translate-y-1/2 w-1 h-8 bg-primary rounded-l-full"}),c.jsx("span",{className:n?"text-primary":"text-white/40 group-hover:text-white/60",children:e.icon}),c.jsx("span",{children:e.label})]})},e.path))}),c.jsx("div",{className:"p-4 border-t border-white/5",children:c.jsxs("div",{className:"p-4 bg-white/5 rounded-xl",children:[c.jsx("p",{className:"text-[10px] font-bold uppercase tracking-widest text-white/30 mb-2",children:"Novo"}),c.jsx("p",{className:"text-sm font-bold text-white/60",children:" App do Garom disponvel"}),c.jsxs(Uc,{to:"/waiter-login",className:"text-xs text-primary font-bold flex items-center gap-1 mt-2 hover:underline",children:["Acessar ",c.jsx(fM,{className:"w-3 h-3"})]})]})})]})}function i8({items:t}){const e=t.slice(0,5);return c.jsx("nav",{className:"lg:hidden fixed bottom-0 left-0 right-0 h-20 bg-[#0a0a0a]/95 backdrop-blur-xl border-t border-white/5 flex items-center justify-around px-2 z-50",children:e.map(n=>c.jsx(Uc,{to:n.path,className:({isActive:r})=>`
            flex flex-col items-center gap-1 px-3 py-2 rounded-xl transition-all
            ${r?"text-primary":"text-white/40"}
          `,children:({isActive:r})=>c.jsxs(c.Fragment,{children:[c.jsx(xe.div,{animate:{scale:r?1.1:1},className:r?"text-primary":"",children:n.icon}),c.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wider",children:n.label.split(" ")[0]})]})},n.path))})}function o8({title:t}){const[e,n]=N.useState(!1);return c.jsxs("header",{className:"h-16 lg:h-20 flex items-center justify-between px-4 lg:px-8 bg-[#0a0a0a]/80 backdrop-blur-xl border-b border-white/5 sticky top-0 z-30",children:[c.jsx("button",{className:"lg:hidden p-2 -ml-2 text-white/60 hover:text-white",onClick:()=>n(!e),children:e?c.jsx(Nf,{className:"w-6 h-6"}):c.jsx(bM,{className:"w-6 h-6"})}),c.jsx("div",{className:"lg:flex-1",children:c.jsx(xe.h1,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"text-lg lg:text-xl font-black tracking-tight",children:t},t)}),c.jsx(BC,{})]})}function a8(){const t=ai();hr();const e=n8,n=r8[t.pathname]||"Emprata.ai";return c.jsxs("div",{className:"min-h-screen bg-[#0a0a0a] text-white",children:[c.jsx(s8,{items:e}),c.jsxs("div",{className:"lg:ml-64 min-h-screen flex flex-col pb-20 lg:pb-0",children:[c.jsx(o8,{title:n}),c.jsx("main",{className:"flex-1",children:c.jsx(Dn,{mode:"wait",children:c.jsx(xe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2,ease:"easeInOut"},className:"h-full",children:c.jsx(qk,{})},t.pathname)})})]}),c.jsx(i8,{items:e})]})}var zC=N.forwardRef(({transition:t,...e},n)=>{let r={position:"absolute",top:0,left:0,width:"100%",height:"100%",transition:t?`clip-path ${t}`:void 0,userSelect:"none",willChange:"clip-path, transition",KhtmlUserSelect:"none",MozUserSelect:"none",WebkitUserSelect:"none"};return c.jsx("div",{...e,style:r,"data-rcs":"clip-item",ref:n})});zC.displayName="ContainerClip";var $C=N.forwardRef(({children:t,disabled:e,portrait:n,position:r,transition:s},a)=>{let l={position:"absolute",top:0,width:n?"100%":void 0,height:n?void 0:"100%",background:"none",border:0,padding:0,pointerEvents:"all",appearance:"none",WebkitAppearance:"none",MozAppearance:"none",outline:0,transform:n?"translate3d(0, -50% ,0)":"translate3d(-50%, 0, 0)",transition:s?`${n?"top":"left"} ${s}`:void 0};return c.jsx("button",{ref:a,"aria-label":"Drag to move or focus and use arrow keys","aria-orientation":n?"vertical":"horizontal","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":r,"data-rcs":"handle-container",disabled:e,role:"slider",style:l,children:t})});$C.displayName="ThisHandleContainer";var uE=({flip:t})=>c.jsx("div",{className:"__rcs-handle-arrow",style:{width:0,height:0,borderTop:"8px solid transparent",borderRight:"10px solid",borderBottom:"8px solid transparent",transform:t?"rotate(180deg)":void 0}}),l8=({className:t="__rcs-handle-root",disabled:e,buttonStyle:n,linesStyle:r,portrait:s,style:a,...l})=>{let d={display:"flex",flexDirection:s?"row":"column",placeItems:"center",height:"100%",cursor:e?"not-allowed":s?"ns-resize":"ew-resize",pointerEvents:"none",color:"#fff",...a},h={flexGrow:1,height:s?2:"100%",width:s?"100%":2,backgroundColor:"currentColor",pointerEvents:"auto",boxShadow:"0 0 4px rgba(0,0,0,.5)",...r},f={display:"grid",gridAutoFlow:"column",gap:8,placeContent:"center",flexShrink:0,width:56,height:56,borderRadius:"50%",borderStyle:"solid",borderWidth:2,pointerEvents:"auto",backdropFilter:"blur(7px)",WebkitBackdropFilter:"blur(7px)",backgroundColor:"rgba(0, 0, 0, 0.125)",boxShadow:"0 0 4px rgba(0,0,0,.35)",transform:s?"rotate(90deg)":void 0,...n};return c.jsxs("div",{...l,className:t,style:d,children:[c.jsx("div",{className:"__rcs-handle-line",style:h}),c.jsxs("div",{className:"__rcs-handle-button",style:f,children:[c.jsx(uE,{}),c.jsx(uE,{flip:!0})]}),c.jsx("div",{className:"__rcs-handle-line",style:h})]})},HC=(t=>(t.ARROW_LEFT="ArrowLeft",t.ARROW_RIGHT="ArrowRight",t.ARROW_UP="ArrowUp",t.ARROW_DOWN="ArrowDown",t))(HC||{}),c8=({boxSizing:t="border-box",objectFit:e="cover",objectPosition:n="center center",...r}={})=>({display:"block",width:"100%",height:"100%",maxWidth:"100%",boxSizing:t,objectFit:e,objectPosition:n,...r}),u8=t=>{let e=N.useRef(t);return N.useEffect(()=>{e.current=t}),e.current},hg=(t,e,n,r)=>{let s=N.useRef();N.useEffect(()=>{s.current=e},[e]),N.useEffect(()=>{if(!(n&&n.addEventListener))return;let a=l=>s.current&&s.current(l);return n.addEventListener(t,a,r),()=>{n.removeEventListener(t,a,r)}},[t,n,r])},d8=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?N.useLayoutEffect:N.useEffect,h8=(t,e)=>{let n=N.useRef(),r=N.useCallback(()=>{t.current&&n.current&&n.current.observe(t.current)},[t]);d8(()=>(n.current=new ResizeObserver(([s])=>e(s.contentRect)),r(),()=>{n.current&&n.current.disconnect()}),[e,r])},hh={capture:!1,passive:!0},fg={capture:!0,passive:!1},f8=t=>{t.preventDefault(),t.currentTarget.focus()},bv=N.forwardRef(({boundsPadding:t=0,browsingContext:e=globalThis,changePositionOnHover:n=!1,disabled:r=!1,handle:s,itemOne:a,itemTwo:l,keyboardIncrement:d="5%",onlyHandleDraggable:h=!1,onPositionChange:f,portrait:g=!1,position:y=50,style:x,transition:E,...S},R)=>{let A=N.useRef(null),j=N.useRef(null),F=N.useRef(null),$=N.useRef(y),[Z,Y]=N.useState(!1),[K,D]=N.useState(!0),C=N.useRef(!1),[M,O]=N.useState(),B=u8(y),L=N.useCallback(function({x:T,y:q,isOffset:te}){let ie=A.current,le=F.current,pe=j.current,{width:me,height:ce,left:Ce,top:Fe}=ie.getBoundingClientRect();if(me===0||ce===0)return;let $e=g?te?q-Fe-e.scrollY:q:te?T-Ce-e.scrollX:T,He=Math.min(Math.max($e/(g?ce:me)*100,0),100),tt=g?ce/(ie.offsetHeight||1):me/(ie.offsetWidth||1),Le=t*tt/(g?ce:me)*100,ct=Math.min(Math.max(He,Le*tt),100-Le*tt);$.current=He,le.setAttribute("aria-valuenow",`${Math.round($.current)}`),le.style.top=g?`${ct}%`:"0",le.style.left=g?"0":`${ct}%`,pe.style.clipPath=g?`inset(${ct}% 0 0 0)`:`inset(0 0 0 ${ct}%)`,f&&f($.current)},[t,f,g,e]);N.useEffect(()=>{let{width:T,height:q}=A.current.getBoundingClientRect(),te=y===B?$.current:y;L({x:T/100*te,y:q/100*te})},[t,y,g,B,L]);let P=N.useCallback(T=>{T.preventDefault(),!(r||T.button!==0)&&(L({isOffset:!0,x:T.pageX,y:T.pageY}),Y(!0),D(!0))},[r,L]),be=N.useCallback(function(T){L({isOffset:!0,x:T.pageX,y:T.pageY}),D(!1)},[L]),ne=N.useCallback(()=>{Y(!1),D(!0)},[]),re=N.useCallback(({width:T,height:q})=>{let{width:te,height:ie}=A.current.getBoundingClientRect();L({x:T/100*$.current*te/T,y:q/100*$.current*ie/q})},[L]),ae=N.useCallback(T=>{if(!Object.values(HC).includes(T.key))return;T.preventDefault(),D(!0);let{top:q,left:te}=F.current.getBoundingClientRect(),{width:ie,height:le}=A.current.getBoundingClientRect(),pe=typeof d=="string"?parseFloat(d):d/ie*100,me=g?T.key==="ArrowLeft"||T.key==="ArrowDown":T.key==="ArrowRight"||T.key==="ArrowUp",ce=Math.min(Math.max(me?$.current+pe:$.current-pe,0),100);L({x:g?te:ie*ce/100,y:g?le*ce/100:q})},[d,g,L]);N.useEffect(()=>{O(h?F.current:A.current)},[h]),N.useEffect(()=>{let T=A.current,q=()=>{Z||ne()};return n&&(T.addEventListener("pointermove",be,hh),T.addEventListener("pointerleave",q,hh)),()=>{T.removeEventListener("pointermove",be),T.removeEventListener("pointerleave",q)}},[n,be,ne,Z]),N.useEffect(()=>(Z&&!C.current&&(e.addEventListener("pointermove",be,hh),e.addEventListener("pointerup",ne,hh),C.current=!0),()=>{C.current&&(e.removeEventListener("pointermove",be),e.removeEventListener("pointerup",ne),C.current=!1)}),[be,ne,Z,e]),N.useImperativeHandle(R,()=>({rootContainer:A.current,handleContainer:F.current,setPosition(T){let{width:q,height:te}=A.current.getBoundingClientRect();L({x:q/100*T,y:te/100*T})}}),[L]),h8(A,re),hg("keydown",ae,F.current,fg),hg("click",f8,F.current,fg),hg("pointerdown",P,M,fg);let ee=s||c.jsx(l8,{disabled:r,portrait:g}),ye=K?E:void 0,U={position:"relative",display:"flex",overflow:"hidden",cursor:Z?g?"ns-resize":"ew-resize":void 0,touchAction:"none",userSelect:"none",KhtmlUserSelect:"none",msUserSelect:"none",MozUserSelect:"none",WebkitUserSelect:"none",...x};return c.jsxs("div",{...S,ref:A,style:U,"data-rcs":"root",children:[a,c.jsx(zC,{ref:j,transition:ye,children:l}),c.jsx($C,{disabled:r,portrait:g,position:Math.round($.current),ref:F,transition:ye,children:ee})]})});bv.displayName="ReactCompareSlider";var xu=N.forwardRef(({style:t,...e},n)=>{let r=c8(t);return c.jsx("img",{ref:n,...e,style:r,"data-rcs":"image"})});xu.displayName="ReactCompareSliderImage";const dE=["Burger Kingdom","Pizza Express","Aa Premium","Sushi Master","Poke Bowl","Fit Kitchen","Taco Loco","Frozen Delights"];function Ac({children:t,className:e="",id:n}){const r=N.useRef(null),s=rS(r,{once:!0,margin:"-100px"});return c.jsx(xe.section,{ref:r,id:n,initial:{opacity:0,y:60},animate:s?{opacity:1,y:0}:{},transition:{duration:.8,ease:[.22,1,.36,1]},className:e,children:t})}function Ha({title:t,description:e,icon:n,className:r="",gradient:s=!1,children:a}){return c.jsxs(xe.div,{whileHover:{scale:1.02,y:-5},className:`
        relative p-6 md:p-8 rounded-3xl border border-white/10
        bg-gradient-to-br from-white/5 to-transparent
        overflow-hidden group cursor-pointer
        ${r}
      `,children:[c.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/20 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),c.jsxs("div",{className:"relative z-10",children:[c.jsx("div",{className:"w-12 h-12 bg-white/10 rounded-2xl flex items-center justify-center mb-4 group-hover:bg-primary/20 transition-colors",children:n}),c.jsx("h3",{className:"text-xl md:text-2xl font-black tracking-tight mb-2",children:t}),c.jsx("p",{className:"text-white/50 text-sm md:text-base",children:e}),a]})]})}function m8(){const{user:t}=hr(),[e,n]=N.useState(50),{scrollY:r}=X5(),s=Ib(r,[0,500],[0,150]),a=Ib(r,[0,300],[1,0]),l=Math.round(e*.15*35*30),d=h=>{const g={starter:"https://pay.kirvano.com/30cef9d1-c08e-49ed-b361-2862f182485f",pro:"https://pay.kirvano.com/b26facd0-9585-4b17-8b68-d58aaf659939"}[h],y=t?`${g}?external_id=${t.uid}`:g;window.open(y,"_blank")};return c.jsxs("div",{className:"min-h-screen bg-[#050505] text-white overflow-x-hidden",children:[c.jsx("nav",{className:"fixed top-0 left-0 right-0 z-50 bg-black/50 backdrop-blur-xl border-b border-white/5",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-6 h-20 flex items-center justify-between",children:[c.jsxs(Bt,{to:"/",className:"text-2xl font-black italic tracking-tighter",children:["Emprata",c.jsx("span",{className:"text-primary",children:".ai"})]}),c.jsxs("div",{className:"hidden md:flex items-center gap-8 text-sm font-bold text-white/50",children:[c.jsx("a",{href:"#features",className:"hover:text-white transition-colors",children:"Features"}),c.jsx("a",{href:"#pricing",className:"hover:text-white transition-colors",children:"Preos"}),c.jsx("a",{href:"#faq",className:"hover:text-white transition-colors",children:"FAQ"})]}),c.jsx("div",{className:"flex items-center gap-3",children:t?c.jsx(Bt,{to:"/dashboard",children:c.jsx(xe.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-6 py-2.5 bg-primary rounded-full font-bold text-sm",children:"Dashboard"})}):c.jsxs(c.Fragment,{children:[c.jsx(Bt,{to:"/auth",className:"hidden md:block text-sm font-bold text-white/60 hover:text-white px-4 py-2",children:"Entrar"}),c.jsx(Bt,{to:"/dashboard",children:c.jsx(xe.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-6 py-2.5 bg-primary rounded-full font-bold text-sm shadow-lg shadow-primary/30",children:"Comear Grtis"})})]})})]})}),c.jsxs("header",{className:"relative min-h-screen flex items-center justify-center pt-20 overflow-hidden",children:[c.jsxs("div",{className:"absolute inset-0",children:[c.jsx("div",{className:"absolute top-1/4 left-1/4 w-[600px] h-[600px] bg-primary/20 rounded-full blur-[150px] opacity-50"}),c.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-[400px] h-[400px] bg-purple-500/20 rounded-full blur-[120px] opacity-30"})]}),c.jsx("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnM+PHBhdHRlcm4gaWQ9ImdyaWQiIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCIgcGF0dGVyblVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+PHBhdGggZD0iTSAwIDEwIEwgNDAgMTAgTSAxMCAwIEwgMTAgNDAgTSAwIDIwIEwgNDAgMjAgTSAyMCAwIEwgMjAgNDAgTSAwIDMwIEwgNDAgMzAgTSAzMCAwIEwgMzAgNDAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iI2ZmZiIgc3Ryb2tlLW9wYWNpdHk9IjAuMDMiLz48L3BhdHRlcm4+PC9kZWZzPjxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9InVybCgjZ3JpZCkiLz48L3N2Zz4=')] opacity-50"}),c.jsxs(xe.div,{style:{y:s,opacity:a},className:"relative z-10 max-w-6xl mx-auto px-6 text-center",children:[c.jsxs(xe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"inline-flex items-center gap-2 px-4 py-2 bg-white/5 border border-white/10 rounded-full mb-8",children:[c.jsx(qs,{className:"w-4 h-4 text-primary"}),c.jsx("span",{className:"text-xs font-bold uppercase tracking-widest text-white/60",children:"Neural Engine v3.0  IA Generativa"})]}),c.jsxs(xe.h1,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.3,duration:.8},className:"text-5xl md:text-7xl lg:text-8xl font-black tracking-tighter leading-[0.9] mb-6",children:["O Sistema Operacional",c.jsx("br",{}),c.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-primary via-orange-400 to-yellow-500",children:"do seu Delivery."})]}),c.jsxs(xe.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"text-xl md:text-2xl text-white/50 max-w-3xl mx-auto mb-10 leading-relaxed",children:["IA que ",c.jsx("span",{className:"text-white font-bold",children:"fotografa"}),", Cardpio que ",c.jsx("span",{className:"text-white font-bold",children:"vende"})," e Gesto que ",c.jsx("span",{className:"text-white font-bold",children:"lucra"}),"."]}),c.jsxs(xe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},className:"flex flex-col sm:flex-row items-center justify-center gap-4",children:[c.jsx(Bt,{to:"/dashboard",children:c.jsxs(xe.button,{whileHover:{scale:1.05,boxShadow:"0 0 40px rgba(255,107,0,0.4)"},whileTap:{scale:.95},className:"px-8 py-4 bg-primary hover:bg-orange-600 rounded-2xl font-black text-lg uppercase tracking-wide flex items-center gap-3 shadow-2xl shadow-primary/30",children:[c.jsx(Wo,{className:"w-5 h-5 fill-current"}),"Comear Grtis"]})}),c.jsxs("button",{className:"px-8 py-4 bg-white/5 hover:bg-white/10 border border-white/10 rounded-2xl font-bold text-lg flex items-center gap-3 transition-colors",children:[c.jsx(IM,{className:"w-5 h-5"}),"Ver Demo"]})]}),c.jsx(xe.div,{initial:{opacity:0,y:60},animate:{opacity:1,y:0},transition:{delay:.9,duration:1},className:"mt-16 relative",children:c.jsx(xe.div,{animate:{y:[0,-10,0]},transition:{repeat:1/0,duration:4,ease:"easeInOut"},className:"relative mx-auto max-w-4xl",children:c.jsxs("div",{className:"aspect-video bg-gradient-to-br from-white/10 to-white/5 rounded-3xl border border-white/10 overflow-hidden shadow-2xl",children:[c.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent"}),c.jsx("img",{src:"https://images.unsplash.com/photo-1565299624946-b28f40a0ae38?w=1200&q=80",alt:"Food Photography",className:"w-full h-full object-cover"}),c.jsxs("div",{className:"absolute bottom-6 left-6 right-6 flex items-center justify-between",children:[c.jsxs("div",{className:"bg-black/60 backdrop-blur-xl rounded-2xl px-6 py-3 border border-white/10",children:[c.jsx("span",{className:"text-primary font-black",children:"+847%"}),c.jsx("span",{className:"text-white/60 text-sm ml-2",children:"mais cliques"})]}),c.jsx("div",{className:"bg-primary rounded-2xl px-6 py-3 font-bold",children:"Foto gerada por IA"})]})]})})})]}),c.jsx(xe.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1.5},className:"absolute bottom-8 left-1/2 -translate-x-1/2",children:c.jsx(xe.div,{animate:{y:[0,10,0]},transition:{repeat:1/0,duration:1.5},className:"w-6 h-10 border-2 border-white/20 rounded-full flex justify-center pt-2",children:c.jsx("div",{className:"w-1.5 h-1.5 bg-white/40 rounded-full"})})})]}),c.jsx("div",{className:"py-8 border-y border-white/5 bg-white/[0.02] overflow-hidden",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("span",{className:"px-6 text-xs font-bold uppercase tracking-widest text-white/30 whitespace-nowrap",children:"Usado por deliveries que faturam alto:"}),c.jsx("div",{className:"flex animate-[scroll_30s_linear_infinite]",children:[...dE,...dE].map((h,f)=>c.jsx("span",{className:"px-8 text-lg font-black text-white/20 whitespace-nowrap",children:h},f))})]})}),c.jsxs(Ac,{className:"max-w-6xl mx-auto px-6 py-24",children:[c.jsxs("div",{className:"text-center mb-12",children:[c.jsxs("h2",{className:"text-4xl md:text-5xl font-black tracking-tighter mb-4",children:["A diferena est nos ",c.jsx("span",{className:"text-primary",children:"detalhes."})]}),c.jsx("p",{className:"text-white/50 text-lg max-w-2xl mx-auto",children:"Arraste para ver a transformao que multiplica suas vendas."})]}),c.jsx("div",{className:"rounded-3xl overflow-hidden border border-white/10 shadow-2xl",children:c.jsx(bv,{position:50,handle:c.jsx("div",{className:"w-1 h-full bg-primary flex items-center justify-center",children:c.jsx("div",{className:"w-12 h-12 bg-primary rounded-full shadow-xl flex items-center justify-center border-4 border-black",children:c.jsx(Wo,{className:"w-5 h-5 text-white"})})}),itemOne:c.jsxs("div",{className:"relative h-[500px]",children:[c.jsx(xu,{src:"https://images.unsplash.com/photo-1565299624946-b28f40a0ae38?w=1200&q=80",alt:"Antes",className:"w-full h-full object-cover",style:{filter:"brightness(0.6) saturate(0.5) contrast(0.8)"}}),c.jsx("div",{className:"absolute top-6 left-6 bg-red-900/80 backdrop-blur px-4 py-2 rounded-full border border-red-500/30",children:c.jsx("span",{className:"text-sm font-bold text-red-300",children:" Foto de Celular"})}),c.jsx("div",{className:"absolute bottom-6 left-6 bg-black/80 backdrop-blur px-4 py-2 rounded-xl",children:c.jsxs("span",{className:"text-white/50 text-sm",children:["Converso: ",c.jsx("span",{className:"text-red-400 font-bold",children:"2.1%"})]})})]}),itemTwo:c.jsxs("div",{className:"relative h-[500px]",children:[c.jsx(xu,{src:"https://images.unsplash.com/photo-1565299624946-b28f40a0ae38?w=1200&q=80",alt:"Depois",className:"w-full h-full object-cover",style:{filter:"saturate(1.3) contrast(1.1) brightness(1.05)"}}),c.jsx("div",{className:"absolute top-6 right-6 bg-primary px-4 py-2 rounded-full shadow-lg",children:c.jsx("span",{className:"text-sm font-bold",children:" Emprata.ai"})}),c.jsx("div",{className:"absolute bottom-6 right-6 bg-black/80 backdrop-blur px-4 py-2 rounded-xl",children:c.jsxs("span",{className:"text-white/50 text-sm",children:["Converso: ",c.jsx("span",{className:"text-green-400 font-bold",children:"8.7%"})]})})]}),style:{height:"500px"}})})]}),c.jsxs(Ac,{id:"features",className:"max-w-6xl mx-auto px-6 py-24",children:[c.jsx("div",{className:"text-center mb-16",children:c.jsxs("h2",{className:"text-4xl md:text-5xl font-black tracking-tighter mb-4",children:["Tudo que voc precisa.",c.jsx("br",{}),c.jsx("span",{className:"text-primary",children:"Num s lugar."})]})}),c.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[c.jsx(Ha,{title:"Neural Engine",description:"IA treinada em milhes de fotos gastronmicas. Transforma qualquer foto de celular em imagem profissional.",icon:c.jsx(ku,{className:"w-6 h-6 text-primary"}),className:"md:col-span-2 md:row-span-2",children:c.jsx("div",{className:"mt-6 aspect-video bg-black/50 rounded-2xl overflow-hidden border border-white/10",children:c.jsx(xe.img,{animate:{rotate:[0,5,-5,0]},transition:{repeat:1/0,duration:8,ease:"easeInOut"},src:"https://images.unsplash.com/photo-1550547660-d9450f859349?w=600&q=80",alt:"Burger",className:"w-full h-full object-cover"})})}),c.jsx(Ha,{title:"Cardpio Vivo",description:"QR Code dinmico com fotos que vendem. Atualizao em tempo real.",icon:c.jsx(uS,{className:"w-6 h-6 text-blue-400"}),children:c.jsxs("div",{className:"mt-4 flex items-center gap-3",children:[c.jsx(PM,{className:"w-8 h-8 text-white/20"}),c.jsx("span",{className:"text-xs text-white/40",children:"Escaneie e veja"})]})}),c.jsx(Ha,{title:"Modo Garom",description:"App ultrarrpido para lanar pedidos. Sem treinamento.",icon:c.jsx(cr,{className:"w-6 h-6 text-green-400"}),children:c.jsxs("div",{className:"mt-4 flex items-center gap-2",children:[c.jsx(b0,{className:"w-4 h-4 text-white/40"}),c.jsx("span",{className:"text-xs text-white/40",children:"Setup em 2 min"})]})}),c.jsx(Ha,{title:"Analytics em Tempo Real",description:"Dashboard com mtricas que importam.",icon:c.jsx(E0,{className:"w-6 h-6 text-purple-400"})}),c.jsx(Ha,{title:"Gesto de Equipe",description:"Controle de garons e performance.",icon:c.jsx(bs,{className:"w-6 h-6 text-yellow-400"})}),c.jsx(Ha,{title:"Seguro e Rpido",description:"Dados criptografados. 99.9% uptime.",icon:c.jsx(hS,{className:"w-6 h-6 text-cyan-400"})})]})]}),c.jsx(Ac,{className:"max-w-4xl mx-auto px-6 py-24",children:c.jsxs("div",{className:"bg-gradient-to-br from-white/5 to-transparent border border-white/10 rounded-3xl p-8 md:p-12",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsxs("h2",{className:"text-3xl md:text-4xl font-black tracking-tighter mb-2",children:["Calculadora de ",c.jsx("span",{className:"text-primary",children:"Oportunidade Perdida"})]}),c.jsx("p",{className:"text-white/50",children:"Descubra quanto dinheiro voc est deixando escapar."})]}),c.jsxs("div",{className:"space-y-8",children:[c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("span",{className:"text-sm font-bold text-white/60",children:"Pedidos por dia:"}),c.jsx("span",{className:"text-2xl font-black text-primary",children:e})]}),c.jsx("input",{type:"range",min:"10",max:"200",value:e,onChange:h=>n(parseInt(h.target.value)),className:"w-full h-2 bg-white/10 rounded-full appearance-none cursor-pointer [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:w-6 [&::-webkit-slider-thumb]:h-6 [&::-webkit-slider-thumb]:bg-primary [&::-webkit-slider-thumb]:rounded-full [&::-webkit-slider-thumb]:cursor-pointer"})]}),c.jsxs("div",{className:"bg-red-500/10 border border-red-500/30 rounded-2xl p-6 text-center",children:[c.jsx("p",{className:"text-sm text-red-400 mb-2",children:"Voc est deixando na mesa por ms:"}),c.jsxs("p",{className:"text-4xl md:text-5xl font-black text-red-400",children:["R$ ",l.toLocaleString("pt-BR")]}),c.jsx("p",{className:"text-xs text-white/40 mt-2",children:"* Baseado em 15% de aumento de converso com fotos profissionais"})]}),c.jsx(Bt,{to:"/dashboard",className:"block",children:c.jsx(xe.button,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full py-4 bg-primary hover:bg-orange-600 rounded-2xl font-black text-lg transition-colors",children:"Recuperar Esse Dinheiro Agora"})})]})]})}),c.jsxs(Ac,{id:"pricing",className:"max-w-6xl mx-auto px-6 py-24",children:[c.jsx("div",{className:"text-center mb-16",children:c.jsxs("h2",{className:"text-4xl md:text-5xl font-black tracking-tighter mb-4",children:["Preo Justo.",c.jsx("br",{}),c.jsx("span",{className:"text-primary",children:"Valor Absurdo."})]})}),c.jsxs("div",{className:"grid md:grid-cols-3 gap-6 items-stretch",children:[c.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-3xl p-8 flex flex-col",children:[c.jsx("h3",{className:"text-2xl font-black mb-2",children:"Grtis"}),c.jsx("p",{className:"text-4xl font-black mb-6",children:"R$ 0"}),c.jsxs("ul",{className:"space-y-3 mb-8 flex-1 text-sm text-white/60",children:[c.jsxs("li",{className:"flex items-center gap-2",children:[c.jsx(un,{className:"w-4 h-4 text-white/30"}),"1 crdito para testar"]}),c.jsxs("li",{className:"flex items-center gap-2",children:[c.jsx(un,{className:"w-4 h-4 text-white/30"}),"Resoluo 720p"]}),c.jsxs("li",{className:"flex items-center gap-2",children:[c.jsx(un,{className:"w-4 h-4 text-white/30"}),"Com marca d'gua"]})]}),c.jsx(Bt,{to:"/dashboard",children:c.jsx("button",{className:"w-full py-4 bg-white/10 hover:bg-white/20 rounded-xl font-bold transition-colors",children:"Comear Grtis"})})]}),c.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-3xl p-8 flex flex-col",children:[c.jsx("h3",{className:"text-2xl font-black mb-2",children:"Pack Delivery"}),c.jsxs("div",{className:"flex items-baseline gap-2 mb-6",children:[c.jsx("span",{className:"text-4xl font-black",children:"R$ 97"}),c.jsx("span",{className:"text-white/40",children:"/ms"})]}),c.jsxs("ul",{className:"space-y-3 mb-8 flex-1 text-sm",children:[c.jsxs("li",{className:"flex items-center gap-2",children:[c.jsx(un,{className:"w-4 h-4 text-blue-400"}),"50 crditos/ms"]}),c.jsxs("li",{className:"flex items-center gap-2",children:[c.jsx(un,{className:"w-4 h-4 text-blue-400"}),"Full HD (1080p)"]}),c.jsxs("li",{className:"flex items-center gap-2",children:[c.jsx(un,{className:"w-4 h-4 text-blue-400"}),"Sem marca d'gua"]}),c.jsxs("li",{className:"flex items-center gap-2",children:[c.jsx(un,{className:"w-4 h-4 text-blue-400"}),"Todos os estilos"]})]}),c.jsx("button",{onClick:()=>d("starter"),className:"w-full py-4 bg-blue-500 hover:bg-blue-600 rounded-xl font-bold transition-colors",children:"Assinar Pack"})]}),c.jsxs("div",{className:"relative bg-gradient-to-br from-primary/20 to-transparent border-2 border-primary rounded-3xl p-8 flex flex-col scale-105 shadow-2xl shadow-primary/20",children:[c.jsx(xe.div,{animate:{opacity:[1,.7,1]},transition:{repeat:1/0,duration:2},className:"absolute -top-4 left-1/2 -translate-x-1/2 bg-primary px-4 py-1 rounded-full text-xs font-black uppercase tracking-wider",children:" Mais Vendido"}),c.jsx("h3",{className:"text-2xl font-black mb-2 mt-4",children:"Franquia / Pro"}),c.jsxs("div",{className:"flex items-baseline gap-2 mb-6",children:[c.jsx("span",{className:"text-4xl font-black text-primary",children:"R$ 197"}),c.jsx("span",{className:"text-white/40",children:"/ms"})]}),c.jsxs("ul",{className:"space-y-3 mb-8 flex-1 text-sm",children:[c.jsxs("li",{className:"flex items-center gap-2",children:[c.jsx(un,{className:"w-4 h-4 text-primary"}),c.jsx("span",{className:"font-bold",children:"200 crditos/ms"})]}),c.jsxs("li",{className:"flex items-center gap-2",children:[c.jsx(un,{className:"w-4 h-4 text-primary"}),"4K Ultra HD"]}),c.jsxs("li",{className:"flex items-center gap-2",children:[c.jsx(un,{className:"w-4 h-4 text-primary"}),"Estilos exclusivos"]}),c.jsxs("li",{className:"flex items-center gap-2",children:[c.jsx(un,{className:"w-4 h-4 text-primary"}),"Suporte prioritrio"]}),c.jsxs("li",{className:"flex items-center gap-2",children:[c.jsx(un,{className:"w-4 h-4 text-primary"}),"Processamento rpido"]})]}),c.jsx(xe.button,{whileHover:{scale:1.02,boxShadow:"0 0 30px rgba(255,107,0,0.5)"},whileTap:{scale:.98},onClick:()=>d("pro"),className:"w-full py-4 bg-primary hover:bg-orange-600 rounded-xl font-black transition-colors",children:"Quero Lucrar Mais"})]})]})]}),c.jsxs(Ac,{id:"faq",className:"max-w-4xl mx-auto px-6 py-24",children:[c.jsx("div",{className:"text-center mb-12",children:c.jsxs("h2",{className:"text-4xl font-black tracking-tighter mb-4",children:["Dvidas? ",c.jsx("span",{className:"text-primary",children:"Respostas."})]})}),c.jsx("div",{className:"space-y-4",children:[{q:"Preciso saber editar fotos?",a:"No! A IA faz tudo automaticamente. Voc s precisa tirar a foto e clicar em gerar."},{q:"Funciona para qualquer tipo de comida?",a:"Sim! Treinamos a IA em milhes de fotos de todos os tipos: pizzas, burgers, sushi, marmitas, sobremesas..."},{q:"Posso cancelar a qualquer momento?",a:"Com certeza. Sem multas, sem burocracia. Cancele direto no painel."},{q:"As fotos parecem reais?",a:"Absolutamente. Nossa tecnologia Neural Engine simula iluminao fsica real, garantindo fotos hiper-realistas."}].map((h,f)=>c.jsxs(xe.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:f*.1},className:"bg-white/5 border border-white/10 rounded-2xl p-6",children:[c.jsxs("h4",{className:"font-bold text-lg flex items-start gap-3",children:[c.jsx(mM,{className:"w-5 h-5 text-primary flex-shrink-0 mt-0.5"}),h.q]}),c.jsx("p",{className:"text-white/50 mt-2 ml-8",children:h.a})]},f))})]}),c.jsx("footer",{className:"border-t border-white/5 py-12",children:c.jsx("div",{className:"max-w-6xl mx-auto px-6",children:c.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-6",children:[c.jsxs("div",{className:"text-2xl font-black italic tracking-tighter",children:["Emprata",c.jsx("span",{className:"text-primary",children:".ai"})]}),c.jsxs("div",{className:"flex items-center gap-6 text-sm text-white/40",children:[c.jsx(Bt,{to:"/privacy",className:"hover:text-white transition-colors",children:"Privacidade"}),c.jsx(Bt,{to:"/terms",className:"hover:text-white transition-colors",children:"Termos"}),c.jsx("a",{href:"mailto:suporte@emprata.ai",className:"hover:text-white transition-colors",children:"Suporte"})]}),c.jsx("p",{className:"text-xs text-white/30",children:" 2025 Emprata.ai  Todos os direitos reservados"})]})})}),c.jsx("div",{className:"md:hidden fixed bottom-0 left-0 right-0 p-4 bg-black/95 backdrop-blur-xl border-t border-white/10 z-50",children:c.jsx(Bt,{to:"/dashboard",children:c.jsxs("button",{className:"w-full py-4 bg-primary rounded-2xl font-black text-lg flex items-center justify-center gap-2",children:[c.jsx(Wo,{className:"w-5 h-5"}),"Comear Grtis"]})})})]})}function qC({isOpen:t,onClose:e,onSuccess:n}){const{loginWithGoogle:r,signIn:s,signUp:a,error:l}=hr(),[d,h]=N.useState("google"),[f,g]=N.useState(""),[y,x]=N.useState(""),[E,S]=N.useState(""),[R,A]=N.useState(null),[j,F]=N.useState(!1),$=async()=>{try{F(!0),A(null),await r(),n?.(),e()}catch(K){A(K.message||"Erro ao fazer login com Google")}finally{F(!1)}},Z=async K=>{K.preventDefault();try{F(!0),A(null),await s(f,y),n?.(),e()}catch{A("Email ou senha incorretos")}finally{F(!1)}},Y=async K=>{K.preventDefault();try{F(!0),A(null),await a(f,y,E),n?.(),e()}catch(D){A(D.message||"Erro ao criar conta")}finally{F(!1)}};return c.jsx(Dn,{children:t&&c.jsxs("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4",children:[c.jsx(xe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e,className:"absolute inset-0 bg-black/90 backdrop-blur-md"}),c.jsxs(xe.div,{initial:{scale:.9,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.9,opacity:0,y:20},className:"relative w-full max-w-md bg-zinc-900 border-2 border-white/10 rounded-3xl overflow-hidden shadow-2xl",children:[c.jsx("button",{onClick:e,className:"absolute top-4 right-4 p-2 hover:bg-white/10 rounded-full transition-colors z-10",children:c.jsx(Nf,{className:"w-5 h-5 text-white/60"})}),c.jsxs("div",{className:"p-8 pt-12",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsx("div",{className:"w-16 h-16 bg-primary rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-lg shadow-primary/30",children:c.jsx("span",{className:"text-3xl",children:""})}),c.jsx("h2",{className:"text-3xl font-black text-white mb-2 italic uppercase",children:"Salve sua obra de arte"}),c.jsxs("p",{className:"text-white/60 font-medium",children:["Crie uma conta grtis para baixar sua imagem e ganhar ",c.jsx("span",{className:"text-primary font-bold",children:"+3 crditos"})]})]}),d==="google"&&c.jsxs(xe.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"space-y-4",children:[c.jsx("button",{onClick:$,disabled:j,className:"w-full bg-white hover:bg-gray-100 text-gray-900 font-bold py-4 px-6 rounded-2xl flex items-center justify-center gap-3 transition-all shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",children:j?c.jsx(rn,{className:"w-5 h-5 animate-spin"}):c.jsxs(c.Fragment,{children:[c.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[c.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),c.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),c.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),c.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continuar com Google"]})}),c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"absolute inset-0 flex items-center",children:c.jsx("div",{className:"w-full border-t border-white/10"})}),c.jsx("div",{className:"relative flex justify-center text-sm",children:c.jsx("span",{className:"px-4 bg-zinc-900 text-white/40 font-bold uppercase tracking-wider",children:"ou"})})]}),c.jsxs("button",{onClick:()=>h("email"),className:"w-full bg-white/5 hover:bg-white/10 text-white font-bold py-4 px-6 rounded-2xl flex items-center justify-center gap-3 transition-all border border-white/10",children:[c.jsx(Ih,{className:"w-5 h-5"}),"Entrar com Email"]})]}),d==="email"&&c.jsxs(xe.form,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},onSubmit:Z,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-bold text-white/60 mb-2 uppercase tracking-wider",children:"Email"}),c.jsxs("div",{className:"relative",children:[c.jsx(Ih,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-white/40"}),c.jsx("input",{type:"email",value:f,onChange:K=>g(K.target.value),className:"w-full bg-white/5 border border-white/10 rounded-xl px-12 py-3 text-white focus:outline-none focus:border-primary/50 transition-colors",placeholder:"seu@email.com",required:!0})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-bold text-white/60 mb-2 uppercase tracking-wider",children:"Senha"}),c.jsxs("div",{className:"relative",children:[c.jsx(Yh,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-white/40"}),c.jsx("input",{type:"password",value:y,onChange:K=>x(K.target.value),className:"w-full bg-white/5 border border-white/10 rounded-xl px-12 py-3 text-white focus:outline-none focus:border-primary/50 transition-colors",placeholder:"",required:!0})]})]}),c.jsx("button",{type:"submit",disabled:j,className:"w-full bg-primary hover:bg-orange-600 text-white font-black py-4 rounded-2xl transition-all shadow-lg shadow-primary/30 disabled:opacity-50 disabled:cursor-not-allowed uppercase tracking-wider",children:j?c.jsx(rn,{className:"w-5 h-5 animate-spin mx-auto"}):"Entrar"}),c.jsx("div",{className:"text-center",children:c.jsxs("button",{type:"button",onClick:()=>h("signup"),className:"text-sm text-white/60 hover:text-white font-bold transition-colors",children:["No tem conta? ",c.jsx("span",{className:"text-primary",children:"Criar agora"})]})}),c.jsx("button",{type:"button",onClick:()=>h("google"),className:"w-full text-sm text-white/40 hover:text-white font-bold transition-colors",children:" Voltar"})]}),d==="signup"&&c.jsxs(xe.form,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},onSubmit:Y,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-bold text-white/60 mb-2 uppercase tracking-wider",children:"Nome"}),c.jsxs("div",{className:"relative",children:[c.jsx(fS,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-white/40"}),c.jsx("input",{type:"text",value:E,onChange:K=>S(K.target.value),className:"w-full bg-white/5 border border-white/10 rounded-xl px-12 py-3 text-white focus:outline-none focus:border-primary/50 transition-colors",placeholder:"Seu nome",required:!0})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-bold text-white/60 mb-2 uppercase tracking-wider",children:"Email"}),c.jsxs("div",{className:"relative",children:[c.jsx(Ih,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-white/40"}),c.jsx("input",{type:"email",value:f,onChange:K=>g(K.target.value),className:"w-full bg-white/5 border border-white/10 rounded-xl px-12 py-3 text-white focus:outline-none focus:border-primary/50 transition-colors",placeholder:"seu@email.com",required:!0})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-bold text-white/60 mb-2 uppercase tracking-wider",children:"Senha"}),c.jsxs("div",{className:"relative",children:[c.jsx(Yh,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-white/40"}),c.jsx("input",{type:"password",value:y,onChange:K=>x(K.target.value),className:"w-full bg-white/5 border border-white/10 rounded-xl px-12 py-3 text-white focus:outline-none focus:border-primary/50 transition-colors",placeholder:"Mnimo 6 caracteres",required:!0,minLength:6})]})]}),c.jsx("button",{type:"submit",disabled:j,className:"w-full bg-primary hover:bg-orange-600 text-white font-black py-4 rounded-2xl transition-all shadow-lg shadow-primary/30 disabled:opacity-50 disabled:cursor-not-allowed uppercase tracking-wider",children:j?c.jsx(rn,{className:"w-5 h-5 animate-spin mx-auto"}):"Criar Conta"}),c.jsx("div",{className:"text-center",children:c.jsxs("button",{type:"button",onClick:()=>h("email"),className:"text-sm text-white/60 hover:text-white font-bold transition-colors",children:["J tem conta? ",c.jsx("span",{className:"text-primary",children:"Entrar"})]})}),c.jsx("button",{type:"button",onClick:()=>h("google"),className:"w-full text-sm text-white/40 hover:text-white font-bold transition-colors",children:" Voltar"})]}),(R||l)&&c.jsxs(xe.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mt-4 bg-red-500/20 border border-red-500/50 rounded-xl p-3 flex items-center gap-2",children:[c.jsx(iS,{className:"w-4 h-4 text-red-400 shrink-0"}),c.jsx("p",{className:"text-sm text-red-300 font-bold",children:R||l})]}),c.jsx("p",{className:"text-center text-xs text-white/30 font-bold mt-6",children:"Ao continuar, voc concorda com nossos Termos de Uso"})]})]})]})})}function p8(){const t=Yr(),{user:e,loading:n}=hr();if(N.useEffect(()=>{!n&&e&&(console.log(" [LoginPage] User detected, redirecting to Dashboard..."),t("/dashboard",{replace:!0}))},[e,n,t]),n)return c.jsx("div",{className:"min-h-screen bg-[#0a0a0a] flex items-center justify-center",children:c.jsx(rn,{className:"w-8 h-8 text-primary animate-spin"})});const r=()=>{t("/dashboard",{replace:!0})};return c.jsxs("div",{className:"min-h-screen bg-[#0a0a0a] flex flex-col",children:[c.jsx("header",{className:"p-6",children:c.jsxs("button",{onClick:()=>t("/"),className:"flex items-center gap-2 text-white/60 hover:text-white transition-colors group",children:[c.jsx(Au,{className:"w-5 h-5 group-hover:-translate-x-1 transition-transform"}),c.jsx("span",{className:"font-bold",children:"Voltar"})]})}),c.jsx("div",{className:"flex-1 flex items-center justify-center p-4",children:c.jsxs(xe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-md",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsxs("h1",{className:"text-5xl font-black italic tracking-ultra-tight mb-2",children:["Emprata",c.jsx("span",{className:"text-primary",children:".ai"})]}),c.jsx("p",{className:"text-white/40 font-bold uppercase tracking-widest text-sm",children:"Neural Food Photography"})]}),c.jsx(qC,{isOpen:!0,onClose:()=>t("/"),onSuccess:r})]})}),c.jsx("footer",{className:"p-6 text-center",children:c.jsx("p",{className:"text-xs text-white/20 font-bold uppercase tracking-wider",children:" 2025 Emprata.ai  Todos os direitos reservados"})})]})}var _v={};(function t(e,n,r,s){var a=!!(e.Worker&&e.Blob&&e.Promise&&e.OffscreenCanvas&&e.OffscreenCanvasRenderingContext2D&&e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype.transferControlToOffscreen&&e.URL&&e.URL.createObjectURL),l=typeof Path2D=="function"&&typeof DOMMatrix=="function",d=(function(){if(!e.OffscreenCanvas)return!1;try{var U=new OffscreenCanvas(1,1),T=U.getContext("2d");T.fillRect(0,0,1,1);var q=U.transferToImageBitmap();T.createPattern(q,"no-repeat")}catch{return!1}return!0})();function h(){}function f(U){var T=n.exports.Promise,q=T!==void 0?T:e.Promise;return typeof q=="function"?new q(U):(U(h,h),null)}var g=(function(U,T){return{transform:function(q){if(U)return q;if(T.has(q))return T.get(q);var te=new OffscreenCanvas(q.width,q.height),ie=te.getContext("2d");return ie.drawImage(q,0,0),T.set(q,te),te},clear:function(){T.clear()}}})(d,new Map),y=(function(){var U=Math.floor(16.666666666666668),T,q,te={},ie=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(T=function(le){var pe=Math.random();return te[pe]=requestAnimationFrame(function me(ce){ie===ce||ie+U-1<ce?(ie=ce,delete te[pe],le()):te[pe]=requestAnimationFrame(me)}),pe},q=function(le){te[le]&&cancelAnimationFrame(te[le])}):(T=function(le){return setTimeout(le,U)},q=function(le){return clearTimeout(le)}),{frame:T,cancel:q}})(),x=(function(){var U,T,q={};function te(ie){function le(pe,me){ie.postMessage({options:pe||{},callback:me})}ie.init=function(me){var ce=me.transferControlToOffscreen();ie.postMessage({canvas:ce},[ce])},ie.fire=function(me,ce,Ce){if(T)return le(me,null),T;var Fe=Math.random().toString(36).slice(2);return T=f(function($e){function He(tt){tt.data.callback===Fe&&(delete q[Fe],ie.removeEventListener("message",He),T=null,g.clear(),Ce(),$e())}ie.addEventListener("message",He),le(me,Fe),q[Fe]=He.bind(null,{data:{callback:Fe}})}),T},ie.reset=function(){ie.postMessage({reset:!0});for(var me in q)q[me](),delete q[me]}}return function(){if(U)return U;if(!r&&a){var ie=["var CONFETTI, SIZE = {}, module = {};","("+t.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{U=new Worker(URL.createObjectURL(new Blob([ie])))}catch(le){return typeof console<"u"&&typeof console.warn=="function"&&console.warn(" Could not load worker",le),null}te(U)}return U}})(),E={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function S(U,T){return T?T(U):U}function R(U){return U!=null}function A(U,T,q){return S(U&&R(U[T])?U[T]:E[T],q)}function j(U){return U<0?0:Math.floor(U)}function F(U,T){return Math.floor(Math.random()*(T-U))+U}function $(U){return parseInt(U,16)}function Z(U){return U.map(Y)}function Y(U){var T=String(U).replace(/[^0-9a-f]/gi,"");return T.length<6&&(T=T[0]+T[0]+T[1]+T[1]+T[2]+T[2]),{r:$(T.substring(0,2)),g:$(T.substring(2,4)),b:$(T.substring(4,6))}}function K(U){var T=A(U,"origin",Object);return T.x=A(T,"x",Number),T.y=A(T,"y",Number),T}function D(U){U.width=document.documentElement.clientWidth,U.height=document.documentElement.clientHeight}function C(U){var T=U.getBoundingClientRect();U.width=T.width,U.height=T.height}function M(U){var T=document.createElement("canvas");return T.style.position="fixed",T.style.top="0px",T.style.left="0px",T.style.pointerEvents="none",T.style.zIndex=U,T}function O(U,T,q,te,ie,le,pe,me,ce){U.save(),U.translate(T,q),U.rotate(le),U.scale(te,ie),U.arc(0,0,1,pe,me,ce),U.restore()}function B(U){var T=U.angle*(Math.PI/180),q=U.spread*(Math.PI/180);return{x:U.x,y:U.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:U.startVelocity*.5+Math.random()*U.startVelocity,angle2D:-T+(.5*q-Math.random()*q),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:U.color,shape:U.shape,tick:0,totalTicks:U.ticks,decay:U.decay,drift:U.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:U.gravity*3,ovalScalar:.6,scalar:U.scalar,flat:U.flat}}function L(U,T){T.x+=Math.cos(T.angle2D)*T.velocity+T.drift,T.y+=Math.sin(T.angle2D)*T.velocity+T.gravity,T.velocity*=T.decay,T.flat?(T.wobble=0,T.wobbleX=T.x+10*T.scalar,T.wobbleY=T.y+10*T.scalar,T.tiltSin=0,T.tiltCos=0,T.random=1):(T.wobble+=T.wobbleSpeed,T.wobbleX=T.x+10*T.scalar*Math.cos(T.wobble),T.wobbleY=T.y+10*T.scalar*Math.sin(T.wobble),T.tiltAngle+=.1,T.tiltSin=Math.sin(T.tiltAngle),T.tiltCos=Math.cos(T.tiltAngle),T.random=Math.random()+2);var q=T.tick++/T.totalTicks,te=T.x+T.random*T.tiltCos,ie=T.y+T.random*T.tiltSin,le=T.wobbleX+T.random*T.tiltCos,pe=T.wobbleY+T.random*T.tiltSin;if(U.fillStyle="rgba("+T.color.r+", "+T.color.g+", "+T.color.b+", "+(1-q)+")",U.beginPath(),l&&T.shape.type==="path"&&typeof T.shape.path=="string"&&Array.isArray(T.shape.matrix))U.fill(ae(T.shape.path,T.shape.matrix,T.x,T.y,Math.abs(le-te)*.1,Math.abs(pe-ie)*.1,Math.PI/10*T.wobble));else if(T.shape.type==="bitmap"){var me=Math.PI/10*T.wobble,ce=Math.abs(le-te)*.1,Ce=Math.abs(pe-ie)*.1,Fe=T.shape.bitmap.width*T.scalar,$e=T.shape.bitmap.height*T.scalar,He=new DOMMatrix([Math.cos(me)*ce,Math.sin(me)*ce,-Math.sin(me)*Ce,Math.cos(me)*Ce,T.x,T.y]);He.multiplySelf(new DOMMatrix(T.shape.matrix));var tt=U.createPattern(g.transform(T.shape.bitmap),"no-repeat");tt.setTransform(He),U.globalAlpha=1-q,U.fillStyle=tt,U.fillRect(T.x-Fe/2,T.y-$e/2,Fe,$e),U.globalAlpha=1}else if(T.shape==="circle")U.ellipse?U.ellipse(T.x,T.y,Math.abs(le-te)*T.ovalScalar,Math.abs(pe-ie)*T.ovalScalar,Math.PI/10*T.wobble,0,2*Math.PI):O(U,T.x,T.y,Math.abs(le-te)*T.ovalScalar,Math.abs(pe-ie)*T.ovalScalar,Math.PI/10*T.wobble,0,2*Math.PI);else if(T.shape==="star")for(var Le=Math.PI/2*3,ct=4*T.scalar,At=8*T.scalar,ht=T.x,Kt=T.y,qe=5,Je=Math.PI/qe;qe--;)ht=T.x+Math.cos(Le)*At,Kt=T.y+Math.sin(Le)*At,U.lineTo(ht,Kt),Le+=Je,ht=T.x+Math.cos(Le)*ct,Kt=T.y+Math.sin(Le)*ct,U.lineTo(ht,Kt),Le+=Je;else U.moveTo(Math.floor(T.x),Math.floor(T.y)),U.lineTo(Math.floor(T.wobbleX),Math.floor(ie)),U.lineTo(Math.floor(le),Math.floor(pe)),U.lineTo(Math.floor(te),Math.floor(T.wobbleY));return U.closePath(),U.fill(),T.tick<T.totalTicks}function P(U,T,q,te,ie){var le=T.slice(),pe=U.getContext("2d"),me,ce,Ce=f(function(Fe){function $e(){me=ce=null,pe.clearRect(0,0,te.width,te.height),g.clear(),ie(),Fe()}function He(){r&&!(te.width===s.width&&te.height===s.height)&&(te.width=U.width=s.width,te.height=U.height=s.height),!te.width&&!te.height&&(q(U),te.width=U.width,te.height=U.height),pe.clearRect(0,0,te.width,te.height),le=le.filter(function(tt){return L(pe,tt)}),le.length?me=y.frame(He):$e()}me=y.frame(He),ce=$e});return{addFettis:function(Fe){return le=le.concat(Fe),Ce},canvas:U,promise:Ce,reset:function(){me&&y.cancel(me),ce&&ce()}}}function be(U,T){var q=!U,te=!!A(T||{},"resize"),ie=!1,le=A(T,"disableForReducedMotion",Boolean),pe=a&&!!A(T||{},"useWorker"),me=pe?x():null,ce=q?D:C,Ce=U&&me?!!U.__confetti_initialized:!1,Fe=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,$e;function He(Le,ct,At){for(var ht=A(Le,"particleCount",j),Kt=A(Le,"angle",Number),qe=A(Le,"spread",Number),Je=A(Le,"startVelocity",Number),Nn=A(Le,"decay",Number),kt=A(Le,"gravity",Number),On=A(Le,"drift",Number),As=A(Le,"colors",Z),fr=A(Le,"ticks",Number),Kn=A(Le,"shapes"),Xr=A(Le,"scalar"),Qn=!!A(Le,"flat"),jr=K(Le),sn=ht,An=[],Yn=U.width*jr.x,mr=U.height*jr.y;sn--;)An.push(B({x:Yn,y:mr,angle:Kt,spread:qe,startVelocity:Je,color:As[sn%As.length],shape:Kn[F(0,Kn.length)],ticks:fr,decay:Nn,gravity:kt,drift:On,scalar:Xr,flat:Qn}));return $e?$e.addFettis(An):($e=P(U,An,ce,ct,At),$e.promise)}function tt(Le){var ct=le||A(Le,"disableForReducedMotion",Boolean),At=A(Le,"zIndex",Number);if(ct&&Fe)return f(function(Je){Je()});q&&$e?U=$e.canvas:q&&!U&&(U=M(At),document.body.appendChild(U)),te&&!Ce&&ce(U);var ht={width:U.width,height:U.height};me&&!Ce&&me.init(U),Ce=!0,me&&(U.__confetti_initialized=!0);function Kt(){if(me){var Je={getBoundingClientRect:function(){if(!q)return U.getBoundingClientRect()}};ce(Je),me.postMessage({resize:{width:Je.width,height:Je.height}});return}ht.width=ht.height=null}function qe(){$e=null,te&&(ie=!1,e.removeEventListener("resize",Kt)),q&&U&&(document.body.contains(U)&&document.body.removeChild(U),U=null,Ce=!1)}return te&&!ie&&(ie=!0,e.addEventListener("resize",Kt,!1)),me?me.fire(Le,ht,qe):He(Le,ht,qe)}return tt.reset=function(){me&&me.reset(),$e&&$e.reset()},tt}var ne;function re(){return ne||(ne=be(null,{useWorker:!0,resize:!0})),ne}function ae(U,T,q,te,ie,le,pe){var me=new Path2D(U),ce=new Path2D;ce.addPath(me,new DOMMatrix(T));var Ce=new Path2D;return Ce.addPath(ce,new DOMMatrix([Math.cos(pe)*ie,Math.sin(pe)*ie,-Math.sin(pe)*le,Math.cos(pe)*le,q,te])),Ce}function ee(U){if(!l)throw new Error("path confetti are not supported in this browser");var T,q;typeof U=="string"?T=U:(T=U.path,q=U.matrix);var te=new Path2D(T),ie=document.createElement("canvas"),le=ie.getContext("2d");if(!q){for(var pe=1e3,me=pe,ce=pe,Ce=0,Fe=0,$e,He,tt=0;tt<pe;tt+=2)for(var Le=0;Le<pe;Le+=2)le.isPointInPath(te,tt,Le,"nonzero")&&(me=Math.min(me,tt),ce=Math.min(ce,Le),Ce=Math.max(Ce,tt),Fe=Math.max(Fe,Le));$e=Ce-me,He=Fe-ce;var ct=10,At=Math.min(ct/$e,ct/He);q=[At,0,0,At,-Math.round($e/2+me)*At,-Math.round(He/2+ce)*At]}return{type:"path",path:T,matrix:q}}function ye(U){var T,q=1,te="#000000",ie='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof U=="string"?T=U:(T=U.text,q="scalar"in U?U.scalar:q,ie="fontFamily"in U?U.fontFamily:ie,te="color"in U?U.color:te);var le=10*q,pe=""+le+"px "+ie,me=new OffscreenCanvas(le,le),ce=me.getContext("2d");ce.font=pe;var Ce=ce.measureText(T),Fe=Math.ceil(Ce.actualBoundingBoxRight+Ce.actualBoundingBoxLeft),$e=Math.ceil(Ce.actualBoundingBoxAscent+Ce.actualBoundingBoxDescent),He=2,tt=Ce.actualBoundingBoxLeft+He,Le=Ce.actualBoundingBoxAscent+He;Fe+=He+He,$e+=He+He,me=new OffscreenCanvas(Fe,$e),ce=me.getContext("2d"),ce.font=pe,ce.fillStyle=te,ce.fillText(T,tt,Le);var ct=1/q;return{type:"bitmap",bitmap:me.transferToImageBitmap(),matrix:[ct,0,0,ct,-Fe*ct/2,-$e*ct/2]}}n.exports=function(){return re().apply(this,arguments)},n.exports.reset=function(){re().reset()},n.exports.create=be,n.exports.shapeFromPath=ee,n.exports.shapeFromText=ye})((function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}})(),_v,!1);const Ay=_v.exports;_v.exports.create;var hE;(function(t){t.STRING="string",t.NUMBER="number",t.INTEGER="integer",t.BOOLEAN="boolean",t.ARRAY="array",t.OBJECT="object"})(hE||(hE={}));var fE;(function(t){t.LANGUAGE_UNSPECIFIED="language_unspecified",t.PYTHON="python"})(fE||(fE={}));var mE;(function(t){t.OUTCOME_UNSPECIFIED="outcome_unspecified",t.OUTCOME_OK="outcome_ok",t.OUTCOME_FAILED="outcome_failed",t.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(mE||(mE={}));const pE=["user","model","function","system"];var gE;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(gE||(gE={}));var yE;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(yE||(yE={}));var vE;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(vE||(vE={}));var xE;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER"})(xE||(xE={}));var eu;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.OTHER="OTHER"})(eu||(eu={}));var wE;(function(t){t.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",t.RETRIEVAL_QUERY="RETRIEVAL_QUERY",t.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",t.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",t.CLASSIFICATION="CLASSIFICATION",t.CLUSTERING="CLUSTERING"})(wE||(wE={}));var bE;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE"})(bE||(bE={}));var _E;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(_E||(_E={}));class Tn extends Error{constructor(e){super(`[GoogleGenerativeAI Error]: ${e}`)}}class qa extends Tn{constructor(e,n){super(e),this.response=n}}class WC extends Tn{constructor(e,n,r,s){super(e),this.status=n,this.statusText=r,this.errorDetails=s}}class Wi extends Tn{}class GC extends Tn{}const g8="https://generativelanguage.googleapis.com",y8="v1beta",v8="0.24.1",x8="genai-js";var sa;(function(t){t.GENERATE_CONTENT="generateContent",t.STREAM_GENERATE_CONTENT="streamGenerateContent",t.COUNT_TOKENS="countTokens",t.EMBED_CONTENT="embedContent",t.BATCH_EMBED_CONTENTS="batchEmbedContents"})(sa||(sa={}));class w8{constructor(e,n,r,s,a){this.model=e,this.task=n,this.apiKey=r,this.stream=s,this.requestOptions=a}toString(){var e,n;const r=((e=this.requestOptions)===null||e===void 0?void 0:e.apiVersion)||y8;let a=`${((n=this.requestOptions)===null||n===void 0?void 0:n.baseUrl)||g8}/${r}/${this.model}:${this.task}`;return this.stream&&(a+="?alt=sse"),a}}function b8(t){const e=[];return t?.apiClient&&e.push(t.apiClient),e.push(`${x8}/${v8}`),e.join(" ")}async function _8(t){var e;const n=new Headers;n.append("Content-Type","application/json"),n.append("x-goog-api-client",b8(t.requestOptions)),n.append("x-goog-api-key",t.apiKey);let r=(e=t.requestOptions)===null||e===void 0?void 0:e.customHeaders;if(r){if(!(r instanceof Headers))try{r=new Headers(r)}catch(s){throw new Wi(`unable to convert customHeaders value ${JSON.stringify(r)} to Headers: ${s.message}`)}for(const[s,a]of r.entries()){if(s==="x-goog-api-key")throw new Wi(`Cannot set reserved header name ${s}`);if(s==="x-goog-api-client")throw new Wi(`Header name ${s} can only be set using the apiClient field`);n.append(s,a)}}return n}async function E8(t,e,n,r,s,a){const l=new w8(t,e,n,r,a);return{url:l.toString(),fetchOptions:Object.assign(Object.assign({},C8(a)),{method:"POST",headers:await _8(l),body:s})}}async function Hu(t,e,n,r,s,a={},l=fetch){const{url:d,fetchOptions:h}=await E8(t,e,n,r,s,a);return T8(d,h,l)}async function T8(t,e,n=fetch){let r;try{r=await n(t,e)}catch(s){S8(s,t)}return r.ok||await I8(r,t),r}function S8(t,e){let n=t;throw n.name==="AbortError"?(n=new GC(`Request aborted when fetching ${e.toString()}: ${t.message}`),n.stack=t.stack):t instanceof WC||t instanceof Wi||(n=new Tn(`Error fetching from ${e.toString()}: ${t.message}`),n.stack=t.stack),n}async function I8(t,e){let n="",r;try{const s=await t.json();n=s.error.message,s.error.details&&(n+=` ${JSON.stringify(s.error.details)}`,r=s.error.details)}catch{}throw new WC(`Error fetching from ${e.toString()}: [${t.status} ${t.statusText}] ${n}`,t.status,t.statusText,r)}function C8(t){const e={};if(t?.signal!==void 0||t?.timeout>=0){const n=new AbortController;t?.timeout>=0&&setTimeout(()=>n.abort(),t.timeout),t?.signal&&t.signal.addEventListener("abort",()=>{n.abort()}),e.signal=n.signal}return e}function Ev(t){return t.text=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),Vh(t.candidates[0]))throw new qa(`${Oi(t)}`,t);return N8(t)}else if(t.promptFeedback)throw new qa(`Text not available. ${Oi(t)}`,t);return""},t.functionCall=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),Vh(t.candidates[0]))throw new qa(`${Oi(t)}`,t);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),EE(t)[0]}else if(t.promptFeedback)throw new qa(`Function call not available. ${Oi(t)}`,t)},t.functionCalls=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),Vh(t.candidates[0]))throw new qa(`${Oi(t)}`,t);return EE(t)}else if(t.promptFeedback)throw new qa(`Function call not available. ${Oi(t)}`,t)},t}function N8(t){var e,n,r,s;const a=[];if(!((n=(e=t.candidates)===null||e===void 0?void 0:e[0].content)===null||n===void 0)&&n.parts)for(const l of(s=(r=t.candidates)===null||r===void 0?void 0:r[0].content)===null||s===void 0?void 0:s.parts)l.text&&a.push(l.text),l.executableCode&&a.push("\n```"+l.executableCode.language+`
`+l.executableCode.code+"\n```\n"),l.codeExecutionResult&&a.push("\n```\n"+l.codeExecutionResult.output+"\n```\n");return a.length>0?a.join(""):""}function EE(t){var e,n,r,s;const a=[];if(!((n=(e=t.candidates)===null||e===void 0?void 0:e[0].content)===null||n===void 0)&&n.parts)for(const l of(s=(r=t.candidates)===null||r===void 0?void 0:r[0].content)===null||s===void 0?void 0:s.parts)l.functionCall&&a.push(l.functionCall);if(a.length>0)return a}const A8=[eu.RECITATION,eu.SAFETY,eu.LANGUAGE];function Vh(t){return!!t.finishReason&&A8.includes(t.finishReason)}function Oi(t){var e,n,r;let s="";if((!t.candidates||t.candidates.length===0)&&t.promptFeedback)s+="Response was blocked",!((e=t.promptFeedback)===null||e===void 0)&&e.blockReason&&(s+=` due to ${t.promptFeedback.blockReason}`),!((n=t.promptFeedback)===null||n===void 0)&&n.blockReasonMessage&&(s+=`: ${t.promptFeedback.blockReasonMessage}`);else if(!((r=t.candidates)===null||r===void 0)&&r[0]){const a=t.candidates[0];Vh(a)&&(s+=`Candidate was blocked due to ${a.finishReason}`,a.finishMessage&&(s+=`: ${a.finishMessage}`))}return s}function wu(t){return this instanceof wu?(this.v=t,this):new wu(t)}function k8(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),s,a=[];return s={},l("next"),l("throw"),l("return"),s[Symbol.asyncIterator]=function(){return this},s;function l(x){r[x]&&(s[x]=function(E){return new Promise(function(S,R){a.push([x,E,S,R])>1||d(x,E)})})}function d(x,E){try{h(r[x](E))}catch(S){y(a[0][3],S)}}function h(x){x.value instanceof wu?Promise.resolve(x.value.v).then(f,g):y(a[0][2],x)}function f(x){d("next",x)}function g(x){d("throw",x)}function y(x,E){x(E),a.shift(),a.length&&d(a[0][0],a[0][1])}}const TE=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function R8(t){const e=t.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),n=D8(e),[r,s]=n.tee();return{stream:j8(r),response:P8(s)}}async function P8(t){const e=[],n=t.getReader();for(;;){const{done:r,value:s}=await n.read();if(r)return Ev(M8(e));e.push(s)}}function j8(t){return k8(this,arguments,function*(){const n=t.getReader();for(;;){const{value:r,done:s}=yield wu(n.read());if(s)break;yield yield wu(Ev(r))}})}function D8(t){const e=t.getReader();return new ReadableStream({start(r){let s="";return a();function a(){return e.read().then(({value:l,done:d})=>{if(d){if(s.trim()){r.error(new Tn("Failed to parse stream"));return}r.close();return}s+=l;let h=s.match(TE),f;for(;h;){try{f=JSON.parse(h[1])}catch{r.error(new Tn(`Error parsing JSON response: "${h[1]}"`));return}r.enqueue(f),s=s.substring(h[0].length),h=s.match(TE)}return a()}).catch(l=>{let d=l;throw d.stack=l.stack,d.name==="AbortError"?d=new GC("Request aborted when reading from the stream"):d=new Tn("Error reading from the stream"),d})}}})}function M8(t){const e=t[t.length-1],n={promptFeedback:e?.promptFeedback};for(const r of t){if(r.candidates){let s=0;for(const a of r.candidates)if(n.candidates||(n.candidates=[]),n.candidates[s]||(n.candidates[s]={index:s}),n.candidates[s].citationMetadata=a.citationMetadata,n.candidates[s].groundingMetadata=a.groundingMetadata,n.candidates[s].finishReason=a.finishReason,n.candidates[s].finishMessage=a.finishMessage,n.candidates[s].safetyRatings=a.safetyRatings,a.content&&a.content.parts){n.candidates[s].content||(n.candidates[s].content={role:a.content.role||"user",parts:[]});const l={};for(const d of a.content.parts)d.text&&(l.text=d.text),d.functionCall&&(l.functionCall=d.functionCall),d.executableCode&&(l.executableCode=d.executableCode),d.codeExecutionResult&&(l.codeExecutionResult=d.codeExecutionResult),Object.keys(l).length===0&&(l.text=""),n.candidates[s].content.parts.push(l)}s++}r.usageMetadata&&(n.usageMetadata=r.usageMetadata)}return n}async function KC(t,e,n,r){const s=await Hu(e,sa.STREAM_GENERATE_CONTENT,t,!0,JSON.stringify(n),r);return R8(s)}async function QC(t,e,n,r){const a=await(await Hu(e,sa.GENERATE_CONTENT,t,!1,JSON.stringify(n),r)).json();return{response:Ev(a)}}function YC(t){if(t!=null){if(typeof t=="string")return{role:"system",parts:[{text:t}]};if(t.text)return{role:"system",parts:[t]};if(t.parts)return t.role?t:{role:"system",parts:t.parts}}}function bu(t){let e=[];if(typeof t=="string")e=[{text:t}];else for(const n of t)typeof n=="string"?e.push({text:n}):e.push(n);return O8(e)}function O8(t){const e={role:"user",parts:[]},n={role:"function",parts:[]};let r=!1,s=!1;for(const a of t)"functionResponse"in a?(n.parts.push(a),s=!0):(e.parts.push(a),r=!0);if(r&&s)throw new Tn("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!r&&!s)throw new Tn("No content is provided for sending chat message.");return r?e:n}function L8(t,e){var n;let r={model:e?.model,generationConfig:e?.generationConfig,safetySettings:e?.safetySettings,tools:e?.tools,toolConfig:e?.toolConfig,systemInstruction:e?.systemInstruction,cachedContent:(n=e?.cachedContent)===null||n===void 0?void 0:n.name,contents:[]};const s=t.generateContentRequest!=null;if(t.contents){if(s)throw new Wi("CountTokensRequest must have one of contents or generateContentRequest, not both.");r.contents=t.contents}else if(s)r=Object.assign(Object.assign({},r),t.generateContentRequest);else{const a=bu(t);r.contents=[a]}return{generateContentRequest:r}}function SE(t){let e;return t.contents?e=t:e={contents:[bu(t)]},t.systemInstruction&&(e.systemInstruction=YC(t.systemInstruction)),e}function V8(t){return typeof t=="string"||Array.isArray(t)?{content:bu(t)}:t}const IE=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],F8={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function U8(t){let e=!1;for(const n of t){const{role:r,parts:s}=n;if(!e&&r!=="user")throw new Tn(`First content should be with role 'user', got ${r}`);if(!pE.includes(r))throw new Tn(`Each item should include role field. Got ${r} but valid roles are: ${JSON.stringify(pE)}`);if(!Array.isArray(s))throw new Tn("Content should have 'parts' property with an array of Parts");if(s.length===0)throw new Tn("Each Content should have at least one part");const a={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const d of s)for(const h of IE)h in d&&(a[h]+=1);const l=F8[r];for(const d of IE)if(!l.includes(d)&&a[d]>0)throw new Tn(`Content with role '${r}' can't contain '${d}' part`);e=!0}}function CE(t){var e;if(t.candidates===void 0||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;if(n===void 0||n.parts===void 0||n.parts.length===0)return!1;for(const r of n.parts)if(r===void 0||Object.keys(r).length===0||r.text!==void 0&&r.text==="")return!1;return!0}const NE="SILENT_ERROR";class B8{constructor(e,n,r,s={}){this.model=n,this.params=r,this._requestOptions=s,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=e,r?.history&&(U8(r.history),this._history=r.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(e,n={}){var r,s,a,l,d,h;await this._sendPromise;const f=bu(e),g={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(s=this.params)===null||s===void 0?void 0:s.generationConfig,tools:(a=this.params)===null||a===void 0?void 0:a.tools,toolConfig:(l=this.params)===null||l===void 0?void 0:l.toolConfig,systemInstruction:(d=this.params)===null||d===void 0?void 0:d.systemInstruction,cachedContent:(h=this.params)===null||h===void 0?void 0:h.cachedContent,contents:[...this._history,f]},y=Object.assign(Object.assign({},this._requestOptions),n);let x;return this._sendPromise=this._sendPromise.then(()=>QC(this._apiKey,this.model,g,y)).then(E=>{var S;if(CE(E.response)){this._history.push(f);const R=Object.assign({parts:[],role:"model"},(S=E.response.candidates)===null||S===void 0?void 0:S[0].content);this._history.push(R)}else{const R=Oi(E.response);R&&console.warn(`sendMessage() was unsuccessful. ${R}. Inspect response object for details.`)}x=E}).catch(E=>{throw this._sendPromise=Promise.resolve(),E}),await this._sendPromise,x}async sendMessageStream(e,n={}){var r,s,a,l,d,h;await this._sendPromise;const f=bu(e),g={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(s=this.params)===null||s===void 0?void 0:s.generationConfig,tools:(a=this.params)===null||a===void 0?void 0:a.tools,toolConfig:(l=this.params)===null||l===void 0?void 0:l.toolConfig,systemInstruction:(d=this.params)===null||d===void 0?void 0:d.systemInstruction,cachedContent:(h=this.params)===null||h===void 0?void 0:h.cachedContent,contents:[...this._history,f]},y=Object.assign(Object.assign({},this._requestOptions),n),x=KC(this._apiKey,this.model,g,y);return this._sendPromise=this._sendPromise.then(()=>x).catch(E=>{throw new Error(NE)}).then(E=>E.response).then(E=>{if(CE(E)){this._history.push(f);const S=Object.assign({},E.candidates[0].content);S.role||(S.role="model"),this._history.push(S)}else{const S=Oi(E);S&&console.warn(`sendMessageStream() was unsuccessful. ${S}. Inspect response object for details.`)}}).catch(E=>{E.message!==NE&&console.error(E)}),x}}async function z8(t,e,n,r){return(await Hu(e,sa.COUNT_TOKENS,t,!1,JSON.stringify(n),r)).json()}async function $8(t,e,n,r){return(await Hu(e,sa.EMBED_CONTENT,t,!1,JSON.stringify(n),r)).json()}async function H8(t,e,n,r){const s=n.requests.map(l=>Object.assign(Object.assign({},l),{model:e}));return(await Hu(e,sa.BATCH_EMBED_CONTENTS,t,!1,JSON.stringify({requests:s}),r)).json()}class AE{constructor(e,n,r={}){this.apiKey=e,this._requestOptions=r,n.model.includes("/")?this.model=n.model:this.model=`models/${n.model}`,this.generationConfig=n.generationConfig||{},this.safetySettings=n.safetySettings||[],this.tools=n.tools,this.toolConfig=n.toolConfig,this.systemInstruction=YC(n.systemInstruction),this.cachedContent=n.cachedContent}async generateContent(e,n={}){var r;const s=SE(e),a=Object.assign(Object.assign({},this._requestOptions),n);return QC(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},s),a)}async generateContentStream(e,n={}){var r;const s=SE(e),a=Object.assign(Object.assign({},this._requestOptions),n);return KC(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},s),a)}startChat(e){var n;return new B8(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(n=this.cachedContent)===null||n===void 0?void 0:n.name},e),this._requestOptions)}async countTokens(e,n={}){const r=L8(e,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),s=Object.assign(Object.assign({},this._requestOptions),n);return z8(this.apiKey,this.model,r,s)}async embedContent(e,n={}){const r=V8(e),s=Object.assign(Object.assign({},this._requestOptions),n);return $8(this.apiKey,this.model,r,s)}async batchEmbedContents(e,n={}){const r=Object.assign(Object.assign({},this._requestOptions),n);return H8(this.apiKey,this.model,e,r)}}class XC{constructor(e){this.apiKey=e}getGenerativeModel(e,n){if(!e.model)throw new Tn("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new AE(this.apiKey,e,n)}getGenerativeModelFromCachedContent(e,n,r){if(!e.name)throw new Wi("Cached content must contain a `name` field.");if(!e.model)throw new Wi("Cached content must contain a `model` field.");const s=["model","systemInstruction"];for(const l of s)if(n?.[l]&&e[l]&&n?.[l]!==e[l]){if(l==="model"){const d=n.model.startsWith("models/")?n.model.replace("models/",""):n.model,h=e.model.startsWith("models/")?e.model.replace("models/",""):e.model;if(d===h)continue}throw new Wi(`Different value for "${l}" specified in modelParams (${n[l]}) and cachedContent (${e[l]})`)}const a=Object.assign(Object.assign({},n),{model:e.model,tools:e.tools,toolConfig:e.toolConfig,systemInstruction:e.systemInstruction,cachedContent:e});return new AE(this.apiKey,a,r)}}const kE=new XC("AIzaSyAFo1Hq5LuuaqkKLzZgUOl3PTtKk_cagVc"),mg="models/gemini-3-pro-preview",pg="models/gemini-2.5-flash-image";async function q8(t,e=1080){return new Promise((n,r)=>{const s=new Image,a=document.createElement("canvas"),l=a.getContext("2d");if(!l){r(new Error("Canvas context not available"));return}s.onload=()=>{const d=Math.min(s.width,s.height),h=(s.width-d)/2,f=(s.height-d)/2;a.width=e,a.height=e,l.drawImage(s,h,f,d,d,0,0,e,e),a.toBlob(g=>{g?n(new File([g],t.name,{type:"image/jpeg",lastModified:Date.now()})):r(new Error("Failed to create blob"))},"image/jpeg",.95)},s.onerror=()=>r(new Error("Failed to load image")),s.src=URL.createObjectURL(t)})}function W8(t){return new Promise((e,n)=>{const r=new FileReader;r.readAsDataURL(t),r.onload=()=>{const s=r.result;e(s.split(",")[1])},r.onerror=s=>n(s)})}function G8(t,e,n){const r={rustico:"rustic wooden table",gourmet:"white marble surface",dark:"dark matte black surface",domingo:"bright white with morning sunlight",marble:"luxurious black onyx marble",neon:"reflective surface with neon lights"},s={top:"90 flat lay top-down",diagonal:"45 diner's perspective",front:"eye-level hero shot",macro:"extreme close-up macro"},a=n>70?"bright studio softbox lighting":n>40?"balanced natural lighting":"dramatic low-key shadows";return`Role: Food Photographer Expert.
Task: Enhance this request into a high-end food delivery photography prompt.
Context:
- Surface: ${r[t]||r.rustico}
- Camera Angle: ${s[e]||s.diagonal}  
- Lighting: ${a}
Technical Specs: 85mm lens, f/1.8, shallow DOF, 1080x1080 square, 8K quality.
Keywords: commercial food photography, appetizing, Michelin star presentation.
Output: Just the prompt in English. No explanations.`}async function K8(t){console.log(" [Neural Engine v4.2] Iniciando...");const e=Ml.getState(),n=Xa.currentUser;if(!n)return{success:!1,error:"Usurio no autenticado."};if(e.plan!=="PRO"&&e.credits<1)return{success:!1,error:"Crditos insuficientes. Faa um upgrade."};console.log(" Cobrana otimista (UI + Firestore)..."),e.decrementCredit();const r=In(Nt,"users",n.uid);try{await to(r,{credits:aE(-1)}),console.log(" Crdito deduzido no Firestore")}catch(s){return console.error(" Erro ao deduzir crdito no Firestore:",s),e.refundCredit(),{success:!1,error:"Erro ao processar pagamento. Tente novamente."}}try{console.log(" Processando imagem 1080x1080...");const s=await q8(t.file,1080),a=await W8(s);console.log(` [Prompt Architect] Usando ${mg}...`);const l=kE.getGenerativeModel({model:mg}),d=G8(t.vibe,t.angle,t.lightIntensity||50),f=(await l.generateContent([{text:d},{inlineData:{mimeType:s.type,data:a}}])).response.text();console.log(" Prompt gerado:",f.substring(0,100)+"..."),console.log(` [Image Generator] Usando ${pg}...`);const E=(await kE.getGenerativeModel({model:pg}).generateContent(f)).response.candidates?.[0]?.content?.parts||[];let S;for(const R of E)if(R.inlineData?.mimeType?.startsWith("image/")){S=`data:${R.inlineData.mimeType};base64,${R.inlineData.data}`;break}return S||(console.log(" Fallback para Pollinations..."),S=`https://image.pollinations.ai/prompt/${encodeURIComponent(f)}?model=flux-realism&width=1080&height=1080&nologo=true&seed=${Date.now()}`),console.log(" [Neural Engine] Gerao concluda!"),{success:!0,imageUrl:S,debugInfo:{usedModel:`${mg} + ${pg}`,promptGenerated:f}}}catch(s){console.error(" Erro na gerao:",s),console.log(" Rollback: Devolvendo crdito (UI + Firestore)..."),e.refundCredit();try{await to(r,{credits:aE(1)}),console.log(" Crdito devolvido no Firestore")}catch(a){console.error(" Erro crtico ao estornar crdito:",a)}return{success:!1,error:s.message||"Erro na Engine Neural. Tente novamente."}}}function Q8({isOpen:t,onClose:e}){const n=Ml(s=>s.userId);Yr();const r=s=>{let a;s==="starter"?a="https://pay.kirvano.com/30cef9d1-c08e-49ed-b361-2862f182485f":a="https://pay.kirvano.com/b26facd0-9585-4b17-8b68-d58aaf659939";const l=n?`${a}?external_id=${n}`:a;window.open(l,"_blank")};return c.jsx(Dn,{children:t&&c.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 md:p-6",children:[c.jsx(xe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e,className:"absolute inset-0 bg-black/90 backdrop-blur-md"}),c.jsxs(xe.div,{initial:{scale:.9,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.9,opacity:0,y:20},className:"relative w-full max-w-6xl bg-[#0a0a0a] border border-white/10 rounded-[3rem] overflow-hidden shadow-[0_0_100px_rgba(255,94,0,0.3)] max-h-[90vh] overflow-y-auto",children:[c.jsx("div",{className:"absolute top-0 inset-x-0 h-60 bg-gradient-to-b from-primary/20 via-primary/5 to-transparent pointer-events-none"}),c.jsx("button",{onClick:e,className:"absolute top-6 right-6 p-3 hover:bg-white/5 rounded-full text-white/40 hover:text-white transition-colors z-10",children:c.jsx(Nf,{className:"w-6 h-6"})}),c.jsxs("div",{className:"p-8 md:p-12 pt-20 relative z-10",children:[c.jsxs("div",{className:"text-center mb-12",children:[c.jsx("div",{className:"w-20 h-20 bg-primary rounded-3xl flex items-center justify-center mb-6 shadow-2xl shadow-primary/40 rotate-12 mx-auto",children:c.jsx(Wo,{className:"w-10 h-10 text-white fill-current"})}),c.jsxs("h2",{className:"text-4xl md:text-6xl font-black italic tracking-tighter uppercase mb-4",children:["Escolha Seu ",c.jsx("span",{className:"text-primary",children:"Arsenal"})]}),c.jsx("p",{className:"text-white/50 font-medium text-lg max-w-2xl mx-auto",children:"De teste gratuito a domnio total do delivery. Voc escolhe o ritmo."})]}),c.jsxs("div",{className:"grid md:grid-cols-3 gap-6 mb-8",children:[c.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-3xl p-8 flex flex-col",children:[c.jsxs("div",{className:"mb-6",children:[c.jsx("span",{className:"text-[10px] font-black uppercase tracking-[0.4em] text-white/30",children:"Teste Grtis"}),c.jsx("h3",{className:"text-2xl font-black mt-2 mb-1 italic uppercase",children:"Degustao"})]}),c.jsxs("div",{className:"mb-6",children:[c.jsx("div",{className:"text-5xl font-black tracking-tight mb-1 italic",children:"R$ 0"}),c.jsx("p",{className:"text-xs font-bold text-white/40",children:"Sem carto  Sem compromisso"})]}),c.jsxs("ul",{className:"space-y-2 mb-8 flex-grow text-sm font-medium text-white/50",children:[c.jsxs("li",{className:"flex gap-2 items-start",children:[c.jsx(jc,{className:"w-4 h-4 text-white/20 shrink-0 mt-0.5"}),c.jsxs("span",{children:[c.jsx("span",{className:"text-white font-bold",children:"1 Crdito"})," para testar"]})]}),c.jsxs("li",{className:"flex gap-2 items-start",children:[c.jsx(jc,{className:"w-4 h-4 text-white/20 shrink-0 mt-0.5"}),"Baixa Resoluo (720p)"]}),c.jsxs("li",{className:"flex gap-2 items-start",children:[c.jsx(jc,{className:"w-4 h-4 text-white/20 shrink-0 mt-0.5"}),"Com Marca d'gua"]}),c.jsxs("li",{className:"flex gap-2 items-start",children:[c.jsx(jc,{className:"w-4 h-4 text-white/20 shrink-0 mt-0.5"}),"1 Estilo disponvel"]})]}),c.jsx(Bt,{to:"/app",onClick:e,className:"mt-auto",children:c.jsx("button",{className:"w-full py-4 rounded-2xl border-2 border-white/10 font-black hover:bg-white/5 transition-all uppercase tracking-widest text-xs",children:"Testar Agora"})})]}),c.jsxs("div",{className:"bg-gradient-to-br from-blue-500/10 to-blue-600/5 border-2 border-blue-500/30 rounded-3xl p-8 flex flex-col relative",children:[c.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2 bg-blue-500 text-white px-4 py-1 rounded-full font-black text-[10px] tracking-widest uppercase",children:"Ideal Cardpios Pequenos"}),c.jsxs("div",{className:"mb-6 mt-2",children:[c.jsx("span",{className:"text-[10px] font-black uppercase tracking-[0.4em] text-blue-400",children:"Pagamento nico"}),c.jsx("h3",{className:"text-2xl font-black mt-2 mb-1 italic uppercase",children:"Pack Delivery"})]}),c.jsxs("div",{className:"mb-6",children:[c.jsxs("div",{className:"flex items-baseline gap-2 mb-1",children:[c.jsx("span",{className:"text-5xl font-black tracking-tight italic",children:"R$ 97"}),c.jsx("span",{className:"text-lg font-bold text-white/40",children:"/ms"})]}),c.jsx("p",{className:"text-sm font-bold text-blue-400",children:"15 Crditos Mensais"}),c.jsx("p",{className:"text-xs font-black text-white/30 mt-1",children:"(Acumulativos)  R$ 6,40/foto"})]}),c.jsxs("ul",{className:"space-y-2 mb-8 flex-grow text-sm font-medium",children:[c.jsxs("li",{className:"flex gap-2 items-start",children:[c.jsx(qs,{className:"w-4 h-4 text-blue-400 fill-current shrink-0 mt-0.5"}),c.jsx("span",{className:"text-white font-bold",children:"15 Crditos"})]}),c.jsxs("li",{className:"flex gap-2 items-start",children:[c.jsx(qs,{className:"w-4 h-4 text-blue-400 fill-current shrink-0 mt-0.5"}),"Full HD (1080p)"]}),c.jsxs("li",{className:"flex gap-2 items-start",children:[c.jsx(qs,{className:"w-4 h-4 text-blue-400 fill-current shrink-0 mt-0.5"}),"Sem Marca d'gua"]}),c.jsxs("li",{className:"flex gap-2 items-start",children:[c.jsx(qs,{className:"w-4 h-4 text-blue-400 fill-current shrink-0 mt-0.5"}),"Todos os Estilos Pro"]}),c.jsxs("li",{className:"flex gap-2 items-start",children:[c.jsx(qs,{className:"w-4 h-4 text-blue-400 fill-current shrink-0 mt-0.5"}),"Suporte via Email"]})]}),c.jsx("button",{onClick:()=>r("starter"),className:"w-full py-5 rounded-2xl bg-blue-500 hover:bg-blue-600 font-black text-white shadow-xl shadow-blue-500/30 uppercase tracking-tighter text-base transition-all hover:scale-[1.02] active:scale-95 mt-auto",children:"Comprar Pack"})]}),c.jsxs("div",{className:"bg-gradient-to-br from-primary/20 to-orange-600/10 border-2 border-primary rounded-3xl p-8 flex flex-col relative overflow-hidden transform scale-105",children:[c.jsx("div",{className:"absolute top-0 right-0 bg-primary text-white px-6 py-2 rounded-bl-3xl font-black text-[10px] tracking-widest uppercase italic",children:"MAIS VENDIDO"}),c.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-gradient-to-br from-primary/5 to-transparent pointer-events-none"}),c.jsxs("div",{className:"mb-6 mt-6 relative z-10",children:[c.jsx("span",{className:"text-[10px] font-black uppercase tracking-[0.4em] text-primary",children:"Emprata Neural Engine"}),c.jsx("h3",{className:"text-2xl font-black mt-2 mb-1 italic uppercase",children:"Franquia / Pro"})]}),c.jsxs("div",{className:"mb-6 relative z-10",children:[c.jsxs("div",{className:"flex items-baseline gap-2 mb-1",children:[c.jsx("span",{className:"text-5xl font-black tracking-tight italic",children:"R$ 197"}),c.jsx("span",{className:"text-lg font-bold text-white/40",children:"/ms"})]}),c.jsx("p",{className:"text-sm font-bold text-primary",children:"50 Crditos Mensais + Vibes PRO"}),c.jsx("p",{className:"text-xs font-black text-white/30 mt-1",children:"(Acumulativos)  R$ 3,90/foto "})]}),c.jsx("div",{className:"bg-primary/10 border border-primary/20 rounded-xl p-3 mb-6 relative z-10",children:c.jsx("p",{className:"text-xs font-black text-primary uppercase tracking-wide text-center",children:" Recomendado para Dark Kitchens"})}),c.jsxs("ul",{className:"space-y-2 mb-8 flex-grow text-sm font-medium relative z-10",children:[c.jsxs("li",{className:"flex gap-2 items-start",children:[c.jsx(Uo,{className:"w-4 h-4 text-primary fill-current shrink-0 mt-0.5"}),c.jsx("span",{className:"text-white font-bold",children:"50 Crditos Premium"})]}),c.jsxs("li",{className:"flex gap-2 items-start",children:[c.jsx(Uo,{className:"w-4 h-4 text-primary fill-current shrink-0 mt-0.5"}),"4K Ultra HD"]}),c.jsxs("li",{className:"flex gap-2 items-start",children:[c.jsx(Uo,{className:"w-4 h-4 text-primary fill-current shrink-0 mt-0.5"}),"Sem Marca d'gua"]}),c.jsxs("li",{className:"flex gap-2 items-start",children:[c.jsx(Uo,{className:"w-4 h-4 text-primary fill-current shrink-0 mt-0.5"}),"Estilos Exclusivos"]}),c.jsxs("li",{className:"flex gap-2 items-start",children:[c.jsx(Uo,{className:"w-4 h-4 text-primary fill-current shrink-0 mt-0.5"}),"Suporte WhatsApp"]}),c.jsxs("li",{className:"flex gap-2 items-start",children:[c.jsx(Uo,{className:"w-4 h-4 text-primary fill-current shrink-0 mt-0.5"}),"Processamento Rpido"]})]}),c.jsxs("button",{onClick:()=>r("pro"),className:"w-full py-5 rounded-2xl bg-primary hover:bg-orange-600 font-black text-white shadow-xl shadow-primary/40 uppercase tracking-tighter text-base transition-all hover:scale-[1.02] active:scale-95 mt-auto relative z-10",children:[c.jsx(jM,{className:"w-5 h-5 inline-block mr-2 fill-current"}),"Quero Lucro Mximo"]})]})]}),c.jsx("p",{className:"text-center text-xs font-black uppercase tracking-widest text-white/20 mt-8",children:"Pagamento 100% Seguro  Processado pela Kirvano"})]})]})]})})}function Y8(){const[t,e]=N.useState(!1),[n,r]=N.useState(null);return{downloadImage:async(a,l)=>{try{e(!0),r(null);const d=document.createElement("canvas");d.width=1080,d.height=1080;const h=d.getContext("2d");if(!h)throw new Error("Canvas context not available");const f=await X8(a);J8(h,f,d.width,d.height),l==="FREE"&&Z8(h,d.width,d.height),await eU(d,"emprata_resultado.jpg")}catch(d){throw console.error("Download error:",d),r("Erro ao baixar imagem. Tente novamente."),d}finally{e(!1)}},isDownloading:t,error:n}}function X8(t){return new Promise((e,n)=>{const r=new Image;r.crossOrigin="anonymous",r.onload=()=>e(r),r.onerror=()=>n(new Error("Failed to load image")),r.src=t})}function J8(t,e,n,r){const s=e.width/e.height,a=n/r;let l=0,d=0,h=e.width,f=e.height;s>a?(h=e.height*a,l=(e.width-h)/2):(f=e.width/a,d=(e.height-f)/2),t.drawImage(e,l,d,h,f,0,0,n,r)}function Z8(t,e,n){t.save(),t.translate(e/2,n/2),t.rotate(-Math.PI/4),t.font="bold 80px sans-serif",t.fillStyle="rgba(255, 255, 255, 0.3)",t.textAlign="center",t.textBaseline="middle",t.fillText("EMPRATA.AI - FREE",0,0),t.restore(),t.save();const r=40,s=30;t.font=`bold ${r}px sans-serif`,t.fillStyle="rgba(255, 94, 0, 0.6)",t.strokeStyle="rgba(0, 0, 0, 0.5)",t.lineWidth=3,t.textAlign="right",t.textBaseline="bottom";const a="Emprata.ai";t.strokeText(a,e-s,n-s),t.fillText(a,e-s,n-s),t.restore()}function eU(t,e){return new Promise((n,r)=>{t.toBlob(s=>{if(!s){r(new Error("Failed to create blob"));return}const a=URL.createObjectURL(s),l=document.createElement("a");l.href=a,l.download=e,document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL(a),n()},"image/jpeg",.95)})}const tU=[{id:"rustico",name:"Mesa Rstica",image:"https://images.unsplash.com/photo-1547592166-23ac45744acd?w=200&h=200&fit=crop&q=80",isPro:!1,promptKeyword:"rustic wooden table, natural lighting, artisanal presentation",description:"Madeira natural, iluminao suave, estilo caseiro"},{id:"gourmet",name:"Mrmore Clean",image:"https://images.unsplash.com/photo-1615799998603-7c6270a45196?w=200&h=200&fit=crop&q=80",isPro:!1,promptKeyword:"white marble surface, minimalist, clean aesthetic, soft shadows",description:"Mrmore branco, minimalista, sombras suaves"},{id:"dark",name:"Moody Dark",image:"https://images.unsplash.com/photo-1555939594-58d7cb561ad1?w=200&h=200&fit=crop&q=80",isPro:!1,promptKeyword:"dark moody atmosphere, dramatic lighting, black background",description:"Atmosfera escura, iluminao dramtica"},{id:"domingo",name:"Sol de Manh",image:"https://images.unsplash.com/photo-1473093226795-af9932fe5856?w=200&h=200&fit=crop&q=80",isPro:!1,promptKeyword:"bright morning sunlight, warm tones, fresh and airy",description:"Luz solar matinal, tons quentes, fresco"},{id:"marble",name:"Onyx Luxo",image:"https://images.unsplash.com/photo-1518013431117-eb1465fa5752?w=200&h=200&fit=crop&q=80",isPro:!1,promptKeyword:"black marble, luxury presentation, gold accents",description:"Mrmore preto, apresentao luxuosa"},{id:"neon",name:"Neon Cyber",image:"https://images.unsplash.com/photo-1550745165-9bc0b252726f?w=200&h=200&fit=crop&q=80",isPro:!1,promptKeyword:"neon lights, cyberpunk aesthetic, vibrant colors, futuristic",description:"Luzes neon, esttica cyberpunk, futurista"},{id:"chefs-table",name:"Chef's Table",image:"https://images.unsplash.com/photo-1414235077428-338989a2e8c0?w=200&h=200&fit=crop&q=80",isPro:!0,promptKeyword:"fine dining, dramatic spotlight, dark background, professional plating, michelin star presentation",description:"Iluminao dramtica, foco pontual, alta gastronomia"},{id:"editorial",name:"Editorial Magazine",image:"https://images.unsplash.com/photo-1504674900247-0877df9cc836?w=200&h=200&fit=crop&q=80",isPro:!0,promptKeyword:"solid color background, hard shadows, pop art style, magazine editorial, bold composition",description:"Fundo colorido slido, sombras duras, estilo revista"},{id:"morning-brunch",name:"Morning Brunch",image:"https://images.unsplash.com/photo-1533777324565-a040eb52facd?w=200&h=200&fit=crop&q=80",isPro:!0,promptKeyword:"intense natural light, plant shadows, airy atmosphere, fresh breakfast setting, window light",description:"Luz natural intensa, sombras de plantas, arejado"},{id:"dark-kitchen",name:"Dark Kitchen",image:"https://images.unsplash.com/photo-1565299624946-b28f40a0ae38?w=200&h=200&fit=crop&q=80",isPro:!0,promptKeyword:"slate stone surface, steam rising, industrial style, professional kitchen atmosphere",description:"Pedra ardsia, vapor, estilo industrial"},{id:"golden-hour",name:"Golden Hour",image:"https://images.unsplash.com/photo-1567620905732-2d1ec7ab7445?w=200&h=200&fit=crop&q=80",isPro:!0,promptKeyword:"sunset lighting, warm golden tones, soft glow, magic hour photography",description:"Luz do pr do sol, tons dourados, brilho suave"},{id:"macro-detail",name:"Macro Detail",image:"https://images.unsplash.com/photo-1606787366850-de6330128bfc?w=200&h=200&fit=crop&q=80",isPro:!0,promptKeyword:"extreme close-up, texture focus, bokeh background, macro photography, shallow depth of field",description:"Foco extremo na textura, fundo desfocado (bokeh)"}],nU=[{id:"top",label:"Flat Lay",subLabel:"90",icon:cM},{id:"diagonal",label:"Diner's Eye",subLabel:"45",icon:TM},{id:"front",label:"The Hero",subLabel:"0",icon:Xo},{id:"macro",label:"Macro",subLabel:"Close",icon:lM}];function rU(){const t=Ml(),{user:e}=hr(),{downloadImage:n,isDownloading:r,error:s}=Y8(),[a,l]=N.useState(!1),[d,h]=N.useState(!1),[f,g]=N.useState(null),[y,x]=N.useState(""),[E,S]=N.useState(!1),[R,A]=N.useState(!1),[j,F]=N.useState(!1),$=N.useRef(null),Z=async O=>new Promise((B,L)=>{const P=new Image,be=document.createElement("canvas"),ne=be.getContext("2d");if(!ne){L(new Error("Canvas context not available"));return}P.onload=()=>{console.log(" Cortando imagem para 1080x1080...");const re=Math.min(P.width,P.height),ae=(P.width-re)/2,ee=(P.height-re)/2;be.width=1080,be.height=1080,ne.drawImage(P,ae,ee,re,re,0,0,1080,1080),be.toBlob(ye=>{if(ye){const U=new File([ye],O.name,{type:"image/jpeg",lastModified:Date.now()});console.log(" Imagem cortada:",U.size,"bytes"),B(U)}else L(new Error("Failed to create blob from canvas"))},"image/jpeg",.95)},P.onerror=()=>L(new Error("Failed to load image for cropping")),P.src=URL.createObjectURL(O)});N.useEffect(()=>{if(t.generatedImage){A(!0),S(!1);const O=new Image;O.onload=()=>{console.log(" Imagem carregada com sucesso"),S(!0),A(!1)},O.onerror=()=>{console.error(" Erro ao carregar imagem"),g("Erro ao carregar a imagem gerada."),A(!1),t.setGeneratedImage(null)},O.src=t.generatedImage}else S(!1),A(!1)},[t.generatedImage]),N.useEffect(()=>{s&&g(s)},[s]);const Y=async O=>{const B=O.target.files?.[0];if(B)try{F(!0),g(null);const L=await Z(B),P=URL.createObjectURL(L);t.setOriginalImage(P,L),F(!1)}catch(L){console.error("Erro ao processar imagem:",L),g("Erro ao processar a imagem."),F(!1)}},K=(O,B)=>{const L=t.plan.toLowerCase();if(B&&L==="free"){l(!0);return}t.setVibe(O)},D=async()=>{if(!(!t.originalImage||!t.originalFile||t.isGenerating)){if(t.plan==="FREE"&&t.credits<=0){l(!0);return}t.setIsGenerating(!0),g(null);try{x("Identificando textura..."),await new Promise(B=>setTimeout(B,800)),x("Ajustando iluminao..."),await new Promise(B=>setTimeout(B,800)),x("Empratando...");const O=await K8({file:t.originalFile,vibe:t.selectedVibe,angle:t.selectedPerspective,lightIntensity:t.lightIntensity});O.success&&O.imageUrl?(console.log(" URL recebida:",O.imageUrl),t.setGeneratedImage(O.imageUrl),t.useCredit(),setTimeout(()=>{Ay({particleCount:200,spread:100,origin:{y:.6},colors:["#ff5e00","#FFC107","#FFFFFF"],ticks:300})},500)):g(O.error||"A Engine Neural falhou.")}catch(O){console.error(O),g("Erro de conexo.")}finally{t.setIsGenerating(!1),x("")}}},C=async()=>{if(t.generatedImage){if(!e){h(!0);return}try{await n(t.generatedImage,t.plan)}catch(O){console.error("Download failed:",O)}}},M=()=>c.jsxs("div",{className:"space-y-6 md:space-y-12 pb-safe",children:[c.jsxs("div",{children:[c.jsxs("div",{className:"flex justify-between items-end mb-4",children:[c.jsx("h3",{className:"text-[10px] font-black uppercase tracking-[0.3em] text-white/30",children:"Vibe da Foto"}),c.jsx(qs,{className:"w-4 h-4 text-primary"})]}),c.jsx("div",{className:"flex md:grid md:grid-cols-2 gap-3 overflow-x-auto md:overflow-x-visible no-scrollbar pb-2 px-4 md:px-0 scroll-px-4",children:tU.map(O=>{const B=O.isPro&&t.plan.toLowerCase()==="free";return c.jsx("button",{onClick:()=>K(O.id,O.isPro),className:`flex-shrink-0 w-24 h-24 md:w-auto md:aspect-square rounded-2xl md:rounded-[2rem] overflow-hidden border-2 transition-all duration-300 group ${t.selectedVibe===O.id?"border-primary ring-2 ring-primary/20 scale-105":"border-white/5"}`,children:c.jsxs("div",{className:"relative w-full h-full",children:[c.jsx("img",{src:O.image,alt:O.name,className:`w-full h-full object-cover transition-transform duration-700 ${t.selectedVibe===O.id?"scale-110":"group-hover:scale-105"}`}),c.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/90 via-black/20 to-transparent flex flex-col justify-end p-2 md:p-5",children:c.jsx("span",{className:"text-[9px] md:text-xs font-black uppercase tracking-tight italic",children:O.name})}),B&&c.jsx("div",{className:"absolute top-2 right-2 w-6 h-6 md:w-8 md:h-8 bg-black/60 backdrop-blur-md rounded-full flex items-center justify-center border border-white/10",children:c.jsx(Yh,{className:"w-3 h-3 md:w-4 md:h-4 text-amber-500 fill-current"})})]})},O.id)})})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-[10px] font-black uppercase tracking-[0.3em] text-white/30 mb-4",children:"ngulo"}),c.jsx("div",{className:"grid grid-cols-4 gap-2 md:gap-3",children:nU.map(O=>c.jsxs("button",{onClick:()=>t.setPerspective(O.id),className:`flex flex-col items-center gap-1 md:gap-2 p-2 md:p-4 rounded-2xl md:rounded-3xl border-2 transition-all ${t.selectedPerspective===O.id?"bg-primary border-primary text-white shadow-xl shadow-primary/20":"bg-white/5 border-white/5 text-white/40"}`,children:[c.jsx(O.icon,{className:"w-5 h-5 md:w-6 md:h-6"}),c.jsx("span",{className:"text-[8px] md:text-[9px] font-black uppercase tracking-tight",children:O.label}),c.jsx("span",{className:"text-[7px] md:text-[8px] font-bold text-white/60",children:O.subLabel})]},O.id))})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsx("h3",{className:"text-[10px] font-black uppercase tracking-[0.3em] text-white/30",children:"Luz"}),c.jsxs("span",{className:"text-sm font-black text-primary italic",children:[t.lightIntensity,"%"]})]}),c.jsxs("div",{className:"relative h-10 md:h-12 flex items-center",children:[c.jsx("div",{className:"absolute inset-x-0 h-2 bg-white/5 rounded-full overflow-hidden",children:c.jsx("div",{className:"h-full bg-gradient-to-r from-orange-900 via-primary to-amber-200",style:{width:`${t.lightIntensity}%`}})}),c.jsx("input",{type:"range",min:"0",max:"100",value:t.lightIntensity,disabled:t.plan==="FREE",onChange:O=>t.setLightIntensity(parseInt(O.target.value)),className:`absolute inset-x-0 appearance-none bg-transparent cursor-pointer z-10 h-10 md:h-12 ${t.plan==="FREE"?"cursor-not-allowed opacity-50":""}`})]}),t.plan==="FREE"&&c.jsxs("div",{onClick:()=>l(!0),className:"flex items-center gap-2 mt-3 text-[9px] md:text-[10px] font-bold text-amber-500 uppercase cursor-pointer",children:[c.jsx(Yh,{className:"w-3 h-3"})," PRO"]})]}),c.jsx(xe.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:D,disabled:!t.originalImage||t.isGenerating||t.plan==="FREE"&&t.credits<=0,className:`w-full py-6 md:py-8 rounded-3xl md:rounded-[2.5rem] font-black text-lg md:text-2xl uppercase italic tracking-ultra-tight flex items-center justify-center gap-3 md:gap-4 transition-all shadow-2xl shimmer ${t.originalImage&&!t.isGenerating?"bg-primary text-white shadow-orange-intense":"bg-white/5 text-white/20 cursor-not-allowed"}`,children:t.isGenerating?c.jsx(dS,{className:"w-6 h-6 md:w-8 md:h-8 animate-spin"}):c.jsxs(c.Fragment,{children:[c.jsx(Wo,{className:"w-6 h-6 md:w-8 md:h-8 fill-current"}),"GERAR MGICA"]})})]});return c.jsxs("div",{className:"min-h-[100dvh] w-screen bg-[#0a0a0a] text-white flex flex-col md:flex-row font-sans overflow-hidden",children:[c.jsx(Q8,{isOpen:a,onClose:()=>l(!1)}),c.jsx(qC,{isOpen:d,onClose:()=>h(!1)}),c.jsxs("header",{className:"md:hidden absolute top-0 left-0 right-0 z-50 flex items-center justify-between p-4 bg-gradient-to-b from-black/80 to-transparent backdrop-blur-sm",children:[c.jsx(Bt,{to:"/dashboard",className:"text-white/60 hover:text-white transition-colors",children:c.jsx(Qh,{className:"w-7 h-7"})}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("div",{className:"flex items-center gap-2 bg-black/60 backdrop-blur-xl px-3 py-1.5 rounded-full border border-white/10",children:[c.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${t.credits>0?"bg-green-500":"bg-red-500"}`}),c.jsx("span",{className:"text-[10px] font-black uppercase tracking-wider text-white/80",children:t.plan==="PRO"?"":t.credits})]}),t.originalImage&&c.jsx("button",{onClick:()=>t.resetEditor(),className:"p-2 bg-white/5 hover:bg-white/10 rounded-full border border-white/10 transition-colors",title:"Nova Foto",children:c.jsx(Ab,{className:"w-4 h-4 text-white/60"})}),t.generatedImage&&E&&c.jsx("button",{onClick:C,disabled:r,className:"p-2 bg-primary rounded-full disabled:opacity-50",children:r?c.jsx(rn,{className:"w-4 h-4 text-white animate-spin"}):c.jsx(oS,{className:"w-4 h-4 text-white"})})]})]}),c.jsxs("header",{className:"hidden md:flex h-20 w-full border-b border-white/5 items-center justify-between px-8 bg-[#0a0a0a]/80 backdrop-blur-3xl z-40 absolute top-0 left-0 right-0",children:[c.jsxs("div",{className:"flex items-center gap-6",children:[c.jsx(Bt,{to:"/dashboard",className:"text-white/40 hover:text-white transition-colors",children:c.jsx(Qh,{className:"w-8 h-8"})}),c.jsxs("div",{className:"flex flex-col",children:[c.jsxs("h1",{className:"text-xl font-black italic tracking-ultra-tight leading-none",children:["Emprata",c.jsx("span",{className:"text-primary",children:".ai"})," Studio"]}),c.jsx("span",{className:"text-[10px] font-black uppercase tracking-[0.3em] text-white/30",children:"v10.0 Admin Ready"})]})]}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx(BC,{}),t.originalImage&&c.jsxs("button",{onClick:()=>t.resetEditor(),className:"flex items-center gap-2 px-5 py-3 rounded-2xl font-black text-xs uppercase tracking-widest border border-white/10 text-white/60 hover:text-white hover:border-white/20 hover:bg-white/5 transition-all",children:[c.jsx(Ab,{className:"w-4 h-4"}),"Nova Foto"]}),c.jsx("button",{onClick:C,disabled:!t.generatedImage||!E||r,className:`px-8 py-3 rounded-2xl font-black text-xs uppercase tracking-widest shadow-lg transition-all ${t.generatedImage&&E&&!r?"bg-primary text-white shadow-orange-glow hover:scale-105 active:scale-95":"bg-white/5 text-white/20 cursor-not-allowed"}`,children:r?"Exportando...":"Exportar"})]})]}),c.jsx(Dn,{children:f&&c.jsxs(xe.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"absolute top-20 md:top-24 left-1/2 -translate-x-1/2 z-50 bg-red-500/90 backdrop-blur-xl px-4 md:px-6 py-3 md:py-4 rounded-2xl border border-red-400/50 shadow-2xl flex items-center gap-3 md:gap-4 max-w-[90%] md:max-w-none",children:[c.jsx(xM,{className:"w-4 h-4 md:w-5 md:h-5 text-white flex-shrink-0"}),c.jsx("p",{className:"text-xs md:text-sm font-bold text-white uppercase tracking-tight",children:f}),c.jsx("button",{onClick:()=>g(null),className:"p-1 hover:bg-white/10 rounded-full transition-colors flex-shrink-0",children:c.jsx(Nf,{className:"w-3 h-3 md:w-4 md:h-4 text-white"})})]})}),c.jsx("aside",{className:"hidden md:flex w-[400px] h-full border-r border-white/5 flex-col bg-[#0a0a0a] z-10 overflow-y-auto no-scrollbar mt-20",children:c.jsx("div",{className:"p-8",children:c.jsx(M,{})})}),c.jsxs("section",{className:`flex-1 relative min-h-0 flex items-center justify-center bg-[#0a0a0a] overflow-hidden \r
                          h-[55%] md:h-full w-full md:flex-1 md:mt-20`,children:[c.jsx("div",{className:"absolute inset-0 opacity-[0.02] pointer-events-none",style:{backgroundImage:"radial-gradient(circle, #fff 1px, transparent 1px)",backgroundSize:"60px 60px"}}),c.jsx(Dn,{mode:"wait",children:t.originalImage?c.jsx(xe.div,{initial:{opacity:0},animate:{opacity:1},className:"relative w-full h-full flex items-center justify-center p-4 md:p-12",children:c.jsxs("div",{className:"relative w-full h-full max-w-5xl max-h-5xl flex items-center justify-center",children:[c.jsx("div",{className:"relative shadow-[0_50px_100px_-30px_rgba(0,0,0,1)] border-4 md:border-[12px] border-white/5 rounded-2xl md:rounded-3xl overflow-hidden bg-black w-full h-full max-w-full max-h-full aspect-square",children:t.generatedImage&&E?c.jsxs("div",{className:"relative w-full h-full",children:[c.jsx(bv,{itemOne:c.jsxs("div",{className:"relative h-full flex items-center justify-center bg-black",children:[c.jsx(xu,{src:t.originalImage,alt:"Original",style:{width:"100%",height:"100%",objectFit:"contain"}}),c.jsx("div",{className:"absolute top-4 left-4 bg-black/60 backdrop-blur-xl px-3 py-1.5 rounded-full border border-white/10 text-[9px] md:text-[10px] font-black uppercase tracking-widest text-white/40 italic",children:"Original"})]}),itemTwo:c.jsxs("div",{className:"relative h-full flex items-center justify-center bg-black",children:[c.jsx(xu,{src:t.generatedImage,alt:"Generated",style:{width:"100%",height:"100%",objectFit:"contain"}}),c.jsx("div",{className:"absolute top-4 right-4 bg-primary/80 backdrop-blur-xl px-3 py-1.5 rounded-full border border-white/10 text-[9px] md:text-[10px] font-black uppercase tracking-widest text-white italic shadow-lg",children:"Neural"})]}),className:"w-full h-full"}),t.plan==="FREE"&&c.jsx("div",{className:"absolute inset-0 pointer-events-none flex items-center justify-center z-10",children:c.jsx("div",{className:"rotate-45 text-white/5 text-6xl md:text-[10rem] font-black tracking-ultra-tight select-none whitespace-nowrap",children:"Emprata.ai"})})]}):R?c.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center gap-4 md:gap-6 bg-black",children:[c.jsx(rn,{className:"w-12 h-12 md:w-16 md:h-16 text-primary animate-spin"}),c.jsx("span",{className:"text-sm md:text-lg font-black italic uppercase tracking-widest text-primary/80",children:"Carregando..."})]}):c.jsxs(c.Fragment,{children:[c.jsx("img",{src:t.originalImage,className:`w-full h-full object-contain transition-all duration-700 ${t.isGenerating?"blur-2xl opacity-40 scale-110":""}`,alt:"Preview"}),t.isGenerating&&c.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center gap-4 md:gap-6 z-20",children:[c.jsxs("div",{className:"relative w-16 h-16 md:w-24 md:h-24",children:[c.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-white/5 border-t-primary animate-spin"}),c.jsx("div",{className:"absolute inset-2 md:inset-4 rounded-full border-4 border-white/5 border-b-primary animate-spin-reverse"})]}),c.jsx("span",{className:"text-base md:text-2xl font-black italic uppercase tracking-widest animate-pulse text-primary drop-shadow-[0_0_15px_rgba(255,94,0,0.5)] px-4 text-center",children:y||"Processando..."})]})]})}),t.isGenerating&&c.jsx("div",{className:"scanner-line"})]})},"editor"):c.jsxs(xe.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:1.1},onClick:()=>!j&&$.current?.click(),className:`group flex flex-col items-center ${j?"cursor-wait":"cursor-pointer"}`,children:[c.jsxs("div",{className:"w-32 h-32 md:w-56 md:h-56 bg-white/5 border-2 border-dashed border-white/20 rounded-3xl md:rounded-[4rem] flex items-center justify-center text-white/20 group-hover:border-primary group-hover:text-primary transition-all duration-500 relative",children:[c.jsx("div",{className:"absolute inset-0 bg-primary/0 group-hover:bg-primary/5 transition-all duration-500 rounded-3xl md:rounded-[4rem]"}),j?c.jsx(rn,{className:"w-12 h-12 md:w-20 md:h-20 animate-spin text-primary"}):c.jsx(ku,{className:"w-12 h-12 md:w-20 md:h-20"}),c.jsx("input",{ref:$,type:"file",onChange:Y,className:"hidden",accept:"image/*",disabled:j})]}),c.jsxs("div",{className:"mt-6 md:mt-10 text-center px-4",children:[c.jsx("h2",{className:"text-xl md:text-3xl font-black uppercase italic tracking-ultra-tight mb-1 md:mb-2",children:j?"Processando...":"Sirva seu Rango"}),c.jsx("p",{className:"text-white/30 font-bold uppercase tracking-widest text-[10px] md:text-xs",children:j?"Cortando para 1080x1080":"Toque para buscar"})]})]},"empty")})]}),c.jsx("div",{className:"md:hidden w-full h-[45%] bg-[#1a1a1a] rounded-t-[30px] shadow-2xl overflow-y-auto px-6 py-6 z-20 border-t border-white/10",children:c.jsx(M,{})})]})}function sU(){const{user:t,signOut:e}=hr(),n=Yr();return c.jsxs("div",{className:"min-h-screen bg-[#0a0a0a] text-white p-6 md:p-12",children:[c.jsxs("div",{className:"max-w-7xl mx-auto mb-12 flex justify-between items-end",children:[c.jsxs("div",{children:[c.jsxs("h1",{className:"text-4xl font-black italic tracking-tighter",children:["Bem-vindo, ",c.jsx("span",{className:"text-primary",children:t?.displayName||t?.email?.split("@")[0]||"Chef"})]}),c.jsx("p",{className:"text-white/40 font-bold uppercase tracking-widest text-sm mt-2",children:"Viso Geral do Seu Imprio Digital"})]}),c.jsxs("button",{onClick:()=>e(),className:"text-xs font-bold text-red-500 uppercase tracking-widest hover:text-red-400 flex items-center gap-2",children:[c.jsx(Cf,{className:"w-4 h-4"})," Sair"]})]}),c.jsxs("div",{className:"max-w-7xl mx-auto grid gap-8",children:[c.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[c.jsxs("button",{onClick:()=>n("/studio"),className:"group relative h-48 bg-white/5 border border-white/10 rounded-3xl p-6 flex flex-col justify-between hover:bg-white/10 transition-all hover:scale-[1.02] overflow-hidden",children:[c.jsx("div",{className:"absolute top-0 right-0 p-32 bg-primary/20 blur-[80px] group-hover:bg-primary/30 transition-all"}),c.jsx("div",{className:"w-12 h-12 bg-black/50 rounded-2xl flex items-center justify-center border border-white/10 z-10",children:c.jsx(ku,{className:"w-6 h-6 text-primary"})}),c.jsxs("div",{className:"text-left z-10",children:[c.jsx("h3",{className:"text-xl font-black italic uppercase",children:"Estdio IA"}),c.jsx("p",{className:"text-xs text-white/50 font-bold mt-1",children:"Criar novas fotos"})]})]}),c.jsxs("button",{onClick:()=>n("/menu-builder"),className:"group relative h-48 bg-white/5 border border-white/10 rounded-3xl p-6 flex flex-col justify-between hover:bg-white/10 transition-all hover:scale-[1.02] overflow-hidden",children:[c.jsx("div",{className:"absolute top-0 right-0 p-32 bg-blue-500/10 blur-[80px] group-hover:bg-blue-500/20 transition-all"}),c.jsx("div",{className:"w-12 h-12 bg-black/50 rounded-2xl flex items-center justify-center border border-white/10 z-10",children:c.jsx(Xo,{className:"w-6 h-6 text-blue-400"})}),c.jsxs("div",{className:"text-left z-10",children:[c.jsx("h3",{className:"text-xl font-black italic uppercase",children:"Cardpio Digital"}),c.jsx("p",{className:"text-xs text-white/50 font-bold mt-1",children:"Gerenciar Pratos e Preos"})]})]}),c.jsxs("button",{onClick:()=>window.open("/menu/meu-restaurante","_blank"),className:"group relative h-48 bg-white/5 border border-white/10 rounded-3xl p-6 flex flex-col justify-between hover:bg-white/10 transition-all hover:scale-[1.02] overflow-hidden",children:[c.jsx("div",{className:"w-12 h-12 bg-black/50 rounded-2xl flex items-center justify-center border border-white/10 z-10",children:c.jsx(lS,{className:"w-6 h-6 text-green-400"})}),c.jsxs("div",{className:"text-left z-10",children:[c.jsx("h3",{className:"text-xl font-black italic uppercase",children:"Ver Cardpio"}),c.jsx("p",{className:"text-xs text-white/50 font-bold mt-1",children:"Visualizar como cliente"})]})]})]}),c.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-[2.5rem] p-8 md:p-12 relative overflow-hidden",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[c.jsx(E0,{className:"w-6 h-6 text-primary"}),c.jsx("h2",{className:"text-2xl font-black uppercase tracking-tight",children:"Performance (BETA)"})]}),c.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[c.jsxs("div",{className:"p-6 bg-black/40 rounded-3xl border border-white/5",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2 text-white/40 text-xs font-bold uppercase",children:[c.jsx(_0,{className:"w-4 h-4"})," Vendas Hoje"]}),c.jsx("div",{className:"text-3xl font-black text-white",children:"R$ 0,00"})]}),c.jsxs("div",{className:"p-6 bg-black/40 rounded-3xl border border-white/5",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2 text-white/40 text-xs font-bold uppercase",children:[c.jsx(bs,{className:"w-4 h-4"})," Visitantes"]}),c.jsx("div",{className:"text-3xl font-black text-white",children:"0"})]})]}),c.jsx("div",{className:"mt-8 p-4 bg-primary/10 border border-primary/20 rounded-xl text-center",children:c.jsx("p",{className:"text-sm font-bold text-primary",children:" Configure seu cardpio para comear a ver dados reais aqui."})})]})]})]})}var Wa={},gg={exports:{}},yg,RE;function iU(){if(RE)return yg;RE=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return yg=t,yg}var vg,PE;function oU(){if(PE)return vg;PE=1;var t=iU();function e(){}function n(){}return n.resetWarningCache=e,vg=function(){function r(l,d,h,f,g,y){if(y!==t){var x=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw x.name="Invariant Violation",x}}r.isRequired=r;function s(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:s,element:r,elementType:r,instanceOf:s,node:r,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:n,resetWarningCache:e};return a.PropTypes=a,a},vg}var jE;function JC(){return jE||(jE=1,gg.exports=oU()()),gg.exports}var xg,DE;function ZC(){return DE||(DE=1,xg={L:1,M:0,Q:3,H:2}),xg}var wg,ME;function eN(){return ME||(ME=1,wg={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8}),wg}var bg,OE;function aU(){if(OE)return bg;OE=1;var t=eN();function e(n){this.mode=t.MODE_8BIT_BYTE,this.data=n}return e.prototype={getLength:function(n){return this.data.length},write:function(n){for(var r=0;r<this.data.length;r++)n.put(this.data.charCodeAt(r),8)}},bg=e,bg}var _g,LE;function lU(){if(LE)return _g;LE=1;var t=ZC();function e(n,r){this.totalCount=n,this.dataCount=r}return e.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],e.getRSBlocks=function(n,r){var s=e.getRsBlockTable(n,r);if(s==null)throw new Error("bad rs block @ typeNumber:"+n+"/errorCorrectLevel:"+r);for(var a=s.length/3,l=new Array,d=0;d<a;d++)for(var h=s[d*3+0],f=s[d*3+1],g=s[d*3+2],y=0;y<h;y++)l.push(new e(f,g));return l},e.getRsBlockTable=function(n,r){switch(r){case t.L:return e.RS_BLOCK_TABLE[(n-1)*4+0];case t.M:return e.RS_BLOCK_TABLE[(n-1)*4+1];case t.Q:return e.RS_BLOCK_TABLE[(n-1)*4+2];case t.H:return e.RS_BLOCK_TABLE[(n-1)*4+3];default:return}},_g=e,_g}var Eg,VE;function cU(){if(VE)return Eg;VE=1;function t(){this.buffer=new Array,this.length=0}return t.prototype={get:function(e){var n=Math.floor(e/8);return(this.buffer[n]>>>7-e%8&1)==1},put:function(e,n){for(var r=0;r<n;r++)this.putBit((e>>>n-r-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(e){var n=Math.floor(this.length/8);this.buffer.length<=n&&this.buffer.push(0),e&&(this.buffer[n]|=128>>>this.length%8),this.length++}},Eg=t,Eg}var Tg,FE;function tN(){if(FE)return Tg;FE=1;for(var t={glog:function(n){if(n<1)throw new Error("glog("+n+")");return t.LOG_TABLE[n]},gexp:function(n){for(;n<0;)n+=255;for(;n>=256;)n-=255;return t.EXP_TABLE[n]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},e=0;e<8;e++)t.EXP_TABLE[e]=1<<e;for(var e=8;e<256;e++)t.EXP_TABLE[e]=t.EXP_TABLE[e-4]^t.EXP_TABLE[e-5]^t.EXP_TABLE[e-6]^t.EXP_TABLE[e-8];for(var e=0;e<255;e++)t.LOG_TABLE[t.EXP_TABLE[e]]=e;return Tg=t,Tg}var Sg,UE;function nN(){if(UE)return Sg;UE=1;var t=tN();function e(n,r){if(n.length==null)throw new Error(n.length+"/"+r);for(var s=0;s<n.length&&n[s]==0;)s++;this.num=new Array(n.length-s+r);for(var a=0;a<n.length-s;a++)this.num[a]=n[a+s]}return e.prototype={get:function(n){return this.num[n]},getLength:function(){return this.num.length},multiply:function(n){for(var r=new Array(this.getLength()+n.getLength()-1),s=0;s<this.getLength();s++)for(var a=0;a<n.getLength();a++)r[s+a]^=t.gexp(t.glog(this.get(s))+t.glog(n.get(a)));return new e(r,0)},mod:function(n){if(this.getLength()-n.getLength()<0)return this;for(var r=t.glog(this.get(0))-t.glog(n.get(0)),s=new Array(this.getLength()),a=0;a<this.getLength();a++)s[a]=this.get(a);for(var a=0;a<n.getLength();a++)s[a]^=t.gexp(t.glog(n.get(a))+r);return new e(s,0).mod(n)}},Sg=e,Sg}var Ig,BE;function uU(){if(BE)return Ig;BE=1;var t=eN(),e=nN(),n=tN(),r={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},s={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(a){for(var l=a<<10;s.getBCHDigit(l)-s.getBCHDigit(s.G15)>=0;)l^=s.G15<<s.getBCHDigit(l)-s.getBCHDigit(s.G15);return(a<<10|l)^s.G15_MASK},getBCHTypeNumber:function(a){for(var l=a<<12;s.getBCHDigit(l)-s.getBCHDigit(s.G18)>=0;)l^=s.G18<<s.getBCHDigit(l)-s.getBCHDigit(s.G18);return a<<12|l},getBCHDigit:function(a){for(var l=0;a!=0;)l++,a>>>=1;return l},getPatternPosition:function(a){return s.PATTERN_POSITION_TABLE[a-1]},getMask:function(a,l,d){switch(a){case r.PATTERN000:return(l+d)%2==0;case r.PATTERN001:return l%2==0;case r.PATTERN010:return d%3==0;case r.PATTERN011:return(l+d)%3==0;case r.PATTERN100:return(Math.floor(l/2)+Math.floor(d/3))%2==0;case r.PATTERN101:return l*d%2+l*d%3==0;case r.PATTERN110:return(l*d%2+l*d%3)%2==0;case r.PATTERN111:return(l*d%3+(l+d)%2)%2==0;default:throw new Error("bad maskPattern:"+a)}},getErrorCorrectPolynomial:function(a){for(var l=new e([1],0),d=0;d<a;d++)l=l.multiply(new e([1,n.gexp(d)],0));return l},getLengthInBits:function(a,l){if(1<=l&&l<10)switch(a){case t.MODE_NUMBER:return 10;case t.MODE_ALPHA_NUM:return 9;case t.MODE_8BIT_BYTE:return 8;case t.MODE_KANJI:return 8;default:throw new Error("mode:"+a)}else if(l<27)switch(a){case t.MODE_NUMBER:return 12;case t.MODE_ALPHA_NUM:return 11;case t.MODE_8BIT_BYTE:return 16;case t.MODE_KANJI:return 10;default:throw new Error("mode:"+a)}else if(l<41)switch(a){case t.MODE_NUMBER:return 14;case t.MODE_ALPHA_NUM:return 13;case t.MODE_8BIT_BYTE:return 16;case t.MODE_KANJI:return 12;default:throw new Error("mode:"+a)}else throw new Error("type:"+l)},getLostPoint:function(a){for(var l=a.getModuleCount(),d=0,h=0;h<l;h++)for(var f=0;f<l;f++){for(var g=0,y=a.isDark(h,f),x=-1;x<=1;x++)if(!(h+x<0||l<=h+x))for(var E=-1;E<=1;E++)f+E<0||l<=f+E||x==0&&E==0||y==a.isDark(h+x,f+E)&&g++;g>5&&(d+=3+g-5)}for(var h=0;h<l-1;h++)for(var f=0;f<l-1;f++){var S=0;a.isDark(h,f)&&S++,a.isDark(h+1,f)&&S++,a.isDark(h,f+1)&&S++,a.isDark(h+1,f+1)&&S++,(S==0||S==4)&&(d+=3)}for(var h=0;h<l;h++)for(var f=0;f<l-6;f++)a.isDark(h,f)&&!a.isDark(h,f+1)&&a.isDark(h,f+2)&&a.isDark(h,f+3)&&a.isDark(h,f+4)&&!a.isDark(h,f+5)&&a.isDark(h,f+6)&&(d+=40);for(var f=0;f<l;f++)for(var h=0;h<l-6;h++)a.isDark(h,f)&&!a.isDark(h+1,f)&&a.isDark(h+2,f)&&a.isDark(h+3,f)&&a.isDark(h+4,f)&&!a.isDark(h+5,f)&&a.isDark(h+6,f)&&(d+=40);for(var R=0,f=0;f<l;f++)for(var h=0;h<l;h++)a.isDark(h,f)&&R++;var A=Math.abs(100*R/l/l-50)/5;return d+=A*10,d}};return Ig=s,Ig}var Cg,zE;function dU(){if(zE)return Cg;zE=1;var t=aU(),e=lU(),n=cU(),r=uU(),s=nN();function a(d,h){this.typeNumber=d,this.errorCorrectLevel=h,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var l=a.prototype;return l.addData=function(d){var h=new t(d);this.dataList.push(h),this.dataCache=null},l.isDark=function(d,h){if(d<0||this.moduleCount<=d||h<0||this.moduleCount<=h)throw new Error(d+","+h);return this.modules[d][h]},l.getModuleCount=function(){return this.moduleCount},l.make=function(){if(this.typeNumber<1){var d=1;for(d=1;d<40;d++){for(var h=e.getRSBlocks(d,this.errorCorrectLevel),f=new n,g=0,y=0;y<h.length;y++)g+=h[y].dataCount;for(var y=0;y<this.dataList.length;y++){var x=this.dataList[y];f.put(x.mode,4),f.put(x.getLength(),r.getLengthInBits(x.mode,d)),x.write(f)}if(f.getLengthInBits()<=g*8)break}this.typeNumber=d}this.makeImpl(!1,this.getBestMaskPattern())},l.makeImpl=function(d,h){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var f=0;f<this.moduleCount;f++){this.modules[f]=new Array(this.moduleCount);for(var g=0;g<this.moduleCount;g++)this.modules[f][g]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(d,h),this.typeNumber>=7&&this.setupTypeNumber(d),this.dataCache==null&&(this.dataCache=a.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,h)},l.setupPositionProbePattern=function(d,h){for(var f=-1;f<=7;f++)if(!(d+f<=-1||this.moduleCount<=d+f))for(var g=-1;g<=7;g++)h+g<=-1||this.moduleCount<=h+g||(0<=f&&f<=6&&(g==0||g==6)||0<=g&&g<=6&&(f==0||f==6)||2<=f&&f<=4&&2<=g&&g<=4?this.modules[d+f][h+g]=!0:this.modules[d+f][h+g]=!1)},l.getBestMaskPattern=function(){for(var d=0,h=0,f=0;f<8;f++){this.makeImpl(!0,f);var g=r.getLostPoint(this);(f==0||d>g)&&(d=g,h=f)}return h},l.createMovieClip=function(d,h,f){var g=d.createEmptyMovieClip(h,f),y=1;this.make();for(var x=0;x<this.modules.length;x++)for(var E=x*y,S=0;S<this.modules[x].length;S++){var R=S*y,A=this.modules[x][S];A&&(g.beginFill(0,100),g.moveTo(R,E),g.lineTo(R+y,E),g.lineTo(R+y,E+y),g.lineTo(R,E+y),g.endFill())}return g},l.setupTimingPattern=function(){for(var d=8;d<this.moduleCount-8;d++)this.modules[d][6]==null&&(this.modules[d][6]=d%2==0);for(var h=8;h<this.moduleCount-8;h++)this.modules[6][h]==null&&(this.modules[6][h]=h%2==0)},l.setupPositionAdjustPattern=function(){for(var d=r.getPatternPosition(this.typeNumber),h=0;h<d.length;h++)for(var f=0;f<d.length;f++){var g=d[h],y=d[f];if(this.modules[g][y]==null)for(var x=-2;x<=2;x++)for(var E=-2;E<=2;E++)x==-2||x==2||E==-2||E==2||x==0&&E==0?this.modules[g+x][y+E]=!0:this.modules[g+x][y+E]=!1}},l.setupTypeNumber=function(d){for(var h=r.getBCHTypeNumber(this.typeNumber),f=0;f<18;f++){var g=!d&&(h>>f&1)==1;this.modules[Math.floor(f/3)][f%3+this.moduleCount-8-3]=g}for(var f=0;f<18;f++){var g=!d&&(h>>f&1)==1;this.modules[f%3+this.moduleCount-8-3][Math.floor(f/3)]=g}},l.setupTypeInfo=function(d,h){for(var f=this.errorCorrectLevel<<3|h,g=r.getBCHTypeInfo(f),y=0;y<15;y++){var x=!d&&(g>>y&1)==1;y<6?this.modules[y][8]=x:y<8?this.modules[y+1][8]=x:this.modules[this.moduleCount-15+y][8]=x}for(var y=0;y<15;y++){var x=!d&&(g>>y&1)==1;y<8?this.modules[8][this.moduleCount-y-1]=x:y<9?this.modules[8][15-y-1+1]=x:this.modules[8][15-y-1]=x}this.modules[this.moduleCount-8][8]=!d},l.mapData=function(d,h){for(var f=-1,g=this.moduleCount-1,y=7,x=0,E=this.moduleCount-1;E>0;E-=2)for(E==6&&E--;;){for(var S=0;S<2;S++)if(this.modules[g][E-S]==null){var R=!1;x<d.length&&(R=(d[x]>>>y&1)==1);var A=r.getMask(h,g,E-S);A&&(R=!R),this.modules[g][E-S]=R,y--,y==-1&&(x++,y=7)}if(g+=f,g<0||this.moduleCount<=g){g-=f,f=-f;break}}},a.PAD0=236,a.PAD1=17,a.createData=function(d,h,f){for(var g=e.getRSBlocks(d,h),y=new n,x=0;x<f.length;x++){var E=f[x];y.put(E.mode,4),y.put(E.getLength(),r.getLengthInBits(E.mode,d)),E.write(y)}for(var S=0,x=0;x<g.length;x++)S+=g[x].dataCount;if(y.getLengthInBits()>S*8)throw new Error("code length overflow. ("+y.getLengthInBits()+">"+S*8+")");for(y.getLengthInBits()+4<=S*8&&y.put(0,4);y.getLengthInBits()%8!=0;)y.putBit(!1);for(;!(y.getLengthInBits()>=S*8||(y.put(a.PAD0,8),y.getLengthInBits()>=S*8));)y.put(a.PAD1,8);return a.createBytes(y,g)},a.createBytes=function(d,h){for(var f=0,g=0,y=0,x=new Array(h.length),E=new Array(h.length),S=0;S<h.length;S++){var R=h[S].dataCount,A=h[S].totalCount-R;g=Math.max(g,R),y=Math.max(y,A),x[S]=new Array(R);for(var j=0;j<x[S].length;j++)x[S][j]=255&d.buffer[j+f];f+=R;var F=r.getErrorCorrectPolynomial(A),$=new s(x[S],F.getLength()-1),Z=$.mod(F);E[S]=new Array(F.getLength()-1);for(var j=0;j<E[S].length;j++){var Y=j+Z.getLength()-E[S].length;E[S][j]=Y>=0?Z.get(Y):0}}for(var K=0,j=0;j<h.length;j++)K+=h[j].totalCount;for(var D=new Array(K),C=0,j=0;j<g;j++)for(var S=0;S<h.length;S++)j<x[S].length&&(D[C++]=x[S][j]);for(var j=0;j<y;j++)for(var S=0;S<h.length;S++)j<E[S].length&&(D[C++]=E[S][j]);return D},Cg=a,Cg}var fh={},$E;function hU(){if($E)return fh;$E=1,Object.defineProperty(fh,"__esModule",{value:!0});var t=Object.assign||function(f){for(var g=1;g<arguments.length;g++){var y=arguments[g];for(var x in y)Object.prototype.hasOwnProperty.call(y,x)&&(f[x]=y[x])}return f},e=JC(),n=a(e),r=_u(),s=a(r);function a(f){return f&&f.__esModule?f:{default:f}}function l(f,g){var y={};for(var x in f)g.indexOf(x)>=0||Object.prototype.hasOwnProperty.call(f,x)&&(y[x]=f[x]);return y}var d={bgColor:n.default.oneOfType([n.default.object,n.default.string]).isRequired,bgD:n.default.string.isRequired,fgColor:n.default.oneOfType([n.default.object,n.default.string]).isRequired,fgD:n.default.string.isRequired,size:n.default.number.isRequired,title:n.default.string,viewBoxSize:n.default.number.isRequired,xmlns:n.default.string},h=(0,r.forwardRef)(function(f,g){var y=f.bgColor,x=f.bgD,E=f.fgD,S=f.fgColor,R=f.size,A=f.title,j=f.viewBoxSize,F=f.xmlns,$=F===void 0?"http://www.w3.org/2000/svg":F,Z=l(f,["bgColor","bgD","fgD","fgColor","size","title","viewBoxSize","xmlns"]);return s.default.createElement("svg",t({},Z,{height:R,ref:g,viewBox:"0 0 "+j+" "+j,width:R,xmlns:$}),A?s.default.createElement("title",null,A):null,s.default.createElement("path",{d:x,fill:y}),s.default.createElement("path",{d:E,fill:S}))});return h.displayName="QRCodeSvg",h.propTypes=d,fh.default=h,fh}var HE;function fU(){if(HE)return Wa;HE=1,Object.defineProperty(Wa,"__esModule",{value:!0}),Wa.QRCode=void 0;var t=Object.assign||function(R){for(var A=1;A<arguments.length;A++){var j=arguments[A];for(var F in j)Object.prototype.hasOwnProperty.call(j,F)&&(R[F]=j[F])}return R},e=JC(),n=y(e),r=ZC(),s=y(r),a=dU(),l=y(a),d=_u(),h=y(d),f=hU(),g=y(f);function y(R){return R&&R.__esModule?R:{default:R}}function x(R,A){var j={};for(var F in R)A.indexOf(F)>=0||Object.prototype.hasOwnProperty.call(R,F)&&(j[F]=R[F]);return j}var E={bgColor:n.default.oneOfType([n.default.object,n.default.string]),fgColor:n.default.oneOfType([n.default.object,n.default.string]),level:n.default.string,size:n.default.number,value:n.default.string.isRequired},S=(0,d.forwardRef)(function(R,A){var j=R.bgColor,F=j===void 0?"#FFFFFF":j,$=R.fgColor,Z=$===void 0?"#000000":$,Y=R.level,K=Y===void 0?"L":Y,D=R.size,C=D===void 0?256:D,M=R.value,O=x(R,["bgColor","fgColor","level","size","value"]),B=new l.default(-1,s.default[K]);B.addData(M),B.make();var L=B.modules;return h.default.createElement(g.default,t({},O,{bgColor:F,bgD:L.map(function(P,be){return P.map(function(ne,re){return ne?"":"M "+re+" "+be+" l 1 0 0 1 -1 0 Z"}).join(" ")}).join(" "),fgColor:Z,fgD:L.map(function(P,be){return P.map(function(ne,re){return ne?"M "+re+" "+be+" l 1 0 0 1 -1 0 Z":""}).join(" ")}).join(" "),ref:A,size:C,viewBoxSize:L.length}))});return Wa.QRCode=S,S.displayName="QRCode",S.propTypes=E,Wa.default=S,Wa}var mU=fU();const pU=ia(mU),tm="menus";async function gU(t){const e=In(eo(Nt,tm)),n={...t,id:e.id,createdAt:new Date,updatedAt:new Date};return await Zc(e,{...n,createdAt:cl(),updatedAt:cl()}),n}async function yU(t,e){const n=In(Nt,tm,t);await to(n,{...e,updatedAt:cl()})}async function vU(t){const e=Dl(eo(Nt,tm),ei("slug","==",t.toLowerCase())),n=await Zf(e);if(n.empty)return null;const r=n.docs[0].data();return{...r,id:n.docs[0].id,createdAt:r.createdAt?.toDate()||new Date,updatedAt:r.updatedAt?.toDate()||new Date}}async function xU(t){const e=Dl(eo(Nt,tm),ei("ownerId","==",t)),n=await Zf(e);if(n.empty)return null;const r=n.docs[0].data();return{...r,id:n.docs[0].id,createdAt:r.createdAt?.toDate()||new Date,updatedAt:r.updatedAt?.toDate()||new Date}}function Ng(t){return t.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"").substring(0,50)}const rN=new XC("AIzaSyAFo1Hq5LuuaqkKLzZgUOl3PTtKk_cagVc"),sN="gemini-1.5-pro";async function wU(t,e="gourmet"){if(!t.trim())throw new Error("Texto vazio no pode ser aprimorado.");const n=rN.getGenerativeModel({model:sN}),r=`Atue como um Copywriter Gastronmico de elite. Reescreva a descrio deste prato para torn-la irresistvel, focada em despertar fome e sensorialidade. Mantenha curto (mx 150 caracteres). Vibe: ${e}.

Descrio original: "${t}"

Responda APENAS com a descrio aprimorada, sem aspas nem explicaes.`;return(await n.generateContent(r)).response.text().trim().substring(0,150)}async function bU(t){if(!t.length)throw new Error("Lista de itens vazia.");const e=rN.getGenerativeModel({model:sN,generationConfig:{responseMimeType:"application/json"}}),r=`Atue como um Engenheiro de Cardpio. Analise esta lista de itens.
1. Categorize-os logicamente (Entradas, Pratos Principais, Burgers, Pizzas, Bebidas, Sobremesas, etc).
2. Identifique quais itens tm maior potencial de venda para serem "Destaques" (Highlights) - mximo 3 itens.

Lista de itens:
${t.map((l,d)=>`${d+1}. ${l}`).join(`
`)}

Retorne APENAS um JSON vlido com a estrutura:
{
  "categories": [
    { "name": "Nome da Categoria", "items": ["Item 1", "Item 2"] }
  ],
  "suggestedHighlights": ["Item destaque 1", "Item destaque 2"]
}`,a=(await e.generateContent(r)).response.text();try{const l=JSON.parse(a);if(!l.categories||!Array.isArray(l.categories))throw new Error("Resposta invlida da IA");return l}catch{throw console.error(" Erro ao parsear resposta da IA:",a),new Error("Erro ao processar resposta da IA. Tente novamente.")}}const mh=()=>crypto.randomUUID(),qE=t=>({ownerId:t,slug:"",name:"",description:"",logoUrl:null,phone:"",themeColor:"#FF6B00",categories:[]});function _U({menu:t}){const e=t.categories.flatMap(n=>n.items).filter(n=>n.isHighlight);return c.jsxs("div",{className:"w-[320px] h-[640px] bg-[#0a0a0a] rounded-[40px] border-4 border-white/10 overflow-hidden shadow-2xl relative",children:[c.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-32 h-6 bg-black rounded-b-2xl z-10"}),c.jsxs("div",{className:"h-full overflow-y-auto no-scrollbar",children:[c.jsxs("div",{className:"h-40 flex flex-col items-center justify-center relative",style:{background:`linear-gradient(135deg, ${t.themeColor}40, ${t.themeColor}10)`},children:[t.logoUrl?c.jsx("img",{src:t.logoUrl,alt:"",className:"w-16 h-16 rounded-2xl object-cover"}):c.jsx("div",{className:"w-16 h-16 rounded-2xl bg-white/10 flex items-center justify-center",children:c.jsx(cr,{className:"w-8 h-8 text-white/40"})}),c.jsx("h1",{className:"text-lg font-black mt-3 text-white text-center px-4",children:t.name||"Nome do Restaurante"}),c.jsx("p",{className:"text-[10px] text-white/50 mt-1",children:t.description||"Descrio curta aqui"})]}),e.length>0&&c.jsxs("div",{className:"p-4",children:[c.jsx("h3",{className:"text-[10px] font-black uppercase tracking-widest text-white/30 mb-2",children:"Destaques"}),c.jsx("div",{className:"flex gap-2 overflow-x-auto no-scrollbar",children:e.slice(0,3).map(n=>c.jsxs("div",{className:"flex-shrink-0 w-24 h-24 rounded-2xl overflow-hidden relative",children:[n.imageUrl?c.jsx("img",{src:n.imageUrl,alt:"",className:"w-full h-full object-cover"}):c.jsx("div",{className:"w-full h-full bg-white/5 flex items-center justify-center",children:c.jsx(Xo,{className:"w-8 h-8 text-white/20"})}),c.jsx("div",{className:"absolute inset-x-0 bottom-0 bg-gradient-to-t from-black/80 to-transparent p-2",children:c.jsx("span",{className:"text-[9px] font-bold text-white line-clamp-1",children:n.title})})]},n.id))})]}),c.jsx("div",{className:"p-4 pt-0 space-y-4",children:t.categories.map(n=>c.jsxs("div",{children:[c.jsx("h3",{className:"text-xs font-black uppercase tracking-wider text-white/60 mb-2",children:n.title}),c.jsx("div",{className:"space-y-2",children:n.items.map(r=>c.jsxs("div",{className:"flex gap-3 p-2 bg-white/5 rounded-xl",children:[c.jsx("div",{className:"w-14 h-14 rounded-xl overflow-hidden flex-shrink-0",children:r.imageUrl?c.jsx("img",{src:r.imageUrl,alt:"",className:"w-full h-full object-cover"}):c.jsx("div",{className:"w-full h-full bg-white/10 flex items-center justify-center",children:c.jsx(Xo,{className:"w-6 h-6 text-white/20"})})}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("h4",{className:"text-[11px] font-bold text-white line-clamp-1",children:r.title}),c.jsx("p",{className:"text-[9px] text-white/40 line-clamp-2",children:r.description})]}),c.jsxs("div",{className:"text-[11px] font-black text-primary",children:["R$ ",r.price.toFixed(2).replace(".",",")]})]},r.id))})]},n.id))}),t.categories.length===0&&c.jsxs("div",{className:"flex flex-col items-center justify-center h-48 text-white/20",children:[c.jsx(cr,{className:"w-12 h-12 mb-2"}),c.jsx("span",{className:"text-xs",children:"Adicione categorias"})]})]})]})}function EU(){const{user:t}=hr(),e=Ml(ne=>ne.generatedImage),[n,r]=N.useState(null),[s,a]=N.useState(null),[l,d]=N.useState(!0),[h,f]=N.useState(!1),[g,y]=N.useState(!1),[x,E]=N.useState(!1),[S,R]=N.useState(!1),[A,j]=N.useState(null);N.useEffect(()=>{async function ne(){if(t?.uid)try{const re=await xU(t.uid);re?(r({ownerId:re.ownerId,slug:re.slug,name:re.name,description:re.description,logoUrl:re.logoUrl,phone:re.phone,themeColor:re.themeColor,categories:re.categories}),a(re.id)):r(qE(t.uid))}catch(re){console.error("Erro ao carregar menu:",re),yt.error("Erro ao carregar menu"),r(qE(t?.uid||""))}finally{d(!1)}}ne()},[t?.uid]);const F=N.useCallback(async()=>{if(!(!n||!t?.uid)){f(!0);try{if(s)await yU(s,n);else{const ne=await gU(n);a(ne.id)}yt.success("Cardpio salvo!",{duration:1500})}catch(ne){console.error("Erro ao salvar:",ne),yt.error("Erro ao salvar cardpio")}finally{f(!1)}}},[n,s,t?.uid]),$=(ne,re)=>{r(ae=>ae?{...ae,[ne]:re}:null)},Z=ne=>{$("name",ne),(!n?.slug||n.slug===Ng(n.name))&&$("slug",Ng(ne))},Y=()=>{const ne={id:mh(),title:"Nova Categoria",items:[]};r(re=>re?{...re,categories:[...re.categories,ne]}:null)},K=(ne,re)=>{r(ae=>ae?{...ae,categories:ae.categories.map(ee=>ee.id===ne?{...ee,title:re}:ee)}:null)},D=ne=>{r(re=>re?{...re,categories:re.categories.filter(ae=>ae.id!==ne)}:null)},C=ne=>{const re={id:mh(),title:"Novo Item",description:"",price:0,imageUrl:null,isHighlight:!1};r(ae=>ae?{...ae,categories:ae.categories.map(ee=>ee.id===ne?{...ee,items:[...ee.items,re]}:ee)}:null),j({catId:ne,itemId:re.id})},M=(ne,re,ae)=>{r(ee=>ee?{...ee,categories:ee.categories.map(ye=>ye.id===ne?{...ye,items:ye.items.map(U=>U.id===re?{...U,...ae}:U)}:ye)}:null)},O=(ne,re)=>{r(ae=>ae?{...ae,categories:ae.categories.map(ee=>ee.id===ne?{...ee,items:ee.items.filter(ye=>ye.id!==re)}:ee)}:null)},B=()=>{if(!e){yt.error("Gere uma imagem no Studio primeiro!");return}n?.categories.length===0&&Y();const ne=n?.categories[0]?.id;if(!ne)return;const re={id:mh(),title:"Novo Prato do Studio",description:"Descrio do prato...",price:29.9,imageUrl:e,isHighlight:!1};r(ae=>ae?{...ae,categories:ae.categories.map(ee=>ee.id===ne?{...ee,items:[...ee.items,re]}:ee)}:null),yt.success("Imagem importada do Studio!")},L=async(ne,re)=>{const ae=n?.categories.find(ee=>ee.id===ne)?.items.find(ee=>ee.id===re);if(!ae?.description){yt.error("Adicione uma descrio primeiro");return}E(!0);try{const ee=await wU(ae.description,"gourmet");M(ne,re,{description:ee}),yt.success("Descrio aprimorada! ")}catch(ee){yt.error(ee.message||"Erro ao aprimorar descrio")}finally{E(!1)}},P=async()=>{if(!n)return;const ne=n.categories.flatMap(ae=>ae.items);if(ne.length<2){yt.error("Adicione mais itens para organizar");return}const re=ne.map(ae=>ae.title);R(!0);try{const ae=await bU(re),ee=ae.categories.map(ye=>({id:mh(),title:ye.name,items:ye.items.map(U=>ne.find(q=>q.title===U)||null).filter(U=>U!==null).map(U=>({...U,isHighlight:ae.suggestedHighlights.includes(U.title)}))}));r(ye=>ye?{...ye,categories:ee}:null),yt.success(`Cardpio organizado! ${ae.suggestedHighlights.length} destaques sugeridos `)}catch(ae){yt.error(ae.message||"Erro ao organizar cardpio")}finally{R(!1)}},be=n?.slug?`https://emprata.ai/menu/${n.slug}`:"";return l?c.jsx("div",{className:"min-h-screen bg-[#0a0a0a] flex items-center justify-center",children:c.jsx(rn,{className:"w-8 h-8 text-primary animate-spin"})}):n?c.jsxs("div",{className:"min-h-screen bg-[#0a0a0a] text-white",children:[c.jsxs("header",{className:"h-16 md:h-20 border-b border-white/5 flex items-center justify-between px-4 md:px-8 bg-[#0a0a0a]/80 backdrop-blur-xl sticky top-0 z-50",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx(Bt,{to:"/dashboard",className:"text-white/40 hover:text-white transition-colors",children:c.jsx(Qh,{className:"w-6 h-6"})}),c.jsxs("div",{children:[c.jsxs("h1",{className:"text-lg font-black italic tracking-tight flex items-center gap-2",children:[c.jsx(cr,{className:"w-5 h-5 text-primary"}),"Living Menu"]}),c.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest text-white/30",children:"Cardpio Digital"})]})]}),c.jsxs("div",{className:"flex items-center gap-2 md:gap-3",children:[c.jsxs("button",{onClick:B,disabled:!e,className:`flex items-center gap-2 px-3 py-2 rounded-xl text-xs font-bold uppercase tracking-wider transition-all ${e?"bg-green-500/20 text-green-400 hover:bg-green-500/30":"bg-white/5 text-white/30 cursor-not-allowed"}`,children:[c.jsx(oS,{className:"w-4 h-4"}),c.jsx("span",{className:"hidden md:inline",children:"Importar do Studio"})]}),c.jsx("button",{onClick:()=>y(!0),disabled:!n.slug,className:"p-2 bg-white/5 hover:bg-white/10 rounded-xl transition-colors disabled:opacity-50",children:c.jsx(uS,{className:"w-5 h-5"})}),c.jsxs("button",{onClick:F,disabled:h,className:"flex items-center gap-2 px-4 py-2 bg-primary hover:bg-orange-600 rounded-xl font-bold text-sm transition-all",children:[h?c.jsx(rn,{className:"w-4 h-4 animate-spin"}):c.jsx(dM,{className:"w-4 h-4"}),c.jsx("span",{className:"hidden md:inline",children:"Salvar"})]})]})]}),c.jsxs("div",{className:"flex flex-col lg:flex-row h-[calc(100vh-4rem)] md:h-[calc(100vh-5rem)]",children:[c.jsxs("div",{className:"flex-1 overflow-y-auto p-4 md:p-8 space-y-6",children:[c.jsxs("section",{className:"bg-white/5 rounded-3xl p-6 border border-white/5",children:[c.jsx("h2",{className:"text-sm font-black uppercase tracking-widest text-white/40 mb-4",children:"Configurao"}),c.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-[10px] font-bold uppercase tracking-wider text-white/30 mb-1 block",children:"Nome do Restaurante"}),c.jsx("input",{type:"text",value:n.name,onChange:ne=>Z(ne.target.value),placeholder:"Ex: Pizzaria do Zico",className:"w-full bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-white placeholder-white/20 focus:border-primary focus:outline-none"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-[10px] font-bold uppercase tracking-wider text-white/30 mb-1 block",children:"URL do Cardpio"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-white/30 text-sm",children:"/menu/"}),c.jsx("input",{type:"text",value:n.slug,onChange:ne=>$("slug",Ng(ne.target.value)),placeholder:"pizzaria-do-zico",className:"flex-1 bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-white placeholder-white/20 focus:border-primary focus:outline-none"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-[10px] font-bold uppercase tracking-wider text-white/30 mb-1 block",children:"WhatsApp"}),c.jsxs("div",{className:"relative",children:[c.jsx(SM,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-white/30"}),c.jsx("input",{type:"text",value:n.phone,onChange:ne=>$("phone",ne.target.value),placeholder:"5511999999999",className:"w-full bg-white/5 border border-white/10 rounded-xl px-4 py-3 pl-10 text-white placeholder-white/20 focus:border-primary focus:outline-none"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-[10px] font-bold uppercase tracking-wider text-white/30 mb-1 block",children:"Cor Principal"}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("input",{type:"color",value:n.themeColor,onChange:ne=>$("themeColor",ne.target.value),className:"w-12 h-12 rounded-xl border-2 border-white/10 cursor-pointer"}),c.jsx("input",{type:"text",value:n.themeColor,onChange:ne=>$("themeColor",ne.target.value),className:"flex-1 bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-white uppercase focus:border-primary focus:outline-none"})]})]})]}),c.jsxs("div",{className:"mt-4",children:[c.jsx("label",{className:"text-[10px] font-bold uppercase tracking-wider text-white/30 mb-1 block",children:"Descrio Curta"}),c.jsx("textarea",{value:n.description,onChange:ne=>$("description",ne.target.value),placeholder:"Desde 1990 servindo as melhores pizzas...",rows:2,className:"w-full bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-white placeholder-white/20 focus:border-primary focus:outline-none resize-none"})]})]}),c.jsxs("section",{children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h2",{className:"text-sm font-black uppercase tracking-widest text-white/40",children:"Categorias & Itens"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("button",{onClick:P,disabled:S||n.categories.flatMap(ne=>ne.items).length<2,className:"flex items-center gap-2 px-3 py-2 bg-purple-500/20 hover:bg-purple-500/30 text-purple-400 rounded-xl text-xs font-bold uppercase tracking-wider transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:[S?c.jsx(rn,{className:"w-4 h-4 animate-spin"}):c.jsx(VM,{className:"w-4 h-4"}),c.jsx("span",{className:"hidden md:inline",children:"Organizar com IA"})]}),c.jsxs("button",{onClick:Y,className:"flex items-center gap-2 px-3 py-2 bg-white/5 hover:bg-white/10 rounded-xl text-xs font-bold uppercase tracking-wider transition-all",children:[c.jsx(ou,{className:"w-4 h-4"}),c.jsx("span",{className:"hidden md:inline",children:"Categoria"})]})]})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx(Dn,{children:n.categories.map(ne=>c.jsxs(xe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"bg-white/5 rounded-2xl border border-white/5 overflow-hidden",children:[c.jsxs("div",{className:"flex items-center gap-3 p-4 border-b border-white/5",children:[c.jsx(vM,{className:"w-4 h-4 text-white/20 cursor-grab"}),c.jsx("input",{type:"text",value:ne.title,onChange:re=>K(ne.id,re.target.value),className:"flex-1 bg-transparent text-sm font-bold text-white focus:outline-none"}),c.jsx("button",{onClick:()=>C(ne.id),className:"p-1.5 bg-white/5 hover:bg-white/10 rounded-lg transition-colors",children:c.jsx(ou,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>D(ne.id),className:"p-1.5 text-red-400 hover:bg-red-500/20 rounded-lg transition-colors",children:c.jsx(ty,{className:"w-4 h-4"})})]}),c.jsxs("div",{className:"divide-y divide-white/5",children:[ne.items.map(re=>c.jsxs("div",{className:"p-4 flex items-start gap-4",children:[c.jsxs("div",{className:"w-16 h-16 rounded-xl overflow-hidden bg-white/5 flex-shrink-0 relative",children:[re.imageUrl?c.jsx("img",{src:re.imageUrl,alt:"",className:"w-full h-full object-cover"}):c.jsx("div",{className:"w-full h-full flex items-center justify-center",children:c.jsx(cS,{className:"w-6 h-6 text-white/20"})}),re.isHighlight&&c.jsx("div",{className:"absolute top-1 right-1 bg-yellow-500 rounded-full p-0.5",children:c.jsx(qs,{className:"w-3 h-3 text-black"})})]}),c.jsxs("div",{className:"flex-1 min-w-0 space-y-2",children:[c.jsx("input",{type:"text",value:re.title,onChange:ae=>M(ne.id,re.id,{title:ae.target.value}),className:"w-full bg-transparent text-sm font-bold text-white focus:outline-none",placeholder:"Nome do prato"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("textarea",{value:re.description,onChange:ae=>M(ne.id,re.id,{description:ae.target.value}),className:"flex-1 bg-white/5 rounded-lg px-3 py-2 text-xs text-white/60 focus:outline-none resize-none",placeholder:"Descrio...",rows:2}),c.jsx("button",{onClick:()=>L(ne.id,re.id),disabled:x||!re.description,className:"p-2 bg-purple-500/20 hover:bg-purple-500/30 text-purple-400 rounded-lg transition-colors disabled:opacity-50",title:"Aprimorar com IA",children:x?c.jsx(rn,{className:"w-4 h-4 animate-spin"}):c.jsx(qs,{className:"w-4 h-4"})})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx("span",{className:"text-white/40 text-xs",children:"R$"}),c.jsx("input",{type:"number",step:"0.01",value:re.price||"",onChange:ae=>M(ne.id,re.id,{price:parseFloat(ae.target.value)||0}),className:"w-20 bg-white/5 rounded-lg px-2 py-1 text-xs text-white focus:outline-none",placeholder:"0,00"})]}),c.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[c.jsx("input",{type:"checkbox",checked:re.isHighlight,onChange:ae=>M(ne.id,re.id,{isHighlight:ae.target.checked}),className:"w-4 h-4 rounded bg-white/5 border-white/10"}),c.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wider text-yellow-500",children:"Destaque"})]})]})]}),c.jsx("button",{onClick:()=>O(ne.id,re.id),className:"p-1.5 text-red-400 hover:bg-red-500/20 rounded-lg transition-colors",children:c.jsx(ty,{className:"w-4 h-4"})})]},re.id)),ne.items.length===0&&c.jsx("div",{className:"p-4 text-center text-white/20 text-xs",children:"Clique em + para adicionar itens"})]})]},ne.id))}),n.categories.length===0&&c.jsxs("div",{className:"text-center py-12 text-white/20",children:[c.jsx(cr,{className:"w-12 h-12 mx-auto mb-3"}),c.jsx("p",{className:"text-sm",children:"Adicione sua primeira categoria"})]})]})]})]}),c.jsxs("div",{className:"hidden lg:flex w-[400px] border-l border-white/5 flex-col items-center justify-center p-8 bg-black/20",children:[c.jsx("h3",{className:"text-[10px] font-black uppercase tracking-widest text-white/30 mb-4",children:"Preview"}),c.jsx(_U,{menu:n}),n.slug&&c.jsxs("a",{href:`/menu/${n.slug}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 mt-4 text-xs text-white/40 hover:text-primary transition-colors",children:[c.jsx(aS,{className:"w-4 h-4"}),"Ver pgina pblica"]})]})]}),c.jsx(Dn,{children:g&&c.jsx(xe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/90 backdrop-blur-md p-4",onClick:()=>y(!1),children:c.jsxs(xe.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-[#1a1a1a] rounded-3xl p-8 border border-white/10 max-w-md w-full text-center",onClick:ne=>ne.stopPropagation(),children:[c.jsx("h3",{className:"text-xl font-black mb-2",children:"QR Code do Cardpio"}),c.jsx("p",{className:"text-white/40 text-sm mb-6",children:"Escaneie para acessar o cardpio"}),c.jsx("div",{className:"bg-white p-4 rounded-2xl inline-block mb-6",children:c.jsx(pU,{value:be,size:200})}),c.jsx("p",{className:"text-xs text-white/40 mb-4 break-all",children:be}),c.jsxs("div",{className:"flex gap-3",children:[c.jsx("button",{onClick:()=>navigator.clipboard.writeText(be).then(()=>yt.success("Link copiado!")),className:"flex-1 py-3 bg-white/10 hover:bg-white/20 rounded-xl font-bold text-sm transition-all",children:"Copiar Link"}),c.jsx("button",{onClick:()=>y(!1),className:"flex-1 py-3 bg-primary hover:bg-orange-600 rounded-xl font-bold text-sm transition-all",children:"Fechar"})]})]})})})]}):null}function TU({item:t,index:e}){const n=N.useRef(null),r=rS(n,{once:!0,margin:"-50px"});return c.jsxs(xe.div,{ref:n,initial:{opacity:0,y:30},animate:r?{opacity:1,y:0}:{},transition:{delay:e*.05,duration:.4,ease:"easeOut"},className:"flex gap-4 p-4 bg-white/5 rounded-2xl border border-white/5 hover:border-white/10 transition-colors",children:[c.jsx("div",{className:"w-20 h-20 rounded-xl overflow-hidden flex-shrink-0 bg-white/5",children:t.imageUrl?c.jsx("img",{src:t.imageUrl,alt:t.title,className:"w-full h-full object-cover",loading:"lazy"}):c.jsx("div",{className:"w-full h-full flex items-center justify-center",children:c.jsx(Xo,{className:"w-8 h-8 text-white/20"})})}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsxs("div",{className:"flex items-start justify-between gap-2",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-base font-bold text-white leading-tight",children:t.title}),t.isHighlight&&c.jsx("span",{className:"inline-block text-[9px] font-black uppercase tracking-wider text-yellow-500 mt-0.5",children:" Chef's Choice"})]}),c.jsxs("span",{className:"text-primary font-black text-base whitespace-nowrap",children:["R$ ",t.price.toFixed(2).replace(".",",")]})]}),t.description&&c.jsx("p",{className:"text-sm text-white/50 mt-1 line-clamp-2",children:t.description})]})]})}function SU({items:t}){return t.length===0?null:c.jsxs("section",{className:"py-4",children:[c.jsx("h2",{className:"text-xs font-black uppercase tracking-widest text-white/40 px-4 mb-3",children:" Destaques"}),c.jsx("div",{className:"flex gap-3 overflow-x-auto no-scrollbar px-4 snap-x snap-mandatory",children:t.map((e,n)=>c.jsx(xe.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:n*.1},className:"flex-shrink-0 w-36 snap-start",children:c.jsxs("div",{className:"aspect-square rounded-2xl overflow-hidden relative bg-white/5",children:[e.imageUrl?c.jsx("img",{src:e.imageUrl,alt:e.title,className:"w-full h-full object-cover"}):c.jsx("div",{className:"w-full h-full flex items-center justify-center",children:c.jsx(Xo,{className:"w-12 h-12 text-white/20"})}),c.jsxs("div",{className:"absolute inset-x-0 bottom-0 bg-gradient-to-t from-black/90 via-black/50 to-transparent p-3",children:[c.jsx("h3",{className:"text-sm font-bold text-white line-clamp-1",children:e.title}),c.jsxs("span",{className:"text-primary font-black text-sm",children:["R$ ",e.price.toFixed(2).replace(".",",")]})]})]})},e.id))})]})}function IU({categories:t,activeCategory:e,onSelect:n,themeColor:r}){return c.jsx("nav",{className:"sticky top-0 z-40 bg-[#0a0a0a]/95 backdrop-blur-xl border-y border-white/5",children:c.jsx("div",{className:"flex gap-1 overflow-x-auto no-scrollbar px-4 py-2",children:t.map(s=>c.jsx("button",{onClick:()=>n(s.id),className:`flex-shrink-0 px-4 py-2 rounded-full text-xs font-bold uppercase tracking-wider transition-all ${e===s.id?"text-white":"text-white/40 hover:text-white/60"}`,style:{backgroundColor:e===s.id?r:"transparent"},children:s.title},s.id))})})}function CU({phone:t,restaurantName:e}){if(!t)return null;const n=encodeURIComponent(`Ol! Gostaria de fazer um pedido no ${e}`),s=`https://wa.me/${t.replace(/\D/g,"")}?text=${n}`;return c.jsxs(xe.a,{href:s,target:"_blank",rel:"noopener noreferrer",initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.5,type:"spring",stiffness:200},className:"fixed bottom-6 right-6 z-50 flex items-center gap-2 bg-[#25D366] hover:bg-[#20BA5C] text-white px-5 py-4 rounded-full shadow-lg shadow-[#25D366]/30 font-bold text-sm transition-all hover:scale-105 active:scale-95",children:[c.jsx(_M,{className:"w-5 h-5"}),c.jsx("span",{className:"hidden sm:inline",children:"Fazer Pedido"})]})}function NU(){const{slug:t}=gT(),[e,n]=N.useState(null),[r,s]=N.useState(!0),[a,l]=N.useState(null),[d,h]=N.useState(""),f=N.useRef({});N.useEffect(()=>{async function x(){if(!t){l("Cardpio no encontrado"),s(!1);return}try{const E=await vU(t);E?(n(E),E.categories.length>0&&h(E.categories[0].id)):l("Cardpio no encontrado")}catch(E){console.error("Error loading menu:",E),l("Erro ao carregar cardpio")}finally{s(!1)}}x()},[t]);const g=x=>{h(x);const E=f.current[x];if(E){const R=E.offsetTop-60;window.scrollTo({top:R,behavior:"smooth"})}},y=e?.categories.flatMap(x=>x.items).filter(x=>x.isHighlight)||[];return r?c.jsx("div",{className:"min-h-screen bg-[#0a0a0a] flex items-center justify-center",children:c.jsx(rn,{className:"w-8 h-8 text-primary animate-spin"})}):a||!e?c.jsxs("div",{className:"min-h-screen bg-[#0a0a0a] flex flex-col items-center justify-center p-4 text-center",children:[c.jsx(cr,{className:"w-16 h-16 text-white/20 mb-4"}),c.jsx("h1",{className:"text-2xl font-black text-white mb-2",children:"Cardpio no encontrado"}),c.jsx("p",{className:"text-white/40 mb-6",children:a}),c.jsx("a",{href:"https://emprata.ai",className:"px-6 py-3 bg-primary rounded-xl font-bold text-white hover:bg-orange-600 transition-colors",children:"Criar meu Cardpio"})]}):c.jsxs(c.Fragment,{children:[c.jsxs(GA,{children:[c.jsxs("title",{children:[e.name," | Cardpio Digital"]}),c.jsx("meta",{name:"description",content:e.description||`Cardpio digital de ${e.name}`}),c.jsx("meta",{property:"og:title",content:`${e.name} | Cardpio Digital`}),c.jsx("meta",{property:"og:description",content:e.description}),c.jsx("meta",{name:"theme-color",content:e.themeColor})]}),c.jsxs("div",{className:"min-h-screen bg-[#0a0a0a] text-white",children:[c.jsxs("header",{className:"relative py-12 px-4 text-center",style:{background:`linear-gradient(180deg, ${e.themeColor}30 0%, transparent 100%)`},children:[c.jsx(xe.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},transition:{type:"spring",stiffness:200,delay:.1},className:"mb-4",children:e.logoUrl?c.jsx("img",{src:e.logoUrl,alt:e.name,className:"w-20 h-20 rounded-2xl mx-auto object-cover border-2 border-white/10"}):c.jsx("div",{className:"w-20 h-20 rounded-2xl mx-auto flex items-center justify-center border-2 border-white/10",style:{backgroundColor:`${e.themeColor}30`},children:c.jsx(cr,{className:"w-10 h-10",style:{color:e.themeColor}})})}),c.jsx(xe.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"text-3xl font-black tracking-tight mb-2",children:e.name}),e.description&&c.jsx(xe.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"text-white/50 text-sm max-w-md mx-auto",children:e.description})]}),c.jsx(SU,{items:y}),c.jsx(IU,{categories:e.categories.map(x=>({id:x.id,title:x.title})),activeCategory:d,onSelect:g,themeColor:e.themeColor}),c.jsxs("main",{className:"px-4 py-6 pb-24 space-y-8",children:[e.categories.map(x=>c.jsxs("section",{ref:E=>f.current[x.id]=E,id:`category-${x.id}`,children:[c.jsx("h2",{className:"text-lg font-black uppercase tracking-wider mb-4",children:x.title}),c.jsx("div",{className:"space-y-3",children:x.items.map((E,S)=>c.jsx(TU,{item:E,index:S},E.id))}),x.items.length===0&&c.jsx("p",{className:"text-white/20 text-sm text-center py-8",children:"Nenhum item nesta categoria"})]},x.id)),e.categories.length===0&&c.jsxs("div",{className:"text-center py-16",children:[c.jsx(Xo,{className:"w-12 h-12 mx-auto text-white/20 mb-4"}),c.jsx("p",{className:"text-white/40",children:"Cardpio vazio"})]})]}),c.jsx(CU,{phone:e.phone,restaurantName:e.name}),c.jsx("footer",{className:"border-t border-white/5 py-6 text-center",children:c.jsx("a",{href:"https://emprata.ai",target:"_blank",rel:"noopener noreferrer",className:"text-[10px] font-bold uppercase tracking-widest text-white/20 hover:text-white/40 transition-colors",children:"Feito com Emprata.ai "})})]})]})}const ph=43200,WE=1440,GE=Symbol.for("constructDateFrom");function Tv(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&GE in t?t[GE](e):t instanceof Date?new t.constructor(e):new Date(e)}function no(t,e){return Tv(t,t)}let AU={};function kU(){return AU}function KE(t){const e=no(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function Sv(t,...e){const n=Tv.bind(null,t||e.find(r=>typeof r=="object"));return e.map(n)}function Fh(t,e){const n=+no(t)-+no(e);return n<0?-1:n>0?1:n}function RU(t){return Tv(t,Date.now())}function PU(t,e,n){const[r,s]=Sv(n?.in,t,e),a=r.getFullYear()-s.getFullYear(),l=r.getMonth()-s.getMonth();return a*12+l}function jU(t){return e=>{const r=(t?Math[t]:Math.trunc)(e);return r===0?0:r}}function DU(t,e){return+no(t)-+no(e)}function MU(t,e){const n=no(t);return n.setHours(23,59,59,999),n}function OU(t,e){const n=no(t),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function LU(t,e){const n=no(t);return+MU(n)==+OU(n)}function VU(t,e,n){const[r,s,a]=Sv(n?.in,t,t,e),l=Fh(s,a),d=Math.abs(PU(s,a));if(d<1)return 0;s.getMonth()===1&&s.getDate()>27&&s.setDate(30),s.setMonth(s.getMonth()-l*d);let h=Fh(s,a)===-l;LU(r)&&d===1&&Fh(r,a)===1&&(h=!1);const f=l*(d-+h);return f===0?0:f}function FU(t,e,n){const r=DU(t,e)/1e3;return jU(n?.roundingMethod)(r)}const UU={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},BU=(t,e,n)=>{let r;const s=UU[t];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",e.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function ul(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const zU={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},$U={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},HU={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},qU={date:ul({formats:zU,defaultWidth:"full"}),time:ul({formats:$U,defaultWidth:"full"}),dateTime:ul({formats:HU,defaultWidth:"full"})},WU={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},GU=(t,e,n,r)=>WU[t];function gs(t){return(e,n)=>{const r=n?.context?String(n.context):"standalone";let s;if(r==="formatting"&&t.formattingValues){const l=t.defaultFormattingWidth||t.defaultWidth,d=n?.width?String(n.width):l;s=t.formattingValues[d]||t.formattingValues[l]}else{const l=t.defaultWidth,d=n?.width?String(n.width):t.defaultWidth;s=t.values[d]||t.values[l]}const a=t.argumentCallback?t.argumentCallback(e):e;return s[a]}}const KU={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},QU={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},YU={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},XU={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},JU={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},ZU={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},e7=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},t7={ordinalNumber:e7,era:gs({values:KU,defaultWidth:"wide"}),quarter:gs({values:QU,defaultWidth:"wide",argumentCallback:t=>t-1}),month:gs({values:YU,defaultWidth:"wide"}),day:gs({values:XU,defaultWidth:"wide"}),dayPeriod:gs({values:JU,defaultWidth:"wide",formattingValues:ZU,defaultFormattingWidth:"wide"})};function ys(t){return(e,n={})=>{const r=n.width,s=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],a=e.match(s);if(!a)return null;const l=a[0],d=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],h=Array.isArray(d)?r7(d,y=>y.test(l)):n7(d,y=>y.test(l));let f;f=t.valueCallback?t.valueCallback(h):h,f=n.valueCallback?n.valueCallback(f):f;const g=e.slice(l.length);return{value:f,rest:g}}}function n7(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function r7(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function iN(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const s=r[0],a=e.match(t.parsePattern);if(!a)return null;let l=t.valueCallback?t.valueCallback(a[0]):a[0];l=n.valueCallback?n.valueCallback(l):l;const d=e.slice(s.length);return{value:l,rest:d}}}const s7=/^(\d+)(th|st|nd|rd)?/i,i7=/\d+/i,o7={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},a7={any:[/^b/i,/^(a|c)/i]},l7={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},c7={any:[/1/i,/2/i,/3/i,/4/i]},u7={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},d7={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},h7={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},f7={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},m7={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},p7={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},g7={ordinalNumber:iN({matchPattern:s7,parsePattern:i7,valueCallback:t=>parseInt(t,10)}),era:ys({matchPatterns:o7,defaultMatchWidth:"wide",parsePatterns:a7,defaultParseWidth:"any"}),quarter:ys({matchPatterns:l7,defaultMatchWidth:"wide",parsePatterns:c7,defaultParseWidth:"any",valueCallback:t=>t+1}),month:ys({matchPatterns:u7,defaultMatchWidth:"wide",parsePatterns:d7,defaultParseWidth:"any"}),day:ys({matchPatterns:h7,defaultMatchWidth:"wide",parsePatterns:f7,defaultParseWidth:"any"}),dayPeriod:ys({matchPatterns:m7,defaultMatchWidth:"any",parsePatterns:p7,defaultParseWidth:"any"})},y7={code:"en-US",formatDistance:BU,formatLong:qU,formatRelative:GU,localize:t7,match:g7,options:{weekStartsOn:0,firstWeekContainsDate:1}};function v7(t,e,n){const r=kU(),s=n?.locale??r.locale??y7,a=2520,l=Fh(t,e);if(isNaN(l))throw new RangeError("Invalid time value");const d=Object.assign({},n,{addSuffix:n?.addSuffix,comparison:l}),[h,f]=Sv(n?.in,...l>0?[e,t]:[t,e]),g=FU(f,h),y=(KE(f)-KE(h))/1e3,x=Math.round((g-y)/60);let E;if(x<2)return n?.includeSeconds?g<5?s.formatDistance("lessThanXSeconds",5,d):g<10?s.formatDistance("lessThanXSeconds",10,d):g<20?s.formatDistance("lessThanXSeconds",20,d):g<40?s.formatDistance("halfAMinute",0,d):g<60?s.formatDistance("lessThanXMinutes",1,d):s.formatDistance("xMinutes",1,d):x===0?s.formatDistance("lessThanXMinutes",1,d):s.formatDistance("xMinutes",x,d);if(x<45)return s.formatDistance("xMinutes",x,d);if(x<90)return s.formatDistance("aboutXHours",1,d);if(x<WE){const S=Math.round(x/60);return s.formatDistance("aboutXHours",S,d)}else{if(x<a)return s.formatDistance("xDays",1,d);if(x<ph){const S=Math.round(x/WE);return s.formatDistance("xDays",S,d)}else if(x<ph*2)return E=Math.round(x/ph),s.formatDistance("aboutXMonths",E,d)}if(E=VU(f,h),E<12){const S=Math.round(x/ph);return s.formatDistance("xMonths",S,d)}else{const S=E%12,R=Math.trunc(E/12);return S<3?s.formatDistance("aboutXYears",R,d):S<9?s.formatDistance("overXYears",R,d):s.formatDistance("almostXYears",R+1,d)}}function x7(t,e){return v7(t,RU(t),e)}const w7={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"cerca de 1 hora",other:"cerca de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"cerca de 1 semana",other:"cerca de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"cerca de 1 ms",other:"cerca de {{count}} meses"},xMonths:{one:"1 ms",other:"{{count}} meses"},aboutXYears:{one:"cerca de 1 ano",other:"cerca de {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},b7=(t,e,n)=>{let r;const s=w7[t];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",String(e)),n?.addSuffix?n.comparison&&n.comparison>0?"em "+r:"h "+r:r},_7={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/yyyy"},E7={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},T7={full:"{{date}} 's' {{time}}",long:"{{date}} 's' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},S7={date:ul({formats:_7,defaultWidth:"full"}),time:ul({formats:E7,defaultWidth:"full"}),dateTime:ul({formats:T7,defaultWidth:"full"})},I7={lastWeek:t=>{const e=t.getDay();return"'"+(e===0||e===6?"ltimo":"ltima")+"' eeee 's' p"},yesterday:"'ontem s' p",today:"'hoje s' p",tomorrow:"'amanh s' p",nextWeek:"eeee 's' p",other:"P"},C7=(t,e,n,r)=>{const s=I7[t];return typeof s=="function"?s(e):s},N7={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","depois de cristo"]},A7={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},k7={narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","maro","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},R7={narrow:["D","S","T","Q","Q","S","S"],short:["dom","seg","ter","qua","qui","sex","sab"],abbreviated:["domingo","segunda","tera","quarta","quinta","sexta","sbado"],wide:["domingo","segunda-feira","tera-feira","quarta-feira","quinta-feira","sexta-feira","sbado"]},P7={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"}},j7={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"}},D7=(t,e)=>{const n=Number(t);return e?.unit==="week"?n+"":n+""},M7={ordinalNumber:D7,era:gs({values:N7,defaultWidth:"wide"}),quarter:gs({values:A7,defaultWidth:"wide",argumentCallback:t=>t-1}),month:gs({values:k7,defaultWidth:"wide"}),day:gs({values:R7,defaultWidth:"wide"}),dayPeriod:gs({values:P7,defaultWidth:"wide",formattingValues:j7,defaultFormattingWidth:"wide"})},O7=/^(\d+)[o]?/i,L7=/\d+/i,V7={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|d\.?\s?c\.?)/i,wide:/^(antes de cristo|depois de cristo)/i},F7={any:[/^ac/i,/^dc/i],wide:[/^antes de cristo/i,/^depois de cristo/i]},U7={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},B7={any:[/1/i,/2/i,/3/i,/4/i]},z7={narrow:/^[jfmajsond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|maro|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},$7={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^fev/i,/^mar/i,/^abr/i,/^mai/i,/^jun/i,/^jul/i,/^ago/i,/^set/i,/^out/i,/^nov/i,/^dez/i]},H7={narrow:/^(dom|[23456]?|s[a]b)/i,short:/^(dom|[23456]?|s[a]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[a]b)/i,wide:/^(domingo|(segunda|ter[c]a|quarta|quinta|sexta)([- ]feira)?|s[a]bado)/i},q7={short:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],narrow:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[a]b/i]},W7={narrow:/^(a|p|mn|md|(da) (manh|tarde|noite))/i,any:/^([ap]\.?\s?m\.?|meia[-\s]noite|meio[-\s]dia|(da) (manh|tarde|noite))/i},G7={any:{am:/^a/i,pm:/^p/i,midnight:/^mn|^meia[-\s]noite/i,noon:/^md|^meio[-\s]dia/i,morning:/manh/i,afternoon:/tarde/i,evening:/tarde/i,night:/noite/i}},K7={ordinalNumber:iN({matchPattern:O7,parsePattern:L7,valueCallback:t=>parseInt(t,10)}),era:ys({matchPatterns:V7,defaultMatchWidth:"wide",parsePatterns:F7,defaultParseWidth:"any"}),quarter:ys({matchPatterns:U7,defaultMatchWidth:"wide",parsePatterns:B7,defaultParseWidth:"any",valueCallback:t=>t+1}),month:ys({matchPatterns:z7,defaultMatchWidth:"wide",parsePatterns:$7,defaultParseWidth:"any"}),day:ys({matchPatterns:H7,defaultMatchWidth:"wide",parsePatterns:q7,defaultParseWidth:"any"}),dayPeriod:ys({matchPatterns:W7,defaultMatchWidth:"any",parsePatterns:G7,defaultParseWidth:"any"})},Q7={code:"pt-BR",formatDistance:b7,formatLong:S7,formatRelative:C7,localize:M7,match:K7,options:{weekStartsOn:0,firstWeekContainsDate:1}},Y7={pending:{color:"text-yellow-400",bg:"bg-yellow-500/20 border-yellow-500/50",label:"PENDENTE"},preparing:{color:"text-blue-400",bg:"bg-blue-500/20 border-blue-500/50",label:"PREPARANDO"},ready:{color:"text-green-400",bg:"bg-green-500/20 border-green-500/50",label:"PRONTO"},delivered:{color:"text-gray-400",bg:"bg-gray-500/20 border-gray-500/50",label:"ENTREGUE"},billing_requested:{color:"text-red-400",bg:"bg-red-500/20 border-red-500/50",label:" CONTA"},closed:{color:"text-gray-600",bg:"bg-gray-800/50 border-gray-600/50",label:"FECHADO"}},Ag=["pending","preparing","ready","delivered"];function X7(t){if(!t)return"";const e=t instanceof Ge?t.toDate():new Date(t);return x7(e,{addSuffix:!0,locale:Q7})}function J7(t){if(!t)return 0;const e=t instanceof Ge?t.toDate():new Date(t);return Math.floor((Date.now()-e.getTime())/6e4)}function gh({order:t,onAdvanceStatus:e,onShowDetails:n}){const r=Y7[t.status],a=J7(t.createdAt)>10&&t.status==="pending",l=t.status==="billing_requested";return c.jsxs(xe.div,{layout:!0,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:`
        ${r.bg} border-2 rounded-2xl p-4 cursor-pointer select-none
        ${a?"animate-pulse border-yellow-500":""}
        ${l?"border-red-500 ring-2 ring-red-500/50":""}
        hover:scale-[1.02] transition-transform
      `,onClick:e,onDoubleClick:n,children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("span",{className:"text-3xl font-black text-white",children:["#",t.orderNumber||"?"]}),t.customer?.table&&c.jsxs("span",{className:"px-2 py-1 bg-white/10 rounded-lg text-xs font-bold uppercase",children:["Mesa ",t.customer.table]})]}),c.jsx("span",{className:`text-xs font-black uppercase ${r.color}`,children:r.label})]}),c.jsxs("div",{className:"flex items-center gap-2 mb-3 text-white/60",children:[c.jsx(bs,{className:"w-4 h-4"}),c.jsx("span",{className:"text-sm font-bold truncate",children:t.customer?.name||"Annimo"})]}),c.jsxs("div",{className:"space-y-1 mb-3",children:[t.items.slice(0,4).map((d,h)=>c.jsxs("div",{className:`flex justify-between text-sm ${d.status==="done"?"line-through opacity-50":""}`,children:[c.jsxs("span",{className:"font-bold text-white",children:[d.quantity,"x ",d.name]}),d.notes&&c.jsx("span",{className:"text-yellow-400 text-xs",children:""})]},h)),t.items.length>4&&c.jsxs("span",{className:"text-xs text-white/40",children:["+",t.items.length-4," mais..."]})]}),c.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-white/10",children:[c.jsxs("div",{className:`flex items-center gap-1 text-xs font-bold ${a?"text-red-400":"text-white/40"}`,children:[c.jsx(b0,{className:"w-3 h-3"}),X7(t.createdAt)]}),c.jsxs("span",{className:"text-lg font-black text-primary",children:["R$ ",t.total.toFixed(2).replace(".",",")]})]})]})}function Z7(){const{restaurantId:t}=gT(),[e,n]=N.useState([]),[r,s]=N.useState(!0),[a,l]=N.useState(null),d=N.useRef(null);N.useEffect(()=>{if(!t)return;const S=Dl(eo(Nt,"orders"),ei("restaurantId","==",t),ei("status","in",["pending","preparing","ready","billing_requested"]),$9("createdAt","asc")),R=VC(S,A=>{const j=A.docs.map(Z=>({...Z.data(),id:Z.id})),F=e.filter(Z=>Z.status==="pending").length;j.filter(Z=>Z.status==="pending").length>F&&r&&h(),n(j)});return()=>R()},[t,r]);const h=()=>{try{d.current?.play()}catch{console.log("Audio play blocked")}},f=async S=>{const R=Ag.indexOf(S.status);if(R===-1||R>=Ag.length-1)return;const A=Ag[R+1];try{await to(In(Nt,"orders",S.id),{status:A,updatedAt:Ge.now(),...A==="delivered"&&{completedAt:Ge.now()}})}catch(j){console.error("Error updating order:",j)}},g=e.filter(S=>S.status==="pending"),y=e.filter(S=>S.status==="preparing"),x=e.filter(S=>S.status==="ready"),E=e.filter(S=>S.status==="billing_requested");return c.jsxs("div",{className:"min-h-screen bg-black text-white p-4 md:p-6",children:[c.jsx("audio",{ref:d,src:"data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2teleCADB3qO3+ug",preload:"auto"}),c.jsxs("header",{className:"flex items-center justify-between mb-6",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx(cr,{className:"w-10 h-10 text-primary"}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl md:text-4xl font-black uppercase tracking-tight",children:"Cozinha"}),c.jsx("p",{className:"text-[10px] font-bold uppercase tracking-widest text-white/40",children:"Kitchen Display System"})]})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[E.length>0&&c.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-red-500/20 border border-red-500 rounded-xl animate-pulse",children:[c.jsx(Xh,{className:"w-5 h-5 text-red-400"}),c.jsxs("span",{className:"text-sm font-bold text-red-400",children:[E.length," Conta(s) Pedida(s)"]})]}),c.jsx("button",{onClick:()=>s(!r),className:`p-3 rounded-xl transition-colors ${r?"bg-primary":"bg-white/10"}`,children:r?c.jsx(OM,{className:"w-6 h-6"}):c.jsx(LM,{className:"w-6 h-6"})}),c.jsx("button",{onClick:()=>window.location.reload(),className:"p-3 bg-white/10 rounded-xl hover:bg-white/20 transition-colors",children:c.jsx(dS,{className:"w-6 h-6"})})]})]}),E.length>0&&c.jsxs("section",{className:"mb-6",children:[c.jsxs("h2",{className:"text-sm font-black uppercase tracking-widest text-red-400 mb-3 flex items-center gap-2",children:[c.jsx(Xh,{className:"w-4 h-4"}),"CONTAS PEDIDAS - PRIORIDADE"]}),c.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:c.jsx(Dn,{children:E.map(S=>c.jsx(gh,{order:S,onAdvanceStatus:()=>f(S),onShowDetails:()=>l(S)},S.id))})})]}),c.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[c.jsxs("section",{children:[c.jsxs("h2",{className:"text-sm font-black uppercase tracking-widest text-yellow-400 mb-3 flex items-center gap-2",children:[c.jsx(b0,{className:"w-4 h-4"}),"PENDENTES (",g.length,")"]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx(Dn,{children:g.map(S=>c.jsx(gh,{order:S,onAdvanceStatus:()=>f(S),onShowDetails:()=>l(S)},S.id))}),g.length===0&&c.jsxs("div",{className:"text-center py-12 text-white/20",children:[c.jsx(un,{className:"w-12 h-12 mx-auto mb-2"}),c.jsx("p",{className:"text-sm font-bold",children:"Nenhum pendente"})]})]})]}),c.jsxs("section",{children:[c.jsxs("h2",{className:"text-sm font-black uppercase tracking-widest text-blue-400 mb-3 flex items-center gap-2",children:[c.jsx(cr,{className:"w-4 h-4"}),"PREPARANDO (",y.length,")"]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx(Dn,{children:y.map(S=>c.jsx(gh,{order:S,onAdvanceStatus:()=>f(S),onShowDetails:()=>l(S)},S.id))}),y.length===0&&c.jsxs("div",{className:"text-center py-12 text-white/20",children:[c.jsx(cr,{className:"w-12 h-12 mx-auto mb-2"}),c.jsx("p",{className:"text-sm font-bold",children:"Nenhum em preparo"})]})]})]}),c.jsxs("section",{children:[c.jsxs("h2",{className:"text-sm font-black uppercase tracking-widest text-green-400 mb-3 flex items-center gap-2",children:[c.jsx(un,{className:"w-4 h-4"}),"PRONTOS (",x.length,")"]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx(Dn,{children:x.map(S=>c.jsx(gh,{order:S,onAdvanceStatus:()=>f(S),onShowDetails:()=>l(S)},S.id))}),x.length===0&&c.jsxs("div",{className:"text-center py-12 text-white/20",children:[c.jsx(un,{className:"w-12 h-12 mx-auto mb-2"}),c.jsx("p",{className:"text-sm font-bold",children:"Nenhum pronto"})]})]})]})]}),c.jsx(Dn,{children:a&&c.jsx(xe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/90 backdrop-blur-md p-4",onClick:()=>l(null),children:c.jsxs(xe.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-[#1a1a1a] rounded-3xl p-8 max-w-md w-full border border-white/10",onClick:S=>S.stopPropagation(),children:[c.jsxs("h3",{className:"text-3xl font-black mb-4",children:["Pedido #",a.orderNumber]}),c.jsxs("div",{className:"mb-4 p-4 bg-white/5 rounded-xl",children:[c.jsx("p",{className:"font-bold",children:a.customer?.name}),c.jsxs("p",{className:"text-white/40 text-sm",children:["CPF: ",a.customer?.cpf]}),a.customer?.table&&c.jsxs("p",{className:"text-white/40 text-sm",children:["Mesa: ",a.customer.table]})]}),c.jsx("div",{className:"space-y-2 mb-6",children:a.items.map((S,R)=>c.jsxs("div",{className:"flex justify-between p-3 bg-white/5 rounded-xl",children:[c.jsxs("div",{children:[c.jsxs("span",{className:"font-bold",children:[S.quantity,"x ",S.name]}),S.notes&&c.jsxs("p",{className:"text-xs text-yellow-400",children:[" ",S.notes]})]}),c.jsxs("span",{className:"text-primary font-bold",children:["R$ ",S.totalPrice.toFixed(2)]})]},R))}),c.jsxs("div",{className:"flex justify-between items-center p-4 bg-primary/20 rounded-xl",children:[c.jsx("span",{className:"font-bold",children:"TOTAL"}),c.jsxs("span",{className:"text-2xl font-black text-primary",children:["R$ ",a.total.toFixed(2).replace(".",",")]})]}),c.jsx("button",{onClick:()=>l(null),className:"w-full mt-4 py-3 bg-white/10 hover:bg-white/20 rounded-xl font-bold transition-colors",children:"Fechar"})]})})})]})}const uo="staff";function eB(){return`waiter_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}async function tB(t){const e=eB(),n={totalSales:0,totalOrders:0,averageTicket:0,todaySales:0,todayOrders:0},r={id:e,ownerId:t.ownerId,restaurantId:t.restaurantId,name:t.name,code:t.code,active:!0,isOnline:!1,performance:n,createdAt:Ge.now(),updatedAt:Ge.now()};return await Zc(In(Nt,uo,e),r),r}function nB(t,e){const n=Dl(eo(Nt,uo),ei("ownerId","==",t));return VC(n,r=>{const s=r.docs.map(a=>a.data()).sort((a,l)=>l.performance.totalSales-a.performance.totalSales);e(s)},r=>{console.error("Error subscribing to staff:",r),e([])})}async function rB(t,e){const n=Dl(eo(Nt,uo),ei("restaurantId","==",t),ei("code","==",e),ei("active","==",!0)),r=await Zf(n);return r.empty?null:r.docs[0].data()}async function sB(t){const e=In(Nt,uo,t),n=await Lh(e);return n.exists()?n.data():null}async function iB(t,e){await to(In(Nt,uo,t),{active:e,isOnline:e?void 0:!1,updatedAt:Ge.now()})}async function Uh(t,e){await to(In(Nt,uo,t),{isOnline:e,lastActiveAt:Ge.now(),updatedAt:Ge.now()})}async function oB(t,e){const n=await sB(t);if(!n)return;const r=n.performance.totalOrders+1,s=n.performance.totalSales+e,a=s/r;await to(In(Nt,uo,t),{"performance.totalOrders":r,"performance.totalSales":s,"performance.averageTicket":a,"performance.todayOrders":n.performance.todayOrders+1,"performance.todaySales":n.performance.todaySales+e,lastActiveAt:Ge.now(),updatedAt:Ge.now()})}async function aB(t){await W9(In(Nt,uo,t))}function lB(t){const e=t.filter(a=>a.active),n=t.filter(a=>a.isOnline).length,r=t.reduce((a,l)=>a+l.performance.totalSales,0),s=e.length>0?e.sort((a,l)=>l.performance.totalSales-a.performance.totalSales)[0]:null;return{totalStaff:t.length,activeStaff:e.length,onlineNow:n,totalSalesViaWaiters:r,topPerformer:s?{name:s.name,sales:s.performance.totalSales}:null}}function Qo(t){return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(t)}function kg(){return Math.floor(1e3+Math.random()*9e3).toString()}function yh({title:t,value:e,icon:n,color:r="text-primary"}){return c.jsxs("div",{className:"bg-white/5 backdrop-blur-xl border border-white/10 rounded-2xl p-5",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[c.jsx("div",{className:`p-2 bg-white/5 rounded-xl ${r}`,children:n}),c.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest text-white/40",children:t})]}),c.jsx("p",{className:"text-2xl font-black text-white",children:e})]})}function cB(){const{user:t}=hr(),[e,n]=N.useState([]),[r,s]=N.useState(null),[a,l]=N.useState(!0),[d,h]=N.useState(!1),[f,g]=N.useState(!1),[y,x]=N.useState(""),[E,S]=N.useState(kg()),[R,A]=N.useState(null);N.useEffect(()=>{if(!t?.uid)return;const K=nB(t.uid,D=>{n(D),s(lB(D)),l(!1)});return()=>K()},[t?.uid]);const j=async()=>{if(!t?.uid||!y.trim()||!E.trim()){yt.error("Preencha nome e cdigo");return}if(E.length<4){yt.error("Cdigo deve ter pelo menos 4 dgitos");return}g(!0);try{const K=await tB({name:y.trim(),code:E,ownerId:t.uid,restaurantId:t.uid});A(K),yt.success("Garom criado com sucesso!")}catch(K){yt.error(K.message||"Erro ao criar garom")}finally{g(!1)}},F=async K=>{try{await iB(K.id,!K.active),yt.success(K.active?"Garom bloqueado":"Garom ativado")}catch{yt.error("Erro ao atualizar status")}},$=async K=>{if(confirm("Tem certeza que deseja excluir este garom?"))try{await aB(K),yt.success("Garom excludo")}catch{yt.error("Erro ao excluir")}},Z=K=>{navigator.clipboard.writeText(K),yt.success("Cdigo copiado!")},Y=()=>{h(!1),x(""),S(kg()),A(null)};return a?c.jsx("div",{className:"min-h-screen bg-[#0a0a0a] flex items-center justify-center",children:c.jsx(rn,{className:"w-8 h-8 text-primary animate-spin"})}):c.jsxs("div",{className:"min-h-screen bg-[#0a0a0a] text-white",children:[c.jsxs("header",{className:"h-16 md:h-20 border-b border-white/5 flex items-center justify-between px-4 md:px-8 bg-[#0a0a0a]/80 backdrop-blur-xl sticky top-0 z-50",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx(Bt,{to:"/dashboard",className:"text-white/40 hover:text-white transition-colors",children:c.jsx(Qh,{className:"w-6 h-6"})}),c.jsxs("div",{children:[c.jsxs("h1",{className:"text-lg font-black italic tracking-tight flex items-center gap-2",children:[c.jsx(bs,{className:"w-5 h-5 text-primary"}),"Gesto de Equipe"]}),c.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest text-white/30",children:"Staff Management"})]})]}),c.jsxs("button",{onClick:()=>h(!0),className:"flex items-center gap-2 px-4 py-2 bg-primary hover:bg-orange-600 rounded-xl font-bold text-sm transition-all",children:[c.jsx(ou,{className:"w-4 h-4"}),c.jsx("span",{className:"hidden md:inline",children:"Novo Garom"})]})]}),c.jsxs("main",{className:"p-4 md:p-8 max-w-7xl mx-auto space-y-8",children:[c.jsxs("section",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[c.jsx(yh,{title:"Total Equipe",value:r?.totalStaff.toString()||"0",icon:c.jsx(bs,{className:"w-4 h-4"})}),c.jsx(yh,{title:"Online Agora",value:r?.onlineNow.toString()||"0",icon:c.jsx(DM,{className:"w-4 h-4"}),color:"text-green-400"}),c.jsx(yh,{title:"Vendas via Garons",value:Qo(r?.totalSalesViaWaiters||0),icon:c.jsx(_0,{className:"w-4 h-4"}),color:"text-blue-400"}),c.jsx(yh,{title:"Top Performer",value:r?.topPerformer?.name||"-",icon:c.jsx(E0,{className:"w-4 h-4"}),color:"text-yellow-400"})]}),c.jsxs("section",{className:"bg-white/5 backdrop-blur-xl border border-white/10 rounded-2xl overflow-hidden",children:[c.jsx("div",{className:"p-4 border-b border-white/5",children:c.jsx("h2",{className:"font-black uppercase tracking-tight",children:"Equipe"})}),e.length===0?c.jsxs("div",{className:"p-12 text-center",children:[c.jsx(bs,{className:"w-12 h-12 mx-auto text-white/10 mb-3"}),c.jsx("p",{className:"text-white/40 mb-4",children:"Nenhum garom cadastrado"}),c.jsx("button",{onClick:()=>h(!0),className:"px-4 py-2 bg-primary rounded-xl font-bold text-sm",children:"Adicionar Primeiro Garom"})]}):c.jsx("div",{className:"divide-y divide-white/5",children:e.map(K=>c.jsxs(xe.div,{initial:{opacity:0},animate:{opacity:1},className:`p-4 flex items-center justify-between ${K.active?"":"opacity-50"}`,children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:`w-3 h-3 rounded-full ${K.isOnline?"bg-green-500 animate-pulse":K.active?"bg-yellow-500":"bg-red-500"}`}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"font-bold text-white",children:K.name}),!K.active&&c.jsx("span",{className:"px-2 py-0.5 bg-red-500/20 text-red-400 text-[10px] font-bold rounded-full uppercase",children:"Bloqueado"})]}),c.jsxs("div",{className:"flex items-center gap-3 text-xs text-white/40",children:[c.jsxs("span",{children:["PIN: ",c.jsx("code",{className:"bg-white/10 px-1 rounded",children:K.code})]}),c.jsx("button",{onClick:()=>Z(K.code),className:"hover:text-white transition-colors",children:c.jsx(Nb,{className:"w-3 h-3"})})]})]})]}),c.jsxs("div",{className:"flex items-center gap-6",children:[c.jsxs("div",{className:"hidden md:flex items-center gap-6 text-sm",children:[c.jsxs("div",{className:"text-center",children:[c.jsx("p",{className:"text-white/40 text-[10px] uppercase",children:"Vendas"}),c.jsx("p",{className:"font-bold text-primary",children:Qo(K.performance.totalSales)})]}),c.jsxs("div",{className:"text-center",children:[c.jsx("p",{className:"text-white/40 text-[10px] uppercase",children:"Pedidos"}),c.jsx("p",{className:"font-bold",children:K.performance.totalOrders})]}),c.jsxs("div",{className:"text-center",children:[c.jsx("p",{className:"text-white/40 text-[10px] uppercase",children:"Ticket"}),c.jsx("p",{className:"font-bold",children:Qo(K.performance.averageTicket)})]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{onClick:()=>F(K),className:`p-2 rounded-lg transition-colors ${K.active?"bg-red-500/20 text-red-400 hover:bg-red-500/30":"bg-green-500/20 text-green-400 hover:bg-green-500/30"}`,title:K.active?"Bloquear":"Ativar",children:K.active?c.jsx(pM,{className:"w-4 h-4"}):c.jsx(lS,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>$(K.id),className:"p-2 bg-white/5 text-white/40 hover:text-red-400 rounded-lg transition-colors",title:"Excluir",children:c.jsx(ty,{className:"w-4 h-4"})})]})]})]},K.id))})]})]}),c.jsx(Dn,{children:d&&c.jsx(xe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/90 backdrop-blur-md p-4",onClick:Y,children:c.jsx(xe.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-[#1a1a1a] rounded-3xl p-8 max-w-md w-full border border-white/10",onClick:K=>K.stopPropagation(),children:R?c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"w-16 h-16 bg-green-500/20 rounded-full flex items-center justify-center mx-auto mb-4",children:c.jsx(un,{className:"w-8 h-8 text-green-400"})}),c.jsx("h3",{className:"text-2xl font-black mb-2",children:"Garom Criado!"}),c.jsx("p",{className:"text-white/40 mb-6",children:R.name}),c.jsxs("div",{className:"bg-white/5 rounded-2xl p-6 mb-6",children:[c.jsx("p",{className:"text-[10px] font-bold uppercase tracking-widest text-white/40 mb-2",children:"Cdigo de Acesso"}),c.jsxs("div",{className:"flex items-center justify-center gap-3",children:[c.jsx("span",{className:"text-4xl font-black tracking-[0.5em] text-primary",children:R.code}),c.jsx("button",{onClick:()=>Z(R.code),className:"p-2 bg-white/10 rounded-lg hover:bg-white/20 transition-colors",children:c.jsx(Nb,{className:"w-5 h-5"})})]})]}),c.jsx("div",{className:"bg-yellow-500/10 border border-yellow-500/30 rounded-xl p-4 mb-6",children:c.jsxs("div",{className:"flex items-start gap-2",children:[c.jsx(Xh,{className:"w-5 h-5 text-yellow-400 flex-shrink-0 mt-0.5"}),c.jsx("p",{className:"text-sm text-yellow-400 text-left",children:"Anote este cdigo! O garom precisar dele para acessar o app."})]})}),c.jsx("button",{onClick:Y,className:"w-full py-3 bg-primary hover:bg-orange-600 rounded-xl font-bold transition-colors",children:"Concluir"})]}):c.jsxs(c.Fragment,{children:[c.jsx("h3",{className:"text-2xl font-black mb-6",children:"Novo Garom"}),c.jsxs("div",{className:"space-y-4 mb-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-[10px] font-bold uppercase tracking-widest text-white/40 block mb-2",children:"Nome do Garom"}),c.jsx("input",{type:"text",value:y,onChange:K=>x(K.target.value),placeholder:"Ex: Joo Silva",className:"w-full bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-white placeholder-white/20 focus:border-primary focus:outline-none"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-[10px] font-bold uppercase tracking-widest text-white/40 block mb-2",children:"Cdigo de Acesso (PIN)"}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("input",{type:"text",value:E,onChange:K=>S(K.target.value.replace(/\D/g,"").slice(0,6)),className:"flex-1 bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-white text-center text-2xl font-black tracking-widest focus:border-primary focus:outline-none",maxLength:6}),c.jsx("button",{onClick:()=>S(kg()),className:"px-4 bg-white/10 hover:bg-white/20 rounded-xl transition-colors",title:"Gerar novo cdigo",children:""})]}),c.jsx("p",{className:"text-xs text-white/30 mt-2",children:"O garom usar este PIN para fazer login rpido"})]})]}),c.jsxs("div",{className:"flex gap-3",children:[c.jsx("button",{onClick:Y,className:"flex-1 py-3 bg-white/10 hover:bg-white/20 rounded-xl font-bold transition-colors",children:"Cancelar"}),c.jsx("button",{onClick:j,disabled:f||!y.trim(),className:"flex-1 py-3 bg-primary hover:bg-orange-600 rounded-xl font-bold transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:f?c.jsx(rn,{className:"w-4 h-4 animate-spin"}):c.jsxs(c.Fragment,{children:[c.jsx(ou,{className:"w-4 h-4"}),"Criar"]})})]})]})})})})]})}function uB(){const t=Yr(),[e,n]=N.useState(""),[r,s]=N.useState(""),[a,l]=N.useState(!1),[d,h]=N.useState(""),f=async()=>{if(!e.trim()||!r.trim()){h("Preencha o cdigo do restaurante e seu PIN");return}l(!0),h("");try{const y=await rB(e.trim(),r);if(!y){h("Cdigo ou PIN invlido"),l(!1);return}const x={waiterId:y.id,waiterName:y.name,restaurantId:y.restaurantId,ownerId:y.ownerId,loginAt:new Date,currentTables:[]};sessionStorage.setItem("waiterSession",JSON.stringify(x)),await Uh(y.id,!0),yt.success(`Bem-vindo, ${y.name}!`),t("/waiter-mode")}catch(y){h(y.message||"Erro ao fazer login")}finally{l(!1)}},g=y=>{const x=y.replace(/\D/g,"").slice(0,6);s(x),h("")};return c.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col",children:[c.jsx("header",{className:"p-6",children:c.jsxs(Bt,{to:"/",className:"flex items-center gap-2 text-white/40 hover:text-white transition-colors",children:[c.jsx(Au,{className:"w-5 h-5"}),c.jsx("span",{className:"font-bold",children:"Voltar"})]})}),c.jsx("main",{className:"flex-1 flex flex-col items-center justify-center p-6",children:c.jsxs(xe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-sm space-y-8",children:[c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"w-20 h-20 bg-primary/20 rounded-full flex items-center justify-center mx-auto mb-4",children:c.jsx(cr,{className:"w-10 h-10 text-primary"})}),c.jsx("h1",{className:"text-3xl font-black italic tracking-tight",children:"Modo Garom"}),c.jsx("p",{className:"text-white/40 text-sm mt-1",children:"Digite seu cdigo de acesso"})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-[10px] font-bold uppercase tracking-widest text-white/40 block mb-2",children:"Cdigo do Restaurante"}),c.jsx("input",{type:"text",value:e,onChange:y=>{n(y.target.value),h("")},placeholder:"ID do restaurante",className:"w-full bg-white/5 border border-white/10 rounded-xl px-4 py-4 text-white text-center font-mono placeholder-white/20 focus:border-primary focus:outline-none"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-[10px] font-bold uppercase tracking-widest text-white/40 block mb-2",children:"Seu PIN"}),c.jsx("input",{type:"text",inputMode:"numeric",value:r,onChange:y=>g(y.target.value),placeholder:"   ",className:"w-full bg-white/5 border border-white/10 rounded-xl px-4 py-4 text-white text-center text-3xl font-black tracking-[0.5em] placeholder-white/20 focus:border-primary focus:outline-none",maxLength:6})]}),d&&c.jsxs(xe.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"flex items-center gap-2 p-3 bg-red-500/20 border border-red-500/30 rounded-xl text-red-400 text-sm",children:[c.jsx(Xh,{className:"w-4 h-4 flex-shrink-0"}),c.jsx("span",{children:d})]}),c.jsx("button",{onClick:f,disabled:a||!r||!e,className:"w-full py-4 bg-primary hover:bg-orange-600 rounded-xl font-black text-lg uppercase tracking-wider transition-all disabled:opacity-50 flex items-center justify-center gap-2",children:a?c.jsx(rn,{className:"w-5 h-5 animate-spin"}):"Entrar"})]}),c.jsx("p",{className:"text-center text-xs text-white/30",children:"Pea o cdigo do restaurante e seu PIN pessoal ao gerente."})]})})]})}function dB({onSelect:t,occupiedTables:e}){const n=Array.from({length:30},(r,s)=>s+1);return c.jsx("div",{className:"grid grid-cols-5 gap-3 p-4",children:n.map(r=>c.jsx("button",{onClick:()=>t(r),className:`
            aspect-square rounded-2xl font-black text-2xl flex items-center justify-center
            transition-all active:scale-95
            ${e.includes(r)?"bg-primary/20 text-primary border-2 border-primary":"bg-white/5 text-white/60 hover:bg-white/10 border border-white/10"}
          `,children:r},r))})}function hB({item:t,quantity:e,onAdd:n,onRemove:r}){return c.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/5 rounded-xl",children:[c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("p",{className:"font-bold text-white truncate",children:t.title}),c.jsx("p",{className:"text-sm text-primary font-bold",children:Qo(t.price)})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[e>0&&c.jsxs(c.Fragment,{children:[c.jsx("button",{onClick:r,className:"w-10 h-10 bg-white/10 rounded-full flex items-center justify-center active:scale-95",children:c.jsx(EM,{className:"w-4 h-4"})}),c.jsx("span",{className:"w-8 text-center font-black text-lg",children:e})]}),c.jsx("button",{onClick:n,className:"w-10 h-10 bg-primary rounded-full flex items-center justify-center active:scale-95",children:c.jsx(ou,{className:"w-4 h-4"})})]})]})}function fB(){const t=Yr(),[e,n]=N.useState(null),[r,s]=N.useState(!0),[a,l]=N.useState("tables"),[d,h]=N.useState(null),[f,g]=N.useState(""),[y,x]=N.useState([]),[E,S]=N.useState([]),[R,A]=N.useState([]),[j,F]=N.useState(!1);N.useEffect(()=>{const L=sessionStorage.getItem("waiterSession");if(L){const P=JSON.parse(L);n(P),Uh(P.waiterId,!0)}else t("/waiter-login");return s(!1),()=>{if(L){const P=JSON.parse(L);Uh(P.waiterId,!1)}}},[t]),N.useEffect(()=>{async function L(){if(e)try{const P=Dl(eo(Nt,"menus"),ei("ownerId","==",e.ownerId)),be=await Zf(P);if(!be.empty){const re=be.docs[0].data().categories?.flatMap(ae=>ae.items)||[];x(re)}}catch(P){console.error("Error loading menu:",P)}}L()},[e]);const $=L=>{h(L),l("menu"),R.includes(L)||A(P=>[...P,L])},Z=L=>{S(P=>P.find(ne=>ne.menuItemId===L.id)?P.map(ne=>ne.menuItemId===L.id?{...ne,quantity:ne.quantity+1}:ne):[...P,{menuItemId:L.id,name:L.title,price:L.price,quantity:1,imageUrl:L.imageUrl||void 0}])},Y=L=>{S(P=>{const be=P.find(ne=>ne.menuItemId===L);return be&&be.quantity>1?P.map(ne=>ne.menuItemId===L?{...ne,quantity:ne.quantity-1}:ne):P.filter(ne=>ne.menuItemId!==L)})},K=L=>E.find(P=>P.menuItemId===L)?.quantity||0,D=E.reduce((L,P)=>L+P.price*P.quantity,0),C=E.reduce((L,P)=>L+P.quantity,0),M=async()=>{if(!(!e||!d||E.length===0)){F(!0);try{const L=E.map(be=>({id:crypto.randomUUID(),menuItemId:be.menuItemId,name:be.name,quantity:be.quantity,unitPrice:be.price,totalPrice:be.price*be.quantity,imageUrl:be.imageUrl,status:"pending"})),P={restaurantId:e.restaurantId,ownerId:e.ownerId,customer:{name:`Mesa ${d}`,cpf:"",table:d.toString()},items:L,subtotal:D,deliveryFee:0,total:D,status:"pending",orderNumber:Math.floor(Math.random()*999)+1,isPaid:!1,waiterId:e.waiterId,waiterName:e.waiterName,tableNumber:d,isOrderBumpAccepted:!1,deliveryType:"dine_in",createdAt:Ge.now(),updatedAt:Ge.now()};await G9(eo(Nt,"orders"),P),await oB(e.waiterId,D),yt.success("Pedido enviado para a cozinha! "),S([]),l("tables"),h(null)}catch(L){yt.error(L.message||"Erro ao enviar pedido")}finally{F(!1)}}},O=()=>{e&&Uh(e.waiterId,!1),sessionStorage.removeItem("waiterSession"),t("/")},B=y.filter(L=>L.title.toLowerCase().includes(f.toLowerCase()));return r?c.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center",children:c.jsx(rn,{className:"w-8 h-8 text-primary animate-spin"})}):e?c.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col",children:[c.jsxs("header",{className:"h-16 border-b border-white/10 flex items-center justify-between px-4 bg-black sticky top-0 z-50",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-10 h-10 bg-primary/20 rounded-full flex items-center justify-center",children:c.jsx(cr,{className:"w-5 h-5 text-primary"})}),c.jsxs("div",{children:[c.jsx("p",{className:"font-bold text-sm",children:e.waiterName}),c.jsx("p",{className:"text-[10px] text-white/40 uppercase tracking-wider",children:"Modo Garom"})]})]}),d&&c.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-primary/20 rounded-full",children:[c.jsx(bs,{className:"w-4 h-4 text-primary"}),c.jsxs("span",{className:"font-black text-primary",children:["Mesa ",d]})]}),c.jsx("button",{onClick:O,className:"p-2 text-white/40 hover:text-red-400 transition-colors",children:c.jsx(Cf,{className:"w-5 h-5"})})]}),c.jsx("main",{className:"flex-1 overflow-y-auto pb-24",children:c.jsxs(Dn,{mode:"wait",children:[a==="tables"&&c.jsxs(xe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[c.jsx("div",{className:"p-4",children:c.jsx("h2",{className:"text-lg font-black uppercase tracking-tight mb-4",children:"Selecione a Mesa"})}),c.jsx(dB,{onSelect:$,occupiedTables:R})]},"tables"),a==="menu"&&c.jsxs(xe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"p-4 space-y-4",children:[c.jsxs("div",{className:"relative",children:[c.jsx(AM,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-white/30"}),c.jsx("input",{type:"text",value:f,onChange:L=>g(L.target.value),placeholder:"Buscar prato...",className:"w-full bg-white/5 border border-white/10 rounded-xl pl-12 pr-4 py-3 text-white placeholder-white/30 focus:border-primary focus:outline-none",autoFocus:!0})]}),c.jsxs("div",{className:"space-y-2",children:[B.map(L=>c.jsx(hB,{item:L,quantity:K(L.id),onAdd:()=>Z(L),onRemove:()=>Y(L.id)},L.id)),B.length===0&&c.jsxs("div",{className:"text-center py-12 text-white/30",children:[c.jsx(cr,{className:"w-12 h-12 mx-auto mb-2"}),c.jsx("p",{children:"Nenhum item encontrado"})]})]})]},"menu"),a==="cart"&&c.jsxs(xe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"p-4 space-y-4",children:[c.jsx("h2",{className:"text-lg font-black uppercase tracking-tight",children:"Resumo do Pedido"}),E.length===0?c.jsxs("div",{className:"text-center py-12 text-white/30",children:[c.jsx(kb,{className:"w-12 h-12 mx-auto mb-2"}),c.jsx("p",{children:"Carrinho vazio"})]}):c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"space-y-2",children:E.map(L=>c.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/5 rounded-xl",children:[c.jsxs("div",{children:[c.jsxs("p",{className:"font-bold",children:[L.quantity,"x ",L.name]}),c.jsxs("p",{className:"text-sm text-white/40",children:[Qo(L.price)," cada"]})]}),c.jsx("p",{className:"font-black text-primary",children:Qo(L.price*L.quantity)})]},L.menuItemId))}),c.jsxs("div",{className:"p-4 bg-primary/20 rounded-2xl flex items-center justify-between",children:[c.jsx("span",{className:"font-black uppercase",children:"Total"}),c.jsx("span",{className:"text-2xl font-black text-primary",children:Qo(D)})]}),c.jsx("button",{onClick:M,disabled:j,className:"w-full py-4 bg-green-500 hover:bg-green-600 rounded-2xl font-black text-lg flex items-center justify-center gap-2 transition-colors disabled:opacity-50",children:j?c.jsx(rn,{className:"w-5 h-5 animate-spin"}):c.jsxs(c.Fragment,{children:[c.jsx(kM,{className:"w-5 h-5"}),"Disparar para Cozinha"]})})]})]},"cart"),a==="my-tables"&&c.jsxs(xe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"p-4 space-y-4",children:[c.jsx("h2",{className:"text-lg font-black uppercase tracking-tight",children:"Minhas Mesas"}),R.length===0?c.jsxs("div",{className:"text-center py-12 text-white/30",children:[c.jsx(bs,{className:"w-12 h-12 mx-auto mb-2"}),c.jsx("p",{children:"Nenhuma mesa atendida ainda"})]}):c.jsx("div",{className:"grid grid-cols-3 gap-3",children:R.map(L=>c.jsx("button",{onClick:()=>$(L),className:"aspect-square rounded-2xl bg-primary/20 text-primary font-black text-3xl flex items-center justify-center border-2 border-primary active:scale-95",children:L},L))})]},"my-tables")]})}),c.jsxs("nav",{className:"fixed bottom-0 left-0 right-0 h-20 bg-black/95 backdrop-blur-xl border-t border-white/10 flex items-center justify-around px-4 z-50",children:[c.jsxs("button",{onClick:()=>l("tables"),className:`flex flex-col items-center gap-1 ${a==="tables"?"text-primary":"text-white/40"}`,children:[c.jsx(yM,{className:"w-6 h-6"}),c.jsx("span",{className:"text-[10px] font-bold uppercase",children:"Mesas"})]}),c.jsxs("button",{onClick:()=>l("my-tables"),className:`flex flex-col items-center gap-1 ${a==="my-tables"?"text-primary":"text-white/40"}`,children:[c.jsx(bs,{className:"w-6 h-6"}),c.jsx("span",{className:"text-[10px] font-bold uppercase",children:"Minhas"})]}),c.jsxs("button",{onClick:()=>l("cart"),className:"relative -mt-6 w-16 h-16 bg-primary rounded-full flex items-center justify-center shadow-lg shadow-primary/30",children:[c.jsx(kb,{className:"w-7 h-7"}),C>0&&c.jsx("span",{className:"absolute -top-1 -right-1 w-6 h-6 bg-red-500 rounded-full text-xs font-black flex items-center justify-center",children:C})]}),c.jsxs("button",{onClick:()=>a==="menu"?l("tables"):h(null),className:`flex flex-col items-center gap-1 ${a==="menu"?"text-primary":"text-white/40"}`,children:[c.jsx(CM,{className:"w-6 h-6"}),c.jsx("span",{className:"text-[10px] font-bold uppercase",children:"Pedidos"})]}),c.jsxs("button",{onClick:()=>yt.info("Em breve: Fechar conta"),className:"flex flex-col items-center gap-1 text-white/40",children:[c.jsx(_0,{className:"w-6 h-6"}),c.jsx("span",{className:"text-[10px] font-bold uppercase",children:"Conta"})]})]})]}):null}function mB(){return c.jsx("div",{className:"min-h-screen bg-zinc-950 text-white p-4 md:p-8 pt-24",children:c.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[c.jsx("div",{className:"bg-white/5 border border-white/10 rounded-3xl p-6 md:p-8 animate-pulse",children:c.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-6",children:[c.jsx("div",{className:"w-24 h-24 md:w-28 md:h-28 rounded-full bg-white/10"}),c.jsxs("div",{className:"flex-1 text-center md:text-left space-y-3",children:[c.jsx("div",{className:"h-8 bg-white/10 rounded-lg w-48 mx-auto md:mx-0"}),c.jsx("div",{className:"h-4 bg-white/10 rounded w-64 mx-auto md:mx-0"})]}),c.jsx("div",{className:"h-12 w-32 bg-white/10 rounded-2xl"})]})}),c.jsx("div",{className:"grid md:grid-cols-3 gap-4",children:[1,2,3].map(t=>c.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-6 animate-pulse",children:[c.jsx("div",{className:"h-4 bg-white/10 rounded w-24 mb-4"}),c.jsx("div",{className:"h-8 bg-white/10 rounded w-16 mb-2"}),c.jsx("div",{className:"h-3 bg-white/10 rounded w-20"})]},t))}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[c.jsx("div",{className:"flex-1 h-14 bg-white/10 rounded-2xl animate-pulse"}),c.jsx("div",{className:"flex-1 h-14 bg-white/10 rounded-2xl animate-pulse"})]})]})})}function pB(){const t=Yr(),{user:e,userData:n,loading:r,signOut:s}=hr(),{credits:a,plan:l}=Ml(),[d,h]=N.useState(""),[f,g]=N.useState(!1),[y,x]=N.useState(!1),[E,S]=N.useState(null),R=12,j=(()=>{const D=new Date,C=new Date(D);C.setDate(C.getDate()+30);const M=O=>new Intl.DateTimeFormat("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric"}).format(O);return{start:M(D),renewal:M(C)}})(),F=l?.toLowerCase()||"free",$=F==="pro"||F==="starter";if(N.useEffect(()=>{n?.name?h(n.name):e?.displayName&&h(e.displayName)},[n,e]),r)return c.jsx(mB,{});if(!e)return c.jsx(Oy,{to:"/",replace:!0});const Z=async()=>{if(!(!e||!d.trim()))try{x(!0);const D=In(Nt,"users",e.uid);await to(D,{name:d.trim()}),S(" Nome atualizado!"),g(!1),setTimeout(()=>S(null),3e3)}catch(D){console.error("Error updating name:",D),S(" Erro ao atualizar")}finally{x(!1)}},Y=async()=>{await s(),t("/")},K=()=>{window.open("https://kirvano.com/portal","_blank")};return c.jsxs("div",{className:"min-h-screen bg-zinc-950 text-white p-4 md:p-8 pt-24",children:[c.jsx("header",{className:"fixed top-0 left-0 right-0 border-b border-white/5 bg-zinc-950/80 backdrop-blur-xl z-50",children:c.jsxs("div",{className:"max-w-4xl mx-auto px-4 md:px-8 py-4 flex items-center justify-between",children:[c.jsxs("button",{onClick:()=>t("/app"),className:"flex items-center gap-2 text-white/60 hover:text-white transition-colors group",children:[c.jsx(Au,{className:"w-5 h-5 group-hover:-translate-x-1 transition-transform"}),c.jsx("span",{className:"font-bold",children:"Voltar ao Studio"})]}),c.jsxs("h1",{className:"text-xl font-black italic",children:["Emprata",c.jsx("span",{className:"text-primary",children:".ai"})]})]})}),c.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[c.jsx(xe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},className:"bg-white/5 border border-white/10 rounded-3xl p-6 md:p-8 backdrop-blur-xl",children:c.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-6",children:[c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:`w-24 h-24 md:w-28 md:h-28 rounded-full bg-gradient-to-br ${$?"from-primary to-orange-600":"from-gray-500 to-gray-600"} flex items-center justify-center text-4xl font-black ring-4 ${$?"ring-primary/30":"ring-white/10"}`,children:e?.photoURL?c.jsx("img",{src:e.photoURL,alt:"Avatar",className:"w-full h-full rounded-full object-cover"}):c.jsx("span",{children:d?.charAt(0)?.toUpperCase()||"U"})}),c.jsx("button",{className:"absolute bottom-0 right-0 w-8 h-8 bg-white/20 rounded-full flex items-center justify-center hover:scale-110 transition-transform ring-2 ring-zinc-950",children:c.jsx(ku,{className:"w-4 h-4 text-white"})})]}),c.jsxs("div",{className:"flex-1 text-center md:text-left space-y-2",children:[c.jsxs("div",{className:"flex items-center gap-2 justify-center md:justify-start",children:[c.jsx("input",{type:"text",value:d,onChange:D=>{h(D.target.value),g(!0)},className:"text-2xl md:text-3xl font-black bg-transparent border-b-2 border-transparent hover:border-white/20 focus:border-primary focus:outline-none transition-colors max-w-[200px] md:max-w-[300px]",placeholder:"Seu Nome"}),f&&c.jsx("button",{onClick:Z,disabled:y,className:"p-2 bg-primary rounded-lg hover:bg-orange-600 transition-colors",children:y?c.jsx(rn,{className:"w-4 h-4 animate-spin"}):c.jsx(NM,{className:"w-4 h-4"})})]}),c.jsxs("div",{className:"flex items-center gap-2 text-white/60 justify-center md:justify-start",children:[c.jsx(Ih,{className:"w-4 h-4"}),c.jsx("span",{className:"text-sm font-medium",children:e?.email})]}),E&&c.jsx(xe.p,{initial:{opacity:0},animate:{opacity:1},className:`text-sm font-bold ${E.includes("")?"text-green-400":"text-red-400"}`,children:E})]}),c.jsxs("div",{className:`px-6 py-3 rounded-2xl ${$?"bg-gradient-to-r from-primary to-orange-600":"bg-white/10"} text-white font-black text-sm uppercase flex items-center gap-2 shadow-lg`,children:[c.jsx(Uo,{className:`w-5 h-5 ${$?"fill-current":""}`}),$?"ASSINANTE PRO":"MEMBRO GRATUITO"]})]})}),c.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[c.jsxs(xe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.1},className:"bg-gradient-to-br from-primary/20 to-orange-600/20 border-2 border-primary/30 rounded-2xl p-6",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[c.jsx(Wo,{className:"w-5 h-5 text-primary fill-current"}),c.jsx("h3",{className:"text-sm font-bold text-white/60 uppercase tracking-wider",children:"Crditos"})]}),c.jsx("p",{className:"text-4xl font-black text-white mb-1",children:a}),c.jsx("p",{className:"text-xs text-white/40 font-bold",children:"Disponveis"})]}),c.jsxs(xe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.2},className:"bg-white/5 border border-white/10 rounded-2xl p-6",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[c.jsx(uM,{className:"w-5 h-5 text-blue-400"}),c.jsx("h3",{className:"text-sm font-bold text-white/60 uppercase tracking-wider",children:"Ciclo Atual"})]}),c.jsx("div",{className:"space-y-1",children:c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-white/60 text-sm",children:"Renovao:"}),c.jsx("span",{className:"font-bold text-sm text-primary",children:j.renewal})]})}),c.jsxs("div",{className:"mt-2 flex items-center gap-1",children:[c.jsx(un,{className:"w-3 h-3 text-green-500"}),c.jsx("span",{className:"text-green-400 font-bold text-xs",children:"Ativo"})]})]}),c.jsxs(xe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.3},className:"bg-white/5 border border-white/10 rounded-2xl p-6",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[c.jsx(cS,{className:"w-5 h-5 text-purple-400"}),c.jsx("h3",{className:"text-sm font-bold text-white/60 uppercase tracking-wider",children:"Imagens"})]}),c.jsx("p",{className:"text-4xl font-black text-white mb-1",children:R}),c.jsx("p",{className:"text-xs text-white/40 font-bold",children:"Geradas este ms"})]})]}),c.jsxs(xe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.4},className:"flex flex-col sm:flex-row gap-4",children:[c.jsxs("button",{onClick:K,className:"flex-1 bg-primary hover:bg-orange-600 text-white font-black py-4 px-6 rounded-2xl flex items-center justify-center gap-2 transition-all shadow-lg shadow-primary/20",children:[c.jsx(aS,{className:"w-5 h-5"}),"Gerenciar Assinatura"]}),c.jsxs("button",{onClick:Y,className:"flex-1 bg-white/5 hover:bg-red-500/20 border border-white/10 hover:border-red-500/50 text-white font-bold py-4 px-6 rounded-2xl flex items-center justify-center gap-2 transition-all",children:[c.jsx(Cf,{className:"w-5 h-5"}),"Sair da Conta"]})]})]})]})}function gB(){const t=Yr(),{userData:e,refreshUser:n}=hr(),r=N.useRef(!1);return N.useEffect(()=>{if(n(),!r.current){r.current=!0;const f=sessionStorage.getItem("purchase_intent_value"),g=f?parseFloat(f):0;typeof window.fbq=="function"&&(window.fbq("track","Purchase",{value:g,currency:"BRL",content_name:g===197?"Franquia / Pro":g===97?"Pack Delivery":"Purchase"}),console.log("[Meta Pixel] Purchase event fired:",{value:g,currency:"BRL"})),typeof window.gtag=="function"&&(window.gtag("event","purchase",{value:g,currency:"BRL",transaction_id:`txn_${Date.now()}`,items:[{item_name:g===197?"Franquia / Pro":g===97?"Pack Delivery":"Emprata Credits",price:g,quantity:1}]}),console.log("[GA4] purchase event fired:",{value:g,currency:"BRL"})),sessionStorage.removeItem("purchase_intent_value")}const s=3e3,a=Date.now()+s,l={startVelocity:30,spread:360,ticks:60,zIndex:0};function d(f,g){return Math.random()*(g-f)+f}const h=setInterval(function(){const f=a-Date.now();if(f<=0)return clearInterval(h);const g=50*(f/s);Ay({...l,particleCount:g,origin:{x:d(.1,.3),y:Math.random()-.2}}),Ay({...l,particleCount:g,origin:{x:d(.7,.9),y:Math.random()-.2}})},250);return()=>clearInterval(h)},[n]),c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-black via-zinc-950 to-black flex items-center justify-center p-4",children:c.jsxs(xe.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},transition:{duration:.5},className:"max-w-2xl w-full",children:[c.jsx(xe.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200,damping:15},className:"flex justify-center mb-8",children:c.jsxs("div",{className:"relative",children:[c.jsx(xe.div,{animate:{scale:[1,1.2,1],opacity:[.5,.8,.5]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},className:"absolute inset-0 bg-green-500/30 rounded-full blur-2xl"}),c.jsx("div",{className:"relative bg-green-500 rounded-full p-6 shadow-2xl shadow-green-500/50",children:c.jsx(jc,{className:"w-16 h-16 text-white",strokeWidth:3})})]})}),c.jsx(xe.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"text-4xl md:text-6xl font-black text-center mb-4 bg-gradient-to-r from-white via-green-100 to-white bg-clip-text text-transparent",children:"Pagamento Confirmado! "}),c.jsx(xe.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"text-center text-white/60 text-lg mb-12 font-medium",children:"Seus crditos j esto disponveis para uso imediato."}),c.jsxs(xe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"bg-white/5 border border-white/10 rounded-3xl p-8 mb-8 backdrop-blur-sm",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[c.jsx("div",{className:"bg-primary/20 rounded-2xl p-3",children:c.jsx(Wo,{className:"w-6 h-6 text-primary fill-current"})}),c.jsx("h2",{className:"text-2xl font-black text-white",children:"Resumo da Conta"})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex justify-between items-center py-3 border-b border-white/5",children:[c.jsx("span",{className:"text-white/50 font-medium",children:"Conta"}),c.jsx("span",{className:"text-white font-bold",children:e?.email||"Carregando..."})]}),c.jsxs("div",{className:"flex justify-between items-center py-3 border-b border-white/5",children:[c.jsx("span",{className:"text-white/50 font-medium",children:"Crditos Disponveis"}),c.jsx("span",{className:"text-primary font-black text-xl",children:e?.credits||0})]}),c.jsxs("div",{className:"flex justify-between items-center py-3",children:[c.jsx("span",{className:"text-white/50 font-medium",children:"Status"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),c.jsx("span",{className:"text-green-500 font-black uppercase text-sm tracking-wider",children:"Ativo"})]})]})]})]}),c.jsx(xe.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>t("/app"),className:"w-full py-5 rounded-2xl bg-primary hover:bg-orange-600 font-black text-white shadow-xl shadow-primary/40 uppercase tracking-wider text-lg transition-all",children:"Comear a Criar Agora"}),c.jsx(xe.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.8},className:"text-center text-white/30 text-xs font-bold uppercase tracking-widest mt-6",children:"Obrigado por escolher Emprata.ai"})]})})}function yB(){return c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-black via-zinc-950 to-black",children:c.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-12",children:[c.jsxs(Bt,{to:"/",className:"inline-flex items-center gap-2 text-white/60 hover:text-white transition-colors mb-8",children:[c.jsx(Au,{className:"w-4 h-4"}),c.jsx("span",{className:"font-medium",children:"Voltar"})]}),c.jsxs(xe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-12",children:[c.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[c.jsx("div",{className:"bg-primary/20 rounded-2xl p-3",children:c.jsx(hS,{className:"w-8 h-8 text-primary"})}),c.jsx("h1",{className:"text-4xl md:text-5xl font-black text-white",children:"Poltica de Privacidade"})]}),c.jsx("p",{className:"text-white/60 text-lg",children:"ltima atualizao: 25 de dezembro de 2024"})]}),c.jsx(xe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"prose prose-invert max-w-none",children:c.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-3xl p-8 space-y-8",children:[c.jsxs("section",{children:[c.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"1. Introduo"}),c.jsxs("p",{className:"text-white/70 leading-relaxed",children:["A ",c.jsx("strong",{className:"text-white",children:"Emprata AI"}),' ("ns", "nosso" ou "nossa") respeita sua privacidade e est comprometida em proteger seus dados pessoais. Esta Poltica de Privacidade explica como coletamos, usamos e protegemos suas informaes em conformidade com a ',c.jsx("strong",{className:"text-white",children:"Lei Geral de Proteo de Dados (LGPD - Lei n 13.709/2018)"}),"."]})]}),c.jsxs("section",{children:[c.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"2. Dados Coletados"}),c.jsx("p",{className:"text-white/70 leading-relaxed mb-3",children:"Coletamos apenas os dados essenciais para o funcionamento do servio:"}),c.jsxs("ul",{className:"list-disc list-inside text-white/70 space-y-2 ml-4",children:[c.jsxs("li",{children:[c.jsx("strong",{className:"text-white",children:"E-mail:"})," Utilizado para autenticao via Firebase Authentication e comunicao sobre sua conta."]}),c.jsxs("li",{children:[c.jsx("strong",{className:"text-white",children:"Nome (opcional):"})," Fornecido durante o cadastro para personalizao da experincia."]}),c.jsxs("li",{children:[c.jsx("strong",{className:"text-white",children:"Dados de Uso:"})," Informaes sobre como voc utiliza a plataforma (prompts, imagens geradas, crditos consumidos)."]})]})]}),c.jsxs("section",{children:[c.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"3. Uso dos Dados"}),c.jsx("p",{className:"text-white/70 leading-relaxed mb-3",children:"Seus dados so utilizados exclusivamente para:"}),c.jsxs("ul",{className:"list-disc list-inside text-white/70 space-y-2 ml-4",children:[c.jsx("li",{children:"Autenticar e gerenciar sua conta"}),c.jsx("li",{children:"Processar solicitaes de gerao de imagens via IA"}),c.jsx("li",{children:"Gerenciar crditos e planos de assinatura"}),c.jsx("li",{children:"Melhorar nossos servios e experincia do usurio"}),c.jsx("li",{children:"Enviar notificaes importantes sobre sua conta"})]}),c.jsxs("p",{className:"text-white/70 leading-relaxed mt-3",children:[c.jsx("strong",{className:"text-white",children:"Importante:"})," No vendemos, alugamos ou compartilhamos seus dados pessoais com terceiros para fins de marketing."]})]}),c.jsxs("section",{children:[c.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"4. Armazenamento e Segurana"}),c.jsxs("p",{className:"text-white/70 leading-relaxed",children:["Seus dados so armazenados de forma segura no ",c.jsx("strong",{className:"text-white",children:"Firebase (Google Cloud Platform)"}),", que utiliza criptografia em trnsito e em repouso. Implementamos medidas tcnicas e organizacionais para proteger suas informaes contra acesso no autorizado, perda ou destruio."]})]}),c.jsxs("section",{children:[c.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"5. Seus Direitos (LGPD)"}),c.jsx("p",{className:"text-white/70 leading-relaxed mb-3",children:"Voc tem os seguintes direitos sobre seus dados pessoais:"}),c.jsxs("ul",{className:"list-disc list-inside text-white/70 space-y-2 ml-4",children:[c.jsxs("li",{children:[c.jsx("strong",{className:"text-white",children:"Acesso:"})," Solicitar uma cpia dos seus dados"]}),c.jsxs("li",{children:[c.jsx("strong",{className:"text-white",children:"Correo:"})," Atualizar dados incorretos ou incompletos"]}),c.jsxs("li",{children:[c.jsx("strong",{className:"text-white",children:"Excluso:"})," Solicitar a remoo dos seus dados"]}),c.jsxs("li",{children:[c.jsx("strong",{className:"text-white",children:"Portabilidade:"})," Receber seus dados em formato estruturado"]}),c.jsxs("li",{children:[c.jsx("strong",{className:"text-white",children:"Revogao de Consentimento:"})," Retirar seu consentimento a qualquer momento"]})]}),c.jsxs("p",{className:"text-white/70 leading-relaxed mt-3",children:["Para exercer seus direitos, entre em contato conosco atravs do e-mail: ",c.jsx("a",{href:"mailto:contato@emprata.ai",className:"text-primary hover:underline",children:"contato@emprata.ai"})]})]}),c.jsxs("section",{children:[c.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"6. Cookies e Tecnologias Similares"}),c.jsx("p",{className:"text-white/70 leading-relaxed",children:"Utilizamos cookies essenciais para autenticao e funcionamento da plataforma. No utilizamos cookies de rastreamento ou publicidade de terceiros."})]}),c.jsxs("section",{children:[c.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"7. Alteraes nesta Poltica"}),c.jsx("p",{className:"text-white/70 leading-relaxed",children:"Podemos atualizar esta Poltica de Privacidade periodicamente. Notificaremos voc sobre mudanas significativas atravs do e-mail cadastrado ou por aviso na plataforma."})]}),c.jsxs("section",{children:[c.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"8. Contato"}),c.jsx("p",{className:"text-white/70 leading-relaxed",children:"Para dvidas sobre esta Poltica de Privacidade ou sobre o tratamento dos seus dados, entre em contato:"}),c.jsxs("div",{className:"mt-3 text-white/70",children:[c.jsxs("p",{children:[c.jsx("strong",{className:"text-white",children:"E-mail:"})," contato@emprata.ai"]}),c.jsxs("p",{children:[c.jsx("strong",{className:"text-white",children:"Encarregado de Dados (DPO):"})," dpo@emprata.ai"]})]})]})]})})]})})}function vB(){return c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-black via-zinc-950 to-black",children:c.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-12",children:[c.jsxs(Bt,{to:"/",className:"inline-flex items-center gap-2 text-white/60 hover:text-white transition-colors mb-8",children:[c.jsx(Au,{className:"w-4 h-4"}),c.jsx("span",{className:"font-medium",children:"Voltar"})]}),c.jsxs(xe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-12",children:[c.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[c.jsx("div",{className:"bg-primary/20 rounded-2xl p-3",children:c.jsx(gM,{className:"w-8 h-8 text-primary"})}),c.jsx("h1",{className:"text-4xl md:text-5xl font-black text-white",children:"Termos de Uso"})]}),c.jsx("p",{className:"text-white/60 text-lg",children:"ltima atualizao: 25 de dezembro de 2024"})]}),c.jsx(xe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"prose prose-invert max-w-none",children:c.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-3xl p-8 space-y-8",children:[c.jsxs("section",{children:[c.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"1. Aceitao dos Termos"}),c.jsxs("p",{className:"text-white/70 leading-relaxed",children:["Ao acessar e utilizar a plataforma ",c.jsx("strong",{className:"text-white",children:"Emprata AI"}),", voc concorda em cumprir e estar vinculado a estes Termos de Uso. Se voc no concordar com qualquer parte destes termos, no utilize nossos servios."]})]}),c.jsxs("section",{children:[c.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"2. Descrio do Servio"}),c.jsxs("p",{className:"text-white/70 leading-relaxed",children:["A Emprata AI  uma plataforma de inteligncia artificial que permite aos usurios gerar imagens profissionais atravs de prompts de texto. O servio  fornecido ",c.jsx("strong",{className:"text-white",children:'"como est"'})," e ",c.jsx("strong",{className:"text-white",children:'"conforme disponvel"'}),", sem garantias de qualquer tipo, expressas ou implcitas."]})]}),c.jsxs("section",{children:[c.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"3. Uso Aceitvel"}),c.jsxs("p",{className:"text-white/70 leading-relaxed mb-3",children:["Voc concorda em utilizar a plataforma apenas para fins legais e de acordo com estes Termos.  ",c.jsx("strong",{className:"text-white",children:"PROIBIDO"}),":"]}),c.jsxs("ul",{className:"list-disc list-inside text-white/70 space-y-2 ml-4",children:[c.jsx("li",{children:"Gerar contedo ilegal, difamatrio, obsceno ou que viole direitos de terceiros"}),c.jsx("li",{children:"Utilizar o servio para criar deepfakes ou contedo enganoso"}),c.jsx("li",{children:"Tentar burlar o sistema de crditos ou acessar funcionalidades no autorizadas"}),c.jsx("li",{children:"Revender ou redistribuir o acesso  plataforma sem autorizao"}),c.jsx("li",{children:"Utilizar bots, scripts ou automaes para abusar do servio"})]})]}),c.jsxs("section",{children:[c.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"4. Propriedade Intelectual"}),c.jsxs("p",{className:"text-white/70 leading-relaxed",children:["As imagens geradas pela IA so de ",c.jsx("strong",{className:"text-white",children:"propriedade do usurio"})," que as criou. No entanto, a Emprata AI no se responsabiliza por:"]}),c.jsxs("ul",{className:"list-disc list-inside text-white/70 space-y-2 ml-4 mt-3",children:[c.jsx("li",{children:"Violaes de direitos autorais ou marcas registradas nas imagens geradas"}),c.jsx("li",{children:"Uso indevido das imagens por parte do usurio"}),c.jsx("li",{children:"Similaridades no intencionais com obras protegidas por direitos autorais"})]}),c.jsxs("p",{className:"text-white/70 leading-relaxed mt-3",children:[c.jsx("strong",{className:"text-white",children:"Importante:"})," Voc  o nico responsvel pelo uso comercial ou pblico das imagens geradas."]})]}),c.jsxs("section",{className:"bg-primary/10 border-2 border-primary/30 rounded-2xl p-6",children:[c.jsxs("h2",{className:"text-2xl font-bold text-white mb-4 flex items-center gap-2",children:[c.jsx("span",{className:"text-primary",children:""})," 5. Poltica de Reembolso (CDC Art. 49)"]}),c.jsxs("p",{className:"text-white/70 leading-relaxed mb-3",children:["Em conformidade com o ",c.jsx("strong",{className:"text-white",children:"Artigo 49 do Cdigo de Defesa do Consumidor (CDC)"}),", voc tem o direito de desistir da compra em at ",c.jsx("strong",{className:"text-white",children:"7 (sete) dias corridos"})," a partir da data da contratao ou do recebimento do produto/servio."]}),c.jsxs("div",{className:"bg-white/5 rounded-xl p-4 mt-4",children:[c.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"Condies para Reembolso:"}),c.jsxs("ul",{className:"list-disc list-inside text-white/70 space-y-2 ml-4",children:[c.jsx("li",{children:"Solicitao deve ser feita em at 7 dias corridos aps a compra"}),c.jsx("li",{children:"Reembolso integral do valor pago"}),c.jsx("li",{children:"Crditos no utilizados sero removidos da conta"}),c.jsx("li",{children:"Prazo de processamento: at 10 dias teis"})]})]}),c.jsxs("p",{className:"text-white/70 leading-relaxed mt-4",children:["Para solicitar reembolso, envie um e-mail para: ",c.jsx("a",{href:"mailto:reembolso@emprata.ai",className:"text-primary hover:underline font-bold",children:"reembolso@emprata.ai"})]})]}),c.jsxs("section",{children:[c.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"6. Planos e Crditos"}),c.jsxs("p",{className:"text-white/70 leading-relaxed",children:["Os crditos adquiridos so ",c.jsx("strong",{className:"text-white",children:"acumulativos"})," e no expiram enquanto sua assinatura estiver ativa. Em caso de cancelamento, os crditos restantes sero perdidos. No h reembolso parcial de crditos no utilizados aps o perodo de 7 dias."]})]}),c.jsxs("section",{children:[c.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"7. Limitao de Responsabilidade"}),c.jsx("p",{className:"text-white/70 leading-relaxed",children:"A Emprata AI no se responsabiliza por:"}),c.jsxs("ul",{className:"list-disc list-inside text-white/70 space-y-2 ml-4 mt-3",children:[c.jsx("li",{children:"Danos diretos ou indiretos decorrentes do uso das imagens geradas"}),c.jsx("li",{children:"Interrupes temporrias do servio por manuteno ou falhas tcnicas"}),c.jsx("li",{children:"Perda de dados ou contedo gerado"}),c.jsx("li",{children:"Resultados especficos ou qualidade das imagens geradas"})]})]}),c.jsxs("section",{children:[c.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"8. Suspenso e Encerramento"}),c.jsx("p",{className:"text-white/70 leading-relaxed",children:"Reservamo-nos o direito de suspender ou encerrar sua conta imediatamente, sem aviso prvio, em caso de violao destes Termos, uso fraudulento ou atividades ilegais."})]}),c.jsxs("section",{children:[c.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"9. Modificaes nos Termos"}),c.jsx("p",{className:"text-white/70 leading-relaxed",children:"Podemos atualizar estes Termos de Uso periodicamente. Mudanas significativas sero comunicadas atravs do e-mail cadastrado. O uso continuado da plataforma aps as alteraes constitui aceitao dos novos termos."})]}),c.jsxs("section",{children:[c.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"10. Lei Aplicvel"}),c.jsx("p",{className:"text-white/70 leading-relaxed",children:"Estes Termos so regidos pelas leis da Repblica Federativa do Brasil. Qualquer disputa ser resolvida no foro da comarca de So Paulo/SP."})]}),c.jsxs("section",{children:[c.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"11. Contato"}),c.jsx("p",{className:"text-white/70 leading-relaxed",children:"Para dvidas sobre estes Termos de Uso, entre em contato:"}),c.jsxs("div",{className:"mt-3 text-white/70",children:[c.jsxs("p",{children:[c.jsx("strong",{className:"text-white",children:"E-mail:"})," contato@emprata.ai"]}),c.jsxs("p",{children:[c.jsx("strong",{className:"text-white",children:"Suporte:"})," suporte@emprata.ai"]})]})]})]})})]})})}function xB(){const t=Yr(),{isAuthenticated:e}=hr(),n=()=>{t(e?"/app":"/")};return c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-black via-zinc-950 to-black flex items-center justify-center p-4",children:c.jsxs(xe.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},transition:{duration:.5},className:"text-center max-w-md",children:[c.jsx(xe.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200,damping:15},className:"flex justify-center mb-8",children:c.jsxs("div",{className:"relative",children:[c.jsx(xe.div,{animate:{scale:[1,1.2,1],opacity:[.3,.6,.3]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},className:"absolute inset-0 bg-red-500/30 rounded-full blur-2xl"}),c.jsx("div",{className:"relative bg-red-500/20 border-2 border-red-500/30 rounded-full p-6",children:c.jsx(iS,{className:"w-16 h-16 text-red-500",strokeWidth:2})})]})}),c.jsx(xe.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"text-8xl md:text-9xl font-black text-white mb-4 tracking-tighter",children:"404"}),c.jsx(xe.h2,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"text-2xl md:text-3xl font-bold text-white mb-3",children:"Pgina no encontrada"}),c.jsx(xe.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"text-white/60 text-lg mb-8",children:"A pgina que voc est procurando no existe ou foi movida."}),c.jsx(xe.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},whileHover:{scale:1.05},whileTap:{scale:.95},onClick:n,className:"px-8 py-4 rounded-2xl bg-primary hover:bg-orange-600 font-black text-white shadow-xl shadow-primary/40 uppercase tracking-wider text-sm transition-all",children:"Voltar para o Incio"})]})})}function QE({children:t}){const{user:e,loading:n}=hr();return n?c.jsxs("div",{className:"fixed inset-0 h-screen w-screen bg-[#0a0a0a] flex items-center justify-center z-50",children:[c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"mb-6",children:c.jsxs("h1",{className:"text-4xl font-black italic tracking-tight",children:["Emprata",c.jsx("span",{className:"text-primary",children:".ai"})]})}),c.jsxs("div",{className:"relative w-16 h-16 mx-auto mb-6",children:[c.jsx("div",{className:"absolute inset-0 border-4 border-white/10 rounded-full"}),c.jsx("div",{className:"absolute inset-0 border-4 border-primary border-t-transparent rounded-full animate-spin"}),c.jsx("div",{className:"absolute inset-2 bg-primary/20 rounded-full blur-md animate-pulse"})]}),c.jsx("p",{className:"text-white/50 font-bold text-sm uppercase tracking-widest",children:"Carregando Emprata AI..."}),c.jsx("p",{className:"text-white/20 font-medium text-xs mt-4",children:"Conectando ao servidor"})]}),c.jsx("div",{className:"absolute inset-0 bg-gradient-radial from-primary/5 via-transparent to-transparent pointer-events-none"})]}):e?c.jsx(c.Fragment,{children:t}):(console.log(" [ProtectedRoute] No user, redirecting to /auth"),c.jsx(Oy,{to:"/auth",replace:!0}))}function wB(){return c.jsxs(yR,{children:[c.jsx(eP,{position:"top-center",richColors:!0,toastOptions:{style:{background:"#18181b",border:"1px solid rgba(255,255,255,0.1)",color:"#fff"}}}),c.jsxs(Gk,{children:[c.jsx(en,{path:"/",element:c.jsx(m8,{})}),c.jsx(en,{path:"/auth",element:c.jsx(p8,{})}),c.jsx(en,{path:"/privacy",element:c.jsx(yB,{})}),c.jsx(en,{path:"/terms",element:c.jsx(vB,{})}),c.jsx(en,{path:"/menu/:slug",element:c.jsx(NU,{})}),c.jsx(en,{path:"/waiter-login",element:c.jsx(uB,{})}),c.jsx(en,{path:"/waiter-mode",element:c.jsx(fB,{})}),c.jsx(en,{path:"/kitchen/:restaurantId",element:c.jsx(Z7,{})}),c.jsxs(en,{element:c.jsx(QE,{children:c.jsx(a8,{})}),children:[c.jsx(en,{path:"/dashboard",element:c.jsx(sU,{})}),c.jsx(en,{path:"/menu-builder",element:c.jsx(EU,{})}),c.jsx(en,{path:"/staff",element:c.jsx(cB,{})}),c.jsx(en,{path:"/profile",element:c.jsx(pB,{})}),c.jsx(en,{path:"/success",element:c.jsx(gB,{})})]}),c.jsx(en,{path:"/studio",element:c.jsx(QE,{children:c.jsx(rU,{})})}),c.jsx(en,{path:"/app",element:c.jsx(Oy,{to:"/studio",replace:!0})}),c.jsx(en,{path:"*",element:c.jsx(xB,{})})]})]})}wA.createRoot(document.getElementById("root")).render(c.jsx(fe.StrictMode,{children:c.jsx(rT,{children:c.jsx(wB,{})})}));
